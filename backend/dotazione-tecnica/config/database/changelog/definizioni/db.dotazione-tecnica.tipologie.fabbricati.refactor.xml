<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
	xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.6.xsd">
	<changeSet id="DOTAZIONETECNICA_60.0"
		author="Antonio Avitabile">
		<sql endDelimiter=";" splitStatements="true" dbms="oracle">
ALTER TABLE A4GD_SOTTOTIPO MODIFY DESCRIZIONE VARCHAR2(100);
--DELETE FABBRICATI
DELETE FROM A4GT_FABBRICATO_SERRE;
DELETE FROM A4GT_FABBRICATO_CATASTO;
DELETE FROM A4GT_FABBRICATO;
--DELETE SOTTOTIPOLOGIE
DELETE FROM A4GD_SOTTOTIPO WHERE ID_TIPOLOGIA IN (SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE='STRUTTURE_PER_LO_STOCCAGGIO_EFFLUENTI_ZOOTECNICI');
DELETE FROM A4GD_SOTTOTIPO WHERE ID_TIPOLOGIA IN (SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE='SERRE_E_PROTEZIONI');
DELETE FROM A4GD_SOTTOTIPO WHERE DESCRIZIONE = 'FABBRICATO_ADIBITO_A_RISTORAZIONE_AGRITURISTICA';
DELETE FROM A4GD_SOTTOTIPO WHERE DESCRIZIONE = 'FABBRICATO_PER STOCCAGGIO_E_CONSERVAZIONE_PRODOTTI';
DELETE FROM A4GD_SOTTOTIPO WHERE DESCRIZIONE = 'DEPOSITO_FISCALE';
DELETE FROM A4GD_SOTTOTIPO WHERE DESCRIZIONE = 'OVILE';
DELETE FROM A4GD_SOTTOTIPO WHERE DESCRIZIONE = 'PORCILAIA';
DELETE FROM A4GD_SOTTOTIPO WHERE DESCRIZIONE = 'PRODUZIONE_ENERGIA_ELETTRICA';
DELETE FROM A4GD_SOTTOTIPO WHERE DESCRIZIONE = 'RICOVERO_MACCHINARI';
DELETE FROM A4GD_SOTTOTIPO WHERE DESCRIZIONE = 'RICOVERO_PER_ANIMALI';
DELETE FROM A4GD_SOTTOTIPO WHERE DESCRIZIONE = 'SILOS';

--UPDATE TIPOLOGIE FABBRICATI E STRUTTURE
UPDATE A4GD_TIPOLOGIA SET DESCRIZIONE = 'FABBRICATI_STRUMENTALI' WHERE DESCRIZIONE = 'FABBRICATO';
UPDATE A4GD_TIPOLOGIA SET DESCRIZIONE = 'STRUTTURE_ZOOTECNICHE' WHERE DESCRIZIONE = 'STRUTTURE_PER_LO_STOCCAGGIO_EFFLUENTI_ZOOTECNICI';

--INSERT TIPOLOGIE ZOOTECNIA
INSERT INTO A4GD_TIPOLOGIA (ID, VERSIONE, DESCRIZIONE, DATA_INIZIO, DATA_FINE, AMBITO)
VALUES (NXTNBR.NEXTVAL, 0,'STOCCAGGIO_LIQUAMI', TIMESTAMP '2022-03-16 00:00:00.000000', NULL,'ZOOTECNIA');
INSERT INTO A4GD_TIPOLOGIA (ID, VERSIONE, DESCRIZIONE, DATA_INIZIO, DATA_FINE, AMBITO)
VALUES (NXTNBR.NEXTVAL, 0,'STOCCAGGIO_LETAMI', TIMESTAMP '2022-03-16 00:00:00.000000', NULL,'ZOOTECNIA');
INSERT INTO A4GD_TIPOLOGIA (ID, VERSIONE, DESCRIZIONE, DATA_INIZIO, DATA_FINE, AMBITO)
VALUES (NXTNBR.NEXTVAL, 0,'AREE_SCOPERTE', TIMESTAMP '2022-03-16 00:00:00.000000', NULL,'ZOOTECNIA');
INSERT INTO A4GD_TIPOLOGIA (ID, VERSIONE, DESCRIZIONE, DATA_INIZIO, DATA_FINE, AMBITO)
VALUES (NXTNBR.NEXTVAL, 0,'STALLE', TIMESTAMP '2022-03-16 00:00:00.000000', NULL,'ZOOTECNIA');

-- INSERT SOTTOTIPI
--FABBRICATI
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'FABBRICATI_STRUMENTALI'), 'CASEIFICIO_E_LATTERIA', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'FABBRICATI_STRUMENTALI'), 'FABBRICATO_ADIBITO_ALLA_RISTORAZIONE_AGRITURISTICA_(SALE_DA_PRANZO_E_CUCINE)', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'FABBRICATI_STRUMENTALI'), 'FABBRICATO_ORTOFRUTTICOLO', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'FABBRICATI_STRUMENTALI'), 'FABBRICATO_PER_LO_STOCCAGGIO_E_CONSERVAZIONE_DEI_PRODOTTI', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'FABBRICATI_STRUMENTALI'), 'FRANTOIO', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'FABBRICATI_STRUMENTALI'), 'FUNGAIA', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'FABBRICATI_STRUMENTALI'), 'FUNGAIA_-_PREPARAZIONE_COMPOST', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'FABBRICATI_STRUMENTALI'), 'RICOVERO_MACCHINE_E/O_ATTREZZI', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);
--SERRE
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'SERRE_E_PROTEZIONI'), 'SERRA_CON_COPERTURA_FLESSIBILE', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'SERRE_E_PROTEZIONI'), 'SERRA_OMBRARIO', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'SERRE_E_PROTEZIONI'), 'SERRA_TUNNEL', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'SERRE_E_PROTEZIONI'), 'SERRA_CON_COPERTURA_RIGIDA', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'SERRE_E_PROTEZIONI'), 'SERRA_E_ATTREZZATURE_CONNESSE', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);
--STOCCAGGIO_LIQUAMI
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'STOCCAGGIO_LIQUAMI'), 'FOSSA_SOTTOSTANTI_PAVIMENTI_FESSURATI_E_GRIGLIATI', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'STOCCAGGIO_LIQUAMI'), 'LAGUNA_(O_LAGONE)_IN_TERRA', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'STOCCAGGIO_LIQUAMI'), 'VASCA_LIQUAMI_FUORI_TERRA', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'STOCCAGGIO_LIQUAMI'), 'VASCA_LIQUAMI_INTERRATA', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'STOCCAGGIO_LIQUAMI'), 'VASCA_LIQUAMI_SEMINTERRATA', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);

--STOCCAGGIO_LETAMI
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'STOCCAGGIO_LETAMI'), 'CONCIMAIA A PLATEA', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'STOCCAGGIO_LETAMI'), 'FOSSA_PROFONDA_DEI_RICOVERI_A_DUE_PIANI', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'STOCCAGGIO_LETAMI'), 'FOSSA_SOTTOSTANTE_PAVIMENTI_GRIGLIATI_O_FESSURATI_(POSATOI)', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'STOCCAGGIO_LETAMI'), 'LETTIERA_PERMANENTE_IMPERMEABILIZZATA_ALLA_BASE', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);

--AREE_SCOPERTE
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'AREE_SCOPERTE'), '', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);

-- STALLE
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'STALLE'), 'STALLA', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'STALLE'), 'PORCILAIA', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'STALLE'), 'OVILE', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);
INSERT INTO A4GD_SOTTOTIPO (ID, VERSIONE, ID_TIPOLOGIA, DESCRIZIONE, DATA_INIZIO, DATA_FINE)
VALUES (NXTNBR.NEXTVAL,0,(SELECT ID FROM A4GD_TIPOLOGIA WHERE DESCRIZIONE = 'STALLE'), 'RICOVERO_PER_ANIMALI', TIMESTAMP '2022-03-16 00:00:00.000000', NULL);
		</sql>
	</changeSet>
</databaseChangeLog>