-- Rimuovo i casi di test
DROP ALL OBJECTS;

-- Versione 1.0

-- 1. Sequence
CREATE SEQUENCE SIMP_REGISTRO
    START WITH 100000
    NOCYCLE
    NOCACHE;

-- 2. Tabelle di cache BDN in FASCICOLO
-- Tabella allevamenti
CREATE TABLE TIMP_REC_ALLEVAMENTO
   (	"ID_IMPORT" NUMBER(11,0) NOT NULL,
	"PROGR_REC" NUMBER(11,0) NOT NULL,
	"COD_ID_BDN" VARCHAR2(13),
	"COD_ID_AZIENDALE" VARCHAR2(8),
	"COD_SPECIE" VARCHAR2(10),
	"DENOMINAZIONE" VARCHAR2(150),
	"ISTATP" VARCHAR2(3),
	"ISTATC" VARCHAR2(3),
	"INDIRIZZO" VARCHAR2(150),
	"CAP" VARCHAR2(150),
	"LOCALITA" VARCHAR2(150),
	"COMUNE" VARCHAR2(150),
	"TIPO_PRODUZIONE" VARCHAR2(20 CHAR),
	"FG_AUT_LATTE" VARCHAR2(1),
	"DT_INIZIO_ATTIVITA" VARCHAR2(8),
	"DT_FINE_ATTIVITA" VARCHAR2(8),
	"COD_FISC_PROPR" VARCHAR2(16),
	"DEMOM_PROPR" VARCHAR2(150),
	"COD_FISC_DETENT" VARCHAR2(16),
	"DENOM_DETENT" VARCHAR2(150),
	"DT_INIZIO_DETENT" VARCHAR2(8),
	"DT_FINE_DETENT" VARCHAR2(8),
	"FG_SOCCIDA" VARCHAR2(1),
	"FG_LIBRO_GEN" VARCHAR2(1) DEFAULT 'N',
	"LATITUDINE" VARCHAR2(50),
	"LONGITUDINE" VARCHAR2(50),
	"SEZIONE" VARCHAR2(4),
	"PARTICELLA" VARCHAR2(50),
	"SUBALTERNO" VARCHAR2(3),
	"CAPI_TOTALI" VARCHAR2(10),
	"DT_CALC_CAPI" VARCHAR2(8),
	"ORIENTAMENTO_PRODUTTIVO" VARCHAR2(10),
	"FG_MAIN" NUMBER(1,0) DEFAULT 0,
	 CONSTRAINT "AK_PK_IMP_REC_ALLEVAM_TIMP_REC" UNIQUE ("ID_IMPORT", "PROGR_REC")
   );




-- Tabella dei capi
CREATE TABLE TIMP_REC_CAPO_ANIMALE
(	"ID_IMPORT" NUMBER(11,0) NOT NULL,
     "PROGR_REC" NUMBER(11,0) NOT NULL,
     "COD_ID_REG_STA" VARCHAR2(15),
     "COD_ID_CAPO" VARCHAR2(15),
     "CODICE" VARCHAR2(15),
     "FG_SESSO" VARCHAR2(1),
     "DT_NASCITA" VARCHAR2(8),
     "COD_MADRE" VARCHAR2(15),
     "COD_PADRE" VARCHAR2(15),
     "COD_ID_TAG" VARCHAR2(16),
     "COD_PRECEDENTE" VARCHAR2(15),
     "DT_APPLICAZIONE_MARCHIO" VARCHAR2(8),
     "DT_INIZIO_LATTAZIONE" VARCHAR2(8),
     "DT_FINE_LATTAZIONE" VARCHAR2(8),
     "DT_COMPILAZIONE_CEDOLA" VARCHAR2(8),
     "FG_STATO_CAPO" VARCHAR2(1),
     "FG_INSEMINAZIONE" VARCHAR2(1),
     "FG_PASSAPORTO" VARCHAR2(1),
     "FG_ERR_TEMPO" VARCHAR2(1),
     "COD_TIPO_ORIGINE" VARCHAR2(1),
     "COD_ID_RAZZA" VARCHAR2(15),
     "COD_RAZZA" VARCHAR2(3),
     "COD_ID_ANIMO" VARCHAR2(15),
     "COD_ID_ALLEV" VARCHAR2(15),
     "COD_ID_ALLEV_FISCALE" VARCHAR2(16),
     "COD_ID_ALLEV_FISCALE_DETEN" VARCHAR2(16),
     "COD_ID_STATO" VARCHAR2(15),
     "COD_ID_LIBRO_GEN" VARCHAR2(10),
     "COD_ID_AZIENDALE" VARCHAR2(8),
     "COD_AZIENDA" VARCHAR2(8),
     "COD_SPECIE" VARCHAR2(10),
     "COD_AZIENDA_ATTUALE" VARCHAR2(8),
     "COD_ID_FISCALE_ALLEV_ATTUALE" VARCHAR2(16),
     "DENOM_ALLEV_ATTUALE" VARCHAR2(150),
     "FG_MOTIVO_INGRESSO" VARCHAR2(1),
     "DT_INGRESSO" VARCHAR2(8),
     "DT_USCITA" VARCHAR2(8),
     "COD_ID_BDN_ALLEV" VARCHAR2(25),
     CONSTRAINT "PK_TIMP_REC_CAPO_ANIMALE" PRIMARY KEY ("ID_IMPORT", "PROGR_REC")
);

