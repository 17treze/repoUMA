DROP ALL OBJECTS;

CREATE SEQUENCE NXTNBR START WITH 1 INCREMENT BY 1 NOCACHE NOCYCLE;

CREATE TABLE A4GT_LOGGING (
   ID NUMBER(19) NOT NULL,
   VERSIONE NUMBER(10) DEFAULT 0 NOT NULL,
   UTENTE VARCHAR2(500) NOT NULL,
   TIPO_EVENTO VARCHAR2(500) NOT NULL,
   TABELLA VARCHAR2(4000) NOT NULL,
   ID_ENTITA NUMBER(19) NOT NULL,
   DT_EVENTO TIMESTAMP DEFAULT SYSTIMESTAMP NOT NULL,
   CONSTRAINT A4GT_LOGGING_PK PRIMARY KEY (ID)
);

CREATE TABLE A4GT_EVENTSTORED (
   ID NUMBER(19) NOT NULL,
   VERSIONE NUMBER(10) DEFAULT 0 NOT NULL,
   EVENTO VARCHAR2(500) NOT NULL,
   JSON_EVENT CLOB NOT NULL,
   USER_NAME VARCHAR2(100) NOT NULL,
   DATA_INSERIMENTO TIMESTAMP DEFAULT SYSTIMESTAMP NOT NULL,
   NUMERO_RETRY NUMBER(3) DEFAULT 0 NOT NULL,
   ERRORE CLOB,
   CONSTRAINT A4GT_EVENTSTORED_PK PRIMARY KEY (ID)
);

CREATE TABLE MY_TEST_TABLE (
   ID NUMBER(19) NOT NULL,
   VERSIONE NUMBER(10) DEFAULT 0 NOT NULL,
   TEST VARCHAR2(500) NOT NULL,
   CONSTRAINT MY_TEST_PK PRIMARY KEY (ID)
);