<p-toast key='tst-csv' [baseZIndex]="50000"></p-toast>
<div class="ui-grid-fixed boxgrey">
  <h2 class="richiesta-title">
    IBAN Errati Domanda Unica
  </h2>
  <div class="boxgrey layout-actionmenu">
    <p-table [columns]="cols" [value]="datiDomanda" [autoLayout]="true" [paginator]="true" [rows]="20" [totalRecords]="datiDomanda.length"
      [responsive]="true">
      <ng-template pTemplate="header" let-columns>
        <tr>
          <th *ngFor="let col of columns" [pSortableColumn]="col.field" [pSortableColumnDisabled]="col.field == null">
            {{col.header}}
            <p-sortIcon [field]="col.field"></p-sortIcon>
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-domanda let-i="rowIndex">
        <tr>
          <td>{{ domanda.cuaa }}</td>
          <td>{{ domanda.descrizioneImpresa }}</td>
          <td>{{ domanda.tipoDomanda }}</td>
          <td>{{ domanda.numeroDomanda }}</td>
          <td>{{ domanda.annoCampagna }}</td>
          <td>{{ domanda.ibanDomanda }}</td>
          <td style="text-align: center">
            <i *ngIf="domanda.ibanValido" class="ui-icon-check" style="vertical-align: middle;"
              pTooltip="&Egrave; possibile ricalcolare la domanda" tooltipPosition="left"></i>
            <i *ngIf="!domanda.ibanValido" class="pi pi-times" style="vertical-align: middle;"
              pTooltip="L'IBAN dichiarato in domanda non Ã¨ censito in Fascicolo" tooltipPosition="left"></i>
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage" let-columns>
        <tr>
          <td [attr.colspan]="9">Non ci sono domande che necessitano della correzione IBAN</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
  <div>
    <p-button appDebounceClick
      [label]="labels.ESTRAI"
      (debounceClick)="downloadDomandeIbanErrato(datiDomanda)"
      [disabled]="!datiDomanda"></p-button>
  </div>
</div>
