<div class="ui-grid-fixed">
  <p-toast
    key="tst-gruppi-lav"
    [style]="{ marginTop: '70px' }"></p-toast>
  <h1 class="h5 text-uppercase font-weight-bold my-4">
      Gruppi lavorazione
    </h1>
  <div class="boxgrey">
    <div class="layout-actionmenu">
      <div
        class="table-responsive"
        margin-top="30px">
        <label class="labelricerca my-3">
          {{ gruppiLavorazione.length }} elementi trovati
        </label>
        <p-table
          [value]="gruppiLavorazione"
          dataKey="id"
          editMode="row"
          [columns]="cols"
          [paginator]="true"
          [rows]="10">
          <ng-template
            pTemplate="header"
            let-columns>
            <tr>
              <th
                *ngFor="let col of columns"
                [pSortableColumn]="col.field">
                {{col.header}}
                <p-sortIcon [field]="col.field"></p-sortIcon>
              </th>
              <th style="width:8em"></th>
            </tr>
          </ng-template>
          <ng-template
            pTemplate="body"
            let-rowData
            let-editing="editing"
            let-ri="rowIndex">
            <tr [pEditableRow]="rowData">
              <td>
                <p-cellEditor>
                  <ng-template pTemplate="input">
                    <input
                      pInputText
                      type="text"
                      [(ngModel)]="rowData.indice"
                      required>
                  </ng-template>
                  <ng-template pTemplate="output">{{rowData.indice}}</ng-template>
                </p-cellEditor>
              </td>
              <td>
                <p-cellEditor>
                  <ng-template pTemplate="input">
                    <input
                      pInputText
                      type="text"
                      [(ngModel)]="rowData.nome"
                      required>
                  </ng-template>
                  <ng-template pTemplate="output">{{rowData.nome}}</ng-template>
                </p-cellEditor>
              </td>
              <td>
                <p-cellEditor>
                  <ng-template pTemplate="input">
                    <input
                      pInputText
                      type="text"
                      [(ngModel)]="rowData.ambito"
                      required>
                  </ng-template>
                  <ng-template pTemplate="output">{{rowData.ambito}}</ng-template>
                </p-cellEditor>
              </td>
              <td>
                <p-cellEditor>
                  <ng-template pTemplate="input">
                    <input
                      pInputText
                      type="text"
                      [(ngModel)]="rowData.annoInizio"
                      required>
                  </ng-template>
                  <ng-template pTemplate="output">{{rowData.annoInizio}}</ng-template>
                </p-cellEditor>
              </td>
              <td>
                <p-cellEditor>
                  <ng-template pTemplate="input">
                    <input
                      pInputText
                      type="text"
                      [(ngModel)]="rowData.annoFine"
                      required>
                  </ng-template>
                  <ng-template pTemplate="output">{{rowData.annoFine}}</ng-template>
                </p-cellEditor>
              </td>
              <td style="text-align:center">
                <button
                  *ngIf="!editing"
                  pButton
                  type="button"
                  pInitEditableRow
                  icon="pi pi-pencil"
                  class="ui-button-info"
                  (click)="onRowEditInit(rowData)"></button>
                <button
                  *ngIf="editing"
                  pButton
                  type="button"
                  pSaveEditableRow
                  icon="pi pi-check"
                  class="ui-button-success"
                  style="margin-right: .5em"
                  (click)="onRowEditSave(rowData)"></button>
                <button
                  *ngIf="editing"
                  pButton
                  type="button"
                  pCancelEditableRow
                  icon="pi pi-times"
                  class="ui-button-danger"
                  (click)="onRowEditCancel(rowData, ri)"></button>
              </td>
            </tr>
          </ng-template>
          <ng-template pTemplate="emptymessage">
            <tr>
              <td [attr.colspan]="cols.length + 1">Nessun risultato trovato</td>
            </tr>
          </ng-template>
        </p-table>
      </div>
    </div>
  </div>
</div>
