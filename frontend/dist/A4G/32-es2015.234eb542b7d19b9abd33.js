(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"haK/":function(t,i,o){"use strict";o.r(i),o.d(i,"SostegnoDettaglioZootecniaModule",(function(){return ao}));var e=o("ofXK"),a=o("bcH1"),n=o("tyNb"),c=o("3iu/"),r=o("5gIc"),s=o("TW8+"),b=o("RIRQ"),l=o("iU1L"),d=o("8k9x"),u=o("FucP"),p=o("fXoL"),g=o("b7oP"),S=o("A1Yd"),m=o("sfyY"),h=o("sYmb");function T(t,i){if(1&t){const t=p.Ub();p.Tb(0,"button",13),p.bc("click",(function(){return p.Ec(t),p.fc().avviaProcessoCalcoloPremio()})),p.Oc(1),p.gc(2,"translate"),p.Sb()}2&t&&(p.Bb(1),p.Qc(" ",p.hc(2,1,"AVVIA_CALCOLO_PREMIO")," "))}function f(t,i){if(1&t){const t=p.Ub();p.Tb(0,"button",13),p.bc("click",(function(){return p.Ec(t),p.fc().avviaProcessoControlloLiquidabilita()})),p.Oc(1),p.gc(2,"translate"),p.Sb()}2&t&&(p.Bb(1),p.Qc(" ",p.hc(2,1,"DOMANDA_UNICA_RISULTATI.avviaControlliLiquidabilita")," "))}function O(t,i){if(1&t){const t=p.Ub();p.Tb(0,"button",13),p.bc("click",(function(){return p.Ec(t),p.fc().avviaProcessoCalcoloCapi()})),p.Oc(1),p.gc(2,"translate"),p.Sb()}2&t&&(p.Bb(1),p.Qc(" ",p.hc(2,1,"DOMANDA_UNICA_RISULTATI.avviaCalcoloCapi")," "))}function v(t,i){if(1&t){const t=p.Ub();p.Tb(0,"button",14),p.bc("click",(function(){return p.Ec(t),p.fc().avviaProcessoNonAmmissibilita()})),p.Oc(1),p.gc(2,"translate"),p.Sb()}2&t&&(p.Bb(1),p.Qc(" ",p.hc(2,1,"DOMANDA_UNICA_RISULTATI.nonAmmissibile")," "))}function B(t,i){if(1&t&&p.Ob(0,"app-processi-di-controllo",15),2&t){const t=p.fc();p.mc("processiDaControllare",t.processiDaControllare)}}let D=(()=>{class t{constructor(t,i,o){this.sostegnoService=t,this.route=i,this.loader=o}ngOnInit(){this.setMenu(),this.loader.setTimeout(48e4),this.processiDaControllare=this.sostegnoService.caricaProcessiDaControllare(this.istruttoriaDUCorrente)}ngOnDestroy(){this.loader.resetTimeout()}setMenu(){this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.menu2=new Array({routerLink:s.a.dichiarazioni,label:"Dichiarazioni"},{routerLink:s.a.capiAmmessi,label:"Capi Ammessi"},{routerLink:s.a.capiRichiesti,label:"Capi Richiesti"},{routerLink:s.a.controlliSostegno,label:"Controlli di sostegno"},{routerLink:s.a.esiticalcoli,label:"Esiti Calcoli"},{routerLink:s.a.datiIstruttoria,label:"Inserimento dati Istruttoria"}),this.istruttoriaDUCorrente.stato==b.a.PAGAMENTO_AUTORIZZATO&&this.menu2.push({routerLink:s.a.datiLiquidazione,label:"Dati di Liquidazione"}),this.istruttoriaSostegno=l.a[this.istruttoriaDUCorrente.sostegno]}isEnableCalcoloDisaccoppiato(){return this.istruttoriaDUCorrente.sostegno===l.a.ZOOTECNIA&&this.istruttoriaDUCorrente.stato===b.a.CONTROLLI_CALCOLO_OK}isEnableProcessoAmmissibilita(){return this.istruttoriaDUCorrente.sostegno===l.a.ZOOTECNIA&&this.istruttoriaDUCorrente.stato===b.a.CONTROLLI_CALCOLO_KO}isEnableControlliLiquidabilita(){return this.istruttoriaDUCorrente.sostegno===l.a.ZOOTECNIA&&this.istruttoriaDUCorrente.stato===b.a.CONTROLLI_CALCOLO_OK}isEnableCalcoloPremio(){return this.istruttoriaDUCorrente.sostegno===l.a.ZOOTECNIA&&(this.istruttoriaDUCorrente.stato===b.a.CONTROLLI_CALCOLO_KO||this.istruttoriaDUCorrente.stato===b.a.CONTROLLI_CALCOLO_OK||this.istruttoriaDUCorrente.stato===b.a.INTEGRATO)}isEnableCalcoloCapi(){return this.istruttoriaDUCorrente.sostegno===l.a.ZOOTECNIA&&this.istruttoriaDUCorrente.stato===b.a.INTEGRATO}avviaProcessoCalcoloCapi(){this.sostegnoService.eseguiProcessoIstruttoria(this.istruttoriaDUCorrente.id,d.a.CALCOLO_CAPI_ISTRUTTORIE,this.processiDaControllare,this.istruttoriaDUCorrente.domanda.campagna,this.istruttoriaSostegno)}avviaProcessoControlloLiquidabilita(){this.sostegnoService.eseguiProcessoIstruttoria(this.istruttoriaDUCorrente.id,d.a.CONTROLLO_LIQUIDABILITA_ISTRUTTORIA,this.processiDaControllare,this.istruttoriaDUCorrente.domanda.campagna,this.istruttoriaSostegno)}avviaProcessoCalcoloPremio(){this.sostegnoService.eseguiProcessoIstruttoria(this.istruttoriaDUCorrente.id,d.a.CALCOLO_ACCOPPIATO_ZOOTECNIA_ISTRUTTORIA,this.processiDaControllare,this.istruttoriaDUCorrente.domanda.campagna,this.istruttoriaSostegno)}avviaProcessoNonAmmissibilita(){this.sostegnoService.eseguiProcessoIstruttoria(this.istruttoriaDUCorrente.id,d.a.NON_AMMISSIBILITA,this.processiDaControllare,this.istruttoriaDUCorrente.domanda.campagna,this.istruttoriaSostegno)}}return t.\u0275fac=function(i){return new(i||t)(p.Nb(u.a),p.Nb(n.a),p.Nb(r.a))},t.\u0275cmp=p.Hb({type:t,selectors:[["app-zootecnia"]],decls:17,vars:6,consts:[[1,"ui-g","ui-fluid"],[1,"ui-g-12",2,"padding-bottom","0px !important"],[1,"ui-grid-fixed"],[1,"funzioni-grid","tabsmall",2,"margin-bottom","0px !important","margin-top","40px !important"],[3,"model"],[2,"width","100%"],[1,"ui-g-9"],[1,"layout-actionmenu"],[1,"ui-g"],[1,"ui-g-12","searchbutton"],["pButton","","type","button","class","ui-button-success results_text_button",3,"click",4,"ngIf"],["pButton","","pButton","","type","button","class","ui-button-success results_text_button",3,"click",4,"ngIf"],[3,"processiDaControllare",4,"ngIf"],["pButton","","type","button",1,"ui-button-success","results_text_button",3,"click"],["pButton","","pButton","","type","button",1,"ui-button-success","results_text_button",3,"click"],[3,"processiDaControllare"]],template:function(t,i){1&t&&(p.Tb(0,"div",0),p.Tb(1,"div",1),p.Tb(2,"div",2),p.Tb(3,"div",3),p.Ob(4,"p-tabMenu",4),p.Sb(),p.Sb(),p.Sb(),p.Tb(5,"div",5),p.Ob(6,"router-outlet"),p.Sb(),p.Sb(),p.Tb(7,"div",6),p.Tb(8,"div",7),p.Tb(9,"div",8),p.Tb(10,"div",9),p.Mc(11,T,3,3,"button",10),p.Mc(12,f,3,3,"button",10),p.Mc(13,O,3,3,"button",10),p.Mc(14,v,3,3,"button",11),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Tb(15,"div",1),p.Mc(16,B,1,1,"app-processi-di-controllo",12),p.Sb()),2&t&&(p.Bb(4),p.mc("model",i.menu2),p.Bb(7),p.mc("ngIf",i.isEnableCalcoloPremio()),p.Bb(1),p.mc("ngIf",i.isEnableControlliLiquidabilita()),p.Bb(1),p.mc("ngIf",i.isEnableCalcoloCapi()),p.Bb(1),p.mc("ngIf",i.isEnableProcessoAmmissibilita()),p.Bb(2),p.mc("ngIf",i.processiDaControllare))},directives:[g.a,n.j,e.t,S.b,m.a],pipes:[h.d],styles:[""]}),t})();var I=o("sdz4"),C=o("XNiG"),A=o("Tn7N"),z=o("Es4X"),y=o("5Z9/"),M=o("RtSl"),P=o("8ioI"),L=o("3Pt+"),N=o("arS9"),E=o("R5y+"),U=o("c8LR"),R=o("GLSp");function w(t,i){if(1&t){const t=p.Ub();p.Tb(0,"div",7),p.Tb(1,"h3"),p.Tb(2,"span"),p.Oc(3," Dichiarazione riduzione annullamento sanzione "),p.Sb(),p.Sb(),p.Tb(4,"div",8),p.Tb(5,"p-checkbox",23),p.bc("ngModelChange",(function(i){return p.Ec(t),p.fc(2).datiIstruttoriaDaInserire.annulloRiduzione=i})),p.Sb(),p.Sb(),p.Ob(6,"br"),p.Sb()}if(2&t){const t=p.fc(2);p.Bb(5),p.mc("ngModel",t.datiIstruttoriaDaInserire.annulloRiduzione)}}function F(t,i){if(1&t&&(p.Tb(0,"p",25),p.Oc(1),p.Sb()),2&t){p.fc(2);const t=p.Bc(27);p.Bb(1),p.Qc(" ",t.errors.cuaaErratoCompleto," ")}}function $(t,i){if(1&t&&(p.Tb(0,"div"),p.Mc(1,F,2,1,"p",24),p.Sb()),2&t){p.fc();const t=p.Bc(27);p.Bb(1),p.mc("ngIf",null==t.errors?null:t.errors.cuaaErratoCompleto)}}function x(t,i){if(1&t){const t=p.Ub();p.Tb(0,"div",7),p.Tb(1,"h3"),p.Tb(2,"span"),p.Oc(3," Dichiarazione riduzione annullamento sanzione "),p.Sb(),p.Sb(),p.Tb(4,"div",8),p.Tb(5,"p-checkbox",26),p.bc("ngModelChange",(function(i){return p.Ec(t),p.fc(2).datiIstruttoriaDaInserire.annulloRiduzione=i})),p.Sb(),p.Sb(),p.Sb()}if(2&t){const t=p.fc(2);p.Bb(5),p.mc("ngModel",t.datiIstruttoriaDaInserire.annulloRiduzione)}}function _(t,i){if(1&t&&(p.Tb(0,"p",25),p.Oc(1),p.Sb()),2&t){p.fc(2);const t=p.Bc(27);p.Bb(1),p.Qc(" ",t.errors.cuaaErratoCompleto," ")}}function k(t,i){if(1&t&&(p.Tb(0,"div"),p.Mc(1,_,2,1,"p",24),p.Sb()),2&t){p.fc();const t=p.Bc(27);p.Bb(1),p.mc("ngIf",null==t.errors?null:t.errors.cuaaErratoCompleto)}}const Q=function(){return{marginTop:"70px"}};function Z(t,i){if(1&t){const t=p.Ub();p.Tb(0,"div"),p.Tb(1,"div",1),p.Tb(2,"div",2),p.Tb(3,"form",3,4),p.bc("ngSubmit",(function(){p.Ec(t);const i=p.Bc(4);return p.fc().onSubmit(i)})),p.Tb(5,"div",5),p.Ob(6,"p-toast",6),p.Tb(7,"div",7),p.Tb(8,"h3"),p.Tb(9,"span"),p.Oc(10," Dati Controlli in Loco e Certificazione Antimafia "),p.Sb(),p.Sb(),p.Tb(11,"div",8),p.Tb(12,"p-checkbox",9),p.bc("ngModelChange",(function(i){return p.Ec(t),p.fc().datiIstruttoriaDaInserire.controlloSigecoLoco=i})),p.Sb(),p.Ob(13,"br"),p.Tb(14,"p-checkbox",10),p.bc("ngModelChange",(function(i){return p.Ec(t),p.fc().datiIstruttoriaDaInserire.controlloAntimafia=i})),p.Sb(),p.Sb(),p.Ob(15,"br"),p.Sb(),p.Mc(16,w,7,1,"div",11),p.Tb(17,"div",7),p.Tb(18,"h3"),p.Tb(19,"span"),p.Oc(20," Gestione Subentro "),p.Sb(),p.Sb(),p.Tb(21,"div",12),p.Tb(22,"div",13),p.Tb(23,"label"),p.Oc(24,"CUAA Subentrante"),p.Sb(),p.Sb(),p.Tb(25,"div",14),p.Tb(26,"input",15,16),p.bc("ngModelChange",(function(i){return p.Ec(t),p.fc().datiIstruttoriaDaInserire.cuaaSubentrante=i})),p.Sb(),p.Mc(28,$,2,1,"div",0),p.Sb(),p.Sb(),p.Sb(),p.Tb(29,"div"),p.Tb(30,"div",17),p.Ob(31,"br"),p.Tb(32,"button",18),p.Oc(33,"SALVA"),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Tb(34,"div",19),p.Tb(35,"div",2),p.Tb(36,"div",5),p.Ob(37,"p-toast",6),p.Tb(38,"div",7),p.Tb(39,"h3"),p.Tb(40,"span"),p.Oc(41," Dati Controlli in Loco e Certificazione Antimafia "),p.Sb(),p.Sb(),p.Tb(42,"div",8),p.Tb(43,"p-checkbox",20),p.bc("ngModelChange",(function(i){return p.Ec(t),p.fc().datiIstruttoriaDaInserire.controlloSigecoLoco=i})),p.Sb(),p.Ob(44,"br"),p.Tb(45,"p-checkbox",21),p.bc("ngModelChange",(function(i){return p.Ec(t),p.fc().datiIstruttoriaDaInserire.controlloAntimafia=i})),p.Sb(),p.Sb(),p.Sb(),p.Mc(46,x,6,1,"div",11),p.Tb(47,"div",7),p.Tb(48,"h3"),p.Tb(49,"span"),p.Oc(50," Gestione Subentro "),p.Sb(),p.Sb(),p.Tb(51,"div",12),p.Tb(52,"div",13),p.Tb(53,"label"),p.Oc(54,"CUAA Subentrante"),p.Sb(),p.Sb(),p.Tb(55,"div",14),p.Tb(56,"input",22,16),p.bc("ngModelChange",(function(i){return p.Ec(t),p.fc().datiIstruttoriaDaInserire.cuaaSubentrante=i})),p.Sb(),p.Mc(58,k,2,1,"div",0),p.Sb(),p.Sb(),p.Sb(),p.Ob(59,"div"),p.Sb(),p.Sb(),p.Sb(),p.Sb()}if(2&t){const t=p.Bc(4),i=p.Bc(27),o=p.fc();p.Bb(1),p.mc("a4gHasPermission","MODIFICABILE")("annoCampagna",o.istruttoriaDUCorrente.domanda.campagna)("tipoIstruttoria",o.istruttoriaDUCorrente.tipo)("statoSostegno",o.istruttoriaDUCorrente.stato),p.Bb(5),p.Kc(p.rc(23,Q)),p.Bb(6),p.mc("ngModel",o.datiIstruttoriaDaInserire.controlloSigecoLoco),p.Bb(2),p.mc("ngModel",o.datiIstruttoriaDaInserire.controlloAntimafia),p.Bb(2),p.mc("ngIf",o.showCheckboxAnnulloRitardoPresentazione),p.Bb(10),p.mc("ngModel",o.datiIstruttoriaDaInserire.cuaaSubentrante),p.Bb(2),p.mc("ngIf",i.errors),p.Bb(4),p.mc("disabled",!t.valid||o.submitted),p.Bb(2),p.mc("a4gHasPermission","NON_MODIFICABILE")("statoSostegno",o.istruttoriaDUCorrente.stato)("tipoIstruttoria",o.istruttoriaDUCorrente.tipo)("annoCampagna",o.istruttoriaDUCorrente.domanda.campagna),p.Bb(3),p.Kc(p.rc(24,Q)),p.Bb(6),p.mc("ngModel",o.datiIstruttoriaDaInserire.controlloSigecoLoco),p.Bb(2),p.mc("ngModel",o.datiIstruttoriaDaInserire.controlloAntimafia),p.Bb(1),p.mc("ngIf",o.showCheckboxAnnulloRitardoPresentazione),p.Bb(10),p.mc("ngModel",o.datiIstruttoriaDaInserire.cuaaSubentrante),p.Bb(2),p.mc("ngIf",i.errors)}}let q=(()=>{class t{constructor(t,i,o,e){this.route=t,this.istruttoriaDettaglioService=i,this.messageService=o,this.confService=e,this.dati=null,this.statoSostegno$=new C.a,this.showCheckboxAnnulloRitardoPresentazione=!1}ngOnInit(){this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.setSostegno(),this.getDatiIstruttoria(),this.controllaRitardo()}setSostegno(){this.selectedSostegno=l.a.ZOOTECNIA,this.tipoSostegno=s.a.acz,this.tipoDettaglio="datiIstruttoriaACZ",this.service="putDettaglioDatiIstruttoriaACZ"}getDatiIstruttoria(){this.istruttoriaDettaglioService.getDatiIstruttoriaDuAcz(this.istruttoriaDUCorrente.id.toString()).subscribe(t=>{this.datiIstruttoriaDaInserire=t||new z.a,this.statoSostegno$.next(this.istruttoriaDUCorrente.stato)},t=>{console.error(t),this.messageService.add(A.a.getToast("tst",A.b.error,A.a.erroreRecuperoDati))})}onSubmit(){this.istruttoriaDettaglioService.saveOrUpdateDatiIstruttoriaDuAcz(this.istruttoriaDUCorrente.id.toString(),this.datiIstruttoriaDaInserire).subscribe(t=>{this.datiIstruttoriaDaInserire=t,console.log("Salvataggio dati Istruttoria avvenuto con successo"),this.messageService.add(A.a.getToast("tst",A.b.success,A.a.OPERAZIONE_OK))},t=>{console.error("Errore in salvataggio dati Istruttoria: "+t),console.error(t),A.a.handleError(this.messageService,t,A.a.ERRORE_SALVATAGGIO_DATI_ISTRUTTORIA)})}controllaRitardo(){this.confService.getConfigurazioneIstruttorie(this.istruttoriaDUCorrente.domanda.campagna).subscribe(t=>{String(this.istruttoriaDUCorrente.domanda.codModuloDomanda).includes("BPS_ART_15")&&this.istruttoriaDUCorrente.domanda.dtPresentazione>t.dtScadenzaDomandeIniziali&&(this.showCheckboxAnnulloRitardoPresentazione=!0)})}}return t.\u0275fac=function(i){return new(i||t)(p.Nb(n.a),p.Nb(y.a),p.Nb(M.d),p.Nb(I.a))},t.\u0275cmp=p.Hb({type:t,selectors:[["app-dati-istruttoria"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"boxgrey",2,"padding-top","50px","display","inline-block",3,"a4gHasPermission","annoCampagna","tipoIstruttoria","statoSostegno"],[1,"ui-g-12"],[3,"ngSubmit"],["f","ngForm"],[1,"ui-grid-fixed"],["key","tst"],[2,"background","#fff","padding","30px","display","inline-block","width","100%","margin-bottom","30px"],[2,"font-size","15px"],["name","controlloSigecoLoco","binary","true","label","Si certifica che sono stati effettuati i controlli amministrativi in loco",3,"ngModel","ngModelChange"],["name","controlloAntimafia","binary","true","label","Si attesta che la certificazione antimafia \xe8 stata acquisita in maniera cartacea o che il pagamento viene effettuato su conduzione risolutiva legata all'esito degli accertamenti",3,"ngModel","ngModelChange"],["style","background: #fff; padding: 30px; display: inline-block; width: 100%; margin-bottom:30px;",4,"ngIf"],[1,"ui-g-12",2,"font-size","15px"],[1,"ui-g-2"],[1,"ui-g-4"],["name","cuaaSubentrante","type","text","appValidaCuaaCompleto","","pInputText","",3,"ngModel","ngModelChange"],["cuaaSubentrante","ngModel"],[1,"ui-g-12","ui-md-2","searchbutton"],["pButton","","type","submit",1,"ui-button-success",3,"disabled"],[1,"boxgrey",2,"padding-top","50px","display","inline-block",3,"a4gHasPermission","statoSostegno","tipoIstruttoria","annoCampagna"],["disabled","","binary","true","label","Si certifica che sono stati effettuati i controlli amministrativi in loco",3,"ngModel","ngModelChange"],["disabled","","binary","true","label","Si attesta che la certificazione antimafia \xe8 stata acquisita in maniera cartacea o che il pagamento viene effettuato su conduzione risolutiva legata all'esito degli accertamenti",3,"ngModel","ngModelChange"],["name","cuaaSubentrante","type","text","appValidaCuaaCompleto","","pInputText","","disabled","",3,"ngModel","ngModelChange"],["name","annulloRiduzione","binary","true","label","Si attesta che la domanda di modifica presentata in ritardo non introduce nuovi impegni e dunque non si applicano le riduzioni per ritardata presentazione",3,"ngModel","ngModelChange"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],[1,"ui-message","ui-messages-error","ui-corner-all"],["disabled","","binary","true","label","Si attesta che la domanda di modifica presentata in ritardo non introduce nuovi impegni e dunque non si applicano le riduzioni per ritardata presentazione",3,"ngModel","ngModelChange"]],template:function(t,i){1&t&&(p.Mc(0,Z,60,25,"div",0),p.gc(1,"async")),2&t&&p.mc("ngIf",p.hc(1,1,i.statoSostegno$))},directives:[e.t,P.a,L.I,L.t,L.u,N.a,E.a,L.s,L.v,L.c,U.a,R.a,S.b],pipes:[e.b],styles:[""]}),t})();var K=o("yhG/"),H=o("yWug"),V=o("B4vn");const G=function(t){return{width:t}};function J(t,i){1&t&&p.Ob(0,"th",11),2&t&&p.mc("ngStyle",p.sc(1,G,i.$implicit.width))}function j(t,i){if(1&t&&(p.Tb(0,"tr"),p.Mc(1,J,1,3,"th",10),p.Sb()),2&t){const t=i.$implicit;p.Bb(1),p.mc("ngForOf",t)}}function W(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2),p.Sb(),p.Tb(3,"td",12),p.Oc(4),p.Sb(),p.Sb()),2&t){const t=i.$implicit;p.Bb(2),p.Pc(t.descrizione),p.Bb(2),p.Pc(t.valore)}}function X(t,i){if(1&t&&(p.Tb(0,"div",4),p.Tb(1,"p-accordion"),p.Tb(2,"p-accordionTab",5),p.gc(3,"fixDichiarazioni"),p.Tb(4,"div",6),p.Tb(5,"p-table",7),p.gc(6,"tipoFilter"),p.Mc(7,j,2,1,"ng-template",8),p.Mc(8,W,5,2,"ng-template",9),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb()),2&t){const t=i.$implicit,o=p.fc();p.Bb(2),p.nc("header",p.hc(3,7,t)),p.mc("selected",!0),p.Bb(3),p.mc("columns",o.cols)("value",p.jc(6,9,o.dichiarazioni,"quadro",t))("autoLayout",!0)("paginator",!1)("responsive",!0)}}let Y=(()=>{class t{constructor(t,i){this.route=t,this.istruttoriaDettaglioService=i}ngOnInit(){this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.caricaDichiarazioni()}caricaDichiarazioni(){this.istruttoriaDettaglioService.getDichiarazioniAcz(this.istruttoriaDUCorrente.domanda.id.toString()).subscribe(t=>{this.dichiarazioni=t,this.codiciTipo=this.dichiarazioni.map(t=>t.quadro).filter((t,i,o)=>o.indexOf(t)===i)})}}return t.\u0275fac=function(i){return new(i||t)(p.Nb(n.a),p.Nb(y.a))},t.\u0275cmp=p.Hb({type:t,selectors:[["app-dichiarazioni-acc"]],decls:4,vars:1,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["ngFor","",3,"ngForOf"],[1,"accordion-wrapper","dettaglioaccordion"],[3,"header","selected"],[1,"table-responsive","nobrd",2,"margin-top","30px"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","header"],["pTemplate","body"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"text-right",2,"font-weight","bold"]],template:function(t,i){1&t&&(p.Tb(0,"div",0),p.Tb(1,"div",1),p.Tb(2,"div",2),p.Mc(3,X,9,13,"ng-template",3),p.Sb(),p.Sb(),p.Sb()),2&t&&(p.Bb(3),p.mc("ngForOf",i.codiciTipo))},directives:[e.s,K.a,K.c,H.q,M.e,e.w],pipes:[V.a,V.b],styles:[""]}),t})();var tt=o("LRne"),it=o("eIep"),ot=o("JIr8"),et=o("GJmQ"),at=o("EOOO"),nt=o("MvQ6");const ct=function(t){return{width:t}};function rt(t,i){if(1&t&&(p.Tb(0,"th",14),p.Tb(1,"strong"),p.Oc(2),p.Sb(),p.Sb()),2&t){const t=i.$implicit;p.mc("ngStyle",p.sc(2,ct,t.width)),p.Bb(2),p.Pc(t.header)}}function st(t,i){if(1&t&&(p.Tb(0,"tr"),p.Mc(1,rt,3,4,"th",13),p.Sb()),2&t){const t=i.$implicit;p.Bb(1),p.mc("ngForOf",t)}}function bt(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2),p.Sb(),p.Tb(3,"td"),p.Oc(4),p.Sb(),p.Sb()),2&t){const t=i.$implicit,o=p.fc(2);p.Bb(2),p.Qc(" ",o.setHeader(t.codice)," "),p.Bb(2),p.Qc(" ",t.valore," ")}}function lt(t,i){1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2," Nessun controllo eseguito "),p.Sb(),p.Sb()),2&t&&(p.Bb(1),p.Cb("colspan",10))}function dt(t,i){if(1&t&&(p.Tb(0,"th",14),p.Tb(1,"strong"),p.Oc(2),p.Sb(),p.Sb()),2&t){const t=i.$implicit;p.mc("ngStyle",p.sc(2,ct,t.width)),p.Bb(2),p.Pc(t.header)}}function ut(t,i){if(1&t&&(p.Tb(0,"tr"),p.Mc(1,dt,3,4,"th",13),p.Sb()),2&t){const t=i.$implicit;p.Bb(1),p.mc("ngForOf",t)}}function pt(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2),p.Sb(),p.Tb(3,"td"),p.Oc(4),p.Sb(),p.Sb()),2&t){const t=p.fc().$implicit,i=p.fc(4);p.Bb(2),p.Qc(" ",i.setHeader(t.codice)," "),p.Bb(2),p.Qc(" ",t.valore," ")}}function gt(t,i){1&t&&p.Mc(0,pt,5,2,"tr",4),2&t&&p.mc("ngIf",i.$implicit.valore)}function St(t,i){1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2," Nessun controllo eseguito "),p.Sb(),p.Sb()),2&t&&(p.Bb(1),p.Cb("colspan",10))}function mt(t,i){if(1&t&&(p.Tb(0,"th",14),p.Tb(1,"strong"),p.Oc(2),p.Sb(),p.Sb()),2&t){const t=i.$implicit;p.mc("ngStyle",p.sc(2,ct,t.width)),p.Bb(2),p.Pc(t.header)}}function ht(t,i){if(1&t&&(p.Tb(0,"tr"),p.Mc(1,mt,3,4,"th",13),p.Sb()),2&t){const t=i.$implicit;p.Bb(1),p.mc("ngForOf",t)}}function Tt(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2),p.Sb(),p.Tb(3,"td"),p.Oc(4),p.Sb(),p.Sb()),2&t){const t=p.fc().$implicit,i=p.fc(4);p.Bb(2),p.Qc(" ",i.setHeader(t.codice)," "),p.Bb(2),p.Qc(" ",t.valore," ")}}function ft(t,i){1&t&&p.Mc(0,Tt,5,2,"tr",4),2&t&&p.mc("ngIf",i.$implicit.valore)}function Ot(t,i){1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2," Nessun controllo eseguito "),p.Sb(),p.Sb()),2&t&&(p.Bb(1),p.Cb("colspan",10))}function vt(t,i){if(1&t&&(p.Tb(0,"div"),p.Tb(1,"p-accordion"),p.Tb(2,"p-accordionTab",15),p.Tb(3,"p-table",16,7),p.Mc(5,ut,2,1,"ng-template",8),p.Mc(6,gt,1,1,"ng-template",9),p.Mc(7,St,3,1,"ng-template",10),p.Sb(),p.Tb(8,"p-table",16,7),p.Mc(10,ht,2,1,"ng-template",8),p.Mc(11,ft,1,1,"ng-template",9),p.Mc(12,Ot,3,1,"ng-template",10),p.Sb(),p.Sb(),p.Sb(),p.Sb()),2&t){const t=p.fc().$implicit,i=p.fc(2);p.Bb(2),p.nc("header",i.setHeader(t)),p.mc("selected",!1),p.Bb(1),p.mc("columns",i.colsInput)("value",i.dettaglioDomandaAccoppiati[i.datiDomanda].dettaglioCalcolo[t].input)("responsive",!0),p.Bb(5),p.mc("columns",i.colsOutput)("value",i.dettaglioDomandaAccoppiati[i.datiDomanda].dettaglioCalcolo[t].output)("responsive",!0)}}function Bt(t,i){if(1&t&&(p.Tb(0,"div"),p.Mc(1,vt,13,8,"div",4),p.Sb()),2&t){const t=i.$implicit,o=p.fc(2);p.Bb(1),p.mc("ngIf",o.dettaglioDomandaAccoppiati[o.datiDomanda].dettaglioCalcolo[t]&&o.dettaglioDomandaAccoppiati[o.datiDomanda].dettaglioCalcolo[t].input&&o.dettaglioDomandaAccoppiati[o.datiDomanda].dettaglioCalcolo[t].input.length>0)}}function Dt(t,i){if(1&t&&(p.Tb(0,"th",14),p.Tb(1,"strong"),p.Oc(2),p.Sb(),p.Sb()),2&t){const t=i.$implicit;p.mc("ngStyle",p.sc(2,ct,t.width)),p.Bb(2),p.Pc(t.header)}}function It(t,i){if(1&t&&(p.Tb(0,"tr"),p.Mc(1,Dt,3,4,"th",13),p.Sb()),2&t){const t=i.$implicit;p.Bb(1),p.mc("ngForOf",t)}}function Ct(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2),p.Sb(),p.Tb(3,"td"),p.Oc(4),p.Sb(),p.Sb()),2&t){const t=p.fc().$implicit,i=p.fc(3);p.Bb(2),p.Qc(" ",i.setHeader(t.codice)," "),p.Bb(2),p.Qc(" ",t.valore," ")}}function At(t,i){1&t&&p.Mc(0,Ct,5,2,"tr",4),2&t&&p.mc("ngIf",i.$implicit.valore)}function zt(t,i){1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2," Nessun controllo eseguito "),p.Sb(),p.Sb()),2&t&&(p.Bb(1),p.Cb("colspan",10))}function yt(t,i){if(1&t&&(p.Tb(0,"th",14),p.Tb(1,"strong"),p.Oc(2),p.Sb(),p.Sb()),2&t){const t=i.$implicit;p.mc("ngStyle",p.sc(2,ct,t.width)),p.Bb(2),p.Pc(t.header)}}function Mt(t,i){if(1&t&&(p.Tb(0,"tr"),p.Mc(1,yt,3,4,"th",13),p.Sb()),2&t){const t=i.$implicit;p.Bb(1),p.mc("ngForOf",t)}}function Pt(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2),p.Sb(),p.Tb(3,"td"),p.Oc(4),p.Sb(),p.Sb()),2&t){const t=p.fc().$implicit,i=p.fc(3);p.Bb(2),p.Qc(" ",i.setHeader(t.codice)," "),p.Bb(2),p.Qc(" ",t.valore," ")}}function Lt(t,i){1&t&&p.Mc(0,Pt,5,2,"tr",4),2&t&&p.mc("ngIf",i.$implicit.valore)}function Nt(t,i){1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2," Nessun controllo eseguito "),p.Sb(),p.Sb()),2&t&&(p.Bb(1),p.Cb("colspan",10))}function Et(t,i){if(1&t&&(p.Tb(0,"div"),p.Tb(1,"h3"),p.Tb(2,"span"),p.Oc(3," Disciplina Finanziaria "),p.Sb(),p.Sb(),p.Tb(4,"div",11),p.Tb(5,"p-table",16,7),p.Mc(7,It,2,1,"ng-template",8),p.Mc(8,At,1,1,"ng-template",9),p.Mc(9,zt,3,1,"ng-template",10),p.Sb(),p.Tb(10,"p-table",16,7),p.Mc(12,Mt,2,1,"ng-template",8),p.Mc(13,Lt,1,1,"ng-template",9),p.Mc(14,Nt,3,1,"ng-template",10),p.Sb(),p.Sb(),p.Sb()),2&t){const t=p.fc(2);p.Bb(5),p.mc("columns",t.colsInput)("value",t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input)("responsive",!0),p.Bb(5),p.mc("columns",t.colsOutput)("value",t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.output)("responsive",!0)}}function Ut(t,i){if(1&t&&(p.Tb(0,"div"),p.Tb(1,"h3"),p.Tb(2,"span"),p.Oc(3," Sintesi Calcolo "),p.Sb(),p.Sb(),p.Tb(4,"div",5),p.Tb(5,"p-table",6,7),p.Mc(7,st,2,1,"ng-template",8),p.Mc(8,bt,5,2,"ng-template",9),p.Mc(9,lt,3,1,"ng-template",10),p.Sb(),p.Sb(),p.Ob(10,"br"),p.Ob(11,"br"),p.Tb(12,"h3"),p.Tb(13,"span"),p.Oc(14," Dettaglio Calcolo "),p.Sb(),p.Sb(),p.Tb(15,"div",11),p.Mc(16,Bt,2,1,"div",12),p.Sb(),p.Ob(17,"br"),p.Ob(18,"br"),p.Mc(19,Et,15,6,"div",4),p.Sb()),2&t){const t=p.fc();p.Bb(5),p.mc("columns",t.cols)("value",t.dettaglioDomandaAccoppiati[t.datiDomanda].sintesiCalcolo)("autoLayout",!0)("responsive",!0),p.Bb(11),p.mc("ngForOf",t.interventi),p.Bb(3),p.mc("ngIf",t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria&&t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input&&t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input.length>0)}}function Rt(t,i){1&t&&(p.Tb(0,"div"),p.Oc(1," Nessun controllo eseguito "),p.Sb())}const wt=function(){return{marginTop:"70px"}};let Ft=(()=>{class t{constructor(t,i,o,e,a){this.route=t,this.istruttoriaService=i,this.istruttoriaDettaglioService=o,this.messageService=e,this.router=a,this.dettaglioDomandaAccoppiati=new at.k,this.vedereAncheSeUgualiAZero=["DFFRAPPDIS_INPUT","DFFRAPPACZ_INPUT","DFFRAPPACS_INPUT","DFIMPLIQACZLORDO_OUTPUT"],this.componentDestroyed=!0}ngOnInit(){this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.setSostegno(),this.setIdDomandaCorrente(),this.setCols(),this.getDatiIstruttoria(),console.log(this.dettaglioDomandaAccoppiati)}setSostegno(){this.selectedSostegno=l.a.ZOOTECNIA,this.tipoSostegno=s.a.acz,this.datiDomanda="datiDomandaACZ",this.dettaglioDomandaAccoppiati[this.datiDomanda]=new at.b,this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo=new at.g,this.interventi=["int310","int311","int313","int315","int320","int321","int316","int318","int322"],this.interventiRichiesti=[]}setIdDomandaCorrente(){this.route.params.subscribe(t=>{this.idDomandaCorrente=t.idDomanda})}setCols(){this.cols=[{field:"codice",header:"Descrizione Controllo",width:"70%"},{field:"valore",header:"Valore",width:"30%"}],this.colsInput=[{field:"codice",header:"DATI IN INGRESSO",width:"70%"},{field:"valore",header:"",width:"30%"}],this.colsOutput=[{field:"codice",header:"DATI IN USCITA",width:"70%"},{field:"valore",header:"",width:"30%"}]}getDatiIstruttoria(){this.istruttoriaDettaglioService.getEsitiCalcoloIstruttoriaAcz(this.istruttoriaDUCorrente.id.toString()).pipe(Object(it.a)(t=>{if(t){console.log(t),this.dettaglioDomandaAccoppiati.idDomanda=this.istruttoriaDUCorrente.id.toString(),this.dettaglioDomandaAccoppiati[this.datiDomanda].sintesiCalcolo=[];for(const i in t.sintesiCalcolo)t.sintesiCalcolo.hasOwnProperty(i)&&this.dettaglioDomandaAccoppiati[this.datiDomanda].sintesiCalcolo.push({codice:i,valore:t.sintesiCalcolo[i]});this.interventi.forEach(i=>{this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo[i]=[],this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo[i].input=[],this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo[i].output=[];for(const o in t.dettaglioCalcolo[i])o.search("_INPUT")>-1?this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo[i].input.push({codice:o,valore:t.dettaglioCalcolo[i][o]}):o.search("_OUTPUT")>-1&&this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo[i].output.push({codice:o,valore:t.dettaglioCalcolo[i][o]});(this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo[i].input.length>0||this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo[i].output.length>0)&&this.interventiRichiesti.push(i.replace("int","_"))}),console.log(this.dettaglioDomandaAccoppiati[this.datiDomanda])}return this.istruttoriaDettaglioService.getDisciplinaIstruttoriaAcz(this.istruttoriaDUCorrente.id.toString())}),Object(ot.a)(t=>("NO_CALCOLO_ACZ"===t.error.message?console.log("Non ci sono passi lavorazione ACZ validi per l'istruttoria con id: "+this.istruttoriaDUCorrente.id):(this.messageService.add(A.a.getToast("tst",A.b.error,A.a.erroreRecuperoDati)),console.log(t)),Object(tt.a)(null))),Object(et.a)(()=>this.componentDestroyed)).subscribe(t=>{if(t){this.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria=new at.c,this.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input=[],this.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.output=[];for(const i in t)i.search("_INPUT")>-1?this.vedereAncheSeUgualiAZero.includes(i)||this.isInterventoRichiesto(i)?this.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input.push({codice:i,valore:t[i]||"0 euro"}):"0 euro"!==t[i]&&this.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input.push({codice:i,valore:t[i]}):i.search("_OUTPUT")>-1&&(this.vedereAncheSeUgualiAZero.includes(i)||this.isInterventoRichiesto(i)?this.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.output.push({codice:i,valore:t[i]||"0 euro"}):"0 euro"!==t[i]&&this.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.output.push({codice:i,valore:t[i]}));console.log(this.dettaglioDomandaAccoppiati[this.datiDomanda])}},t=>{"NO_CALCOLO_ACZ"===t.error.message?console.log("Non ci sono passi lavorazione ACZ validi per l'istruttoria con id: "+this.istruttoriaDUCorrente.id):(this.messageService.add(A.a.getToast("tst",A.b.error,A.a.erroreRecuperoDati)),console.log(t))})}isInterventoRichiesto(t){return!!this.interventiRichiesti.find(i=>t.search(i)>-1)}setHeader(t){const i=t.indexOf("_INPUT"),o=t.indexOf("_OUTPUT");return i>-1?t=t.substring(0,i):o>-1&&(t=t.substring(0,o)),this.propertyName=s.a[t],this.propertyName}ngOnDestroy(){this.componentDestroyed=!1}}return t.\u0275fac=function(i){return new(i||t)(p.Nb(n.a),p.Nb(nt.a),p.Nb(y.a),p.Nb(M.d),p.Nb(n.e))},t.\u0275cmp=p.Hb({type:t,selectors:[["app-esiti-calcoli"]],decls:6,vars:5,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[4,"ngIf"],[1,"table-responsive"],[3,"columns","value","autoLayout","responsive"],["tab",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],[4,"ngFor","ngForOf"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[3,"header","selected"],[3,"columns","value","responsive"]],template:function(t,i){1&t&&(p.Tb(0,"div",0),p.Tb(1,"div",1),p.Tb(2,"div",2),p.Ob(3,"p-toast",3),p.Mc(4,Ut,20,6,"div",4),p.Mc(5,Rt,2,0,"div",4),p.Sb(),p.Sb(),p.Sb()),2&t&&(p.Bb(3),p.Kc(p.rc(4,wt)),p.Bb(1),p.mc("ngIf",i.dettaglioDomandaAccoppiati.idDomanda),p.Bb(1),p.mc("ngIf",!i.dettaglioDomandaAccoppiati.idDomanda))},directives:[N.a,e.t,H.q,M.e,e.s,e.w,K.a,K.c],styles:[""]}),t})();const $t=function(t){return{width:t}};function xt(t,i){1&t&&p.Ob(0,"th",11),2&t&&p.mc("ngStyle",p.sc(1,$t,i.$implicit.width))}function _t(t,i){if(1&t&&(p.Tb(0,"tr"),p.Mc(1,xt,1,3,"th",10),p.Sb()),2&t){const t=i.$implicit;p.Bb(1),p.mc("ngForOf",t)}}function kt(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2),p.Sb(),p.Sb()),2&t){const t=p.fc().$implicit;p.Bb(2),p.Pc(t.title)}}function Qt(t,i){1&t&&p.Mc(0,kt,3,1,"tr",5),2&t&&p.mc("ngIf",null!=i.$implicit.title)}function Zt(t,i){if(1&t&&(p.Tb(0,"p-accordion"),p.Tb(1,"p-accordionTab",6),p.Tb(2,"p-table",7),p.Mc(3,_t,2,1,"ng-template",8),p.Mc(4,Qt,1,1,"ng-template",9),p.Sb(),p.Sb(),p.Sb()),2&t){const t=p.fc();p.Bb(1),p.mc("selected",!0),p.Bb(1),p.mc("columns",t.cols)("value",t.controlliSostegnoErrors)("autoLayout",!0)("paginator",!1)("responsive",!0)}}function qt(t,i){1&t&&p.Ob(0,"th",11),2&t&&p.mc("ngStyle",p.sc(1,$t,i.$implicit.width))}function Kt(t,i){if(1&t&&(p.Tb(0,"tr"),p.Mc(1,qt,1,3,"th",10),p.Sb()),2&t){const t=i.$implicit;p.Bb(1),p.mc("ngForOf",t)}}function Ht(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2),p.Sb(),p.Sb()),2&t){const t=p.fc().$implicit;p.Bb(2),p.Pc(t.title)}}function Vt(t,i){1&t&&p.Mc(0,Ht,3,1,"tr",5),2&t&&p.mc("ngIf",null!=i.$implicit.title)}function Gt(t,i){if(1&t&&(p.Tb(0,"p-accordion"),p.Tb(1,"p-accordionTab",12),p.Tb(2,"p-table",7),p.Mc(3,Kt,2,1,"ng-template",8),p.Mc(4,Vt,1,1,"ng-template",9),p.Sb(),p.Sb(),p.Sb()),2&t){const t=p.fc();p.Bb(1),p.mc("selected",!0),p.Bb(1),p.mc("columns",t.cols)("value",t.controlliSostegnoWarnings)("autoLayout",!0)("paginator",!1)("responsive",!0)}}function Jt(t,i){1&t&&p.Ob(0,"th",11),2&t&&p.mc("ngStyle",p.sc(1,$t,i.$implicit.width))}function jt(t,i){if(1&t&&(p.Tb(0,"tr"),p.Mc(1,Jt,1,3,"th",10),p.Sb()),2&t){const t=i.$implicit;p.Bb(1),p.mc("ngForOf",t)}}function Wt(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2),p.Sb(),p.Sb()),2&t){const t=p.fc().$implicit;p.Bb(2),p.Pc(t.title)}}function Xt(t,i){1&t&&p.Mc(0,Wt,3,1,"tr",5),2&t&&p.mc("ngIf",null!=i.$implicit.title)}function Yt(t,i){if(1&t&&(p.Tb(0,"p-accordion"),p.Tb(1,"p-accordionTab",13),p.Tb(2,"p-table",7),p.Mc(3,jt,2,1,"ng-template",8),p.Mc(4,Xt,1,1,"ng-template",9),p.Sb(),p.Sb(),p.Sb()),2&t){const t=p.fc();p.Bb(1),p.mc("selected",!0),p.Bb(1),p.mc("columns",t.cols)("value",t.controlliSostegnoInfos)("autoLayout",!0)("paginator",!1)("responsive",!0)}}function ti(t,i){1&t&&p.Ob(0,"th",11),2&t&&p.mc("ngStyle",p.sc(1,$t,i.$implicit.width))}function ii(t,i){if(1&t&&(p.Tb(0,"tr"),p.Mc(1,ti,1,3,"th",10),p.Sb()),2&t){const t=i.$implicit;p.Bb(1),p.mc("ngForOf",t)}}function oi(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2),p.Sb(),p.Sb()),2&t){const t=p.fc().$implicit;p.Bb(2),p.Pc(t.title)}}function ei(t,i){1&t&&p.Mc(0,oi,3,1,"tr",5),2&t&&p.mc("ngIf",null!=i.$implicit.title)}function ai(t,i){if(1&t&&(p.Tb(0,"p-accordion"),p.Tb(1,"p-accordionTab",14),p.Tb(2,"p-table",7),p.Mc(3,ii,2,1,"ng-template",8),p.Mc(4,ei,1,1,"ng-template",9),p.Sb(),p.Sb(),p.Sb()),2&t){const t=p.fc();p.Bb(1),p.mc("selected",!0),p.Bb(1),p.mc("columns",t.cols)("value",t.controlliSostegnoSuccesses)("autoLayout",!0)("paginator",!1)("responsive",!0)}}function ni(t,i){1&t&&(p.Tb(0,"div"),p.Oc(1," Nessun controllo eseguito "),p.Sb())}const ci=function(){return{marginTop:"70px"}};let ri=(()=>{class t{constructor(t,i,o,e,a){this.istruttoriaService=t,this.istruttoriaDettaglioService=i,this.messageService=o,this.route=e,this.router=a,this.dettaglioDomandaAccoppiati=new at.k,this.controlliSostegnoErrors=[],this.controlliSostegnoWarnings=[],this.controlliSostegnoInfos=[],this.controlliSostegnoSuccesses=[]}ngOnInit(){this.setSostegno(),this.setCols(),this.setIdDomandaCorrente(),this.getControlliSostegno(this.idDomandaCorrente.toString())}setSostegno(){this.selectedSostegno=l.a.ZOOTECNIA,this.tipoSostegno=s.a.acz}setCols(){this.cols=[{field:"b",header:"",width:"100%"}]}setIdDomandaCorrente(){this.route.params.subscribe(t=>{this.idDomandaCorrente=t.idIstruttoria})}getControlliSostegno(t){this.istruttoriaDettaglioService.getControlliSostegno(t).subscribe(t=>{if(t){let i=new at.h;this.dettaglioDomandaAccoppiati.controlliSostegno=i,this.dettaglioDomandaAccoppiati.controlliSostegno.errors=t.errors,this.dettaglioDomandaAccoppiati.controlliSostegno.infos=t.infos,this.dettaglioDomandaAccoppiati.controlliSostegno.warnings=t.warnings,this.dettaglioDomandaAccoppiati.controlliSostegno.successes=t.successes,console.log(s.a.tabControlliSostego+" "+this.selectedSostegno+":"),console.log(this.dettaglioDomandaAccoppiati),this.dettaglioDomandaAccoppiati.controlliSostegno&&(this.dettaglioDomandaAccoppiati.controlliSostegno.errors&&(this.dettaglioDomandaAccoppiati.controlliSostegno.errors.forEach(t=>{null!=s.a[t]&&this.controlliSostegnoErrors.push({label:t,title:s.a[t]}),console.log(this.controlliSostegnoErrors)}),this.controlliSostegnoErrors=this.distinctControlli(this.controlliSostegnoErrors)),this.dettaglioDomandaAccoppiati.controlliSostegno.warnings&&this.dettaglioDomandaAccoppiati.controlliSostegno.warnings.forEach(t=>{null!=s.a[t]&&this.controlliSostegnoWarnings.push({label:t,title:s.a[t]}),console.log(this.controlliSostegnoWarnings)}),this.dettaglioDomandaAccoppiati.controlliSostegno.infos&&(this.dettaglioDomandaAccoppiati.controlliSostegno.infos.forEach(t=>{null!=s.a[t]&&this.controlliSostegnoInfos.push({label:t,title:s.a[t]}),console.log(this.controlliSostegnoInfos)}),this.controlliSostegnoInfos=this.distinctControlli(this.controlliSostegnoInfos)),this.dettaglioDomandaAccoppiati.controlliSostegno.successes&&(this.dettaglioDomandaAccoppiati.controlliSostegno.successes.forEach(t=>{null!=s.a[t]&&this.controlliSostegnoSuccesses.push({label:t,title:s.a[t]}),console.log(this.controlliSostegnoSuccesses)}),this.controlliSostegnoSuccesses=this.distinctControlli(this.controlliSostegnoSuccesses)))}},t=>{"NO_CALCOLO_ACZ"==t.error.message?console.log("Non ci sono passi lavorazione ACZ validi per la domanda id: "+this.idDomandaCorrente):(this.messageService.add(A.a.getToast("tst",A.b.error,A.a.erroreRecuperoDati)),console.log(t))})}distinctControlli(t){for(let i=0;i<t.length;i++){const o=t[i];null!=t[i+1]&&o.title===t[i+1].title&&(t=t.splice(i,1))}return t}}return t.\u0275fac=function(i){return new(i||t)(p.Nb(nt.a),p.Nb(y.a),p.Nb(M.d),p.Nb(n.a),p.Nb(n.e))},t.\u0275cmp=p.Hb({type:t,selectors:[["app-controlli-sostegno"]],decls:10,vars:8,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],[4,"ngIf"],["header","ANOMALIE BLOCCANTI",3,"selected"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","header"],["pTemplate","body"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],["header","WARNING",3,"selected"],["header","INFORMAZIONI",3,"selected"],["header","SUCCESS",3,"selected"]],template:function(t,i){1&t&&(p.Tb(0,"div",0),p.Tb(1,"div",1),p.Tb(2,"div",2),p.Ob(3,"p-toast",3),p.Tb(4,"div",4),p.Mc(5,Zt,5,6,"p-accordion",5),p.Mc(6,Gt,5,6,"p-accordion",5),p.Mc(7,Yt,5,6,"p-accordion",5),p.Mc(8,ai,5,6,"p-accordion",5),p.Sb(),p.Mc(9,ni,2,0,"div",5),p.Sb(),p.Sb(),p.Sb()),2&t&&(p.Bb(3),p.Kc(p.rc(7,ci)),p.Bb(2),p.mc("ngIf",i.controlliSostegnoErrors.length>0),p.Bb(1),p.mc("ngIf",i.controlliSostegnoWarnings.length>0),p.Bb(1),p.mc("ngIf",i.controlliSostegnoInfos.length>0),p.Bb(1),p.mc("ngIf",i.controlliSostegnoSuccesses.length>0),p.Bb(1),p.mc("ngIf",null==i.dettaglioDomandaAccoppiati.controlliSostegno))},directives:[N.a,e.t,K.a,K.c,H.q,M.e,e.s,e.w],styles:[""]}),t})();var si=o("69Tm");class bi{}var li=o("6b9K"),di=o("D0mR");const ui=["table"];function pi(t,i){if(1&t&&(p.Tb(0,"td",12),p.Tb(1,"b"),p.Oc(2),p.Sb(),p.Sb()),2&t){const t=i.$implicit;p.Bb(2),p.Pc(t)}}function gi(t,i){1&t&&(p.Tb(0,"div",15),p.Oc(1," Analisi non presente "),p.Sb())}function Si(t,i){if(1&t&&(p.Tb(0,"tbody"),p.Tb(1,"tr"),p.Tb(2,"th",16),p.Oc(3,"Cellule Somatiche"),p.Sb(),p.Tb(4,"td",17),p.Oc(5),p.gc(6,"number"),p.Sb(),p.Sb(),p.Tb(7,"tr"),p.Tb(8,"th",16),p.Oc(9,"Carica Batterica"),p.Sb(),p.Tb(10,"td",17),p.Oc(11),p.gc(12,"number"),p.Sb(),p.Sb(),p.Tb(13,"tr"),p.Tb(14,"th",16),p.Oc(15,"Contenuto Proteine"),p.Sb(),p.Tb(16,"td",17),p.Oc(17),p.gc(18,"number"),p.Sb(),p.Sb(),p.Sb()),2&t){const t=p.fc(2);p.Bb(5),p.Qc("",p.ic(6,3,t.produzioneLatte.tenoreCellule,"1.2-2")," litri"),p.Bb(6),p.Qc("",p.ic(12,6,t.produzioneLatte.tenoreBatteri,"1.2-2")," litri"),p.Bb(6),p.Qc("",p.ic(18,9,t.produzioneLatte.contenutoProteine,"1.2-2")," grammi")}}function mi(t,i){1&t&&(p.Tb(0,"div",15),p.Oc(1," Alpeggio non presente "),p.Sb())}function hi(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"th",10),p.Oc(2,"Dal: "),p.Sb(),p.Tb(3,"td",19),p.Oc(4),p.Sb(),p.Tb(5,"th",10),p.Oc(6,"Al: "),p.Sb(),p.Tb(7,"td",17),p.Oc(8),p.Sb(),p.Sb()),2&t){const t=i.$implicit;p.Bb(4),p.Pc(t.dtInizio),p.Bb(4),p.Pc(t.dtFine)}}function Ti(t,i){if(1&t&&(p.Tb(0,"tbody"),p.Mc(1,hi,9,2,"tr",18),p.Sb()),2&t){const t=p.fc(2);p.Bb(1),p.mc("ngForOf",t.alpeggi)}}function fi(t,i){if(1&t&&(p.Tb(0,"p-accordion"),p.Tb(1,"p-accordionTab",7),p.Tb(2,"h5",8),p.Oc(3,"Produzione e Analisi Latte"),p.Sb(),p.Tb(4,"table",9),p.Tb(5,"tbody"),p.Tb(6,"tr"),p.Tb(7,"th",10),p.Oc(8,"MESI"),p.Sb(),p.Mc(9,pi,3,1,"td",11),p.Sb(),p.Tb(10,"tr"),p.Tb(11,"th",10),p.Oc(12,"PRODUZIONE"),p.Sb(),p.Tb(13,"td",12),p.Oc(14),p.Sb(),p.Tb(15,"td",12),p.Oc(16),p.Sb(),p.Tb(17,"td",12),p.Oc(18),p.Sb(),p.Tb(19,"td",12),p.Oc(20),p.Sb(),p.Tb(21,"td",12),p.Oc(22),p.Sb(),p.Tb(23,"td",12),p.Oc(24),p.Sb(),p.Tb(25,"td",12),p.Oc(26),p.Sb(),p.Tb(27,"td",12),p.Oc(28),p.Sb(),p.Tb(29,"td",12),p.Oc(30),p.Sb(),p.Tb(31,"td",12),p.Oc(32),p.Sb(),p.Tb(33,"td",12),p.Oc(34),p.Sb(),p.Tb(35,"td",12),p.Oc(36),p.Sb(),p.Sb(),p.Tb(37,"tr"),p.Tb(38,"th",10),p.Oc(39,"ANALISI"),p.Sb(),p.Tb(40,"td",12),p.Oc(41),p.Sb(),p.Tb(42,"td",12),p.Oc(43),p.Sb(),p.Tb(44,"td",12),p.Oc(45),p.Sb(),p.Tb(46,"td",12),p.Oc(47),p.Sb(),p.Tb(48,"td",12),p.Oc(49),p.Sb(),p.Tb(50,"td",12),p.Oc(51),p.Sb(),p.Tb(52,"td",12),p.Oc(53),p.Sb(),p.Tb(54,"td",12),p.Oc(55),p.Sb(),p.Tb(56,"td",12),p.Oc(57),p.Sb(),p.Tb(58,"td",12),p.Oc(59),p.Sb(),p.Tb(60,"td",12),p.Oc(61),p.Sb(),p.Tb(62,"td",12),p.Oc(63),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Tb(64,"h5",8),p.Oc(65,"Valori Medi"),p.Sb(),p.Tb(66,"table",13),p.Mc(67,gi,2,0,"div",14),p.Mc(68,Si,19,12,"tbody",5),p.Sb(),p.Tb(69,"h5",8),p.Oc(70,"Registrazione Alpeggio"),p.Sb(),p.Tb(71,"table",13),p.Mc(72,mi,2,0,"div",14),p.Mc(73,Ti,2,1,"tbody",5),p.Sb(),p.Sb(),p.Sb()),2&t){const t=p.fc();p.Bb(9),p.mc("ngForOf",t.mesi),p.Bb(5),p.Pc(1==t.produzioneLatte.mesiProduzione.gennaio?"Si":"No"),p.Bb(2),p.Pc(1==t.produzioneLatte.mesiProduzione.febbraio?"Si":"No"),p.Bb(2),p.Pc(1==t.produzioneLatte.mesiProduzione.marzo?"Si":"No"),p.Bb(2),p.Pc(1==t.produzioneLatte.mesiProduzione.aprile?"Si":"No"),p.Bb(2),p.Pc(1==t.produzioneLatte.mesiProduzione.maggio?"Si":"No"),p.Bb(2),p.Pc(1==t.produzioneLatte.mesiProduzione.giugno?"Si":"No"),p.Bb(2),p.Pc(1==t.produzioneLatte.mesiProduzione.luglio?"Si":"No"),p.Bb(2),p.Pc(1==t.produzioneLatte.mesiProduzione.agosto?"Si":"No"),p.Bb(2),p.Pc(1==t.produzioneLatte.mesiProduzione.settembre?"Si":"No"),p.Bb(2),p.Pc(1==t.produzioneLatte.mesiProduzione.ottobre?"Si":"No"),p.Bb(2),p.Pc(1==t.produzioneLatte.mesiProduzione.novembre?"Si":"No"),p.Bb(2),p.Pc(1==t.produzioneLatte.mesiProduzione.dicembre?"Si":"No"),p.Bb(5),p.Pc(1==t.produzioneLatte.mesiAnalisi.gennaio?"Si":"No"),p.Bb(2),p.Pc(1==t.produzioneLatte.mesiAnalisi.febbraio?"Si":"No"),p.Bb(2),p.Pc(1==t.produzioneLatte.mesiAnalisi.marzo?"Si":"No"),p.Bb(2),p.Pc(1==t.produzioneLatte.mesiAnalisi.aprile?"Si":"No"),p.Bb(2),p.Pc(1==t.produzioneLatte.mesiAnalisi.maggio?"Si":"No"),p.Bb(2),p.Pc(1==t.produzioneLatte.mesiAnalisi.giugno?"Si":"No"),p.Bb(2),p.Pc(1==t.produzioneLatte.mesiAnalisi.luglio?"Si":"No"),p.Bb(2),p.Pc(1==t.produzioneLatte.mesiAnalisi.agosto?"Si":"No"),p.Bb(2),p.Pc(1==t.produzioneLatte.mesiAnalisi.settembre?"Si":"No"),p.Bb(2),p.Pc(1==t.produzioneLatte.mesiAnalisi.ottobre?"Si":"No"),p.Bb(2),p.Pc(1==t.produzioneLatte.mesiAnalisi.novembre?"Si":"No"),p.Bb(2),p.Pc(1==t.produzioneLatte.mesiAnalisi.dicembre?"Si":"No"),p.Bb(4),p.mc("ngIf",t.noAnalisi),p.Bb(1),p.mc("ngIf",!t.noAnalisi),p.Bb(4),p.mc("ngIf",null==t.alpeggi),p.Bb(1),p.mc("ngIf",null!=t.alpeggi)}}function Oi(t,i){1&t&&(p.Tb(0,"div",15),p.Oc(1," Etichettatura non presente "),p.Sb())}function vi(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td",10),p.Oc(2),p.Sb(),p.Tb(3,"td"),p.Oc(4),p.gc(5,"date"),p.Sb(),p.Tb(6,"td"),p.Oc(7),p.gc(8,"date"),p.Sb(),p.Sb()),2&t){const t=i.$implicit;p.Bb(2),p.Pc(t.codiceAsl),p.Bb(2),p.Qc(" ",null==t.dtInizioValidita?"-":p.ic(5,3,t.dtInizioValidita,"dd-MM-yyyy")," "),p.Bb(3),p.Qc(" ",null==t.dtFineValidita?"-":p.ic(8,6,t.dtFineValidita,"dd-MM-yyyy")," ")}}function Bi(t,i){if(1&t&&(p.Tb(0,"tbody"),p.Tb(1,"tr"),p.Tb(2,"th",10),p.Oc(3,"Codice Asl"),p.Sb(),p.Tb(4,"th"),p.Oc(5,"Dal"),p.Sb(),p.Tb(6,"th"),p.Oc(7,"Al"),p.Sb(),p.Sb(),p.Mc(8,vi,9,9,"tr",18),p.Sb()),2&t){const t=p.fc(2);p.Bb(8),p.mc("ngForOf",t.etichettature)}}function Di(t,i){if(1&t&&(p.Tb(0,"p-accordion"),p.Tb(1,"p-accordionTab",20),p.Tb(2,"table",13),p.Mc(3,Oi,2,0,"div",14),p.Mc(4,Bi,9,1,"tbody",5),p.Sb(),p.Sb(),p.Sb()),2&t){const t=p.fc();p.Bb(3),p.mc("ngIf",null==t.etichettature),p.Bb(1),p.mc("ngIf",null!=t.etichettature)}}function Ii(t,i){1&t&&p.Ob(0,"hr")}function Ci(t,i){if(1&t&&p.Ob(0,"p-sortIcon",41),2&t){const t=p.fc().$implicit;p.mc("field",t.header)}}function Ai(t,i){if(1&t&&(p.Tb(0,"th",39),p.Oc(1),p.Mc(2,Ci,1,1,"p-sortIcon",40),p.Sb()),2&t){const t=i.$implicit;p.mc("pSortableColumn",t.field)("pSortableColumnDisabled",null==t.field),p.Bb(1),p.Qc(" ",t.header," "),p.Bb(1),p.mc("ngIf",null!=t.field)}}function zi(t,i){if(1&t&&(p.Tb(0,"tr"),p.Ob(1,"th",37),p.Mc(2,Ai,3,4,"th",38),p.Sb()),2&t){const t=i.$implicit;p.Bb(2),p.mc("ngForOf",t)}}function yi(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Tb(2,"a",42),p.Ob(3,"i",43),p.Sb(),p.Sb(),p.Tb(4,"td"),p.Oc(5),p.Sb(),p.Tb(6,"td"),p.Oc(7),p.Sb(),p.Tb(8,"td"),p.Oc(9),p.Sb(),p.Tb(10,"td"),p.Oc(11),p.Sb(),p.Tb(12,"td"),p.Oc(13),p.Sb(),p.Sb()),2&t){const t=i.$implicit,o=i.expanded,e=p.fc(2).$implicit;p.Bb(2),p.mc("pRowToggler",t),p.Bb(1),p.mc("ngClass",o?"pi pi-chevron-down":"pi pi-chevron-right"),p.Bb(2),p.Pc(t.codiceCapo),p.Bb(2),p.Pc(e.codiceSpecie),p.Bb(2),p.Pc(t.capoBdn.razzaCodice),p.Bb(2),p.Pc(t.esito),p.Bb(2),p.Pc(t.messaggio)}}function Mi(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Tb(2,"tr"),p.Tb(3,"th"),p.Oc(4,"Dati identificativi"),p.Sb(),p.Ob(5,"th"),p.Sb(),p.Tb(6,"tr"),p.Tb(7,"td"),p.Oc(8,"Marca auricolare"),p.Sb(),p.Tb(9,"td"),p.Oc(10),p.Sb(),p.Sb(),p.Tb(11,"tr"),p.Tb(12,"td"),p.Oc(13,"Razza"),p.Sb(),p.Tb(14,"td"),p.Oc(15),p.Sb(),p.Sb(),p.Tb(16,"tr"),p.Tb(17,"td"),p.Oc(18,"La data di nascita del capo"),p.Sb(),p.Tb(19,"td"),p.Oc(20),p.gc(21,"date"),p.Sb(),p.Sb(),p.Ob(22,"br"),p.Tb(23,"tr"),p.Tb(24,"th"),p.Oc(25,"Dati identificativi dei vitelli del primo parto e di registrazione della loro nascita"),p.Sb(),p.Ob(26,"th"),p.Sb(),p.Tb(27,"tr"),p.Tb(28,"td"),p.Oc(29,"Marca auricolare"),p.Sb(),p.Tb(30,"td"),p.Oc(31),p.Sb(),p.Sb(),p.Tb(32,"tr"),p.Tb(33,"td"),p.Oc(34,"Data di nascita del vitello"),p.Sb(),p.Tb(35,"td"),p.Oc(36),p.gc(37,"date"),p.Sb(),p.Sb(),p.Tb(38,"tr"),p.Tb(39,"td"),p.Oc(40,"Gemello"),p.Sb(),p.Tb(41,"td"),p.Oc(42),p.Sb(),p.Sb(),p.Tb(43,"tr"),p.Tb(44,"td"),p.Oc(45,"Data di registrazione della nascita"),p.Sb(),p.Tb(46,"td"),p.Oc(47),p.gc(48,"date"),p.Sb(),p.Sb(),p.Tb(49,"tr"),p.Tb(50,"td"),p.Oc(51,"Registarzione della nascita delegata"),p.Sb(),p.Tb(52,"td"),p.Oc(53),p.Sb(),p.Sb(),p.Tb(54,"tr"),p.Tb(55,"td"),p.Oc(56,"Marcatura prepagata"),p.Sb(),p.Tb(57,"td"),p.Oc(58),p.Sb(),p.Sb(),p.Ob(59,"br"),p.Tb(60,"tr"),p.Tb(61,"th"),p.Oc(62,"Dati di registrazione della movimentazione"),p.Sb(),p.Ob(63,"th"),p.Sb(),p.Tb(64,"tr"),p.Tb(65,"td"),p.Oc(66,"Data di ingresso della vacca nell\u2019allevamento"),p.Sb(),p.Tb(67,"td"),p.Oc(68),p.gc(69,"date"),p.Sb(),p.Sb(),p.Tb(70,"tr"),p.Tb(71,"td"),p.Oc(72,"Data di comunicazione all\u2019autorit\xe0 competente dell\u2019ingresso"),p.Sb(),p.Tb(73,"td"),p.Oc(74),p.gc(75,"date"),p.Sb(),p.Sb(),p.Tb(76,"tr"),p.Tb(77,"td"),p.Oc(78,"Data di registrazione in BDN dell\u2019ingresso"),p.Sb(),p.Tb(79,"td"),p.Oc(80),p.gc(81,"date"),p.Sb(),p.Sb(),p.Ob(82,"br"),p.Tb(83,"tr"),p.Tb(84,"th"),p.Oc(85,"Esito del controllo"),p.Sb(),p.Ob(86,"th"),p.Sb(),p.Tb(87,"tr"),p.Tb(88,"td"),p.Oc(89,"Esito"),p.Sb(),p.Tb(90,"td"),p.Oc(91),p.Sb(),p.Sb(),p.Sb(),p.Sb()),2&t){const t=p.fc(),i=t.columns,o=t.$implicit,e=p.fc(3);p.Bb(1),p.Cb("colspan",i.length+1),p.Bb(9),p.Pc(o.capoBdn.codice),p.Bb(5),p.Pc(o.capoBdn.razzaCodice),p.Bb(5),p.Qc(" ",o.capoBdn.dtNascita?p.ic(21,14,o.capoBdn.dtNascita,"dd/MM/yyyy"):e.intestazioni.nd," "),p.Bb(11),p.Pc(o.capoBdn.capoLatteBdn.vitelli[0].codVitello),p.Bb(5),p.Pc(o.capoBdn.capoLatteBdn.vitelli[0].dtNascita?p.ic(37,17,o.capoBdn.capoLatteBdn.vitelli[0].dtNascita,"dd/MM/yyyy"):e.intestazioni.nd),p.Bb(6),p.Pc(o.capoBdn.capoLatteBdn.vitelli[0].tipoOrigine),p.Bb(5),p.Pc(o.capoBdn.capoLatteBdn.vitelli[0].dtInserimentoBdnNascita?p.ic(48,20,o.capoBdn.capoLatteBdn.vitelli[0].dtInserimentoBdnNascita,"dd/MM/yyyy"):e.intestazioni.nd),p.Bb(6),p.Pc(o.capoBdn.capoLatteBdn.vitelli[0].flagDelegatoNascitaVitello),p.Bb(5),p.Pc(o.capoBdn.capoLatteBdn.vitelli[0].flagProrogaMarcatura),p.Bb(10),p.Pc(o.capoBdn.capoLatteBdn.detenzioniBdn&&o.capoBdn.capoLatteBdn.detenzioniBdn[0].vaccaDtIngresso?p.ic(69,23,o.capoBdn.capoLatteBdn.detenzioniBdn[0].vaccaDtIngresso,"dd/MM/yyyy"):e.intestazioni.nd),p.Bb(6),p.Pc(o.capoBdn.capoLatteBdn.detenzioniBdn&&o.capoBdn.capoLatteBdn.detenzioniBdn[0].vaccaDtComAutoritaIngresso?p.ic(75,26,o.capoBdn.capoLatteBdn.detenzioniBdn[0].vaccaDtComAutoritaIngresso,"dd/MM/yyyy"):e.intestazioni.nd),p.Bb(6),p.Pc(o.capoBdn.capoLatteBdn.detenzioniBdn&&o.capoBdn.capoLatteBdn.detenzioniBdn[0].vaccaDtInserimentoBdnIngresso?p.ic(81,29,o.capoBdn.capoLatteBdn.detenzioniBdn[0].vaccaDtInserimentoBdnIngresso,"dd/MM/yyyy"):e.intestazioni.nd),p.Bb(11),p.Pc(o.esito)}}function Pi(t,i){if(1&t&&(p.Tb(0,"td"),p.Tb(1,"tr"),p.Tb(2,"th"),p.Oc(3,"Periodo di detenzione"),p.Sb(),p.Ob(4,"th"),p.Sb(),p.Tb(5,"tr"),p.Tb(6,"td"),p.Oc(7,"Data di inizio detenzione"),p.Sb(),p.Tb(8,"td"),p.Oc(9),p.gc(10,"date"),p.Sb(),p.Sb(),p.Tb(11,"tr"),p.Tb(12,"td"),p.Oc(13,"Data di fine detenzione"),p.Sb(),p.Tb(14,"td"),p.Oc(15),p.gc(16,"date"),p.Sb(),p.Sb(),p.Ob(17,"br"),p.Tb(18,"tr"),p.Tb(19,"th"),p.Oc(20,"Dati identificativi dell'allevamento"),p.Sb(),p.Ob(21,"th"),p.Sb(),p.Tb(22,"tr"),p.Tb(23,"td"),p.Oc(24,"Cuaa dell'azienda"),p.Sb(),p.Tb(25,"td"),p.Oc(26),p.Sb(),p.Sb(),p.Tb(27,"tr"),p.Tb(28,"td"),p.Oc(29,"Codice asl"),p.Sb(),p.Tb(30,"td"),p.Oc(31),p.Sb(),p.Sb(),p.Tb(32,"tr"),p.Tb(33,"td"),p.Oc(34,"Allevamento di montagna"),p.Sb(),p.Tb(35,"td"),p.Oc(36),p.Sb(),p.Sb(),p.Ob(37,"br"),p.Tb(38,"tr"),p.Tb(39,"th"),p.Oc(40,"Dati di registrazione della movimentazione"),p.Sb(),p.Ob(41,"th"),p.Sb(),p.Tb(42,"tr"),p.Tb(43,"td"),p.Oc(44,"Data di ingresso della vacca nell\u2019allevamento"),p.Sb(),p.Tb(45,"td"),p.Oc(46),p.gc(47,"date"),p.Sb(),p.Sb(),p.Tb(48,"tr"),p.Tb(49,"td"),p.Oc(50,"Data di comunicazione all\u2019autorit\xe0 competente dell\u2019ingresso"),p.Sb(),p.Tb(51,"td"),p.Oc(52),p.gc(53,"date"),p.Sb(),p.Sb(),p.Tb(54,"tr"),p.Tb(55,"td"),p.Oc(56,"Data di registrazione in BDN dell\u2019ingresso"),p.Sb(),p.Tb(57,"td"),p.Oc(58),p.gc(59,"date"),p.Sb(),p.Sb(),p.Ob(60,"br"),p.Sb()),2&t){const t=i.$implicit,o=p.fc(5);p.Bb(9),p.Qc(" ",t.dtInizioDetenzione?p.ic(10,8,t.dtInizioDetenzione,"dd/MM/yyyy"):o.intestazioni.nd," "),p.Bb(6),p.Qc(" ",t.dtFineDetenzione?p.ic(16,11,t.dtFineDetenzione,"dd/MM/yyyy"):o.intestazioni.nd," "),p.Bb(11),p.Pc(t.cuaa),p.Bb(5),p.Pc(t.codiceAsl),p.Bb(5),p.Pc(1==t.allevamentoMontagna?"SI":"NO"),p.Bb(10),p.Qc(" ",t.vaccaDtIngresso?p.ic(47,14,t.vaccaDtIngresso,"dd/MM/yyyy"):o.intestazioni.nd," "),p.Bb(6),p.Qc(" ",t.vaccaDtComAutoritaIngresso?p.ic(53,17,t.vaccaDtComAutoritaIngresso,"dd/MM/yyyy"):o.intestazioni.nd," "),p.Bb(6),p.Qc(" ",t.vaccaDtInserimentoBdnIngresso?p.ic(59,20,t.vaccaDtInserimentoBdnIngresso,"dd/MM/yyyy"):o.intestazioni.nd," ")}}function Li(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Tb(2,"tr"),p.Tb(3,"th"),p.Oc(4,"Dati identificativi"),p.Sb(),p.Ob(5,"th"),p.Sb(),p.Tb(6,"tr"),p.Tb(7,"td"),p.Oc(8,"Marca auricolare"),p.Sb(),p.Tb(9,"td"),p.Oc(10),p.Sb(),p.Sb(),p.Tb(11,"tr"),p.Tb(12,"td"),p.Oc(13,"Razza"),p.Sb(),p.Tb(14,"td"),p.Oc(15),p.Sb(),p.Sb(),p.Tb(16,"tr"),p.Tb(17,"td"),p.Oc(18,"La data di nascita del capo"),p.Sb(),p.Tb(19,"td"),p.Oc(20),p.gc(21,"date"),p.Sb(),p.Sb(),p.Ob(22,"br"),p.Tb(23,"tr"),p.Tb(24,"th"),p.Oc(25,"Dati identificativi dei vitelli del primo parto e di registrazione della loro nascita"),p.Sb(),p.Ob(26,"th"),p.Sb(),p.Tb(27,"tr"),p.Tb(28,"td"),p.Oc(29,"Marca auricolare"),p.Sb(),p.Tb(30,"td"),p.Oc(31),p.Sb(),p.Sb(),p.Tb(32,"tr"),p.Tb(33,"td"),p.Oc(34,"Data di nascita del vitello"),p.Sb(),p.Tb(35,"td"),p.Oc(36),p.gc(37,"date"),p.Sb(),p.Sb(),p.Tb(38,"tr"),p.Tb(39,"td"),p.Oc(40,"Gemello"),p.Sb(),p.Tb(41,"td"),p.Oc(42),p.Sb(),p.Sb(),p.Tb(43,"tr"),p.Tb(44,"td"),p.Oc(45,"Data di registrazione della nascita"),p.Sb(),p.Tb(46,"td"),p.Oc(47),p.gc(48,"date"),p.Sb(),p.Sb(),p.Tb(49,"tr"),p.Tb(50,"td"),p.Oc(51,"Registarzione della nascita delegata"),p.Sb(),p.Tb(52,"td"),p.Oc(53),p.Sb(),p.Sb(),p.Tb(54,"tr"),p.Tb(55,"td"),p.Oc(56,"Marcatura prepagata"),p.Sb(),p.Tb(57,"td"),p.Oc(58),p.Sb(),p.Sb(),p.Ob(59,"br"),p.Tb(60,"tr"),p.Tb(61,"th"),p.Oc(62,"Lista delle detenzioni che sono state valutate per il raggiungimento dei sei mesi in zone montane"),p.Sb(),p.Ob(63,"th"),p.Sb(),p.Tb(64,"tr"),p.Mc(65,Pi,61,23,"td",18),p.Sb(),p.Ob(66,"br"),p.Tb(67,"tr"),p.Tb(68,"th"),p.Oc(69,"Esito del controllo"),p.Sb(),p.Ob(70,"th"),p.Sb(),p.Tb(71,"tr"),p.Tb(72,"td"),p.Oc(73,"Esito"),p.Sb(),p.Tb(74,"td"),p.Oc(75),p.Sb(),p.Sb(),p.Sb(),p.Sb()),2&t){const t=p.fc(),i=t.columns,o=t.$implicit,e=p.fc(3);p.Bb(1),p.Cb("colspan",i.length+1),p.Bb(9),p.Pc(o.capoBdn.codice),p.Bb(5),p.Pc(o.capoBdn.razzaCodice),p.Bb(5),p.Qc(" ",o.capoBdn.dtNascita?p.ic(21,12,o.capoBdn.dtNascita,"dd/MM/yyyy"):e.intestazioni.nd," "),p.Bb(11),p.Pc(o.capoBdn.capoLatteBdn.vitelli[0].codVitello),p.Bb(5),p.Pc(o.capoBdn.capoLatteBdn.vitelli[0].dtNascita?p.ic(37,15,o.capoBdn.capoLatteBdn.vitelli[0].dtNascita,"dd/MM/yyyy"):e.intestazioni.nd),p.Bb(6),p.Pc(o.capoBdn.capoLatteBdn.vitelli[0].tipoOrigine),p.Bb(5),p.Pc(o.capoBdn.capoLatteBdn.vitelli[0].dtInserimentoBdnNascita?p.ic(48,18,o.capoBdn.capoLatteBdn.vitelli[0].dtInserimentoBdnNascita,"dd/MM/yyyy"):e.intestazioni.nd),p.Bb(6),p.Pc(o.capoBdn.capoLatteBdn.vitelli[0].flagDelegatoNascitaVitello),p.Bb(5),p.Pc(o.capoBdn.capoLatteBdn.vitelli[0].flagProrogaMarcatura),p.Bb(7),p.mc("ngForOf",o.capoBdn.capoLatteBdn.detenzioniBdn),p.Bb(10),p.Pc(o.esito)}}function Ni(t,i){if(1&t&&(p.Tb(0,"td"),p.Tb(1,"tr"),p.Tb(2,"td"),p.Oc(3,"Data di ingresso della vacca nell\u2019allevamento"),p.Sb(),p.Tb(4,"td"),p.Oc(5),p.gc(6,"date"),p.Sb(),p.Sb(),p.Tb(7,"tr"),p.Tb(8,"td"),p.Oc(9,"Data di comunicazione all\u2019autorit\xe0 competente dell\u2019ingresso"),p.Sb(),p.Tb(10,"td"),p.Oc(11),p.gc(12,"date"),p.Sb(),p.Sb(),p.Tb(13,"tr"),p.Tb(14,"td"),p.Oc(15,"Data di registrazione in BDN dell\u2019ingresso"),p.Sb(),p.Tb(16,"td"),p.Oc(17),p.gc(18,"date"),p.Sb(),p.Sb(),p.Ob(19,"br"),p.Tb(20,"tr"),p.Tb(21,"th"),p.Oc(22,"Dati di detenzione in stalla"),p.Sb(),p.Ob(23,"th"),p.Sb(),p.Tb(24,"tr"),p.Tb(25,"td"),p.Oc(26,"Data di uscita del capo dall\u2019allevamento"),p.Sb(),p.Tb(27,"td"),p.Oc(28),p.gc(29,"date"),p.Sb(),p.Sb(),p.Ob(30,"br"),p.Sb()),2&t){const t=i.$implicit,o=p.fc(5);p.Bb(5),p.Pc(t.vaccaDtIngresso?p.ic(6,4,t.vaccaDtIngresso,"dd/MM/yyyy"):o.intestazioni.nd),p.Bb(6),p.Pc(t.vaccaDtComAutoritaIngresso?p.ic(12,7,t.vaccaDtComAutoritaIngresso,"dd/MM/yyyy"):o.intestazioni.nd),p.Bb(6),p.Pc(t.vaccaDtInserimentoBdnIngresso?p.ic(18,10,t.vaccaDtInserimentoBdnIngresso,"dd/MM/yyyy"):o.intestazioni.nd),p.Bb(11),p.Pc(t.dtUscita?p.ic(29,13,t.dtUscita,"dd/MM/yyyy"):o.intestazioni.nd)}}function Ei(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Tb(2,"tr"),p.Tb(3,"th"),p.Oc(4,"Dati identificativi"),p.Sb(),p.Ob(5,"th"),p.Sb(),p.Tb(6,"tr"),p.Tb(7,"td"),p.Oc(8,"Marca auricolare"),p.Sb(),p.Tb(9,"td"),p.Oc(10),p.Sb(),p.Sb(),p.Tb(11,"tr"),p.Tb(12,"td"),p.Oc(13,"Razza"),p.Sb(),p.Tb(14,"td"),p.Oc(15),p.Sb(),p.Sb(),p.Tb(16,"tr"),p.Tb(17,"td"),p.Oc(18,"La data di applicazione marchio"),p.Sb(),p.Tb(19,"td"),p.Oc(20),p.gc(21,"date"),p.Sb(),p.Sb(),p.Tb(22,"tr"),p.Tb(23,"td"),p.Oc(24,"La data di nascita del capo"),p.Sb(),p.Tb(25,"td"),p.Oc(26),p.gc(27,"date"),p.Sb(),p.Sb(),p.Ob(28,"br"),p.Tb(29,"tr"),p.Tb(30,"th"),p.Oc(31,"Dati di registrazione della movimentazione"),p.Sb(),p.Ob(32,"th"),p.Sb(),p.Tb(33,"tr"),p.Mc(34,Ni,31,16,"td",18),p.Sb(),p.Tb(35,"tr"),p.Tb(36,"th"),p.Oc(37,"Esito del controllo"),p.Sb(),p.Ob(38,"th"),p.Sb(),p.Tb(39,"tr"),p.Tb(40,"td"),p.Oc(41,"Esito"),p.Sb(),p.Tb(42,"td"),p.Oc(43),p.Sb(),p.Sb(),p.Sb(),p.Sb()),2&t){const t=p.fc(),i=t.columns,o=t.$implicit,e=p.fc(3);p.Bb(1),p.Cb("colspan",i.length+1),p.Bb(9),p.Pc(o.capoBdn.codice),p.Bb(5),p.Pc(o.capoBdn.razzaCodice),p.Bb(5),p.Pc(p.ic(21,7,null==o.capoBdn||null==o.capoBdn.capoMacellatoBdn?null:o.capoBdn.capoMacellatoBdn.dtApplMarchio,"dd/MM/yyyy")||e.intestazioni.nd),p.Bb(6),p.Qc(" ",o.capoBdn.dtNascita?p.ic(27,10,o.capoBdn.dtNascita,"dd/MM/yyyy"):e.intestazioni.nd," "),p.Bb(8),p.mc("ngForOf",o.capoBdn.capoMacellatoBdn.detenzioniBdn),p.Bb(9),p.Pc(o.esito)}}function Ui(t,i){if(1&t&&(p.Tb(0,"td"),p.Tb(1,"tr"),p.Tb(2,"th"),p.Oc(3,"Periodo di detenzione"),p.Sb(),p.Ob(4,"th"),p.Sb(),p.Tb(5,"tr"),p.Tb(6,"td"),p.Oc(7,"La data di ingresso"),p.Sb(),p.Tb(8,"td"),p.Oc(9),p.gc(10,"date"),p.Sb(),p.Sb(),p.Sb()),2&t){const t=i.$implicit,o=p.fc(5);p.Bb(9),p.Pc(p.ic(10,1,null==t?null:t.vaccaDtIngresso,"dd/MM/yyyy")||o.intestazioni.nd)}}function Ri(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Tb(2,"tr"),p.Tb(3,"th"),p.Oc(4,"Dati identificativi"),p.Sb(),p.Ob(5,"th"),p.Sb(),p.Tb(6,"tr"),p.Tb(7,"td"),p.Oc(8,"Marca auricolare"),p.Sb(),p.Tb(9,"td"),p.Oc(10),p.Sb(),p.Sb(),p.Tb(11,"tr"),p.Tb(12,"td"),p.Oc(13,"La data di applicazione marchio"),p.Sb(),p.Tb(14,"td"),p.Oc(15),p.gc(16,"date"),p.Sb(),p.Sb(),p.Tb(17,"tr"),p.Tb(18,"td"),p.Oc(19,"Razza"),p.Sb(),p.Tb(20,"td"),p.Oc(21),p.Sb(),p.Sb(),p.Tb(22,"tr"),p.Tb(23,"td"),p.Oc(24,"La data di inserimento Bdn"),p.Sb(),p.Tb(25,"td"),p.Oc(26),p.gc(27,"date"),p.Sb(),p.Sb(),p.Tb(28,"tr"),p.Tb(29,"td"),p.Oc(30,"La data di nascita del capo"),p.Sb(),p.Tb(31,"td"),p.Oc(32),p.gc(33,"date"),p.Sb(),p.Sb(),p.Tb(34,"tr"),p.Mc(35,Ui,11,4,"td",18),p.Sb(),p.Ob(36,"br"),p.Tb(37,"tr"),p.Tb(38,"th"),p.Oc(39,"Esito del controllo"),p.Sb(),p.Ob(40,"th"),p.Sb(),p.Tb(41,"tr"),p.Tb(42,"td"),p.Oc(43,"Esito"),p.Sb(),p.Tb(44,"td"),p.Oc(45),p.Sb(),p.Sb(),p.Sb(),p.Sb()),2&t){const t=p.fc(),i=t.columns,o=t.$implicit,e=p.fc(3);p.Bb(1),p.Cb("colspan",i.length+1),p.Bb(9),p.Pc(o.capoBdn.codice),p.Bb(5),p.Pc(p.ic(16,8,null==o.capoBdn||null==o.capoBdn.capoOvicaprinoBdn?null:o.capoBdn.capoOvicaprinoBdn.dtApplMarchio,"dd/MM/yyyy")||e.intestazioni.nd),p.Bb(6),p.Pc(o.capoBdn.razzaCodice),p.Bb(5),p.Pc(p.ic(27,11,null==o.capoBdn||null==o.capoBdn.capoOvicaprinoBdn?null:o.capoBdn.capoOvicaprinoBdn.dtInserimentoBdnNascita,"dd/MM/yyyy")||e.intestazioni.nd),p.Bb(6),p.Qc(" ",o.capoBdn.dtNascita?p.ic(33,14,o.capoBdn.dtNascita,"dd/MM/yyyy"):e.intestazioni.nd," "),p.Bb(3),p.mc("ngForOf",null==o.capoBdn||null==o.capoBdn.capoOvicaprinoBdn?null:o.capoBdn.capoOvicaprinoBdn.detenzioniBdn),p.Bb(10),p.Pc(o.esito)}}function wi(t,i){if(1&t&&(p.Mc(0,Mi,92,32,"ng-template",44),p.Mc(1,Li,76,21,"ng-template",44),p.Mc(2,Ei,44,13,"ng-template",44),p.Mc(3,Ri,46,17,"ng-template",44)),2&t){const t=i.$implicit,o=p.fc(3);p.mc("ngIf",o.isInterventoBovini(t.capoBdn.intervento)),p.Bb(1),p.mc("ngIf",o.isAllevamentoMontagna(t.capoBdn.intervento)),p.Bb(1),p.mc("ngIf",o.isInterventoMacellati(t.capoBdn.intervento)),p.Bb(1),p.mc("ngIf",o.isInterventoOvicaprini(t.capoBdn.intervento))}}function Fi(t,i){if(1&t){const t=p.Ub();p.Tb(0,"p-table",32,33),p.bc("onLazyLoad",(function(i){p.Ec(t);const o=p.fc().$implicit;return p.fc().changePage(i,o)})),p.Mc(2,zi,3,1,"ng-template",34),p.Mc(3,yi,14,7,"ng-template",35),p.Mc(4,wi,4,4,"ng-template",36),p.Sb()}if(2&t){const t=p.fc().$implicit,i=p.fc();p.mc("columns",i.cols)("value",t.richiesteAllevamentoDuEsito)("autoLayout",!0)("paginator",!0)("rows",i.elementiPagina)("totalRecords",t.count)("responsive",!0)("lazy",!0)}}function $i(t,i){if(1&t){const t=p.Ub();p.Tb(0,"p-accordion",21),p.bc("onOpen",(function(o){p.Ec(t);const e=i.$implicit;return p.fc().onTabOpen(o,e)})),p.Tb(1,"p-accordionTab",22),p.Tb(2,"div",23),p.Tb(3,"div",24),p.Tb(4,"div",25),p.Ob(5,"input",26,27),p.Tb(7,"div",28),p.Tb(8,"button",29),p.bc("debounceClick",(function(){p.Ec(t);const o=i.$implicit,e=p.Bc(6);return p.fc().cerca(e.value,o)})),p.Tb(9,"i",30),p.Oc(10,"search"),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Mc(11,Fi,5,8,"p-table",31),p.Sb(),p.Sb()}if(2&t){const t=i.$implicit,o=p.fc();p.Bb(1),p.qc("header","",t.datiAllevamento.descrizioneAllevamento," - ",t.datiAllevamento.codiceAllevamento," - ",t.codiceIntervento," - Numero Capi: ",t.count,""),p.Bb(4),p.nc("placeholder",o.intestazioni.marcaAuricolare),p.Bb(6),p.mc("ngIf",t.tableVisible)}}function xi(t,i){1&t&&(p.Tb(0,"div"),p.Oc(1," Nessun controllo eseguito "),p.Sb())}const _i=function(){return{marginTop:"70px"}};let ki=(()=>{class t{constructor(t,i,o){this.istruttoriaDettaglioService=t,this.route=i,this.messageService=o,this.allevamenti=[],this.cols=[],this.intestazioni=si.a,this.elementiPagina=10,this.interventiBovini=["310","312","313","314","322"],this.interventiMacellati=["315","316","318"],this.interventiOvicaprini=["320","321"],this.mesi=["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],this.showProduzione=!1,this.noAnalisi=!1}ngOnInit(){this.setCols(),this.setIdIstruttoria(),this.setAnnoCampagna(),this.getAllevamentiImpegnati()}setCols(){this.cols=[{field:"codiceCapo",header:this.intestazioni.marcaAuricolare},{field:null,header:this.intestazioni.codiceSpecie},{field:null,header:this.intestazioni.razza},{field:"esito",header:this.intestazioni.ESITO_CONTROLLO},{field:"messaggio",header:this.intestazioni.messaggioEsito}]}setIdIstruttoria(){this.route.paramMap.subscribe(t=>{this.idIstruttoria=t.get("idIstruttoria")})}setAnnoCampagna(){this.route.paramMap.subscribe(t=>{this.annoCampagna=t.get("annoCampagna")})}getAllevamentiImpegnati(){this.istruttoriaDettaglioService.getAllevamentiImpegnati(this.idIstruttoria).subscribe(t=>{t&&(t.forEach(t=>{this.cuaa=t.cuaaIntestatario,t.datiAllevamento=JSON.parse(t.datiAllevamento),t.datiDetentore=JSON.parse(t.datiDetentore),t.datiProprietario=JSON.parse(t.datiProprietario),this.allevamenti.push(t)}),this.allevamenti.sort((function(t,i){return t.codiceIntervento-i.codiceIntervento}))),console.log(this.allevamenti),this.getProduzioneLatteAndEtichettaturaCarne()},t=>{console.log(t),this.messageService.add(A.a.getToast("tst",A.b.error,A.a.erroreRecuperoDati))})}changePage(t,i,o=0,e){null!=t&&(this.sortDirection=1===t.sortOrder?li.b.ASC:li.b.DESC,this.sortBy=t.sortField||"id",o=t.first);let a=new bi;a.idAllevamento=i.id,null!=e&&(a.codiceCapo=e);let n=li.a.of(Math.round(o/this.elementiPagina),this.elementiPagina,this.sortBy,this.sortDirection||li.b.ASC);this.istruttoriaDettaglioService.ricercaEsiticapi(a,n).subscribe(t=>{t&&(i.count=t.count,i.richiesteAllevamentoDuEsito=t.risultati,i.richiesteAllevamentoDuEsito.forEach(t=>{t.esito=t.esito.split("_").join(" ")})),console.log(this.allevamenti)},t=>{console.log(t),this.messageService.add(A.a.getToast("tst",A.b.error,A.a.erroreRecuperoDati))})}isInterventoBovini(t){return this.interventiBovini.includes(t)}isAllevamentoMontagna(t){return 0=="311".localeCompare(t)}isInterventoMacellati(t){return this.interventiMacellati.includes(t)}isInterventoOvicaprini(t){return this.interventiOvicaprini.includes(t)}getProduzioneLatteAndEtichettaturaCarne(){this.isProduzioneLatte()&&(this.getProduzioneLatte(),this.getRegistrazioneAlpeggio()),this.isEtichettatura()&&this.getEtichettatura()}getRegistrazioneAlpeggio(){this.istruttoriaDettaglioService.getAlpeggioZootecnia(this.annoCampagna,this.cuaa).subscribe(t=>{this.alpeggi=t},t=>{console.log(t)})}isProduzioneLatte(){return this.allevamenti.some(t=>310==t.codiceIntervento||311==t.codiceIntervento||322==t.codiceIntervento)}isEtichettatura(){return this.allevamenti.some(t=>318==t.codiceIntervento)}getProduzioneLatte(){this.istruttoriaDettaglioService.getProduzioneLatteZootecnia(this.annoCampagna,this.cuaa).subscribe(t=>{this.produzioneLatte=t[0],this.showProduzione=!0,this.checkAnalisi()},t=>{this.showProduzione=!1,console.log(t)})}getEtichettatura(){this.istruttoriaDettaglioService.getEtichettaturaZootecnia(this.annoCampagna,this.cuaa).subscribe(t=>{this.etichettature=t},t=>{console.log(t)})}checkAnalisi(){this.noAnalisi=null==this.produzioneLatte.tenoreBatteri||null==this.produzioneLatte.tenoreCellule||null==this.produzioneLatte.contenutoProteine}onTabOpen(t,i){i.tableVisible=!0}cerca(t,i){console.log(t),this.changePage(null,i,0,t)}}return t.\u0275fac=function(i){return new(i||t)(p.Nb(y.a),p.Nb(n.a),p.Nb(M.d))},t.\u0275cmp=p.Hb({type:t,selectors:[["app-capi-ammessi"]],viewQuery:function(t,i){var o;1&t&&p.Uc(ui,!0),2&t&&p.Ac(o=p.cc())&&(i.table=o.first)},decls:10,vars:8,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],[4,"ngIf"],[3,"onOpen",4,"ngFor","ngForOf"],["header","PRODUZIONE LATTE"],[1,"h5Title"],[1,"table","table-bordered","tableBorder"],["scope","row"],["class","tdAnalisiLatte",4,"ngFor","ngForOf"],[1,"tdAnalisiLatte"],[1,"table","tableBorder","table-striped"],["style","text-align: center",4,"ngIf"],[2,"text-align","center"],["scope","row",1,"valoriMediTitle"],[1,"valoriMedi"],[4,"ngFor","ngForOf"],[1,"valoriMedi","tdDataAlpeggio"],["header","ETICHETTATURA"],[3,"onOpen"],[3,"header"],[1,"ui-g"],[1,"ui-g-4","titlefamiliari"],[1,"input-group","mb-3"],["type","text","aria-describedby","basic-addon2",1,"form-control",3,"placeholder"],["inputCodiceFiscale",""],[1,"input-group-append"],["appDebounceClick","","pButton","","type","button",1,"btn","btn-outline-secondary",3,"debounceClick"],[1,"material-icons",2,"margin-top","7px"],["dataKey","codiceCapo",3,"columns","value","autoLayout","paginator","rows","totalRecords","responsive","lazy","onLazyLoad",4,"ngIf"],["dataKey","codiceCapo",3,"columns","value","autoLayout","paginator","rows","totalRecords","responsive","lazy","onLazyLoad"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[2,"width","3em"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field",4,"ngIf"],[3,"field"],["href","#",3,"pRowToggler"],[3,"ngClass"],[3,"ngIf"]],template:function(t,i){1&t&&(p.Tb(0,"div",0),p.Tb(1,"div",1),p.Tb(2,"div",2),p.Ob(3,"p-toast",3),p.Tb(4,"div",4),p.Mc(5,fi,74,29,"p-accordion",5),p.Mc(6,Di,5,2,"p-accordion",5),p.Mc(7,Ii,1,0,"hr",5),p.Mc(8,$i,12,6,"p-accordion",6),p.Mc(9,xi,2,0,"div",5),p.Sb(),p.Sb(),p.Sb(),p.Sb()),2&t&&(p.Bb(3),p.Kc(p.rc(7,_i)),p.Bb(2),p.mc("ngIf",i.isProduzioneLatte()&&i.showProduzione),p.Bb(1),p.mc("ngIf",i.isEtichettatura()),p.Bb(1),p.mc("ngIf",i.isProduzioneLatte()||i.isEtichettatura()),p.Bb(1),p.mc("ngForOf",i.allevamenti),p.Bb(1),p.mc("ngIf",0==i.allevamenti.length))},directives:[N.a,e.t,e.s,K.a,K.c,di.a,S.b,H.q,M.e,H.p,H.o,H.k,e.q],pipes:[e.g,e.f],styles:[""]}),t})();const Qi=["table"];function Zi(t,i){if(1&t&&p.Ob(0,"p-sortIcon",26),2&t){const t=p.fc().$implicit;p.mc("field",t.header)}}function qi(t,i){if(1&t&&(p.Tb(0,"th",24),p.Oc(1),p.Mc(2,Zi,1,1,"p-sortIcon",25),p.Sb()),2&t){const t=i.$implicit;p.mc("pSortableColumn",t.field)("pSortableColumnDisabled",null==t.field),p.Bb(1),p.Qc(" ",t.header," "),p.Bb(1),p.mc("ngIf",null!=t.field)}}function Ki(t,i){if(1&t&&(p.Tb(0,"tr"),p.Mc(1,qi,3,4,"th",23),p.Sb()),2&t){const t=i.$implicit;p.Bb(1),p.mc("ngForOf",t)}}function Hi(t,i){if(1&t){const t=p.Ub();p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2),p.Sb(),p.Tb(3,"td"),p.Oc(4),p.Sb(),p.Tb(5,"td"),p.Oc(6),p.Sb(),p.Tb(7,"td"),p.Oc(8),p.Sb(),p.Tb(9,"td"),p.Oc(10),p.Sb(),p.Tb(11,"td",27),p.Tb(12,"p-checkbox",28),p.bc("ngModelChange",(function(o){return p.Ec(t),i.$implicit.duplicato=o}))("onChange",(function(){p.Ec(t);const o=i.$implicit;return p.fc(3).aggiornaCapo(o)})),p.Sb(),p.Sb(),p.Tb(13,"td",27),p.Tb(14,"p-checkbox",28),p.bc("ngModelChange",(function(o){return p.Ec(t),i.$implicit.controlloNonSuperato=o}))("onChange",(function(){p.Ec(t);const o=i.$implicit;return p.fc(3).aggiornaCapo(o)})),p.Sb(),p.Sb(),p.Sb()}if(2&t){const t=i.$implicit,o=p.fc(2).$implicit,e=p.fc();p.Bb(2),p.Pc(t.codiceCapo),p.Bb(2),p.Pc(o.codiceSpecie),p.Bb(2),p.Pc(t.capoBdn.razzaCodice),p.Bb(2),p.Pc(t.esito),p.Bb(2),p.Pc(t.messaggio),p.Bb(2),p.mc("ngModel",t.duplicato)("disabled","PAGAMENTO_AUTORIZZATO"===e.istruttoriaDU.stato),p.Bb(2),p.mc("ngModel",t.controlloNonSuperato)("disabled","PAGAMENTO_AUTORIZZATO"===e.istruttoriaDU.stato)}}function Vi(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2," Calcolo accoppiato zootecnia non ancora effettuato per la domanda. "),p.Sb(),p.Sb()),2&t){const t=i.$implicit;p.Bb(1),p.Cb("colspan",t.length)}}function Gi(t,i){if(1&t){const t=p.Ub();p.Tb(0,"p-table",18,19),p.bc("onLazyLoad",(function(i){p.Ec(t);const o=p.fc().$implicit;return p.fc().changePage(i,o)})),p.Mc(2,Ki,2,1,"ng-template",20),p.Mc(3,Hi,15,9,"ng-template",21),p.Mc(4,Vi,3,1,"ng-template",22),p.Sb()}if(2&t){const t=p.fc().$implicit,i=p.fc();p.mc("columns",i.cols)("value",t.richiesteAllevamentoDuEsito)("autoLayout",!0)("paginator",!0)("rows",i.elementiPagina)("totalRecords",t.count)("responsive",!0)("lazy",!0)}}function Ji(t,i){if(1&t){const t=p.Ub();p.Tb(0,"p-accordion",7),p.bc("onOpen",(function(o){p.Ec(t);const e=i.$implicit;return p.fc().onTabOpen(o,e)})),p.Tb(1,"p-accordionTab",8),p.Tb(2,"div",9),p.Tb(3,"div",10),p.Tb(4,"div",11),p.Ob(5,"input",12,13),p.Tb(7,"div",14),p.Tb(8,"button",15),p.bc("debounceClick",(function(){p.Ec(t);const o=i.$implicit,e=p.Bc(6);return p.fc().cerca(e.value,o)})),p.Tb(9,"i",16),p.Oc(10,"search"),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Mc(11,Gi,5,8,"p-table",17),p.Sb(),p.Sb()}if(2&t){const t=i.$implicit,o=p.fc();p.Bb(1),p.qc("header","",t.datiAllevamento.descrizioneAllevamento," - ",t.datiAllevamento.codiceAllevamento," - ",t.codiceIntervento," - Numero Capi: ",t.count,""),p.mc("selected",!1),p.Bb(4),p.nc("placeholder",o.intestazioni.marcaAuricolare),p.Bb(6),p.mc("ngIf",t.tableVisible)}}function ji(t,i){1&t&&(p.Tb(0,"div"),p.Oc(1," Nessun controllo eseguito "),p.Sb())}const Wi=function(){return{marginTop:"70px"}};let Xi=(()=>{class t{constructor(t,i,o,e){this.istruttoriaService=t,this.route=i,this.messageService=o,this.istruttoriaDettaglioService=e,this.allevamenti=[],this.cols=[],this.elementiPagina=10,this.intestazioni=si.a}ngOnInit(){this.istruttoriaDU=this.route.snapshot.data.domandaIstruttoria,this.setCols(),this.setIdIstruttoria(),this.getAllevamentiRichiesti()}setCols(){this.cols=[{field:"codiceCapo",header:this.intestazioni.marcaAuricolare},{field:null,header:this.intestazioni.codiceSpecie},{field:null,header:this.intestazioni.razza},{field:"esito",header:this.intestazioni.ESITO_CONTROLLO},{field:"messaggio",header:this.intestazioni.messaggioEsito},{field:"duplicato",header:this.intestazioni.duplicato},{field:"controlloNonSuperato",header:this.intestazioni.controlloNonSuperato}]}setIdIstruttoria(){this.route.paramMap.subscribe(t=>{this.idIstruttoria=t.get("idIstruttoria")})}getAllevamentiRichiesti(){this.istruttoriaDettaglioService.getAllevamentiRichiesti(this.idIstruttoria).subscribe(t=>{t&&(t.forEach(t=>{t.datiAllevamento=JSON.parse(t.datiAllevamento),t.datiDetentore=JSON.parse(t.datiDetentore),t.datiProprietario=JSON.parse(t.datiProprietario),t.count>0&&this.allevamenti.push(t)}),this.allevamenti.sort((function(t,i){return t.codiceIntervento-i.codiceIntervento}))),console.log(this.allevamenti)},t=>{console.log(t),this.messageService.add(A.a.getToast("tst",A.b.error,A.a.erroreRecuperoDati))})}changePage(t,i,o=0,e){null!=t&&(this.sortDirection=1===t.sortOrder?li.b.ASC:li.b.DESC,this.sortBy=t.sortField||"id",o=t.first);let a=new bi;a.idAllevamento=i.id,a.richiesto=!0,null!=e&&(a.codiceCapo=e);let n=li.a.of(Math.round(o/this.elementiPagina),this.elementiPagina,this.sortBy,this.sortDirection||li.b.ASC);this.istruttoriaDettaglioService.ricercaEsiticapi(a,n).subscribe(t=>{t&&(i.count=t.count,i.richiesteAllevamentoDuEsito=t.risultati,i.richiesteAllevamentoDuEsito.forEach(t=>{t.esito=t.esito.split("_").join(" ")})),console.log(this.allevamenti)},t=>{this.messageService.add(A.a.getToast("tst",A.b.error,A.a.erroreRecuperoDati))})}onTabOpen(t,i){i.tableVisible=!0}aggiornaCapo(t){this.istruttoriaService.aggiornaCapo(this.idIstruttoria,t).subscribe(i=>{t=i},t=>{this.messageService.add(A.a.getToast("tst",A.b.error,A.a.salvataggioDatiKo))})}cerca(t,i){this.changePage(null,i,0,t)}}return t.\u0275fac=function(i){return new(i||t)(p.Nb(nt.a),p.Nb(n.a),p.Nb(M.d),p.Nb(y.a))},t.\u0275cmp=p.Hb({type:t,selectors:[["app-capi-richiesti"]],viewQuery:function(t,i){var o;1&t&&p.Uc(Qi,!0),2&t&&p.Ac(o=p.cc())&&(i.table=o.first)},decls:7,vars:5,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],[3,"onOpen",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"onOpen"],[3,"header","selected"],[1,"ui-g"],[1,"ui-g-4","titlefamiliari"],[1,"input-group","mb-3"],["type","text","aria-describedby","basic-addon2",1,"form-control",3,"placeholder"],["inputCodiceFiscale",""],[1,"input-group-append"],["appDebounceClick","","pButton","","type","button",1,"btn","btn-outline-secondary",3,"debounceClick"],[1,"material-icons",2,"margin-top","7px"],["dataKey","codiceCapo",3,"columns","value","autoLayout","paginator","rows","totalRecords","responsive","lazy","onLazyLoad",4,"ngIf"],["dataKey","codiceCapo",3,"columns","value","autoLayout","paginator","rows","totalRecords","responsive","lazy","onLazyLoad"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field",4,"ngIf"],[3,"field"],[2,"text-align","center"],["binary","true",3,"ngModel","disabled","ngModelChange","onChange"]],template:function(t,i){1&t&&(p.Tb(0,"div",0),p.Tb(1,"div",1),p.Tb(2,"div",2),p.Ob(3,"p-toast",3),p.Tb(4,"div",4),p.Mc(5,Ji,12,7,"p-accordion",5),p.Mc(6,ji,2,0,"div",6),p.Sb(),p.Sb(),p.Sb(),p.Sb()),2&t&&(p.Bb(3),p.Kc(p.rc(4,Wi)),p.Bb(2),p.mc("ngForOf",i.allevamenti),p.Bb(1),p.mc("ngIf",0==i.allevamenti.length))},directives:[N.a,e.s,e.t,K.a,K.c,di.a,S.b,H.q,M.e,H.p,H.o,E.a,L.s,L.v],styles:[""]}),t})();var Yi=o("XR+H");const to=[{path:"",component:c.a,resolve:{domandaIstruttoria:a.a},children:[{path:"",component:D,children:[{path:"",redirectTo:s.a.controlliSostegno,pathMatch:"full"},{path:s.a.dichiarazioni,component:Y},{path:s.a.datiIstruttoria,component:q},{path:s.a.esiticalcoli,component:Ft},{path:s.a.controlliSostegno,component:ri},{path:s.a.capiAmmessi,component:ki},{path:s.a.capiRichiesti,component:Xi},{path:s.a.datiLiquidazione,component:Yi.a}],data:{mybreadcrumb:""}}]}];let io=(()=>{class t{}return t.\u0275mod=p.Lb({type:t}),t.\u0275inj=p.Kb({factory:function(i){return new(i||t)},imports:[[n.i.forChild(to)]]}),t})();var oo=o("cJRl"),eo=o("tZin");let ao=(()=>{class t{}return t.\u0275mod=p.Lb({type:t}),t.\u0275inj=p.Kb({factory:function(i){return new(i||t)},providers:[a.a],imports:[[e.c,io,oo.a,eo.SostegnoSharedModule]]}),t})()}}]);