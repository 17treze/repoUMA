function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,i){for(var e=0;e<i.length;e++){var a=i[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,i,e){return i&&_defineProperties(t.prototype,i),e&&_defineProperties(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{YOdh:function(t,i,e){"use strict";e.r(i),e.d(i,"SostegnoDettaglioSuperficiModule",(function(){return ae}));var a=e("ofXK"),o=e("R69K"),n=e("tZin"),r=e("bcH1"),c=e("cJRl"),s=e("tyNb"),l=e("3iu/"),d=e("TW8+"),u=e("5gIc"),b=e("RIRQ"),p=e("iU1L"),g=e("8k9x"),m=e("FucP"),f=e("fXoL"),S=e("b7oP"),h=e("A1Yd"),v=e("sfyY"),T=e("sYmb");function C(t,i){if(1&t){var e=f.Ub();f.Tb(0,"button",13),f.bc("click",(function(){return f.Ec(e),f.fc().avviaProcessoControlloLiquidabilita()})),f.Oc(1),f.gc(2,"translate"),f.Sb()}2&t&&(f.Bb(1),f.Qc(" ",f.hc(2,1,"DOMANDA_UNICA_RISULTATI.avviaControlliLiquidabilita")," "))}function D(t,i){if(1&t){var e=f.Ub();f.Tb(0,"button",13),f.bc("click",(function(){return f.Ec(e),f.fc().avviaProcessoCalcoloPremio()})),f.Oc(1),f.gc(2,"translate"),f.Sb()}2&t&&(f.Bb(1),f.Qc(" ",f.hc(2,1,"AVVIA_CALCOLO_PREMIO")," "))}function I(t,i){if(1&t){var e=f.Ub();f.Tb(0,"button",14),f.bc("click",(function(){return f.Ec(e),f.fc().avviaProcessoNonAmmissibilita()})),f.Oc(1),f.gc(2,"translate"),f.Sb()}2&t&&(f.Bb(1),f.Qc(" ",f.hc(2,1,"DOMANDA_UNICA_RISULTATI.nonAmmissibile")," "))}function O(t,i){if(1&t&&f.Ob(0,"app-processi-di-controllo",15),2&t){var e=f.fc();f.mc("processiDaControllare",e.processiDaControllare)}}var A,B=((A=function(){function t(i,e,a){_classCallCheck(this,t),this.sostegnoService=i,this.loader=e,this.route=a}return _createClass(t,[{key:"ngOnInit",value:function(){this.setMenu(),this.loader.setTimeout(48e4),this.processiDaControllare=this.sostegnoService.caricaProcessiDaControllare(this.istruttoriaDUCorrente)}},{key:"ngOnDestroy",value:function(){this.loader.resetTimeout()}},{key:"setMenu",value:function(){this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.menu2=new Array({routerLink:d.a.superficiImpegnate,label:"Superfici Impegnate"},{routerLink:d.a.dichiarazioni,label:"Dichiarazioni"},{routerLink:d.a.controlliSostegno,label:"Controlli di sostegno"},{routerLink:d.a.esiticalcoli,label:"Esiti Calcoli"},{routerLink:d.a.esitiParticelle,label:"Esiti per Particella"},{routerLink:d.a.datiIstruttoria,label:"Inserimento dati Istruttoria"}),this.istruttoriaDUCorrente.stato==b.a.PAGAMENTO_AUTORIZZATO&&this.menu2.push({routerLink:d.a.datiLiquidazione,label:"Dati di Liquidazione"}),this.istruttoriaSostegno=p.a[this.istruttoriaDUCorrente.sostegno]}},{key:"isEnableCalcoloPremio",value:function(){return this.istruttoriaDUCorrente.sostegno===p.a.SUPERFICIE&&(this.istruttoriaDUCorrente.stato===b.a.CONTROLLI_CALCOLO_KO||this.istruttoriaDUCorrente.stato===b.a.CONTROLLI_CALCOLO_OK)}},{key:"isEnableProcessoAmmissibilita",value:function(){return this.istruttoriaDUCorrente.sostegno===p.a.SUPERFICIE&&this.istruttoriaDUCorrente.stato===b.a.CONTROLLI_CALCOLO_KO}},{key:"isEnableControlliLiquidabilita",value:function(){return this.istruttoriaDUCorrente.sostegno===p.a.SUPERFICIE&&this.istruttoriaDUCorrente.stato===b.a.CONTROLLI_CALCOLO_OK}},{key:"avviaProcessoControlloLiquidabilita",value:function(){this.sostegnoService.eseguiProcessoIstruttoria(this.istruttoriaDUCorrente.id,g.a.CONTROLLO_LIQUIDABILITA_ISTRUTTORIA,this.processiDaControllare,this.istruttoriaDUCorrente.domanda.campagna,this.istruttoriaSostegno)}},{key:"avviaProcessoCalcoloPremio",value:function(){this.sostegnoService.eseguiProcessoIstruttoria(this.istruttoriaDUCorrente.id,g.a.CALCOLO_ACCOPPIATO_SUPERFICIE_ISTRUTTORIA,this.processiDaControllare,this.istruttoriaDUCorrente.domanda.campagna,this.istruttoriaSostegno)}},{key:"avviaProcessoNonAmmissibilita",value:function(){this.processiDaControllare=[g.a.NON_AMMISSIBILITA],this.sostegnoService.eseguiProcessoIstruttoria(this.istruttoriaDUCorrente.id,g.a.NON_AMMISSIBILITA,this.processiDaControllare,this.istruttoriaDUCorrente.domanda.campagna,this.istruttoriaSostegno)}}]),t}()).\u0275fac=function(t){return new(t||A)(f.Nb(m.a),f.Nb(u.a),f.Nb(s.a))},A.\u0275cmp=f.Hb({type:A,selectors:[["app-superficie"]],decls:16,vars:5,consts:[[1,"ui-g","ui-fluid"],[1,"ui-g-12",2,"padding-bottom","0px !important"],[1,"ui-grid-fixed"],[1,"funzioni-grid","tabsmall",2,"margin-bottom","0px !important","margin-top","40px !important"],[3,"model"],[2,"width","100%"],[1,"ui-g-9"],[1,"layout-actionmenu"],[1,"ui-g"],[1,"ui-g-12","searchbutton"],["pButton","","type","button","class","ui-button-success results_text_button",3,"click",4,"ngIf"],["pButton","","pButton","","type","button","class","ui-button-success results_text_button",3,"click",4,"ngIf"],[3,"processiDaControllare",4,"ngIf"],["pButton","","type","button",1,"ui-button-success","results_text_button",3,"click"],["pButton","","pButton","","type","button",1,"ui-button-success","results_text_button",3,"click"],[3,"processiDaControllare"]],template:function(t,i){1&t&&(f.Tb(0,"div",0),f.Tb(1,"div",1),f.Tb(2,"div",2),f.Tb(3,"div",3),f.Ob(4,"p-tabMenu",4),f.Sb(),f.Sb(),f.Sb(),f.Tb(5,"div",5),f.Ob(6,"router-outlet"),f.Sb(),f.Sb(),f.Tb(7,"div",6),f.Tb(8,"div",7),f.Tb(9,"div",8),f.Tb(10,"div",9),f.Mc(11,C,3,3,"button",10),f.Mc(12,D,3,3,"button",10),f.Mc(13,I,3,3,"button",11),f.Sb(),f.Sb(),f.Sb(),f.Sb(),f.Tb(14,"div",1),f.Mc(15,O,1,1,"app-processi-di-controllo",12),f.Sb()),2&t&&(f.Bb(4),f.mc("model",i.menu2),f.Bb(7),f.mc("ngIf",i.isEnableControlliLiquidabilita()),f.Bb(1),f.mc("ngIf",i.isEnableCalcoloPremio()),f.Bb(1),f.mc("ngIf",i.isEnableProcessoAmmissibilita()),f.Bb(2),f.mc("ngIf",i.processiDaControllare))},directives:[S.a,s.j,a.t,h.b,v.a],pipes:[T.d],styles:[""]}),A),y=e("sdz4"),M=e("XNiG"),P=e("MvQ6"),k=e("Tn7N"),N=e("Vufj"),R=e("5Z9/"),L=e("Es4X"),U=e("RtSl"),w=e("8ioI"),_=e("arS9"),z=e("R5y+"),F=e("3Pt+"),$=e("GLSp");function E(t,i){if(1&t){var e=f.Ub();f.Tb(0,"div",5),f.Tb(1,"h3"),f.Tb(2,"span"),f.Oc(3," Dichiarazione riduzione annullamento sanzione "),f.Sb(),f.Sb(),f.Tb(4,"div",6),f.Tb(5,"p-checkbox",15),f.bc("ngModelChange",(function(t){return f.Ec(e),f.fc(2).datiIstruttoriaDaInserire.annulloRiduzione=t})),f.Sb(),f.Sb(),f.Sb()}if(2&t){var a=f.fc(2);f.Bb(5),f.mc("ngModel",a.datiIstruttoriaDaInserire.annulloRiduzione)}}function x(t,i){if(1&t&&(f.Tb(0,"p",27),f.Oc(1),f.Sb()),2&t){f.fc(2);var e=f.Bc(7);f.Bb(1),f.Qc(" ",e.errors.erroreNumero," ")}}function Q(t,i){if(1&t&&(f.Tb(0,"div"),f.Mc(1,x,2,1,"p",26),f.Sb()),2&t){f.fc();var e=f.Bc(7);f.Bb(1),f.mc("ngIf",null==e.errors?null:e.errors.erroreNumero)}}function H(t,i){if(1&t){var e=f.Ub();f.Tb(0,"div"),f.Tb(1,"div",18),f.Tb(2,"label",19),f.Oc(3),f.Sb(),f.Sb(),f.Tb(4,"div",20),f.Tb(5,"div",21),f.Tb(6,"input",22,23),f.bc("ngModelChange",(function(t){f.Ec(e);var a=i.$implicit;return f.fc(3).datiIstruttoriaDaInserire[a.id]=t})),f.Sb(),f.Tb(8,"span",24),f.Oc(9),f.Sb(),f.Sb(),f.Mc(10,Q,2,1,"div",0),f.Sb(),f.Ob(11,"div",25),f.Sb()}if(2&t){var a=i.$implicit,o=f.Bc(7),n=f.fc(3);f.Bb(3),f.Qc(" ",a.label," "),f.Bb(3),f.nc("name",a.id),f.mc("ngModel",n.datiIstruttoriaDaInserire[a.id]),f.Bb(3),f.Qc(" ",a.target," "),f.Bb(1),f.mc("ngIf",o&&o.errors)}}function q(t,i){if(1&t&&(f.Tb(0,"div"),f.Tb(1,"div",16),f.Tb(2,"div",2),f.Tb(3,"h3"),f.Tb(4,"span"),f.Oc(5," Dati Superfici Determinate "),f.Sb(),f.Sb(),f.Mc(6,H,12,5,"div",17),f.Ob(7,"br"),f.Sb(),f.Sb(),f.Sb()),2&t){var e=f.fc(2);f.Bb(6),f.mc("ngForOf",e.dati.items)}}function K(t,i){if(1&t){var e=f.Ub();f.Tb(0,"div",5),f.Tb(1,"h3"),f.Tb(2,"span"),f.Oc(3," Dichiarazione riduzione annullamento sanzione "),f.Sb(),f.Sb(),f.Tb(4,"div",6),f.Tb(5,"p-checkbox",28),f.bc("ngModelChange",(function(t){return f.Ec(e),f.fc(2).datiIstruttoriaDaInserire.annulloRiduzione=t})),f.Sb(),f.Sb(),f.Sb()}if(2&t){var a=f.fc(2);f.Bb(5),f.mc("ngModel",a.datiIstruttoriaDaInserire.annulloRiduzione)}}function Z(t,i){if(1&t&&(f.Tb(0,"p",27),f.Oc(1),f.Sb()),2&t){f.fc(2);var e=f.Bc(7);f.Bb(1),f.Qc(" ",e.errors.erroreNumero," ")}}function j(t,i){if(1&t&&(f.Tb(0,"div"),f.Mc(1,Z,2,1,"p",26),f.Sb()),2&t){f.fc();var e=f.Bc(7);f.Bb(1),f.mc("ngIf",null==e.errors?null:e.errors.erroreNumero)}}function G(t,i){if(1&t){var e=f.Ub();f.Tb(0,"div"),f.Tb(1,"div",18),f.Tb(2,"label",19),f.Oc(3),f.Sb(),f.Sb(),f.Tb(4,"div",20),f.Tb(5,"div",21),f.Tb(6,"input",29,23),f.bc("ngModelChange",(function(t){f.Ec(e);var a=i.$implicit;return f.fc(3).datiIstruttoriaDaInserire[a.id]=t})),f.Sb(),f.Tb(8,"span",24),f.Oc(9),f.Sb(),f.Sb(),f.Mc(10,j,2,1,"div",0),f.Sb(),f.Ob(11,"div",25),f.Sb()}if(2&t){var a=i.$implicit,o=f.Bc(7),n=f.fc(3);f.Bb(3),f.Qc(" ",a.label," "),f.Bb(3),f.nc("name",a.id),f.mc("ngModel",n.datiIstruttoriaDaInserire[a.id]),f.Bb(3),f.Qc(" ",a.target," "),f.Bb(1),f.mc("ngIf",o&&o.errors)}}function V(t,i){if(1&t&&(f.Tb(0,"div"),f.Tb(1,"div",16),f.Tb(2,"div",2),f.Tb(3,"h3"),f.Tb(4,"span"),f.Oc(5," Dati Superfici Determinate "),f.Sb(),f.Sb(),f.Mc(6,G,12,5,"div",17),f.Ob(7,"br"),f.Sb(),f.Sb(),f.Sb()),2&t){var e=f.fc(2);f.Bb(6),f.mc("ngForOf",e.dati.items)}}var W=function(){return{marginTop:"70px"}};function J(t,i){if(1&t){var e=f.Ub();f.Tb(0,"div"),f.Tb(1,"div",1),f.Tb(2,"div",2),f.Tb(3,"div",3),f.Ob(4,"p-toast",4),f.Tb(5,"div",5),f.Tb(6,"h3"),f.Tb(7,"span"),f.Oc(8," Dati Controlli in Loco e Certificazione Antimafia "),f.Sb(),f.Sb(),f.Tb(9,"div",6),f.Tb(10,"p-checkbox",7),f.bc("ngModelChange",(function(t){return f.Ec(e),f.fc().datiIstruttoriaDaInserire.controlloSigecoLoco=t})),f.Sb(),f.Ob(11,"br"),f.Tb(12,"p-checkbox",8),f.bc("ngModelChange",(function(t){return f.Ec(e),f.fc().datiIstruttoriaDaInserire.controlloAntimafia=t})),f.Sb(),f.Sb(),f.Sb(),f.Mc(13,E,6,1,"div",9),f.Mc(14,q,8,1,"div",0),f.Tb(15,"div"),f.Tb(16,"div",10),f.Ob(17,"br"),f.Tb(18,"button",11),f.bc("click",(function(){return f.Ec(e),f.fc().onSubmit()})),f.Oc(19,"SALVA"),f.Sb(),f.Sb(),f.Sb(),f.Sb(),f.Sb(),f.Sb(),f.Tb(20,"div",12),f.Tb(21,"div",2),f.Tb(22,"div",3),f.Ob(23,"p-toast",4),f.Tb(24,"div",5),f.Tb(25,"h3"),f.Tb(26,"span"),f.Oc(27," Dati Controlli in Loco e Certificazione Antimafia "),f.Sb(),f.Sb(),f.Tb(28,"div",6),f.Tb(29,"p-checkbox",13),f.bc("ngModelChange",(function(t){return f.Ec(e),f.fc().datiIstruttoriaDaInserire.controlloSigecoLoco=t})),f.Sb(),f.Ob(30,"br"),f.Tb(31,"p-checkbox",14),f.bc("ngModelChange",(function(t){return f.Ec(e),f.fc().datiIstruttoriaDaInserire.controlloAntimafia=t})),f.Sb(),f.Sb(),f.Sb(),f.Mc(32,K,6,1,"div",9),f.Mc(33,V,8,1,"div",0),f.Ob(34,"div"),f.Sb(),f.Sb(),f.Sb(),f.Sb()}if(2&t){var a=f.fc();f.Bb(1),f.mc("a4gHasPermission","MODIFICABILE")("annoCampagna",a.istruttoriaDUCorrente.domanda.campagna)("tipoIstruttoria",a.istruttoriaDUCorrente.tipo)("statoSostegno",a.istruttoriaDUCorrente.stato),f.Bb(3),f.Kc(f.rc(20,W)),f.Bb(6),f.mc("ngModel",a.datiIstruttoriaDaInserire.controlloSigecoLoco),f.Bb(2),f.mc("ngModel",a.datiIstruttoriaDaInserire.controlloAntimafia),f.Bb(1),f.mc("ngIf",a.showCheckboxAnnulloRitardoPresentazione),f.Bb(1),f.mc("ngIf","datiIstruttoriaACS"==a.tipoDettaglio),f.Bb(6),f.mc("a4gHasPermission","NON_MODIFICABILE")("statoSostegno",a.istruttoriaDUCorrente.stato)("tipoIstruttoria",a.istruttoriaDUCorrente.tipo)("annoCampagna",a.istruttoriaDUCorrente.domanda.campagna),f.Bb(3),f.Kc(f.rc(21,W)),f.Bb(6),f.mc("ngModel",a.datiIstruttoriaDaInserire.controlloSigecoLoco),f.Bb(2),f.mc("ngModel",a.datiIstruttoriaDaInserire.controlloAntimafia),f.Bb(1),f.mc("ngIf",a.showCheckboxAnnulloRitardoPresentazione),f.Bb(1),f.mc("ngIf","datiIstruttoriaACS"==a.tipoDettaglio)}}var X,Y=((X=function(){function t(i,e,a,o,n,r,c){_classCallCheck(this,t),this.route=i,this.istruttoriaService=e,this.istruttoriaDettaglioService=a,this.messageService=o,this.router=n,this.istruttoriaCorrente=r,this.confService=c,this.dati=null,this.statoSostegno$=new M.a,this.showCheckboxAnnulloRitardoPresentazione=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.setSostegno(),this.getDatiIstruttoria(),this.controllaRitardo()}},{key:"setSostegno",value:function(){this.selectedSostegno=p.a.SUPERFICIE,this.tipoSostegno=d.a.acs,this.tipoDettaglio="datiIstruttoriaACS",this.service="putDettaglioDatiIstruttoriaACS",this.setDatiDaInserire()}},{key:"setDatiDaInserire",value:function(){this.dati={items:[{label:"ACS - Superficie determinata dall\u2019istruttore Soia",id:"superficieDeterminataSoiaM8",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Frumento",id:"superficieDeterminataFrumentoM9",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Proteaginose",id:"superficieDeterminataProteaginoseM10",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Leguminose",id:"superficieDeterminataLeguminoseM11",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Pomodoro",id:"superficieDeterminataPomodoroM14",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Olivo Standard",id:"superficieDeterminataOlivoStandardM15",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Olivo  7,5%",id:"superficieDeterminataOlivoPendenzaM16",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Olivo Qualit\xe0",id:"superficieDeterminataOlivoQualitaM17",target:"Ha"}]}}},{key:"getDatiIstruttoria",value:function(){var t=this;this.istruttoriaDettaglioService.getDatiIstruttoriaDuAcs(this.istruttoriaDUCorrente.id.toString()).subscribe((function(i){t.datiIstruttoriaDaInserire=i||new L.a,t.statoSostegno$.next(t.istruttoriaDUCorrente.stato)}),(function(i){console.error(i),t.messageService.add(k.a.getToast("tst",k.b.error,k.a.erroreRecuperoDati))}))}},{key:"onSubmit",value:function(){var t=this;this.istruttoriaDettaglioService.saveOrUpdateDatiIstruttoriaDuAcs(this.istruttoriaDUCorrente.id.toString(),this.datiIstruttoriaDaInserire).subscribe((function(i){t.datiIstruttoriaDaInserire=i,console.log("Salvataggio dati Istruttoria avvenuto con successo"),t.messageService.add(k.a.getToast("tst",k.b.success,k.a.OPERAZIONE_OK))}),(function(i){console.error("Errore in salvataggio dati Istruttoria: "+i),console.error(i),k.a.handleError(t.messageService,i,k.a.ERRORE_SALVATAGGIO_DATI_ISTRUTTORIA)}))}},{key:"getIstruttoriaCorrente",value:function(){return this.istruttoriaCorrente.istruttoria}},{key:"controllaRitardo",value:function(){var t=this;this.confService.getConfigurazioneIstruttorie(this.istruttoriaDUCorrente.domanda.campagna).subscribe((function(i){String(t.istruttoriaDUCorrente.domanda.codModuloDomanda).includes("BPS_ART_15")&&t.istruttoriaDUCorrente.domanda.dtPresentazione>i.dtScadenzaDomandeIniziali&&(t.showCheckboxAnnulloRitardoPresentazione=!0)}))}}]),t}()).\u0275fac=function(t){return new(t||X)(f.Nb(s.a),f.Nb(P.a),f.Nb(R.a),f.Nb(U.d),f.Nb(s.e),f.Nb(N.a),f.Nb(y.a))},X.\u0275cmp=f.Hb({type:X,selectors:[["app-dati-istruttoria"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"boxgrey",2,"padding-top","50px","display","inline-block",3,"a4gHasPermission","annoCampagna","tipoIstruttoria","statoSostegno"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[2,"background","#fff","padding","30px","display","inline-block","width","100%","margin-bottom","30px"],[2,"font-size","15px"],["binary","true","label","Si certifica che sono stati effettuati i controlli amministrativi in loco",3,"ngModel","ngModelChange"],["binary","true","label","Si attesta che la certificazione antimafia \xe8 stata acquisita in maniera cartacea o che il pagamento viene effettuato su conduzione risolutiva legata all'esito degli accertamenti",3,"ngModel","ngModelChange"],["style","background: #fff; padding: 30px; display: inline-block; width: 100%; margin-bottom:30px;",4,"ngIf"],[1,"ui-g-12","ui-md-2","searchbutton"],["pButton","","type","button","type","submit",1,"ui-button-success",3,"click"],[1,"boxgrey",2,"padding-top","50px","display","inline-block",3,"a4gHasPermission","statoSostegno","tipoIstruttoria","annoCampagna"],["disabled","","binary","true","label","Si certifica che sono stati effettuati i controlli amministrativi in loco",3,"ngModel","ngModelChange"],["disabled","","binary","true","label","Si attesta che la certificazione antimafia \xe8 stata acquisita in maniera cartacea o che il pagamento viene effettuato su conduzione risolutiva legata all'esito degli accertamenti",3,"ngModel","ngModelChange"],["binary","true","label","Si attesta che la domanda di modifica presentata in ritardo non introduce nuovi impegni e dunque non si applicano le riduzioni per ritardata presentazione",3,"ngModel","ngModelChange"],[2,"background","#fff","padding","30px","display","inline-block","width","100%"],[4,"ngFor","ngForOf"],[1,"ui-g-5"],[1,"labelricerca"],[1,"ui-g-3"],[1,"ui-inputgroup"],["type","number","step","0.0001","min","0","pInputText","","appValidaNumero4dec","",2,"width","100%",3,"name","ngModel","ngModelChange"],["input","ngModel"],[1,"ui-inputgroup-addon",2,"padding","10px 20px","background","#f0f0f0","border","1px solid #dedede"],[1,"ui-g-4"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],[1,"ui-message","ui-messages-error","ui-corner-all"],["disabled","","binary","true","label","Si attesta che la domanda di modifica presentata in ritardo non introduce nuovi impegni e dunque non si applicano le riduzioni per ritardata presentazione",3,"ngModel","ngModelChange"],["disabled","","type","number","step","0.0001","min","0","pInputText","","appValidaNumero4dec","",2,"width","100%",3,"name","ngModel","ngModelChange"]],template:function(t,i){1&t&&(f.Mc(0,J,35,22,"div",0),f.gc(1,"async")),2&t&&f.mc("ngIf",f.hc(1,1,i.statoSostegno$))},directives:[a.t,w.a,_.a,z.a,F.s,F.v,h.b,a.s,F.y,F.c,$.a],pipes:[a.b],styles:[""]}),X),tt=e("EOOO"),it=e("yWug"),et=e("yhG/");function at(t,i){}function ot(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Tb(2,"a",13),f.Ob(3,"i",14),f.Tb(4,"strong"),f.Oc(5,"Superficie Totale Richiesta (mq)"),f.Sb(),f.Sb(),f.Sb(),f.Tb(6,"td"),f.Tb(7,"strong"),f.Oc(8,"Superficie Totale Richiesta (mq)"),f.Sb(),f.Sb(),f.Tb(9,"td",15),f.Oc(10),f.Sb(),f.Sb()),2&t){var e=i.$implicit,a=i.expanded;f.Bb(2),f.mc("pRowToggler",e),f.Bb(1),f.mc("ngClass",a?"pi pi-chevron-down":"pi pi-chevron-right"),f.Bb(7),f.Pc(e.supRichiestaTotale)}}function nt(t,i){if(1&t&&(f.Tb(0,"div",1),f.Tb(1,"b"),f.Oc(2,"Intervento Soia - Superficie Totale Richiesta:"),f.Sb(),f.Oc(3),f.Sb()),2&t){var e=f.fc().$implicit;f.Bb(3),f.Qc(" ",e.m8," ")}}function rt(t,i){if(1&t&&(f.Tb(0,"div",1),f.Tb(1,"b"),f.Oc(2,"Intervento Frumento - Superficie Totale Richiesta:"),f.Sb(),f.Oc(3),f.Sb()),2&t){var e=f.fc().$implicit;f.Bb(3),f.Qc(" ",e.m9," ")}}function ct(t,i){if(1&t&&(f.Tb(0,"div",1),f.Tb(1,"b"),f.Oc(2,"Intervento Proteaginose - Superficie Totale Richiesta:"),f.Sb(),f.Oc(3),f.Sb()),2&t){var e=f.fc().$implicit;f.Bb(3),f.Qc(" ",e.m10," ")}}function st(t,i){if(1&t&&(f.Tb(0,"div",1),f.Tb(1,"b"),f.Oc(2,"Intervento Leguminose - Superficie Totale Richiesta:"),f.Sb(),f.Oc(3),f.Sb()),2&t){var e=f.fc().$implicit;f.Bb(3),f.Qc(" ",e.m11," ")}}function lt(t,i){if(1&t&&(f.Tb(0,"div",1),f.Tb(1,"b"),f.Oc(2,"Intervento Pomodoro - Superficie Totale Richiesta:"),f.Sb(),f.Oc(3),f.Sb()),2&t){var e=f.fc().$implicit;f.Bb(3),f.Qc(" ",e.m14," ")}}function dt(t,i){if(1&t&&(f.Tb(0,"div",1),f.Tb(1,"b"),f.Oc(2,"Intervento Olivi Standard - Superficie Totale Richiesta:"),f.Sb(),f.Oc(3),f.Sb()),2&t){var e=f.fc().$implicit;f.Bb(3),f.Qc(" ",e.m15," ")}}function ut(t,i){if(1&t&&(f.Tb(0,"div",1),f.Tb(1,"b"),f.Oc(2,"Intervento Olivi 7.5% - Superficie Totale Richiesta:"),f.Sb(),f.Oc(3),f.Sb()),2&t){var e=f.fc().$implicit;f.Bb(3),f.Qc(" ",e.m16," ")}}function bt(t,i){if(1&t&&(f.Tb(0,"div",1),f.Tb(1,"b"),f.Oc(2,"Intervento Olivi Qualit\xe0 - Superficie Totale Richiesta:"),f.Sb(),f.Oc(3),f.Sb()),2&t){var e=f.fc().$implicit;f.Bb(3),f.Qc(" ",e.m17," ")}}function pt(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Tb(2,"div",16),f.Tb(3,"div",17),f.Tb(4,"div",18),f.Mc(5,nt,4,1,"div",19),f.Mc(6,rt,4,1,"div",19),f.Mc(7,ct,4,1,"div",19),f.Mc(8,st,4,1,"div",19),f.Mc(9,lt,4,1,"div",19),f.Mc(10,dt,4,1,"div",19),f.Mc(11,ut,4,1,"div",19),f.Mc(12,bt,4,1,"div",19),f.Sb(),f.Sb(),f.Sb(),f.Sb(),f.Sb()),2&t){var e=i.$implicit,a=i.columns;f.Bb(1),f.Cb("colspan",a.length+1),f.Bb(4),f.mc("ngIf",e.m8),f.Bb(1),f.mc("ngIf",e.m9),f.Bb(1),f.mc("ngIf",e.m10),f.Bb(1),f.mc("ngIf",e.m11),f.Bb(1),f.mc("ngIf",e.m14),f.Bb(1),f.mc("ngIf",e.m15),f.Bb(1),f.mc("ngIf",e.m16),f.Bb(1),f.mc("ngIf",e.m17)}}function gt(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2," Nessun controllo eseguito "),f.Sb(),f.Sb()),2&t){var e=i.$implicit;f.Bb(1),f.Cb("colspan",e.length+1)}}function mt(t,i){if(1&t&&(f.Tb(0,"th",25),f.Tb(1,"strong"),f.Oc(2),f.Sb(),f.Ob(3,"p-sortIcon",26),f.Sb()),2&t){var e=i.$implicit;f.mc("pSortableColumn",e.field)("pSortableColumnDisabled",null==e.field),f.Bb(2),f.Pc(e.header),f.Bb(1),f.mc("field",e.field)}}function ft(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,mt,4,4,"th",24),f.Sb()),2&t){var e=i.$implicit;f.Bb(1),f.mc("ngForOf",e)}}function St(t,i){if(1&t&&(f.Tb(0,"tr",27),f.Tb(1,"td"),f.Oc(2),f.Sb(),f.Tb(3,"td"),f.Oc(4),f.Sb(),f.Tb(5,"td"),f.Oc(6),f.Sb(),f.Tb(7,"td"),f.Oc(8),f.Sb(),f.Tb(9,"td"),f.Oc(10),f.Sb(),f.Tb(11,"td"),f.Oc(12),f.Sb(),f.Tb(13,"td"),f.Oc(14),f.Sb(),f.Tb(15,"td"),f.Oc(16),f.Sb(),f.Tb(17,"td"),f.Oc(18),f.Sb(),f.Tb(19,"td"),f.Oc(20),f.Sb(),f.Sb()),2&t){var e=i.$implicit,a=f.fc(3);f.mc("pSelectableRow",a.particella),f.Bb(2),f.Pc(e.datiCatastali.idParticella),f.Bb(2),f.Pc(e.datiCatastali.comune),f.Bb(2),f.Pc(e.datiCatastali.codNazionale),f.Bb(2),f.Pc(e.datiCatastali.foglio),f.Bb(2),f.Pc(e.datiCatastali.particella),f.Bb(2),f.Pc(e.datiCatastali.sub),f.Bb(2),f.Pc(e.riferimentiCartografici.codIsola),f.Bb(2),f.Pc(e.datiColtivazione.codColtura3),f.Bb(2),f.Pc(e.datiColtivazione.descrizioneColtura),f.Bb(2),f.Pc(e.supRichiestaNetta)}}function ht(t,i){1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2," Nessuna particella trovata "),f.Sb(),f.Sb()),2&t&&(f.Bb(1),f.Cb("colspan",10))}function vt(t,i){if(1&t&&(f.Tb(0,"div"),f.Tb(1,"p-accordion"),f.Tb(2,"p-accordionTab",21),f.Tb(3,"div",22),f.Tb(4,"p-table",23,6),f.Mc(6,ft,2,1,"ng-template",7),f.Mc(7,St,21,11,"ng-template",8),f.Mc(8,ht,3,1,"ng-template",10),f.Sb(),f.Sb(),f.Sb(),f.Sb(),f.Sb()),2&t){var e=f.fc().$implicit,a=f.fc();f.Bb(2),f.nc("header",a.setHeader(e)),f.mc("selected",!0),f.Bb(2),f.mc("columns",a.cols)("value",a.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[e].superficiImpegnate)("autoLayout",!0)("paginator",!0)("rows",a.elementiPagina)("responsive",!0)}}function Tt(t,i){if(1&t&&(f.Tb(0,"div"),f.Mc(1,vt,9,8,"div",20),f.Sb()),2&t){var e=i.$implicit,a=f.fc();f.Bb(1),f.mc("ngIf",a.dettaglioDomandaAccoppiati&&a.dettaglioDomandaAccoppiati.datiSuperficiImpegnate&&a.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[e])}}var Ct,Dt=function(){return{marginTop:"70px"}},It=((Ct=function(){function t(i,e,a,o){_classCallCheck(this,t),this.messageService=i,this.route=e,this.istruttoriaService=a,this.istruttoriaDettaglioService=o,this.elementiPagina=10,this.dettaglioDomandaAccoppiati=new tt.k}return _createClass(t,[{key:"ngOnInit",value:function(){this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.setInterventi(),this.setCols(),this.setIdDomandaCorrente(),this.changePage()}},{key:"setInterventi",value:function(){this.interventi=["m8","m9","m10","m11","m14","m15","m16","m17"]}},{key:"setCols",value:function(){this.cols=[{field:"idParticella",header:"Id Particella"},{field:"comune",header:"Comune Catastale"},{field:"codNazionale",header:"Cod. Nazionale"},{field:"foglio",header:"Foglio"},{field:"particella",header:"Particella"},{field:"sub",header:"Sub"},{field:"codIsola",header:"Isola"},{field:"codiceColtura3",header:"Cod. Coltura"},{field:"descrizioneColtura",header:"Descr. Coltura"},{field:"supRichiestaNetta",header:"Sup Imp. Netta"}]}},{key:"setIdDomandaCorrente",value:function(){this.idDomandaCorrente=this.istruttoriaDUCorrente.domanda.id}},{key:"changePage",value:function(){var t=this;this.istruttoriaDettaglioService.getSuperficiImpegnateAcs(this.idDomandaCorrente.toString()).subscribe((function(i){if(t.dettaglioDomandaAccoppiati.idDomanda=t.idDomandaCorrente.toString(),i){t.dettaglioDomandaAccoppiati.datiSuperficiImpegnate=new tt.l,t.dettaglioDomandaAccoppiati.datiSuperficiImpegnate.supRichiesta=i.supRichiesta,t.dettaglioDomandaAccoppiati.datiSuperficiImpegnate.supRichiestaNetta=i.supRichiestaNetta,t.interventi.forEach((function(e){i[e]&&(t.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[e]=new tt.e,t.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[e].supRichiesta=i[e].supRichiesta,t.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[e].supRichiestaNetta=i[e].supRichiestaNetta,t.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[e].superficiImpegnate=[],i[e].superficiImpegnate.forEach((function(i){t.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[e].superficiImpegnate.push({datiCatastali:i.datiCatastali,datiColtivazione:i.datiColtivazione,riferimentiCartografici:i.riferimentiCartografici,supRichiesta:i.supRichiesta,supRichiestaNetta:i.supRichiestaNetta})})))})),t.superficiImpegnateSintesi=new Array(1),t.superficiImpegnateSintesi[0]=new tt.m,t.superficiImpegnateSintesi[0].supRichiestaTotale=t.dettaglioDomandaAccoppiati.datiSuperficiImpegnate.supRichiesta;var e=t.superficiImpegnateSintesi[0];t.interventi.forEach((function(i){t.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[i]&&t.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[i].supRichiesta&&(e[i]=t.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[i].supRichiesta)})),t.superficiImpegnateSintesi[0]=e}console.log(d.a.tabSuperficiImpegnate+":"),console.log(t.dettaglioDomandaAccoppiati)}),(function(i){"NO_CALCOLO_ACS"==i.error.message?console.log("Non ci sono passi lavorazione ACS validi per la domanda id: "+t.idDomandaCorrente):(t.messageService.add(k.a.getToast("tst",k.b.error,k.a.erroreRecuperoDati)),console.log(i))}))}},{key:"setHeader",value:function(t){return this.propertyName=d.a[t],this.propertyName}}]),t}()).\u0275fac=function(t){return new(t||Ct)(f.Nb(U.d),f.Nb(s.a),f.Nb(P.a),f.Nb(R.a))},Ct.\u0275cmp=f.Hb({type:Ct,selectors:[["app-superfici-impegnate-acc"]],decls:16,vars:8,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[1,"table-responsive"],["dataKey","supRichiestaTotale",3,"columns","value","autoLayout","responsive"],["tab",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],[1,"accordion-wrapper","dettaglioaccordion"],[4,"ngFor","ngForOf"],[3,"pRowToggler"],[3,"ngClass"],[1,"text-right",2,"font-weight","bold"],[1,"ui-g","ui-fluid",2,"font-size","16px","padding","20px"],[1,"ui-g-12","ui-md-9"],[1,"ui-g"],["class","ui-g-12",4,"ngIf"],[4,"ngIf"],[3,"header","selected"],[1,"table-responsive",2,"margin-top","20px","display","block"],[3,"columns","value","autoLayout","paginator","rows","responsive"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"],[3,"pSelectableRow"]],template:function(t,i){1&t&&(f.Tb(0,"div",0),f.Tb(1,"div",1),f.Tb(2,"div",2),f.Ob(3,"p-toast",3),f.Tb(4,"h3"),f.Tb(5,"span"),f.Oc(6," Accoppiato Superficie "),f.Sb(),f.Sb(),f.Tb(7,"div",4),f.Tb(8,"p-table",5,6),f.Mc(10,at,0,0,"ng-template",7),f.Mc(11,ot,11,3,"ng-template",8),f.Mc(12,pt,13,9,"ng-template",9),f.Mc(13,gt,3,1,"ng-template",10),f.Sb(),f.Sb(),f.Tb(14,"div",11),f.Mc(15,Tt,2,1,"div",12),f.Sb(),f.Sb(),f.Sb(),f.Sb()),2&t&&(f.Bb(3),f.Kc(f.rc(7,Dt)),f.Bb(5),f.mc("columns",i.cols)("value",i.superficiImpegnateSintesi)("autoLayout",!0)("responsive",!0),f.Bb(7),f.mc("ngForOf",i.interventi))},directives:[_.a,it.q,U.e,a.s,it.k,a.q,a.t,et.a,et.c,it.p,it.o,it.m],styles:[""]}),Ct),Ot=e("B4vn"),At=function(t){return{width:t}};function Bt(t,i){1&t&&f.Ob(0,"th",11),2&t&&f.mc("ngStyle",f.sc(1,At,i.$implicit.width))}function yt(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,Bt,1,3,"th",10),f.Sb()),2&t){var e=i.$implicit;f.Bb(1),f.mc("ngForOf",e)}}function Mt(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2),f.Sb(),f.Tb(3,"td",12),f.Oc(4),f.Sb(),f.Sb()),2&t){var e=i.$implicit;f.Bb(2),f.Pc(e.descrizione),f.Bb(2),f.Pc(e.valore)}}function Pt(t,i){if(1&t&&(f.Tb(0,"div",4),f.Tb(1,"p-accordion"),f.Tb(2,"p-accordionTab",5),f.gc(3,"fixDichiarazioni"),f.Tb(4,"div",6),f.Tb(5,"p-table",7),f.gc(6,"tipoFilter"),f.Mc(7,yt,2,1,"ng-template",8),f.Mc(8,Mt,5,2,"ng-template",9),f.Sb(),f.Sb(),f.Sb(),f.Sb(),f.Sb()),2&t){var e=i.$implicit,a=f.fc();f.Bb(2),f.nc("header",f.hc(3,7,e)),f.mc("selected",!0),f.Bb(3),f.mc("columns",a.cols)("value",f.jc(6,9,a.dichiarazioni,"quadro",e))("autoLayout",!0)("paginator",!1)("responsive",!0)}}var kt,Nt=((kt=function(){function t(i,e){_classCallCheck(this,t),this.route=i,this.istruttoriaDettaglioService=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.caricaDichiarazioni()}},{key:"caricaDichiarazioni",value:function(){var t=this;this.istruttoriaDettaglioService.getDichiarazioniAcs(this.istruttoriaDUCorrente.domanda.id.toString()).subscribe((function(i){t.dichiarazioni=i,t.codiciTipo=t.dichiarazioni.map((function(t){return t.quadro})).filter((function(t,i,e){return e.indexOf(t)===i}))}))}}]),t}()).\u0275fac=function(t){return new(t||kt)(f.Nb(s.a),f.Nb(R.a))},kt.\u0275cmp=f.Hb({type:kt,selectors:[["app-dichiarazioni-acc"]],decls:4,vars:1,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["ngFor","",3,"ngForOf"],[1,"accordion-wrapper","dettaglioaccordion"],[3,"header","selected"],[1,"table-responsive","nobrd",2,"margin-top","30px"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","header"],["pTemplate","body"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"text-right",2,"font-weight","bold"]],template:function(t,i){1&t&&(f.Tb(0,"div",0),f.Tb(1,"div",1),f.Tb(2,"div",2),f.Mc(3,Pt,9,13,"ng-template",3),f.Sb(),f.Sb(),f.Sb()),2&t&&(f.Bb(3),f.mc("ngForOf",i.codiciTipo))},directives:[a.s,et.a,et.c,it.q,U.e,a.w],pipes:[Ot.a,Ot.b],styles:[""]}),kt),Rt=e("EY2u"),Lt=e("1G5W"),Ut=e("JIr8"),wt=function(t){return{width:t}};function _t(t,i){1&t&&f.Ob(0,"th",11),2&t&&f.mc("ngStyle",f.sc(1,wt,i.$implicit.width))}function zt(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,_t,1,3,"th",10),f.Sb()),2&t){var e=i.$implicit;f.Bb(1),f.mc("ngForOf",e)}}function Ft(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2),f.Sb(),f.Sb()),2&t){var e=f.fc().$implicit;f.Bb(2),f.Pc(e.title)}}function $t(t,i){1&t&&f.Mc(0,Ft,3,1,"tr",5),2&t&&f.mc("ngIf",null!=i.$implicit.title)}function Et(t,i){if(1&t&&(f.Tb(0,"p-accordion"),f.Tb(1,"p-accordionTab",6),f.Tb(2,"p-table",7),f.Mc(3,zt,2,1,"ng-template",8),f.Mc(4,$t,1,1,"ng-template",9),f.Sb(),f.Sb(),f.Sb()),2&t){var e=f.fc();f.Bb(1),f.mc("selected",!0),f.Bb(1),f.mc("columns",e.cols)("value",e.controlliSostegnoErrors)("autoLayout",!0)("paginator",!1)("responsive",!0)}}function xt(t,i){1&t&&f.Ob(0,"th",11),2&t&&f.mc("ngStyle",f.sc(1,wt,i.$implicit.width))}function Qt(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,xt,1,3,"th",10),f.Sb()),2&t){var e=i.$implicit;f.Bb(1),f.mc("ngForOf",e)}}function Ht(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2),f.Sb(),f.Sb()),2&t){var e=f.fc().$implicit;f.Bb(2),f.Pc(e.title)}}function qt(t,i){1&t&&f.Mc(0,Ht,3,1,"tr",5),2&t&&f.mc("ngIf",null!=i.$implicit.title)}function Kt(t,i){if(1&t&&(f.Tb(0,"p-accordion"),f.Tb(1,"p-accordionTab",12),f.Tb(2,"p-table",7),f.Mc(3,Qt,2,1,"ng-template",8),f.Mc(4,qt,1,1,"ng-template",9),f.Sb(),f.Sb(),f.Sb()),2&t){var e=f.fc();f.Bb(1),f.mc("selected",!0),f.Bb(1),f.mc("columns",e.cols)("value",e.controlliSostegnoWarnings)("autoLayout",!0)("paginator",!1)("responsive",!0)}}function Zt(t,i){1&t&&f.Ob(0,"th",11),2&t&&f.mc("ngStyle",f.sc(1,wt,i.$implicit.width))}function jt(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,Zt,1,3,"th",10),f.Sb()),2&t){var e=i.$implicit;f.Bb(1),f.mc("ngForOf",e)}}function Gt(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2),f.Sb(),f.Sb()),2&t){var e=f.fc().$implicit;f.Bb(2),f.Pc(e.title||e.label)}}function Vt(t,i){1&t&&f.Mc(0,Gt,3,1,"tr",5),2&t&&f.mc("ngIf",null!=i.$implicit.title)}function Wt(t,i){if(1&t&&(f.Tb(0,"p-accordion"),f.Tb(1,"p-accordionTab",13),f.Tb(2,"p-table",7),f.Mc(3,jt,2,1,"ng-template",8),f.Mc(4,Vt,1,1,"ng-template",9),f.Sb(),f.Sb(),f.Sb()),2&t){var e=f.fc();f.Bb(1),f.mc("selected",!0),f.Bb(1),f.mc("columns",e.cols)("value",e.controlliSostegnoInfos)("autoLayout",!0)("paginator",!1)("responsive",!0)}}function Jt(t,i){1&t&&f.Ob(0,"th",11),2&t&&f.mc("ngStyle",f.sc(1,wt,i.$implicit.width))}function Xt(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,Jt,1,3,"th",10),f.Sb()),2&t){var e=i.$implicit;f.Bb(1),f.mc("ngForOf",e)}}function Yt(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2),f.Sb(),f.Sb()),2&t){var e=f.fc().$implicit;f.Bb(2),f.Pc(e.title)}}function ti(t,i){1&t&&f.Mc(0,Yt,3,1,"tr",5),2&t&&f.mc("ngIf",null!=i.$implicit.title)}function ii(t,i){if(1&t&&(f.Tb(0,"p-accordion"),f.Tb(1,"p-accordionTab",14),f.Tb(2,"p-table",7),f.Mc(3,Xt,2,1,"ng-template",8),f.Mc(4,ti,1,1,"ng-template",9),f.Sb(),f.Sb(),f.Sb()),2&t){var e=f.fc();f.Bb(1),f.mc("selected",!0),f.Bb(1),f.mc("columns",e.cols)("value",e.controlliSostegnoSuccesses)("autoLayout",!0)("paginator",!1)("responsive",!0)}}function ei(t,i){1&t&&(f.Tb(0,"div"),f.Oc(1),f.gc(2,"translate"),f.Sb()),2&t&&(f.Bb(1),f.Qc(" ",f.hc(2,1,"CONTROLLI_SOSTEGNO.nessunControlloEseguito")," "))}var ai,oi=function(){return{marginTop:"70px"}},ni=((ai=function(){function t(i,e,a){_classCallCheck(this,t),this.istruttoriaDettaglioService=i,this.messageService=e,this.route=a,this.controlliSostegnoErrors=[],this.controlliSostegnoWarnings=[],this.controlliSostegnoInfos=[],this.controlliSostegnoSuccesses=[],this.isControlliSostegnoPresent=!1,this.componentDestroyed$=new M.a}return _createClass(t,[{key:"ngOnInit",value:function(){this.setCols(),this.setIdIstruttoriaCorrente(),this.getControlliSostegno(this.idIstruttoriaCorrente.toString())}},{key:"setCols",value:function(){this.cols=[{field:"b",header:"",width:"100%"}]}},{key:"setIdIstruttoriaCorrente",value:function(){var t=this;this.route.params.subscribe((function(i){t.idIstruttoriaCorrente=i.idIstruttoria}))}},{key:"getControlliSostegno",value:function(t){var i=this;this.istruttoriaDettaglioService.getEsitiControlloSostegno(t).pipe(Object(Lt.a)(this.componentDestroyed$),Object(Ut.a)((function(t){return i.messageService.add(k.a.getToast("tst",k.b.error,k.a.erroreRecuperoDati)),Object(Rt.b)()}))).subscribe((function(t){i.isControlliSostegnoPresent=!0,t.errors.forEach((function(t){return i.controlliSostegnoErrors.push({label:t,title:d.a[t]})})),t.infos.forEach((function(t){return i.controlliSostegnoInfos.push({label:t,title:d.a[t]})})),t.successes.forEach((function(t){return i.controlliSostegnoSuccesses.push({label:t,title:d.a[t]})})),t.warnings.forEach((function(t){return i.controlliSostegnoWarnings.push({label:t,title:d.a[t]})}))}))}},{key:"checkValidDataTitle",value:function(t){return t.some((function(t){return!!t.title}))}},{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}}]),t}()).\u0275fac=function(t){return new(t||ai)(f.Nb(R.a),f.Nb(U.d),f.Nb(s.a))},ai.\u0275cmp=f.Hb({type:ai,selectors:[["app-ctrl-sostegno-acc"]],decls:10,vars:8,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],[4,"ngIf"],["header","ANOMALIE BLOCCANTI",3,"selected"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","header"],["pTemplate","body"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],["header","WARNING",3,"selected"],["header","INFORMAZIONI",3,"selected"],["header","SUCCESS",3,"selected"]],template:function(t,i){1&t&&(f.Tb(0,"div",0),f.Tb(1,"div",1),f.Tb(2,"div",2),f.Ob(3,"p-toast",3),f.Tb(4,"div",4),f.Mc(5,Et,5,6,"p-accordion",5),f.Mc(6,Kt,5,6,"p-accordion",5),f.Mc(7,Wt,5,6,"p-accordion",5),f.Mc(8,ii,5,6,"p-accordion",5),f.Sb(),f.Mc(9,ei,3,3,"div",5),f.Sb(),f.Sb(),f.Sb()),2&t&&(f.Bb(3),f.Kc(f.rc(7,oi)),f.Bb(2),f.mc("ngIf",i.checkValidDataTitle(i.controlliSostegnoErrors)),f.Bb(1),f.mc("ngIf",i.checkValidDataTitle(i.controlliSostegnoWarnings)),f.Bb(1),f.mc("ngIf",i.checkValidDataTitle(i.controlliSostegnoInfos)),f.Bb(1),f.mc("ngIf",i.checkValidDataTitle(i.controlliSostegnoSuccesses)),f.Bb(1),f.mc("ngIf",!i.isControlliSostegnoPresent))},directives:[_.a,a.t,et.a,et.c,it.q,U.e,a.s,a.w],pipes:[T.d],styles:[""]}),ai),ri=e("LRne"),ci=e("eIep"),si=e("GJmQ"),li=function(t){return{width:t}};function di(t,i){if(1&t&&(f.Tb(0,"th",14),f.Tb(1,"strong"),f.Oc(2),f.Sb(),f.Sb()),2&t){var e=i.$implicit;f.mc("ngStyle",f.sc(2,li,e.width)),f.Bb(2),f.Pc(e.header)}}function ui(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,di,3,4,"th",13),f.Sb()),2&t){var e=i.$implicit;f.Bb(1),f.mc("ngForOf",e)}}function bi(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2),f.Sb(),f.Tb(3,"td"),f.Oc(4),f.Sb(),f.Sb()),2&t){var e=i.$implicit,a=f.fc(2);f.Bb(2),f.Qc(" ",a.setHeader(e.codice)," "),f.Bb(2),f.Qc(" ",e.valore," ")}}function pi(t,i){1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2," Nessun controllo eseguito "),f.Sb(),f.Sb()),2&t&&(f.Bb(1),f.Cb("colspan",10))}function gi(t,i){if(1&t&&(f.Tb(0,"th",14),f.Tb(1,"strong"),f.Oc(2),f.Sb(),f.Sb()),2&t){var e=i.$implicit;f.mc("ngStyle",f.sc(2,li,e.width)),f.Bb(2),f.Pc(e.header)}}function mi(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,gi,3,4,"th",13),f.Sb()),2&t){var e=i.$implicit;f.Bb(1),f.mc("ngForOf",e)}}function fi(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2),f.Sb(),f.Tb(3,"td"),f.Oc(4),f.Sb(),f.Sb()),2&t){var e=f.fc().$implicit,a=f.fc(4);f.Bb(2),f.Qc(" ",a.setHeader(e.codice)," "),f.Bb(2),f.Qc(" ",e.valore," ")}}function Si(t,i){1&t&&f.Mc(0,fi,5,2,"tr",4),2&t&&f.mc("ngIf",i.$implicit.valore)}function hi(t,i){1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2," Nessun controllo eseguito "),f.Sb(),f.Sb()),2&t&&(f.Bb(1),f.Cb("colspan",10))}function vi(t,i){if(1&t&&(f.Tb(0,"th",14),f.Tb(1,"strong"),f.Oc(2),f.Sb(),f.Sb()),2&t){var e=i.$implicit;f.mc("ngStyle",f.sc(2,li,e.width)),f.Bb(2),f.Pc(e.header)}}function Ti(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,vi,3,4,"th",13),f.Sb()),2&t){var e=i.$implicit;f.Bb(1),f.mc("ngForOf",e)}}function Ci(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2),f.Sb(),f.Tb(3,"td"),f.Oc(4),f.Sb(),f.Sb()),2&t){var e=f.fc().$implicit,a=f.fc(4);f.Bb(2),f.Qc(" ",a.setHeader(e.codice)," "),f.Bb(2),f.Qc(" ",e.valore," ")}}function Di(t,i){1&t&&f.Mc(0,Ci,5,2,"tr",4),2&t&&f.mc("ngIf",i.$implicit.valore)}function Ii(t,i){1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2," Nessun controllo eseguito "),f.Sb(),f.Sb()),2&t&&(f.Bb(1),f.Cb("colspan",10))}function Oi(t,i){if(1&t&&(f.Tb(0,"div"),f.Tb(1,"p-accordion"),f.Tb(2,"p-accordionTab",15),f.Tb(3,"p-table",16,7),f.Mc(5,mi,2,1,"ng-template",8),f.Mc(6,Si,1,1,"ng-template",9),f.Mc(7,hi,3,1,"ng-template",10),f.Sb(),f.Tb(8,"p-table",16,7),f.Mc(10,Ti,2,1,"ng-template",8),f.Mc(11,Di,1,1,"ng-template",9),f.Mc(12,Ii,3,1,"ng-template",10),f.Sb(),f.Sb(),f.Sb(),f.Sb()),2&t){var e=f.fc().$implicit,a=f.fc(2);f.Bb(2),f.nc("header",a.setHeader(e)),f.mc("selected",!1),f.Bb(1),f.mc("columns",a.colsInput)("value",a.dettaglioDomandaAccoppiati[a.datiDomanda].dettaglioCalcolo[e].input)("responsive",!0),f.Bb(5),f.mc("columns",a.colsOutput)("value",a.dettaglioDomandaAccoppiati[a.datiDomanda].dettaglioCalcolo[e].output)("responsive",!0)}}function Ai(t,i){if(1&t&&(f.Tb(0,"div"),f.Mc(1,Oi,13,8,"div",4),f.Sb()),2&t){var e=i.$implicit,a=f.fc(2);f.Bb(1),f.mc("ngIf",a.dettaglioDomandaAccoppiati[a.datiDomanda].dettaglioCalcolo[e]&&a.dettaglioDomandaAccoppiati[a.datiDomanda].dettaglioCalcolo[e].input&&a.dettaglioDomandaAccoppiati[a.datiDomanda].dettaglioCalcolo[e].input.length>0)}}function Bi(t,i){if(1&t&&(f.Tb(0,"th",14),f.Tb(1,"strong"),f.Oc(2),f.Sb(),f.Sb()),2&t){var e=i.$implicit;f.mc("ngStyle",f.sc(2,li,e.width)),f.Bb(2),f.Pc(e.header)}}function yi(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,Bi,3,4,"th",13),f.Sb()),2&t){var e=i.$implicit;f.Bb(1),f.mc("ngForOf",e)}}function Mi(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2),f.Sb(),f.Tb(3,"td"),f.Oc(4),f.Sb(),f.Sb()),2&t){var e=f.fc().$implicit,a=f.fc(3);f.Bb(2),f.Qc(" ",a.setHeader(e.codice)," "),f.Bb(2),f.Qc(" ",e.valore," ")}}function Pi(t,i){1&t&&f.Mc(0,Mi,5,2,"tr",4),2&t&&f.mc("ngIf",i.$implicit.valore)}function ki(t,i){1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2," Nessun controllo eseguito "),f.Sb(),f.Sb()),2&t&&(f.Bb(1),f.Cb("colspan",10))}function Ni(t,i){if(1&t&&(f.Tb(0,"th",14),f.Tb(1,"strong"),f.Oc(2),f.Sb(),f.Sb()),2&t){var e=i.$implicit;f.mc("ngStyle",f.sc(2,li,e.width)),f.Bb(2),f.Pc(e.header)}}function Ri(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,Ni,3,4,"th",13),f.Sb()),2&t){var e=i.$implicit;f.Bb(1),f.mc("ngForOf",e)}}function Li(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2),f.Sb(),f.Tb(3,"td"),f.Oc(4),f.Sb(),f.Sb()),2&t){var e=f.fc().$implicit,a=f.fc(3);f.Bb(2),f.Qc(" ",a.setHeader(e.codice)," "),f.Bb(2),f.Qc(" ",e.valore," ")}}function Ui(t,i){1&t&&f.Mc(0,Li,5,2,"tr",4),2&t&&f.mc("ngIf",i.$implicit.valore)}function wi(t,i){1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2," Nessun controllo eseguito "),f.Sb(),f.Sb()),2&t&&(f.Bb(1),f.Cb("colspan",10))}function _i(t,i){if(1&t&&(f.Tb(0,"div"),f.Tb(1,"h3"),f.Tb(2,"span"),f.Oc(3," Disciplina Finanziaria "),f.Sb(),f.Sb(),f.Tb(4,"div",11),f.Tb(5,"p-table",16,7),f.Mc(7,yi,2,1,"ng-template",8),f.Mc(8,Pi,1,1,"ng-template",9),f.Mc(9,ki,3,1,"ng-template",10),f.Sb(),f.Tb(10,"p-table",16,7),f.Mc(12,Ri,2,1,"ng-template",8),f.Mc(13,Ui,1,1,"ng-template",9),f.Mc(14,wi,3,1,"ng-template",10),f.Sb(),f.Sb(),f.Sb()),2&t){var e=f.fc(2);f.Bb(5),f.mc("columns",e.colsInput)("value",e.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input)("responsive",!0),f.Bb(5),f.mc("columns",e.colsOutput)("value",e.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.output)("responsive",!0)}}function zi(t,i){if(1&t&&(f.Tb(0,"div"),f.Tb(1,"h3"),f.Tb(2,"span"),f.Oc(3," Sintesi Calcolo "),f.Sb(),f.Sb(),f.Tb(4,"div",5),f.Tb(5,"p-table",6,7),f.Mc(7,ui,2,1,"ng-template",8),f.Mc(8,bi,5,2,"ng-template",9),f.Mc(9,pi,3,1,"ng-template",10),f.Sb(),f.Sb(),f.Ob(10,"br"),f.Ob(11,"br"),f.Tb(12,"h3"),f.Tb(13,"span"),f.Oc(14," Dettaglio Calcolo "),f.Sb(),f.Sb(),f.Tb(15,"div",11),f.Mc(16,Ai,2,1,"div",12),f.Sb(),f.Ob(17,"br"),f.Ob(18,"br"),f.Mc(19,_i,15,6,"div",4),f.Sb()),2&t){var e=f.fc();f.Bb(5),f.mc("columns",e.cols)("value",e.dettaglioDomandaAccoppiati[e.datiDomanda].sintesiCalcolo)("autoLayout",!0)("responsive",!0),f.Bb(11),f.mc("ngForOf",e.interventi),f.Bb(3),f.mc("ngIf",e.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria&&e.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input&&e.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input.length>0)}}function Fi(t,i){1&t&&(f.Tb(0,"div"),f.Oc(1," Nessun controllo eseguito "),f.Sb())}var $i,Ei=function(){return{marginTop:"70px"}},xi=(($i=function(){function t(i,e,a,o,n){_classCallCheck(this,t),this.route=i,this.istruttoriaService=e,this.messageService=a,this.istruttoriaDettaglioService=o,this.router=n,this.dettaglioDomandaAccoppiati=new tt.k,this.vedereAncheSeUgualiAZero=["DFFRAPPDIS_INPUT","DFFRAPPACZ_INPUT","DFFRAPPACS_INPUT","DFIMPLIQACSLORDO_OUTPUT"],this.componentDestroyed=!0}return _createClass(t,[{key:"ngOnInit",value:function(){this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.setSostegno(),this.setCols(),this.getDatiIstruttoria()}},{key:"setSostegno",value:function(){this.selectedSostegno=p.a.SUPERFICIE,this.tipoSostegno=d.a.acs,this.datiDomanda="datiDomandaACS",this.dettaglioDomandaAccoppiati[this.datiDomanda]=new tt.a,this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo=new tt.f,this.interventi=["m8","m9","m10","m11","m14","m15","m16","m17"],this.interventiRichiesti=[]}},{key:"setCols",value:function(){this.cols=[{field:"codice",header:"Descrizione Controllo",width:"70%"},{field:"valore",header:"Valore",width:"30%"}],this.colsInput=[{field:"codice",header:"DATI IN INGRESSO",width:"70%"},{field:"valore",header:"",width:"30%"}],this.colsOutput=[{field:"codice",header:"DATI IN USCITA",width:"70%"},{field:"valore",header:"",width:"30%"}]}},{key:"getDatiIstruttoria",value:function(){var t=this;this.istruttoriaDettaglioService.getEsitiCalcoloIstruttoriaAcs(this.istruttoriaDUCorrente.id.toString()).pipe(Object(ci.a)((function(i){if(i){for(var e in console.log(i),t.dettaglioDomandaAccoppiati.idDomanda=t.istruttoriaDUCorrente.id.toString(),t.dettaglioDomandaAccoppiati[t.datiDomanda].sintesiCalcolo=[],i.sintesiCalcolo)i.sintesiCalcolo.hasOwnProperty(e)&&t.dettaglioDomandaAccoppiati[t.datiDomanda].sintesiCalcolo.push({codice:e,valore:i.sintesiCalcolo[e]});t.interventi.forEach((function(e){for(var a in t.dettaglioDomandaAccoppiati[t.datiDomanda].dettaglioCalcolo[e]=[],t.dettaglioDomandaAccoppiati[t.datiDomanda].dettaglioCalcolo[e].input=[],t.dettaglioDomandaAccoppiati[t.datiDomanda].dettaglioCalcolo[e].output=[],i.dettaglioCalcolo[e])a.search("_INPUT")>-1?t.dettaglioDomandaAccoppiati[t.datiDomanda].dettaglioCalcolo[e].input.push({codice:a,valore:i.dettaglioCalcolo[e][a]}):a.search("_OUTPUT")>-1&&t.dettaglioDomandaAccoppiati[t.datiDomanda].dettaglioCalcolo[e].output.push({codice:a,valore:i.dettaglioCalcolo[e][a]});(t.dettaglioDomandaAccoppiati[t.datiDomanda].dettaglioCalcolo[e].input.length>0||t.dettaglioDomandaAccoppiati[t.datiDomanda].dettaglioCalcolo[e].output.length>0)&&t.interventiRichiesti.push("_"+e.toUpperCase())})),console.log(t.dettaglioDomandaAccoppiati[t.datiDomanda])}return t.istruttoriaDettaglioService.getDisciplinaIstruttoriaAcs(t.istruttoriaDUCorrente.id.toString())})),Object(Ut.a)((function(i){return"NO_CALCOLO_ACS"===i.error.message?console.log("Non ci sono passi lavorazione ACS validi per l'istruttoria con id: "+t.istruttoriaDUCorrente.id):"NO_CALCOLO_ACZ"===i.error.message?console.log("Non ci sono passi lavorazione ACZ validi per l'istruttoria con id: "+t.istruttoriaDUCorrente.id):(t.messageService.add(k.a.getToast("tst",k.b.error,k.a.erroreRecuperoDati)),console.log(i)),Object(ri.a)(null)})),Object(si.a)((function(){return t.componentDestroyed}))).subscribe((function(i){if(i){for(var e in t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria=new tt.c,t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input=[],t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.output=[],i)e.search("_INPUT")>-1?t.vedereAncheSeUgualiAZero.includes(e)||t.isInterventoRichiesto(e)?t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input.push({codice:e,valore:i[e]||"0 euro"}):"0 euro"!==i[e]&&t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input.push({codice:e,valore:i[e]}):e.search("_OUTPUT")>-1&&(t.vedereAncheSeUgualiAZero.includes(e)||t.isInterventoRichiesto(e)?t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.output.push({codice:e,valore:i[e]||"0 euro"}):"0 euro"!==i[e]&&t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.output.push({codice:e,valore:i[e]}));console.log(t.dettaglioDomandaAccoppiati[t.datiDomanda])}}),(function(i){"NO_CALCOLO_ACS"===i.error.message?console.log("Non ci sono passi lavorazione ACS validi per l'istruttoria con id: "+t.istruttoriaDUCorrente.id):"NO_CALCOLO_ACZ"===i.error.message?console.log("Non ci sono passi lavorazione ACZ validi per l'istruttoria con id: "+t.istruttoriaDUCorrente.id):(t.messageService.add(k.a.getToast("tst",k.b.error,k.a.erroreRecuperoDati)),console.log(i))}))}},{key:"isInterventoRichiesto",value:function(t){return!!this.interventiRichiesti.find((function(i){return t.search(i)>-1}))}},{key:"setHeader",value:function(t){var i=t.indexOf("_INPUT"),e=t.indexOf("_OUTPUT");return i>-1?t=t.substring(0,i):e>-1&&(t=t.substring(0,e)),this.propertyName=d.a[t],this.propertyName}},{key:"ngOnDestroy",value:function(){this.componentDestroyed=!1}}]),t}()).\u0275fac=function(t){return new(t||$i)(f.Nb(s.a),f.Nb(P.a),f.Nb(U.d),f.Nb(R.a),f.Nb(s.e))},$i.\u0275cmp=f.Hb({type:$i,selectors:[["app-dati-domanda-acc"]],decls:6,vars:5,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[4,"ngIf"],[1,"table-responsive"],[3,"columns","value","autoLayout","responsive"],["tab",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],[4,"ngFor","ngForOf"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[3,"header","selected"],[3,"columns","value","responsive"]],template:function(t,i){1&t&&(f.Tb(0,"div",0),f.Tb(1,"div",1),f.Tb(2,"div",2),f.Ob(3,"p-toast",3),f.Mc(4,zi,20,6,"div",4),f.Mc(5,Fi,2,0,"div",4),f.Sb(),f.Sb(),f.Sb()),2&t&&(f.Bb(3),f.Kc(f.rc(4,Ei)),f.Bb(1),f.mc("ngIf",i.dettaglioDomandaAccoppiati.idDomanda),f.Bb(1),f.mc("ngIf",!i.dettaglioDomandaAccoppiati.idDomanda))},directives:[_.a,a.t,it.q,U.e,a.s,a.w,et.a,et.c],styles:[""]}),$i);function Qi(t,i){if(1&t&&(f.Tb(0,"th",13),f.Tb(1,"strong"),f.Oc(2),f.Sb(),f.Ob(3,"p-sortIcon",14),f.Sb()),2&t){var e=i.$implicit;f.mc("pSortableColumn",e.field)("pSortableColumnDisabled",null==e.field),f.Bb(2),f.Pc(e.header),f.Bb(1),f.mc("field",e.field)}}function Hi(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,Qi,4,4,"th",12),f.Sb()),2&t){var e=i.$implicit;f.Bb(1),f.mc("ngForOf",e)}}function qi(t,i){if(1&t&&(f.Tb(0,"td"),f.Oc(1),f.Sb()),2&t){var e=i.$implicit,a=f.fc().$implicit;f.Bb(1),f.Qc(" ",a[e.field]," ")}}function Ki(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,qi,2,1,"td",5),f.Sb()),2&t){var e=i.columns;f.Bb(1),f.mc("ngForOf",e)}}function Zi(t,i){if(1&t&&(f.Tb(0,"div"),f.Tb(1,"p-accordion"),f.Tb(2,"p-accordionTab",7),f.Tb(3,"p-table",8,9),f.Mc(5,Hi,2,1,"ng-template",10),f.Mc(6,Ki,2,1,"ng-template",11),f.Sb(),f.Sb(),f.Sb(),f.Sb()),2&t){var e=f.fc().$implicit,a=f.fc();f.Bb(2),f.nc("header",a.setHeader(e)),f.mc("selected",!0),f.Bb(1),f.mc("columns",a.cols)("value",a.dettaglioDomandaAccoppiati.datiParticellaACS[e])("autoLayout",!0)("paginator",!0)("rows",a.elementiPagina)("responsive",!0)}}function ji(t,i){if(1&t&&(f.Tb(0,"div"),f.Mc(1,Zi,7,8,"div",6),f.Sb()),2&t){var e=i.$implicit,a=f.fc();f.Bb(1),f.mc("ngIf",a.dettaglioDomandaAccoppiati.datiParticellaACS[e]&&a.dettaglioDomandaAccoppiati.datiParticellaACS[e].length>0)}}function Gi(t,i){1&t&&(f.Tb(0,"div"),f.Oc(1," Nessun controllo eseguito "),f.Sb())}var Vi,Wi,Ji,Xi=function(){return{marginTop:"70px"}},Yi=((Vi=function(){function t(i,e,a){_classCallCheck(this,t),this.messageService=i,this.route=e,this.istruttoriaDettaglioService=a,this.elementiPagina=10,this.dettaglioDomandaAccoppiati=new tt.k}return _createClass(t,[{key:"ngOnInit",value:function(){this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.dettaglioDomandaAccoppiati.datiParticellaACS=new tt.d,this.setInterventi(),this.setCols(),this.changePage()}},{key:"setInterventi",value:function(){this.interventi=["m8","m9","m10","m11","m14","m15","m16","m17"]}},{key:"setCols",value:function(){this.cols=[{field:"codComune",header:"Cod. Comune"},{field:"foglio",header:"Foglio"},{field:"particella",header:"Particella"},{field:"sub",header:"Sub"},{field:"codColtura",header:"Cod. Coltura"},{field:"descColtura",header:"Descrizione Coltura"},{field:"controlloRegioni",header:"Ctrl Regioni."},{field:"controlloColture",header:"Ctrl Colture."},{field:"controlloAnomCoord",header:"Anomalie Coor"},{field:"superficieAnomaliaCoor",header:"Sup An. Coord."},{field:"supImpegnata",header:"Sup Imp."},{field:"supRichiesta",header:"Sup Rich."},{field:"supControlliLoco",header:"Sup Controllo in loco"},{field:"supEleggibileGis",header:"Sup Eleggibile Gis"},{field:"supDeterminata",header:"Sup Determinata"}]}},{key:"changePage",value:function(){var t=this;this.istruttoriaDettaglioService.getEsitiParticelle(this.istruttoriaDUCorrente.id.toString()).subscribe((function(i){i&&(console.log(i),t.dettaglioDomandaAccoppiati.datiParticellaACS=i,t.interventi.forEach((function(i){t.dettaglioDomandaAccoppiati.datiParticellaACS[i].forEach((function(i){i.controlloRegioni=t.boolToString(1==i.controlloRegioni||0==i.controlloRegioni?i.controlloRegioni:null),i.controlloColture=t.boolToString(1==i.controlloColture||0==i.controlloColture?i.controlloColture:null),i.controlloAnomCoord=t.boolToString(1==i.controlloAnomCoord||0==i.controlloAnomCoord?i.controlloAnomCoord:null)}))})),console.log(d.a.tabDatiParticella+":"),console.log(t.dettaglioDomandaAccoppiati))}),(function(i){"NO_CALCOLO_ACS"==i.error.message?console.log("Non ci sono passi lavorazione ACS validi per la domanda id: "+t.istruttoriaDUCorrente.id):(t.messageService.add(k.a.getToast("tst",k.b.error,k.a.erroreRecuperoDati)),console.log(i))}))}},{key:"setHeader",value:function(t){return this.propertyName=d.a[t],this.propertyName}},{key:"boolToString",value:function(t){return null==t?"":!0===t?"SI":!1===t?"NO":void 0}}]),t}()).\u0275fac=function(t){return new(t||Vi)(f.Nb(U.d),f.Nb(s.a),f.Nb(R.a))},Vi.\u0275cmp=f.Hb({type:Vi,selectors:[["app-dati-particella-acc"]],decls:7,vars:5,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[1,"accordion-wrapper","dettaglioaccordion"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"header","selected"],[3,"columns","value","autoLayout","paginator","rows","responsive"],["tab",""],["pTemplate","header"],["pTemplate","body"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"]],template:function(t,i){1&t&&(f.Tb(0,"div",0),f.Tb(1,"div",1),f.Tb(2,"div",2),f.Ob(3,"p-toast",3),f.Tb(4,"div",4),f.Mc(5,ji,2,1,"div",5),f.Sb(),f.Mc(6,Gi,2,0,"div",6),f.Sb(),f.Sb(),f.Sb()),2&t&&(f.Bb(3),f.Kc(f.rc(4,Xi)),f.Bb(2),f.mc("ngForOf",i.interventi),f.Bb(1),f.mc("ngIf",!i.dettaglioDomandaAccoppiati.idDomanda))},directives:[_.a,a.s,a.t,et.a,et.c,it.q,U.e,it.p,it.o],styles:[""]}),Vi),te=e("XR+H"),ie=[{path:"",component:l.a,data:{mybreadcrumb:""},resolve:{domandaIstruttoria:r.a},children:[{path:"",component:B,children:[{path:"",redirectTo:d.a.controlliSostegno,pathMatch:"full"},{path:d.a.superficiImpegnate,component:It},{path:d.a.dichiarazioni,component:Nt},{path:d.a.datiIstruttoria,component:Y},{path:d.a.controlliSostegno,component:ni},{path:d.a.esiticalcoli,component:xi},{path:d.a.esitiParticelle,component:Yi},{path:d.a.datiLiquidazione,component:te.a}]}]}],ee=((Ji=function t(){_classCallCheck(this,t)}).\u0275mod=f.Lb({type:Ji}),Ji.\u0275inj=f.Kb({factory:function(t){return new(t||Ji)},imports:[[s.i.forChild(ie)]]}),Ji),ae=((Wi=function t(){_classCallCheck(this,t)}).\u0275mod=f.Lb({type:Wi}),Wi.\u0275inj=f.Kb({factory:function(t){return new(t||Wi)},providers:[r.a],imports:[[a.c,ee,c.a,o.a,n.SostegnoSharedModule]]}),Wi)}}]);