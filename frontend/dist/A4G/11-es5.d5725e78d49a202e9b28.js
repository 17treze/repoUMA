function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var i,o=_getPrototypeOf(e);if(t){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _createForOfIteratorHelper(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,c=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){c=!0,n=e},f:function(){try{r||null==i.return||i.return()}finally{if(c)throw n}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"7RJT":function(e,t,i){"use strict";var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),n=i("ds6q"),r=i("Mxlh");t.BehaviorSubject=function(e){function t(t){var i=e.call(this)||this;return i._value=t,i}return a(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var i=e.prototype._subscribe.call(this,t);return i&&!i.closed&&t.next(this._value),i},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new r.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(n.Subject)},FiyT:function(e,t,i){"use strict";var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});t.SubjectSubscription=function(e){function t(t,i){var o=e.call(this)||this;return o.subject=t,o.subscriber=i,o.closed=!1,o}return a(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var i=t.indexOf(this.subscriber);-1!==i&&t.splice(i,1)}}},t}(i("zB/H").Subscription)},GFTO:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var o=function(){function e(t,i){_classCallCheck(this,e),this.label=t,this.data=i}return _createClass(e,null,[{key:"fromEnteSede",value:function(t){return new e(t.descrizione,t)}}]),e}(),a=function(){function e(t,i,o){_classCallCheck(this,e),this.label=t,this.data=i,this.children=o,this.partialSelected=!1}return _createClass(e,null,[{key:"getTreeNode",value:function(t){var i=[];if(void 0!==t.sedi){var a,n=_createForOfIteratorHelper(t.sedi);try{for(n.s();!(a=n.n()).done;){var r=a.value;i.push(o.fromEnteSede(r))}}catch(c){n.e(c)}finally{n.f()}}return new e(t.descrizione,t.id,i)}},{key:"getTreeNodes",value:function(t){var i=[];t.sort((function(e,t){return e.descrizione>t.descrizione?1:e.descrizione<t.descrizione?-1:0}));var o,a=_createForOfIteratorHelper(t);try{for(a.s();!(o=a.n()).done;){var n=o.value;n.sedi.sort((function(e,t){return e.descrizione>t.descrizione?1:e.descrizione<t.descrizione?-1:0})),i.push(e.getTreeNode(n))}}catch(r){a.e(r)}finally{a.f()}return i}},{key:"selectEntiSedi",value:function(e,t){var i=[];return t&&e.forEach((function(e,o){var a=0;e.children.forEach((function(e,o){t.find((function(t){return t==e.data.id.valueOf()}))&&(i.push(e),a++)})),a>0&&(a===e.children.length?i=i.concat([e],e.children):e.partialSelected=!0)})),i}}]),e}()},Mxlh:function(e,t,i){"use strict";t.ObjectUnsubscribedError=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},"Vh/Q":function(e,t,i){"use strict";i.d(t,"a",(function(){return l}));var o=i("mrSG"),a=i("HDdC"),n=i("tk/3"),r=i("rNJQ"),c=i("fXoL"),s=i("dkQB"),l=function(){var e=function(){function e(t,i){_classCallCheck(this,e),this.http=t,this.configuration=i}return _createClass(e,[{key:"getDatiAnagraficiUtente",value:function(e){return this.http.get(this.configuration.UrlGetDomandaRegistrazioneUtente.replace("{id}",e.toString()))}},{key:"getDatiUtenteByCodiceFiscale",value:function(e){return this.http.get(this.configuration.UrlGetUtentiCodiceFiscale.replace("{codiceFiscale}",e))}},{key:"getDatiUtenteById",value:function(e){return this.http.get(this.configuration.UrlGetUtentiById.replace("{id}",e))}},{key:"getRichiesteAccessoSistemaPerStato",value:function(e,t){var i=e.getHttpParams(t);return this.http.get(this.configuration.UrlRicercaDomanda,{params:i})}},{key:"getOrdine",value:function(e){return 1===e?"ASC":"DESC"}},{key:"putPresaInCarico",value:function(e){var t=new n.f({"Content-Type":"application/json"});return this.http.put(this.configuration.UrlPresaInCarico.replace("${id}",e.toString()),{headers:t})}},{key:"approvaRichiestaAccessoSistema",value:function(e,t){var i=new n.f({"Content-Type":"application/json"});return this.http.put(this.configuration.UrlApprovaDomanda.replace("${id}",e.toString()),JSON.stringify(t),{headers:i})}},{key:"rifiutaRichiestaAccessoSistema",value:function(e,t){var i=new n.f({"Content-Type":"application/json"});return this.http.put(this.configuration.UrlRifiutaDomanda.replace("${id}",e.toString()),JSON.stringify(t),{headers:i})}},{key:"putDatiAnagraficiUtente",value:function(e){return this.http.get(this.configuration.UrlGetDomandaRegistrazioneUtente.replace("{id}",e.toString()))}},{key:"getIstruttoriaProfiloByDomanda",value:function(e){return this.http.get(this.configuration.UrlGetIstruttoriaByDomanda.replace("${id}",""+e))}},{key:"getStorico",value:function(e){return this.http.get(this.configuration.UrlGetStoricoIstruttoria.replace("${idUtente}",""+e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Xb(n.b),c.Xb(s.a))},e.\u0275prov=c.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),Object(o.b)([Object(r.a)(),Object(o.c)("design:type",Function),Object(o.c)("design:paramtypes",[Number]),Object(o.c)("design:returntype",a.a)],e.prototype,"getDatiAnagraficiUtente",null),Object(o.b)([Object(r.a)(),Object(o.c)("design:type",Function),Object(o.c)("design:paramtypes",[String]),Object(o.c)("design:returntype",a.a)],e.prototype,"getDatiUtenteByCodiceFiscale",null),e}()},bYf8:function(e,t,i){"use strict";i.d(t,"a",(function(){return a})),i.d(t,"b",(function(){return n}));var o=function e(){_classCallCheck(this,e)},a=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return i}(o),n=function(e){_inherits(i,e);var t=_createSuper(i);function i(){return _classCallCheck(this,i),t.apply(this,arguments)}return i}(o)},ds6q:function(e,t,i){"use strict";var o,a=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])})(e,t)},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),n=i("Q1FS"),r=i("FWf1"),c=i("zB/H"),s=i("Mxlh"),l=i("FiyT"),b=i("p//D"),u=function(e){function t(t){var i=e.call(this,t)||this;return i.destination=t,i}return a(t,e),t}(r.Subscriber);t.SubjectSubscriber=u;var d=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return a(t,e),t.prototype[b.rxSubscriber]=function(){return new u(this)},t.prototype.lift=function(e){var t=new p(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,i=t.length,o=t.slice(),a=0;a<i;a++)o[a].next(e)},t.prototype.error=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,i=t.length,o=t.slice(),a=0;a<i;a++)o[a].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,i=e.slice(),o=0;o<t;o++)i[o].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new s.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),c.Subscription.EMPTY):this.isStopped?(e.complete(),c.Subscription.EMPTY):(this.observers.push(e),new l.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new n.Observable;return e.source=this,e},t.create=function(e,t){return new p(e,t)},t}(n.Observable);t.Subject=d;var p=function(e){function t(t,i){var o=e.call(this)||this;return o.destination=t,o.source=i,o}return a(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):c.Subscription.EMPTY},t}(d);t.AnonymousSubject=p},"eM/+":function(e,t,i){"use strict";i.d(t,"a",(function(){return o}));var o=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"itCalendar",value:function(){return{firstDayOfWeek:0,dayNames:["Domenica","Luned\xec","Marted\xec","Mercoled\xec","Gioved\xec","Venerd\xec","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],today:"Oggi",clear:"Cancella"}}}]),e}()},sqTO:function(e,t,i){"use strict";i.r(t),i.d(t,"GestioneUtenzeModule",(function(){return Oi}));var o,a,n=i("R69K"),r=i("tyNb"),c=i("ofXK"),s=i("69Tm"),l=i("/vOn"),b=i("Tn7N"),u=i("7RJT"),d=i("fXoL"),p=((o=function(){function e(){_classCallCheck(this,e),this.counters=new u.BehaviorSubject({stato:"",count:0}),this.currentCounters=this.counters.asObservable(),this.timersForChangeCounters=new u.BehaviorSubject(0),this.currentTimersForChangeCounters=this.timersForChangeCounters.asObservable()}return _createClass(e,[{key:"changeCounters",value:function(e){this.counters.next(e)}},{key:"changeCountersForApproveOrDanied",value:function(){this.timersForChangeCounters.next((new Date).getMilliseconds())}}]),e}()).\u0275fac=function(e){return new(e||o)},o.\u0275prov=d.Jb({token:o,factory:o.\u0275fac,providedIn:"root"}),o),f=i("1G5W"),h=i("vkgz"),g=i("XNiG"),m=i("OSEj"),v=i("eZS7"),S=i("tk/3"),T=i("6b9K"),y=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getHttpParams",value:function(e){var t=new S.g;return m.a.isNotEmpty(this.stato)&&(t=t.append("stato",this.stato)),m.a.isNotEmpty(this.filtroGenerico)&&(t=t.append("filtroGenerico",this.filtroGenerico)),m.a.isNotEmpty(this.codiceFiscale)&&(t=t.append("codiceFiscaleUpperLike",this.codiceFiscale)),m.a.isNotEmpty(this.cognome)&&(t=t.append("cognome",this.cognome)),m.a.isNotEmpty(this.nome)&&(t=t.append("nome",this.nome)),m.a.isNotEmpty(this.idProtocollazione)&&(t=t.append("idProtocollo",this.idProtocollazione)),m.a.isNotEmpty(this.dataInizio)&&(t=t.append("dataInizio",this.dataInizio)),m.a.isNotEmpty(this.dataFine)&&(t=t.append("dataFine",this.dataFine)),t=T.a.fillHttpParamsWith(t,e)}}],[{key:"of",value:function(t,i,o,a,n,r,c,s){var l=new e;return l.filtroGenerico=t,l.stato=i,l.codiceFiscale=o,l.nome=a,l.cognome=n,l.idProtocollazione=r,l.dataInizio=c,l.dataFine=s,l}}]),e}(),O=i("eM/+"),C=i("RtSl"),P=i("arS9"),z=i("yhG/"),D=i("3Pt+"),A=i("DYOT"),B=i("GLSp"),R=i("A1Yd"),M=i("rgW5"),I=i("Vh/Q"),k=function e(){_classCallCheck(this,e),this.count=0},E=i("Kj3r"),w=i("/uUt"),_=["table"],F=((a=function(){function e(t,i,o,a,n){var r=this;_classCallCheck(this,e),this.gestioneUtenzeService=t,this.messages=i,this.sharedService=o,this.router=a,this.route=n,this.intestazioni=s.a,this.elementiPerPagina=10,this.numeroPagina=0,this.inputFilter="",this.proprieta="",this.ordine="",this.inputFilterUpdate=new g.a,this.componentDestroyed$=new g.a,this.defaultSortingColumn=void 0,this.defaultSortingOrder=void 0,this.inputFilterUpdate.pipe(Object(E.a)(400),Object(w.a)()).subscribe((function(e){r.inputFilter=e,r.updatePageParameter(0,e,r.proprieta,r.ordine)}))}return _createClass(e,[{key:"viewDetail",value:function(e){this.router.navigate(["./gestioneUtenze/:idUtenza/dettaglioUtenza".replace(":idUtenza",e.toString())],{relativeTo:this.route.parent.parent})}},{key:"updatePageParameter",value:function(e,t,i,o){this.router.navigate([],{replaceUrl:!0,queryParams:{inputFilters:t,page:e,sortOrder:o,sortProperty:i},queryParamsHandling:"merge"})}},{key:"getElencoRichieste",value:function(e){null!=e&&null!=e.sortField&&(this.proprieta=e.sortField,this.ordine=this.gestioneUtenzeService.getOrdine(e.sortOrder)),this.numeroPagina=Math.floor(this.table.first/this.elementiPerPagina),this.updatePageParameter(this.numeroPagina,this.inputFilter,this.proprieta,this.ordine)}},{key:"refreshElencoRichieste",value:function(){var e=this,t=y.of(this.inputFilter,this.stato,this.codiceFiscale,this.nome,this.cognome,this.idProtocollazione,this.dataInizio,this.dataFine),i=this.proprieta;!i||"dtApprovazione"!==i&&"dtRifiuto"!==i||(i="istruttoriaEntita.dataTermineIstruttoria");var o=T.a.of(this.numeroPagina,this.elementiPerPagina,i,this.ordine);this.sharedService.changeCountersForApproveOrDanied(),this.gestioneUtenzeService.getRichiesteAccessoSistemaPerStato(t,o).subscribe((function(t){return e.gestisciRispostaRicarcaAccessoSistema(t)}),(function(t){return e.messages.add(b.a.getToast("tst",b.b.error,b.a.erroreRecuperoDati))}))}},{key:"setupRouting",value:function(e){var t=this;this.route.queryParams.pipe(Object(h.a)((function(i){var o=i.page;o&&(t.numeroPagina=Number.parseInt(o)),t.ordine=i.sortOrder,t.proprieta=i.sortProperty,t.inputFilter=i.inputFilters,i.tabselected===e&&t.valorizzaParametriRicercaFrom(i),t.refreshElencoRichieste()})),Object(f.a)(this.componentDestroyed$)).subscribe((function(e){}),(function(e){})),this.paginaDomande=new k,this.paginaDomande.risultati=[]}},{key:"valorizzaParametriRicercaFrom",value:function(e){null!=e&&(this.codiceFiscale=e.codiceFiscale,this.cognome=e.cognome,this.nome=e.nome,this.idProtocollazione=e.idProtocollo,this.dataInizio=e.dataInizio,this.dataFine=e.dataFine,this.ordine||(this.ordine=this.defaultSortingOrder),this.proprieta||(this.proprieta=this.defaultSortingColumn))}},{key:"gestisciRispostaRicarcaAccessoSistema",value:function(e){var t=[];e&&(e.risultati.forEach((function(e){return t.push(e)})),this.paginaDomande.count=e.count,this.paginaDomande.risultati=t)}}]),e}()).\u0275fac=function(e){return new(e||a)(d.Nb(I.a),d.Nb(C.d),d.Nb(p),d.Nb(r.e),d.Nb(r.a))},a.\u0275dir=d.Ib({type:a,viewQuery:function(e,t){var i;1&e&&d.Jc(_,!0),2&e&&d.Ac(i=d.cc())&&(t.table=i.first)}}),a),U=i("yWug"),N=i("x5p7"),x=i("sYmb");function $(e,t){if(1&e&&d.Ob(0,"p-sortIcon",11),2&e){var i=d.fc().$implicit;d.mc("field",i.header)}}function j(e,t){if(1&e&&(d.Tb(0,"th",9),d.Tb(1,"strong"),d.Oc(2),d.Sb(),d.Mc(3,$,1,1,"p-sortIcon",10),d.Sb()),2&e){var i=t.$implicit;d.mc("pSortableColumn",i.field)("pSortableColumnDisabled",null==i.field),d.Bb(2),d.Pc(i.header),d.Bb(1),d.mc("ngIf",i.field)}}function L(e,t){if(1&e&&(d.Tb(0,"tr"),d.Mc(1,j,4,4,"th",8),d.Sb()),2&e){var i=t.$implicit;d.Bb(1),d.mc("ngForOf",i)}}function G(e,t){if(1&e){var i=d.Ub();d.Tb(0,"tr",12),d.Tb(1,"td"),d.Oc(2),d.gc(3,"translate"),d.Sb(),d.Tb(4,"td"),d.Oc(5),d.gc(6,"date"),d.Sb(),d.Tb(7,"td"),d.Oc(8),d.Sb(),d.Tb(9,"td"),d.Oc(10),d.Sb(),d.Tb(11,"td"),d.Oc(12),d.Sb(),d.Tb(13,"td",13),d.Ob(14,"img",14),d.Ob(15,"img",15),d.Sb(),d.Tb(16,"td",16),d.Tb(17,"div",17),d.Tb(18,"div",18),d.Tb(19,"p-button",19),d.bc("click",(function(){d.Ec(i);var e=t.$implicit;return d.fc().viewDetail(e.id)})),d.Sb(),d.Sb(),d.Tb(20,"div",18),d.Tb(21,"p-button",20),d.bc("click",(function(){d.Ec(i);var e=t.$implicit;return d.fc().changeStatus(e.id)})),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb()}if(2&e){var o=t.$implicit,a=d.fc();d.mc("pSelectableRow",o),d.Bb(2),d.Pc(null!=o.idProtocollo?o.idProtocollo:d.hc(3,10,"gestioneUtenze.IN_PROTOCOLLAZIONE")),d.Bb(3),d.Pc(d.ic(6,12,o.dataProtocollazione,"dd/MM/yyyy")),d.Bb(3),d.Pc(o.datiAnagrafici.nome),d.Bb(2),d.Pc(o.datiAnagrafici.cognome),d.Bb(2),d.Pc(o.datiAnagrafici.codiceFiscale),d.Bb(2),d.nc("pTooltip",o.datiAnagrafici.telefono),d.Bb(1),d.nc("pTooltip",o.datiAnagrafici.email),d.Bb(4),d.nc("title",a.intestazioni.dettaglioDomanda),d.Bb(2),d.nc("title",a.intestazioni.presaInCarico)}}function H(e,t){if(1&e&&(d.Tb(0,"tr"),d.Tb(1,"td"),d.Oc(2),d.Sb(),d.Sb()),2&e){var i=t.$implicit,o=d.fc();d.Bb(1),d.Cb("colspan",i.length+2),d.Bb(1),d.Qc(" ",o.intestazioni.noTableContent," ")}}var q,Q=((q=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,o,a,n,r){var c;return _classCallCheck(this,i),(c=t.call(this,e,o,a,n,r)).gestioneUtenzeService=e,c.messages=o,c.sharedService=a,c.router=n,c.route=r,c.setCols(),c.stato=c.intestazioni.protocollata,c.defaultSortingColumn="dtProtocollazione",c.defaultSortingOrder="ASC",c}return _createClass(i,[{key:"ngOnInit",value:function(){this.setupRouting("protocollate")}},{key:"changeStatus",value:function(e){var t=this;this.gestioneUtenzeService.putPresaInCarico(e).subscribe((function(e){t.messages.add(b.a.getToast("tst",b.b.success,b.a.OPERAZIONE_OK)),t.router.navigate([],{replaceUrl:!1,queryParams:{tabselected:"inlavorazione"},queryParamsHandling:"merge"})}),(function(e){t.messages.add(b.a.getToast("tst",b.b.error,b.a.changeStatusKo))}))}},{key:"setCols",value:function(){this.cols=[{field:"idProtocollo",header:this.intestazioni.nrProtocollo},{field:"dtProtocollazione",header:this.intestazioni.dtProtocollazione},{field:"nome",header:this.intestazioni.nome},{field:"cognome",header:this.intestazioni.cognome},{field:"codiceFiscale",header:this.intestazioni.codiceFiscale},{field:null,header:this.intestazioni.contatti},{field:null,header:this.intestazioni.azioni}]}}]),i}(F)).\u0275fac=function(e){return new(e||q)(d.Nb(I.a),d.Nb(C.d),d.Nb(p),d.Nb(r.e),d.Nb(r.a))},q.\u0275cmp=d.Hb({type:q,selectors:[["app-richieste-protocollate"]],features:[d.yb],decls:10,vars:13,consts:[[1,"ui-grid-fixed","boxgrey"],[1,"layout-actionmenu","layout--gestione-utenze"],[1,"mb-3"],[1,"table--gestione-utenze",3,"columns","value","autoLayout","sortField","totalRecords","paginator","first","rows","lazy","responsive","onLazyLoad"],["table",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field",4,"ngIf"],[3,"field"],[3,"pSelectableRow"],[2,"text-align","center"],["src","assets/img/icons/phone.png","alt","phone","tooltipPosition","left","tooltipStyleClass","tooltip--white",1,"mr-4",3,"pTooltip"],["src","assets/img/icons/mail.png","alt","phone","tooltipPosition","right",3,"pTooltip"],[2,"width","auto"],[1,"ui-g","icon-action"],[1,""],["icon","fa ui-icon-visibility","iconPos","center",3,"title","click"],["icon","fa ui-icon-send","iconPos","center",3,"title","click"]],template:function(e,t){1&e&&(d.Tb(0,"div",0),d.Tb(1,"div",1),d.Tb(2,"h3",2),d.Oc(3),d.gc(4,"translate"),d.Sb(),d.Tb(5,"p-table",3,4),d.bc("onLazyLoad",(function(e){return t.getElencoRichieste(e)})),d.Mc(7,L,2,1,"ng-template",5),d.Mc(8,G,22,15,"ng-template",6),d.Mc(9,H,3,2,"ng-template",7),d.Sb(),d.Sb(),d.Sb()),2&e&&(d.Bb(3),d.Pc(d.hc(4,11,"gestioneUtenze.PROTOCOLLATE")),d.Bb(2),d.mc("columns",t.cols)("value",t.paginaDomande.risultati)("autoLayout",!0)("sortField",t.proprieta)("totalRecords",t.paginaDomande.count)("paginator",!0)("first",t.numeroPagina*t.elementiPerPagina)("rows",t.elementiPerPagina)("lazy",!0)("responsive",!0))},directives:[U.q,C.e,c.s,U.p,c.t,U.o,U.m,N.a,R.a],pipes:[x.d,c.f],styles:[""]}),q),V=function e(){_classCallCheck(this,e)},Z=function e(){_classCallCheck(this,e)},K=i("A+aF");function J(e,t){if(1&e){var i=d.Ub();d.Tb(0,"div",1),d.Tb(1,"p-dialog",2,3),d.bc("visibleChange",(function(e){return d.Ec(i),d.fc().display=e})),d.gc(3,"translate"),d.Tb(4,"div",4),d.Tb(5,"div",5),d.Tb(6,"h6"),d.Oc(7,"Stai per approvare la domanda di "),d.Tb(8,"strong"),d.Oc(9),d.Sb(),d.Oc(10),d.gc(11,"date"),d.Sb(),d.Sb(),d.Tb(12,"div",6),d.Tb(13,"h6",7),d.Tb(14,"strong"),d.Oc(15,"Testo della mail *"),d.Sb(),d.Sb(),d.Tb(16,"textarea",8),d.bc("ngModelChange",(function(e){return d.Ec(i),d.fc().testoMail=e})),d.Sb(),d.Sb(),d.Tb(17,"div",6),d.Tb(18,"h6",7),d.Tb(19,"strong"),d.Oc(20,"Aggiungi note "),d.Tb(21,"em"),d.Oc(22,"(opzionale)"),d.Sb(),d.Sb(),d.Sb(),d.Tb(23,"textarea",9),d.bc("ngModelChange",(function(e){return d.Ec(i),d.fc().note=e})),d.Oc(24,"        "),d.Sb(),d.Sb(),d.Tb(25,"div",10),d.Tb(26,"div",11),d.Tb(27,"div",12),d.Tb(28,"h6",13),d.Tb(29,"strong"),d.Oc(30,"Comunica le credenziali di accesso all'utente"),d.Sb(),d.Sb(),d.Sb(),d.Tb(31,"div",12),d.Tb(32,"div",14),d.Ob(33,"img",15),d.Tb(34,"span"),d.Oc(35),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Ob(36,"hr"),d.Tb(37,"div",16),d.Tb(38,"button",17),d.bc("click",(function(){d.Ec(i);var e=d.fc();return e.approvaDomanda(e.richiestaAccessoCorrente.id)})),d.gc(39,"translate"),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb()}if(2&e){var o=d.fc();d.Bb(1),d.nc("header",d.hc(3,15,"RICHIESTE_ACCESSO.approvaDomanda")),d.mc("visible",o.display)("dismissableMask",!0)("modal",!0)("focusOnShow",!1)("closable",!0)("closeOnEscape",!0),d.Bb(8),d.Rc(" ",o.richiestaAccessoCorrente.datiAnagrafici.nome.toUpperCase()," ",o.richiestaAccessoCorrente.datiAnagrafici.cognome.toUpperCase(),""),d.Bb(1),d.Rc(" (Prot. ",o.richiestaAccessoCorrente.idProtocollo," del ",d.ic(11,17,o.richiestaAccessoCorrente.dataProtocollazione,"dd/MM/yyyy"),") "),d.Bb(6),d.mc("ngModel",o.testoMail),d.Bb(7),d.mc("ngModel",o.note),d.Bb(12),d.Pc(o.richiestaAccessoCorrente.datiAnagrafici.telefono),d.Bb(3),d.nc("label",d.hc(39,20,"RICHIESTE_ACCESSO.approvaDomanda"))}}var Y,W=((Y=function(){function e(t,i,o){_classCallCheck(this,e),this.messages=t,this.gestioneUtenzeSerice=i,this.router=o,this.testoMail="",this.displayChange=new d.n,this.displayApprovazioneDialog=!1}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onOpen",value:function(e){this.display=!0,this.displayChange.emit(!0),this.note=null,this.testoMail="Gentile "+e.nome+" "+e.cognome+",\ncome da richiesta si \xe8 provveduto ad abilitarla al Sistema Informativo A4G al quale potr\xe0 accedere nei seguenti modi:\n\n- Da smartphone attraverso il seguente link: https://myappag.it accedendo con CPS/CNS o con SPID\n\n- Da personal computer o tablet attraverso il seguente link: https://a4g.provincia.tn.it\n\nAccedendo \u201ccome cittadino\u201d potr\xe0 scegliere di autenticarsi con CPS/CNS o con SPID.\nSe possiede un'utenza della Provincia Autonoma di Trento, potr\xe0 accedere \u201ccome dipendente\u201d.\nDopo l\u2019autenticazione, nella sezione A4G - Nuovo Sistema Informativo Agricoltura, dovr\xe0 selezionare il profilo interessato per poter operare.\nCordiali saluti."}},{key:"onClose",value:function(){this.display=!1,this.displayChange.emit(!1)}},{key:"approvaDomanda",value:function(e){var t=this;if(this.testoMail.trim().length>0){var i=new Z;i.idDomanda=e,i.testoMail=this.testoMail,i.note=this.note,console.log(i),this.gestioneUtenzeSerice.approvaRichiestaAccessoSistema(e,i).subscribe((function(e){t.messages.add(b.a.getToast("tst",b.b.success,b.a.OPERAZIONE_OK)),t.onClose(),t.router.navigate([],{replaceUrl:!1,queryParams:{tabselected:"approvate"},queryParamsHandling:"merge"})}),(function(e){t.messages.add(b.a.getToast("tst",b.b.error,b.a.salvataggioDatiKo))}))}else this.messages.add(b.a.getToast("tst",b.b.warn,b.a.inputRequiredInvalid))}}]),e}()).\u0275fac=function(e){return new(e||Y)(d.Nb(C.d),d.Nb(I.a),d.Nb(r.e))},Y.\u0275cmp=d.Hb({type:Y,selectors:[["app-approvazione-dialog"]],inputs:{richiestaAccessoCorrente:"richiestaAccessoCorrente"},outputs:{displayChange:"displayChange"},decls:1,vars:1,consts:[["id","confirm",4,"ngIf"],["id","confirm"],["width","710","appendTo","body",3,"visible","header","dismissableMask","modal","focusOnShow","closable","closeOnEscape","visibleChange"],["dialog",""],[1,"popup-approvazione","popup--custom"],[1,"mb-4"],[1,"boxgrey","p-3","mb-3"],[1,"mb-3"],["rows","10","cols","30","pInputTextarea","","id","mail","type","text","autoResize","true","required","",2,"width","-webkit-fill-available",3,"ngModel","ngModelChange"],["pInputTextarea","","id","note","type","text","autoResize","true",2,"width","-webkit-fill-available",3,"ngModel","ngModelChange"],[1,"boxgrey","p-3"],[1,"row","align-items-center"],[1,"col-6"],[1,"mb-0"],[1,"d-flex","align-items-center"],["src","assets/img/icons/phone-outgoing.svg","alt","phone",1,"mr-2"],[1,"d-flex","justify-content-end"],["pButton","","icon","fa ui-icon-check","type","submit",1,"button--success",3,"label","click"]],template:function(e,t){1&e&&d.Mc(0,J,40,22,"div",0),2&e&&d.mc("ngIf",t.richiestaAccessoCorrente)},directives:[c.t,K.a,D.c,D.D,D.s,D.v,R.b],pipes:[x.d,c.f],styles:[""]}),Y),X=function e(){_classCallCheck(this,e)},ee=i("1SSY");function te(e,t){if(1&e){var i=d.Ub();d.Tb(0,"div",1),d.Tb(1,"p-dialog",2,3),d.bc("visibleChange",(function(e){return d.Ec(i),d.fc().display=e})),d.gc(3,"translate"),d.Tb(4,"div",4),d.Tb(5,"div",5),d.Tb(6,"h6"),d.Oc(7,"Stai per rifiutare la domanda di "),d.Tb(8,"strong"),d.Oc(9),d.Sb(),d.Oc(10),d.gc(11,"date"),d.Sb(),d.Sb(),d.Tb(12,"div",6),d.Tb(13,"h6",7),d.Tb(14,"strong"),d.Oc(15,"Per quale motivo la domanda \xe8 stata rifiutata? *"),d.Sb(),d.Sb(),d.Tb(16,"div"),d.Tb(17,"p-dropdown",8),d.bc("ngModelChange",(function(e){return d.Ec(i),d.fc().motivazioneRifiuto=e})),d.Sb(),d.Sb(),d.Sb(),d.Tb(18,"div",6),d.Tb(19,"h6",7),d.Tb(20,"strong"),d.Oc(21,"Testo della mail *"),d.Sb(),d.Sb(),d.Tb(22,"textarea",9),d.bc("ngModelChange",(function(e){return d.Ec(i),d.fc().testoMail=e})),d.Sb(),d.Sb(),d.Tb(23,"div",6),d.Tb(24,"h6",7),d.Tb(25,"strong"),d.Oc(26,"Aggiungi note "),d.Tb(27,"em"),d.Oc(28,"(opzionale)"),d.Sb(),d.Sb(),d.Sb(),d.Tb(29,"textarea",10),d.bc("ngModelChange",(function(e){return d.Ec(i),d.fc().note=e})),d.Oc(30,"            "),d.Sb(),d.Sb(),d.Ob(31,"hr"),d.Tb(32,"div",11),d.Tb(33,"button",12),d.bc("click",(function(){return d.Ec(i),d.fc().rifiutaDomanda()})),d.gc(34,"translate"),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb()}if(2&e){var o=d.fc();d.Bb(1),d.nc("header",d.hc(3,16,"RICHIESTE_ACCESSO.rifiutaDomanda")),d.mc("visible",o.display)("dismissableMask",!0)("modal",!0)("focusOnShow",!1)("closable",!0)("closeOnEscape",!0),d.Bb(8),d.Rc(" ",o.richiestaAccessoCorrente.datiAnagrafici.nome.toUpperCase()," ",o.richiestaAccessoCorrente.datiAnagrafici.cognome.toUpperCase(),""),d.Bb(1),d.Rc(" (Prot. ",o.richiestaAccessoCorrente.idProtocollo," del ",d.ic(11,18,o.richiestaAccessoCorrente.dataProtocollazione,"dd/MM/yyyy"),") "),d.Bb(7),d.mc("options",o.possibiliMorivazioni)("ngModel",o.motivazioneRifiuto),d.Bb(5),d.mc("ngModel",o.testoMail),d.Bb(7),d.mc("ngModel",o.note),d.Bb(4),d.nc("label",d.hc(34,21,"RICHIESTE_ACCESSO.rifiutaDomanda"))}}var ie,oe=((ie=function(){function e(t,i,o){_classCallCheck(this,e),this.gestioneUtenzeSerice=t,this.messages=i,this.router=o,this.displayChange=new d.n,this.possibiliMorivazioni=[],this.displayRifiutoDialog=!1}return _createClass(e,[{key:"ngOnInit",value:function(){this.initPossibiliMotivazioni()}},{key:"onOpen",value:function(e){this.display=!0,this.displayChange.emit(!0),this.testoMail="Gentile "+e.nome+" "+e.cognome+",\ncon la presente si comunica che la Sua richiesta per accedere al Sistema Informativo A4G non pu\xf2 essere accolta per la seguente motivazione:\n\nCordiali saluti.",this.motivazioneRifiuto=null,this.note=null}},{key:"onClose",value:function(){this.display=!1,this.displayChange.emit(!1)}},{key:"rifiutaDomanda",value:function(){this.validaRifiutoDomanda()?this.messages.add(b.a.getToast("tst",b.b.warn,b.a.inputRequiredInvalid)):this.callService(this.richiestaAccessoCorrente.id,this.creaRichiestaAccessoSistemaRifiuto())}},{key:"validaRifiutoDomanda",value:function(){return m.a.isNullOrEmpty(this.testoMail)||m.a.isNullOrEmpty(this.motivazioneRifiuto)}},{key:"callService",value:function(e,t){var i=this;this.gestioneUtenzeSerice.rifiutaRichiestaAccessoSistema(e,t).subscribe((function(e){i.messages.add(b.a.getToast("tst",b.b.success,b.a.OPERAZIONE_OK)),i.onClose(),i.router.navigate(["./funzioniPat/gestioneUtenze/"],{replaceUrl:!1,queryParams:{tabselected:"rifiutate"},queryParamsHandling:"merge"})}),(function(e){i.messages.add(b.a.getToast("tst",b.b.error,b.a.salvataggioDatiKo))}))}},{key:"creaRichiestaAccessoSistemaRifiuto",value:function(){var e=new X;return e.id=this.richiestaAccessoCorrente.id,e.motivazioneRifiuto=this.motivazioneRifiuto,e.note=this.note,e.testoMail=this.testoMail,e}},{key:"initPossibiliMotivazioni",value:function(){this.possibiliMorivazioni.push({label:"Seleziona",value:null}),this.possibiliMorivazioni.push({label:"Rifiuto domanda di accesso al sistema",value:"Rifiuto domanda di accesso al sistema"})}}]),e}()).\u0275fac=function(e){return new(e||ie)(d.Nb(I.a),d.Nb(C.d),d.Nb(r.e))},ie.\u0275cmp=d.Hb({type:ie,selectors:[["app-rifiuto-dialog"]],inputs:{richiestaAccessoCorrente:"richiestaAccessoCorrente"},outputs:{displayChange:"displayChange"},decls:1,vars:1,consts:[["id","confirm",4,"ngIf"],["id","confirm"],["width","710","appendTo","body",3,"visible","header","dismissableMask","modal","focusOnShow","closable","closeOnEscape","visibleChange"],["dialog",""],[1,"popup-approvazione","popup--custom"],[1,"mb-4"],[1,"boxgrey","p-3","mb-3"],[1,"mb-3"],["name","possibiliMorivazioni",3,"options","ngModel","ngModelChange"],["rows","6","cols","30","pInputTextarea","","id","mail","type","text","autoResize","true","required","",2,"width","-webkit-fill-available",3,"ngModel","ngModelChange"],["pInputTextarea","","id","note","type","text","autoResize","true",2,"width","-webkit-fill-available",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-end"],["pButton","","icon","pi pi-ban","type","submit",1,"button--rifiuta",3,"label","click"]],template:function(e,t){1&e&&d.Mc(0,te,35,23,"div",0),2&e&&d.mc("ngIf",t.richiestaAccessoCorrente)},directives:[c.t,K.a,ee.a,D.s,D.v,D.c,D.D,R.b],pipes:[x.d,c.f],styles:[""]}),ie),ae=["approvazioneDialog"],ne=["rifiutoDialog"];function re(e,t){if(1&e&&d.Ob(0,"p-sortIcon",14),2&e){var i=d.fc().$implicit;d.mc("field",i.header)}}function ce(e,t){if(1&e&&(d.Tb(0,"th",12),d.Tb(1,"strong"),d.Oc(2),d.Sb(),d.Mc(3,re,1,1,"p-sortIcon",13),d.Sb()),2&e){var i=t.$implicit;d.mc("pSortableColumn",i.field)("pSortableColumnDisabled",null==i.field),d.Bb(2),d.Pc(i.header),d.Bb(1),d.mc("ngIf",i.field)}}function se(e,t){if(1&e&&(d.Tb(0,"tr"),d.Mc(1,ce,4,4,"th",11),d.Sb()),2&e){var i=t.$implicit;d.Bb(1),d.mc("ngForOf",i)}}function le(e,t){if(1&e){var i=d.Ub();d.Tb(0,"span"),d.Tb(1,"p-button",29),d.bc("onClick",(function(){d.Ec(i);var e=d.fc().$implicit;return d.fc().goToDetailWithDialog(e.id)})),d.Ob(2,"img",30),d.Sb(),d.Sb()}}function be(e,t){if(1&e){var i=d.Ub();d.Tb(0,"span"),d.Tb(1,"p-button",29),d.bc("onClick",(function(){d.Ec(i);var e=d.fc().$implicit;return d.fc().goToDetailWithDialog(e.id)})),d.Ob(2,"img",31),d.Sb(),d.Sb()}}function ue(e,t){if(1&e){var i=d.Ub();d.Tb(0,"tr",15),d.Tb(1,"td"),d.Oc(2),d.Sb(),d.Tb(3,"td"),d.Oc(4),d.gc(5,"date"),d.Sb(),d.Tb(6,"td"),d.Oc(7),d.Sb(),d.Tb(8,"td"),d.Oc(9),d.Sb(),d.Tb(10,"td"),d.Oc(11),d.Sb(),d.Tb(12,"td",16),d.Ob(13,"img",17),d.Ob(14,"img",18),d.Sb(),d.Tb(15,"td",16),d.Mc(16,le,3,0,"span",19),d.Mc(17,be,3,0,"ng-template",null,20,d.Nc),d.Sb(),d.Tb(19,"td",21),d.Tb(20,"div",22),d.Tb(21,"div"),d.Tb(22,"p-button",23),d.bc("onClick",(function(){d.Ec(i);var e=t.$implicit;return d.fc().viewDetail(e.id)})),d.Ob(23,"img",24),d.Sb(),d.Sb(),d.Tb(24,"div"),d.Tb(25,"p-button",25),d.bc("onClick",(function(){d.Ec(i);var e=t.$implicit;return d.fc().showDialog(e)})),d.Ob(26,"img",26),d.Sb(),d.Sb(),d.Tb(27,"div"),d.Tb(28,"p-button",27),d.bc("onClick",(function(){d.Ec(i);var e=t.$implicit;return d.fc().showDialogRifiutoDomandaRichiestaUtente(e)})),d.Ob(29,"i",28),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb()}if(2&e){var o=t.$implicit,a=d.Bc(18),n=d.fc();d.mc("pSelectableRow",o),d.Bb(2),d.Pc(o.idProtocollo),d.Bb(2),d.Pc(d.ic(5,15,o.dataProtocollazione,"dd/MM/yyyy")),d.Bb(3),d.Pc(o.datiAnagrafici.nome),d.Bb(2),d.Pc(o.datiAnagrafici.cognome),d.Bb(2),d.Pc(o.datiAnagrafici.codiceFiscale),d.Bb(2),d.nc("pTooltip",o.datiAnagrafici.telefono),d.Bb(1),d.nc("pTooltip",o.datiAnagrafici.email),d.Bb(2),d.mc("ngIf",o.configurato)("ngIfElse",a),d.Bb(6),d.nc("title",n.intestazioni.dettaglioDomanda),d.Bb(3),d.nc("title",n.intestazioni.approvaDomanda),d.mc("disabled",!o.configurato),d.Bb(3),d.nc("title",n.intestazioni.rifiutaDomanda),d.mc("disabled",!o.configurato)}}function de(e,t){if(1&e&&(d.Tb(0,"tr"),d.Tb(1,"td"),d.Oc(2),d.Sb(),d.Sb()),2&e){var i=t.$implicit,o=d.fc();d.Bb(1),d.Cb("colspan",i.length+2),d.Bb(1),d.Qc(" ",o.intestazioni.noTableContent," ")}}var pe,fe=((pe=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,o,a,n,r){var c;return _classCallCheck(this,i),(c=t.call(this,e,o,a,n,r)).gestioneUtenzeService=e,c.messages=o,c.sharedService=a,c.router=n,c.route=r,c.setCols(),c.stato=c.intestazioni.in_lavorazione,c.defaultSortingColumn="dtProtocollazione",c.defaultSortingOrder="ASC",c}return _createClass(i,[{key:"ngOnInit",value:function(){this.setupRouting("inlavorazione")}},{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}},{key:"showDialog",value:function(e){this.approvazioneDialog.onOpen(e.datiAnagrafici),this.richiestaAccessoCorrente=e}},{key:"showDialogRifiutoDomandaRichiestaUtente",value:function(e){this.rifiutoDialog.onOpen(e.datiAnagrafici),this.richiestaAccessoCorrente=e}},{key:"onDialogClose",value:function(e){e||this.refreshElencoRichieste()}},{key:"goToDetailWithDialog",value:function(e){this.router.navigate(["./gestioneUtenze/:idUtenza/dettaglioUtenza".replace(":idUtenza",e.toString())],{relativeTo:this.route.parent.parent,queryParams:{dialog:1}})}},{key:"setCols",value:function(){this.cols=[{field:"idProtocollo",header:this.intestazioni.nrProtocollo},{field:"dtProtocollazione",header:this.intestazioni.dtProtocollazione},{field:"nome",header:this.intestazioni.nome},{field:"cognome",header:this.intestazioni.cognome},{field:"codiceFiscale",header:this.intestazioni.codiceFiscale},{field:null,header:this.intestazioni.contatti},{field:"configurato",header:this.intestazioni.configurato},{field:null,header:this.intestazioni.azioni}]}}]),i}(F)).\u0275fac=function(e){return new(e||pe)(d.Nb(I.a),d.Nb(C.d),d.Nb(p),d.Nb(r.e),d.Nb(r.a))},pe.\u0275cmp=d.Hb({type:pe,selectors:[["app-richieste-in-lavorazione"]],viewQuery:function(e,t){var i;1&e&&(d.Jc(ae,!0),d.Jc(ne,!0)),2&e&&(d.Ac(i=d.cc())&&(t.approvazioneDialog=i.first),d.Ac(i=d.cc())&&(t.rifiutoDialog=i.first))},features:[d.yb],decls:14,vars:15,consts:[[3,"richiestaAccessoCorrente","displayChange"],["approvazioneDialog",""],["rifiutoDialog",""],[1,"ui-grid-fixed","boxgrey"],[1,"layout-actionmenu","layout--gestione-utenze"],[1,"mb-3"],[1,"table--gestione-utenze",3,"columns","value","autoLayout","sortField","totalRecords","paginator","first","rows","lazy","responsive","onLazyLoad"],["table",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field",4,"ngIf"],[3,"field"],[3,"pSelectableRow"],[2,"text-align","center"],["src","assets/img/icons/phone.png","alt","phone","tooltipPosition","left","tooltipStyleClass","tooltip--white",1,"mr-4",3,"pTooltip"],["src","assets/img/icons/mail.png","alt","phone","tooltipStyleClass","tooltip--white","tooltipPosition","right",3,"pTooltip"],[4,"ngIf","ngIfElse"],["notConfigured",""],[2,"width","auto"],[1,"ui-g","icon-action","actions--gestione-utenze"],[3,"title","onClick"],["src","assets/img/icons/eye.png","alt","eye"],["bg-green","",3,"title","disabled","onClick"],["src","assets/img/icons/arrow-right.png","alt","arrow-right"],["bg-red","",3,"title","disabled","onClick"],[1,"pi","pi-ban"],[3,"onClick"],["src","assets/img/icons/user-enabled.svg","alt","user-enabled","pTooltip","Configurato","tooltipPosition","top"],["src","assets/img/icons/user-disabled.svg","alt","user-disabled","pTooltip","Non configurato","tooltipPosition","top"]],template:function(e,t){1&e&&(d.Tb(0,"app-approvazione-dialog",0,1),d.bc("displayChange",(function(e){return t.onDialogClose(e)})),d.Sb(),d.Tb(2,"app-rifiuto-dialog",0,2),d.bc("displayChange",(function(e){return t.onDialogClose(e)})),d.Sb(),d.Tb(4,"div",3),d.Tb(5,"div",4),d.Tb(6,"h3",5),d.Oc(7),d.gc(8,"translate"),d.Sb(),d.Tb(9,"p-table",6,7),d.bc("onLazyLoad",(function(e){return t.getElencoRichieste(e)})),d.Mc(11,se,2,1,"ng-template",8),d.Mc(12,ue,30,18,"ng-template",9),d.Mc(13,de,3,2,"ng-template",10),d.Sb(),d.Sb(),d.Sb()),2&e&&(d.mc("richiestaAccessoCorrente",t.richiestaAccessoCorrente),d.Bb(2),d.mc("richiestaAccessoCorrente",t.richiestaAccessoCorrente),d.Bb(5),d.Pc(d.hc(8,13,"gestioneUtenze.IN_LAVORAZIONE")),d.Bb(2),d.mc("columns",t.cols)("value",t.paginaDomande.risultati)("autoLayout",!0)("sortField",t.proprieta)("totalRecords",t.paginaDomande.count)("paginator",!0)("first",t.numeroPagina*t.elementiPerPagina)("rows",t.elementiPerPagina)("lazy",!0)("responsive",!0))},directives:[W,oe,U.q,C.e,c.s,U.p,c.t,U.o,U.m,N.a,R.a],pipes:[x.d,c.f],styles:[".color-dark-gray[_ngcontent-%COMP%]{color:#a9a9a9}div[_ngcontent-%COMP%]   .pi-ban[_ngcontent-%COMP%]{font-size:1.2em}"]}),pe),he=function(){return{overflow:"auto","max-height":"750px"}};function ge(e,t){if(1&e){var i=d.Ub();d.Tb(0,"div",1),d.Tb(1,"p-dialog",2,3),d.bc("visibleChange",(function(e){return d.Ec(i),d.fc().display=e})),d.Tb(3,"form",4),d.Tb(4,"div",5),d.Tb(5,"h3"),d.Oc(6),d.gc(7,"translate"),d.Sb(),d.Sb(),d.Tb(8,"div",5),d.Tb(9,"h6"),d.Oc(10,"Domanda di "),d.Tb(11,"strong"),d.Oc(12),d.Sb(),d.Oc(13),d.gc(14,"date"),d.Tb(15,"strong"),d.Oc(16," approvata "),d.Sb(),d.Oc(17),d.gc(18,"date"),d.Sb(),d.Tb(19,"div",6),d.Tb(20,"h6",7),d.Tb(21,"strong"),d.Oc(22),d.gc(23,"translate"),d.Sb(),d.Sb(),d.Tb(24,"textarea",8),d.Oc(25,"             "),d.Sb(),d.Sb(),d.Tb(26,"div",6),d.Tb(27,"h6",7),d.Tb(28,"strong"),d.Oc(29,"Note"),d.Sb(),d.Sb(),d.Tb(30,"textarea",9),d.Oc(31,"             "),d.Sb(),d.Sb(),d.Sb(),d.Tb(32,"div",10),d.Tb(33,"b"),d.Oc(34),d.gc(35,"translate"),d.Sb(),d.Sb(),d.Tb(36,"div",11),d.Ob(37,"img",12),d.Oc(38),d.Sb(),d.Tb(39,"div",5),d.Tb(40,"div",13),d.Tb(41,"button",14),d.bc("click",(function(){return d.Ec(i),d.fc().onClose()})),d.gc(42,"translate"),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb()}if(2&e){var o=d.fc();d.Bb(1),d.mc("visible",o.display)("contentStyle",d.rc(27,he)),d.Bb(2),d.mc("formGroup",o.domandaApprovataGroup),d.Bb(3),d.Pc(d.hc(7,13,"RICHIESTE_ACCESSO.DOMANDA_APPROVATA")),d.Bb(6),d.Rc(" ",o.richiestaAccessoCorrente.datiAnagrafici.nome.toUpperCase()," ",o.richiestaAccessoCorrente.datiAnagrafici.cognome.toUpperCase()," "),d.Bb(1),d.Rc(" (Prot. ",o.richiestaAccessoCorrente.idProtocollo," del ",d.ic(14,15,o.richiestaAccessoCorrente.dataProtocollazione,"dd/MM/yyyy")," "),d.Bb(4),d.Qc(" in data ",d.ic(18,18,o.richiestaAccessoCorrente.dataApprovazione,"dd/MM/yyyy"),") "),d.Bb(5),d.Pc(d.hc(23,21,"RICHIESTE_ACCESSO.LABEL_MAIL")),d.Bb(12),d.Pc(d.hc(35,23,"RICHIESTE_ACCESSO.COMUNICA_CREDENZIALI")),d.Bb(4),d.Qc(" ",o.richiestaAccessoCorrente.datiAnagrafici.telefono," "),d.Bb(3),d.nc("label",d.hc(42,25,"chiudi"))}}var me,ve=((me=function(){function e(t,i,o){_classCallCheck(this,e),this.router=t,this.route=i,this.messageService=o,this.display=!1,this.displayChange=new d.n,this.componentDestroyed$=new g.a,this.domandaApprovataGroup=new D.j({testoMail:new D.g,note:new D.g})}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onClose",value:function(){this.display=!1,this.displayChange.emit(!1)}},{key:"onOpen",value:function(e){this.setCampiDialog(e),this.displayChange.emit(!0),this.display=!0}},{key:"setCampiDialog",value:function(e){this.domandaApprovataGroup.controls.testoMail.setValue(e.testoMail),this.domandaApprovataGroup.controls.note.setValue(e.note),console.log(e)}},{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}}]),e}()).\u0275fac=function(e){return new(e||me)(d.Nb(r.e),d.Nb(r.a),d.Nb(C.d))},me.\u0275cmp=d.Hb({type:me,selectors:[["motivazione-approvazione-dialog"]],inputs:{richiestaAccessoCorrente:"richiestaAccessoCorrente",istruttoriaDomandaCorrente:"istruttoriaDomandaCorrente"},outputs:{displayChange:"displayChange"},decls:1,vars:1,consts:[["id","confirm",4,"ngIf"],["id","confirm"],["width","710","modal","true","appendTo","body","closable","true","closeOnEscape","true",3,"visible","contentStyle","visibleChange"],["dialog",""],[3,"formGroup"],[1,"ui-g-12"],[1,"boxgrey","p-3","mb-3"],[1,"mb-3"],["rows","10","cols","30","pInputTextarea","","id","mail","type","text","formControlName","testoMail","autoResize","true","readonly","",2,"width","-webkit-fill-available"],["pInputTextarea","","id","note","type","text","formControlName","note","autoResize","true","readonly","",2,"width","-webkit-fill-available"],[1,"ui-g-7"],[1,"ui-g-5"],["src","assets/img/icons/phone.png","alt","phone","tooltipPosition","left","tooltipStyleClass","tooltip--white",1,"mx-2"],[1,"next-button"],["pButton","","type","button",1,"annulla",3,"label","click"]],template:function(e,t){1&e&&d.Mc(0,ge,43,28,"div",0),2&e&&d.mc("ngIf",t.richiestaAccessoCorrente)},directives:[c.t,K.a,D.I,D.t,D.k,D.c,D.s,D.i,R.b],pipes:[x.d,c.f],styles:[""]}),me),Se=["motivazioneApprovazioneDialogComponent"];function Te(e,t){if(1&e&&d.Ob(0,"p-sortIcon",13),2&e){var i=d.fc().$implicit;d.mc("field",i.header)}}function ye(e,t){if(1&e&&(d.Tb(0,"th",11),d.Tb(1,"strong"),d.Oc(2),d.Sb(),d.Mc(3,Te,1,1,"p-sortIcon",12),d.Sb()),2&e){var i=t.$implicit;d.mc("pSortableColumn",i.field)("pSortableColumnDisabled",null==i.field),d.Bb(2),d.Pc(i.header),d.Bb(1),d.mc("ngIf",i.field)}}function Oe(e,t){if(1&e&&(d.Tb(0,"tr"),d.Mc(1,ye,4,4,"th",10),d.Sb()),2&e){var i=t.$implicit;d.Bb(1),d.mc("ngForOf",i)}}function Ce(e,t){if(1&e){var i=d.Ub();d.Tb(0,"tr",14),d.Tb(1,"td"),d.Oc(2),d.Sb(),d.Tb(3,"td"),d.Oc(4),d.gc(5,"date"),d.Sb(),d.Tb(6,"td"),d.Oc(7),d.gc(8,"date"),d.Sb(),d.Tb(9,"td"),d.Oc(10),d.Sb(),d.Tb(11,"td"),d.Oc(12),d.Sb(),d.Tb(13,"td"),d.Oc(14),d.Sb(),d.Tb(15,"td",15),d.Ob(16,"img",16),d.Ob(17,"img",17),d.Sb(),d.Tb(18,"td",18),d.Tb(19,"div",19),d.Tb(20,"div"),d.Tb(21,"p-button",20),d.bc("click",(function(){d.Ec(i);var e=t.$implicit;return d.fc().viewDetail(e.id)})),d.Ob(22,"img",21),d.Sb(),d.Sb(),d.Tb(23,"div"),d.Tb(24,"p-button",20),d.bc("click",(function(){d.Ec(i);var e=t.$implicit;return d.fc().showDialog(e)})),d.Ob(25,"img",22),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb()}if(2&e){var o=t.$implicit,a=d.fc();d.mc("pSelectableRow",o),d.Bb(2),d.Pc(o.idProtocollo),d.Bb(2),d.Pc(d.ic(5,11,o.dataProtocollazione,"dd/MM/yyyy")),d.Bb(3),d.Pc(d.ic(8,14,o.dataApprovazione,"dd/MM/yyyy")),d.Bb(3),d.Pc(o.datiAnagrafici.nome),d.Bb(2),d.Pc(o.datiAnagrafici.cognome),d.Bb(2),d.Pc(o.datiAnagrafici.codiceFiscale),d.Bb(2),d.nc("pTooltip",o.datiAnagrafici.telefono),d.Bb(1),d.nc("pTooltip",o.datiAnagrafici.email),d.Bb(4),d.nc("title",a.intestazioni.dettaglioDomanda),d.Bb(3),d.nc("title",a.intestazioni.dettaglioApprovazione)}}function Pe(e,t){if(1&e&&(d.Tb(0,"tr"),d.Tb(1,"td"),d.Oc(2),d.Sb(),d.Sb()),2&e){var i=t.$implicit,o=d.fc();d.Bb(1),d.Cb("colspan",i.length+2),d.Bb(1),d.Qc(" ",o.intestazioni.noTableContent," ")}}var ze,De=((ze=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,o,a,n,r){var c;return _classCallCheck(this,i),(c=t.call(this,e,o,a,n,r)).gestioneUtenzeService=e,c.messages=o,c.sharedService=a,c.router=n,c.route=r,c.setCols(),c.proprieta="dtApprovazione",c.ordine="DESC",c.textTitle=s.a.APPROVATE,c.stato=c.intestazioni.approvata,c.defaultSortingColumn="dtApprovazione",c.defaultSortingOrder="ASC",c}return _createClass(i,[{key:"ngOnInit",value:function(){this.setupRouting("approvate")}},{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}},{key:"showDialog",value:function(e){this.getIstruttoria(e),this.richiestaAccessoCorrente=e}},{key:"onDialogClose",value:function(e){}},{key:"getIstruttoria",value:function(e){var t=this;this.gestioneUtenzeService.getIstruttoriaProfiloByDomanda(e.id).subscribe((function(e){t.istruttoriaDomandaCorrente=new Z,t.istruttoriaDomandaCorrente.idDomanda=e.idDomanda,t.istruttoriaDomandaCorrente.testoMail=e.testoMail,t.istruttoriaDomandaCorrente.note=e.note,t.motivazioneApprovazioneDialogComponent.onOpen(t.istruttoriaDomandaCorrente)}),(function(e){t.messages.add(b.a.getToast("tst",b.b.error,b.a.erroreRecuperoDati))}))}},{key:"setCols",value:function(){this.cols=[{field:"idProtocollo",header:this.intestazioni.nrProtocollo},{field:"dtProtocollazione",header:this.intestazioni.dtProtocollazione},{field:"dtApprovazione",header:this.intestazioni.dtApprovazione},{field:"nome",header:this.intestazioni.nome},{field:"cognome",header:this.intestazioni.cognome},{field:"codiceFiscale",header:this.intestazioni.codiceFiscale},{field:null,header:this.intestazioni.contatti},{field:null,header:this.intestazioni.azioni}]}}]),i}(F)).\u0275fac=function(e){return new(e||ze)(d.Nb(I.a),d.Nb(C.d),d.Nb(p),d.Nb(r.e),d.Nb(r.a))},ze.\u0275cmp=d.Hb({type:ze,selectors:[["app-richieste-approvate"]],viewQuery:function(e,t){var i;1&e&&d.Jc(Se,!0),2&e&&d.Ac(i=d.cc())&&(t.motivazioneApprovazioneDialogComponent=i.first)},features:[d.yb],decls:11,vars:12,consts:[[3,"richiestaAccessoCorrente","displayChange"],["motivazioneApprovazioneDialogComponent",""],[1,"ui-grid-fixed","boxgrey"],[1,"layout-actionmenu","layout--gestione-utenze"],[1,"mb-3"],[1,"table--gestione-utenze",3,"columns","value","autoLayout","sortField","totalRecords","paginator","first","rows","lazy","responsive","onLazyLoad"],["table",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field",4,"ngIf"],[3,"field"],[3,"pSelectableRow"],[2,"text-align","center"],["src","assets/img/icons/phone.png","alt","phone","tooltipPosition","left","tooltipStyleClass","tooltip--white",1,"mr-4",3,"pTooltip"],["src","assets/img/icons/mail.png","alt","phone","tooltipStyleClass","tooltip--white","tooltipPosition","right",3,"pTooltip"],[2,"width","auto"],[1,"ui-g","icon-action","actions--gestione-utenze"],[3,"title","click"],["src","assets/img/icons/eye.png","alt","eye"],["src","assets/img/icons/align-left.png","alt","align-left"]],template:function(e,t){1&e&&(d.Tb(0,"motivazione-approvazione-dialog",0,1),d.bc("displayChange",(function(e){return t.onDialogClose(e)})),d.Sb(),d.Tb(2,"div",2),d.Tb(3,"div",3),d.Tb(4,"h3",4),d.Oc(5),d.Sb(),d.Tb(6,"p-table",5,6),d.bc("onLazyLoad",(function(e){return t.getElencoRichieste(e)})),d.Mc(8,Oe,2,1,"ng-template",7),d.Mc(9,Ce,26,17,"ng-template",8),d.Mc(10,Pe,3,2,"ng-template",9),d.Sb(),d.Sb(),d.Sb()),2&e&&(d.mc("richiestaAccessoCorrente",t.richiestaAccessoCorrente),d.Bb(5),d.Pc(t.textTitle),d.Bb(1),d.mc("columns",t.cols)("value",t.paginaDomande.risultati)("autoLayout",!0)("sortField",t.proprieta)("totalRecords",t.paginaDomande.count)("paginator",!0)("first",t.numeroPagina*t.elementiPerPagina)("rows",t.elementiPerPagina)("lazy",!0)("responsive",!0))},directives:[ve,U.q,C.e,c.s,U.p,c.t,U.o,U.m,N.a,R.a],pipes:[c.f],styles:[""]}),ze);function Ae(e,t){if(1&e){var i=d.Ub();d.Tb(0,"div",1),d.Tb(1,"p-dialog",2,3),d.bc("visibleChange",(function(e){return d.Ec(i),d.fc().display=e})),d.Tb(3,"div",4),d.Tb(4,"div",5),d.Tb(5,"h6"),d.Oc(6,"Domanda di "),d.Tb(7,"strong"),d.Oc(8),d.Sb(),d.Oc(9),d.Tb(10,"strong"),d.Oc(11," rifiutata "),d.Sb(),d.Oc(12),d.gc(13,"date"),d.Sb(),d.Sb(),d.Tb(14,"div",6),d.Tb(15,"h6",7),d.Tb(16,"strong"),d.Oc(17,"Per quale motivo la domanda \xe8 stata rifiutata?"),d.Sb(),d.Sb(),d.Tb(18,"input",8),d.bc("ngModelChange",(function(e){return d.Ec(i),d.fc().motivazioneRifiuto=e})),d.Sb(),d.Sb(),d.Tb(19,"div",6),d.Tb(20,"h6",7),d.Tb(21,"strong"),d.Oc(22,"Testo della mail"),d.Sb(),d.Sb(),d.Tb(23,"textarea",9),d.bc("ngModelChange",(function(e){return d.Ec(i),d.fc().testoMail=e})),d.Oc(24,"        "),d.Sb(),d.Sb(),d.Tb(25,"div",6),d.Tb(26,"h6",7),d.Tb(27,"strong"),d.Oc(28,"Note"),d.Sb(),d.Sb(),d.Tb(29,"textarea",10),d.bc("ngModelChange",(function(e){return d.Ec(i),d.fc().note=e})),d.Oc(30,"        "),d.Sb(),d.Sb(),d.Ob(31,"hr"),d.Tb(32,"div",11),d.Tb(33,"button",12),d.bc("click",(function(){return d.Ec(i),d.fc().onClose()})),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb()}if(2&e){var o=d.fc();d.Bb(1),d.mc("visible",o.display)("dismissableMask",!0)("modal",!0)("closable",!0)("closeOnEscape",!0),d.Bb(7),d.Rc(" ",o.richiestaAccessoCorrente.datiAnagrafici.nome.toUpperCase()," ",o.richiestaAccessoCorrente.datiAnagrafici.cognome.toUpperCase()," "),d.Bb(1),d.Qc(" (Prot. ",o.richiestaAccessoCorrente.idProtocollo," "),d.Bb(3),d.Qc(" in data ",d.ic(13,13,o.richiestaAccessoCorrente.dataProtocollazione,"dd/MM/yyyy"),") "),d.Bb(6),d.mc("ngModel",o.motivazioneRifiuto),d.Bb(5),d.mc("ngModel",o.testoMail),d.Bb(6),d.mc("ngModel",o.note),d.Bb(4),d.mc("label",o.labels.CHIUDI)}}var Be,Re=((Be=function(){function e(){_classCallCheck(this,e),this.labels=s.a,this.displayChange=new d.n}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"onOpen",value:function(e){this.display=!0,this.displayChange.emit(!0),this.setCampiDialog(e)}},{key:"setCampiDialog",value:function(e){this.motivazioneRifiuto=e.motivazioneRifiuto,this.testoMail=e.testoMail,this.note=e.note,console.log(e)}},{key:"onClose",value:function(){this.display=!1,this.displayChange.emit(!1)}}]),e}()).\u0275fac=function(e){return new(e||Be)},Be.\u0275cmp=d.Hb({type:Be,selectors:[["app-motivazione-rifiuto-dialog"]],inputs:{richiestaAccessoCorrente:"richiestaAccessoCorrente",istruttoriaDomandaCorrente:"istruttoriaDomandaCorrente"},outputs:{displayChange:"displayChange"},decls:1,vars:1,consts:[["id","confirm",4,"ngIf"],["id","confirm"],["header","DOMANDA RIFIUTATA","width","710","appendTo","body",3,"visible","dismissableMask","modal","closable","closeOnEscape","visibleChange"],["dialog",""],[1,"popup-approvazione","popup--custom"],[1,"mb-4"],[1,"boxgrey","p-3","mb-3"],[1,"mb-3"],["id","motivazione","type","text","pInputText","","autoResize","true","readonly","",2,"width","-webkit-fill-available","background-color","white",3,"ngModel","ngModelChange"],["rows","6","cols","30","pInputTextarea","","id","testoMail","type","text","autoResize","true","readonly","",2,"width","-webkit-fill-available",3,"ngModel","ngModelChange"],["pInputTextarea","","id","note","type","text","autoResize","true","readonly","",2,"width","-webkit-fill-available",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-end"],["pButton","","icon","fa ui-icon-close","type","submit",1,"button--success",3,"label","click"]],template:function(e,t){1&e&&d.Mc(0,Ae,34,16,"div",0),2&e&&d.mc("ngIf",t.richiestaAccessoCorrente&&t.istruttoriaDomandaCorrente)},directives:[c.t,K.a,D.c,B.a,D.s,D.v,R.b],pipes:[c.f],styles:[""]}),Be),Me=["motivazioneRifiutoDialog"];function Ie(e,t){if(1&e&&d.Ob(0,"p-sortIcon",13),2&e){var i=d.fc().$implicit;d.mc("field",i.header)}}function ke(e,t){if(1&e&&(d.Tb(0,"th",11),d.Tb(1,"strong"),d.Oc(2),d.Sb(),d.Mc(3,Ie,1,1,"p-sortIcon",12),d.Sb()),2&e){var i=t.$implicit;d.mc("pSortableColumn",i.field)("pSortableColumnDisabled",null==i.field),d.Bb(2),d.Pc(i.header),d.Bb(1),d.mc("ngIf",i.field)}}function Ee(e,t){if(1&e&&(d.Tb(0,"tr"),d.Mc(1,ke,4,4,"th",10),d.Sb()),2&e){var i=t.$implicit;d.Bb(1),d.mc("ngForOf",i)}}function we(e,t){if(1&e){var i=d.Ub();d.Tb(0,"tr",14),d.Tb(1,"td"),d.Oc(2),d.Sb(),d.Tb(3,"td"),d.Oc(4),d.gc(5,"date"),d.Sb(),d.Tb(6,"td"),d.Oc(7),d.gc(8,"date"),d.Sb(),d.Tb(9,"td"),d.Oc(10),d.Sb(),d.Tb(11,"td"),d.Oc(12),d.Sb(),d.Tb(13,"td"),d.Oc(14),d.Sb(),d.Tb(15,"td",15),d.Ob(16,"img",16),d.Ob(17,"img",17),d.Sb(),d.Tb(18,"td",18),d.Tb(19,"div",19),d.Tb(20,"div"),d.Tb(21,"p-button",20),d.bc("click",(function(){d.Ec(i);var e=t.$implicit;return d.fc().viewDetail(e.id)})),d.Ob(22,"img",21),d.Sb(),d.Sb(),d.Tb(23,"div"),d.Tb(24,"p-button",20),d.bc("click",(function(){d.Ec(i);var e=t.$implicit;return d.fc().showMotivazioneRifiutoDialog(e)})),d.Ob(25,"img",22),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb()}if(2&e){var o=t.$implicit,a=d.fc();d.mc("pSelectableRow",o),d.Bb(2),d.Pc(o.idProtocollo),d.Bb(2),d.Pc(d.ic(5,11,o.dataProtocollazione,"dd/MM/yyyy")),d.Bb(3),d.Pc(d.ic(8,14,o.dataRifiuto,"dd/MM/yyyy")),d.Bb(3),d.Pc(o.datiAnagrafici.nome),d.Bb(2),d.Pc(o.datiAnagrafici.cognome),d.Bb(2),d.Pc(o.datiAnagrafici.codiceFiscale),d.Bb(2),d.nc("pTooltip",o.datiAnagrafici.telefono),d.Bb(1),d.nc("pTooltip",o.datiAnagrafici.email),d.Bb(4),d.nc("title",a.intestazioni.dettaglioDomanda),d.Bb(3),d.nc("title",a.intestazioni.DETTAGLIO_RIFIUTO)}}function _e(e,t){if(1&e&&(d.Tb(0,"tr"),d.Tb(1,"td"),d.Oc(2),d.Sb(),d.Sb()),2&e){var i=t.$implicit,o=d.fc();d.Bb(1),d.Cb("colspan",i.length+2),d.Bb(1),d.Qc(" ",o.intestazioni.noTableContent," ")}}var Fe,Ue=((Fe=function(e){_inherits(i,e);var t=_createSuper(i);function i(e,o,a,n,r){var c;return _classCallCheck(this,i),(c=t.call(this,e,o,a,n,r)).gestioneUtenzeService=e,c.messages=o,c.sharedService=a,c.router=n,c.route=r,c.setCols(),c.proprieta="dtRifiuto",c.ordine="DESC",c.stato=c.intestazioni.rifiutata,c.defaultSortingColumn="dtRifiuto",c.defaultSortingOrder="ASC",c}return _createClass(i,[{key:"ngOnInit",value:function(){this.setupRouting("rifiutate")}},{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}},{key:"showMotivazioneRifiutoDialog",value:function(e){this.getIstruttoria(e),this.richiestaAccessoCorrente=e}},{key:"onDialogClose",value:function(e){e||this.refreshElencoRichieste()}},{key:"getIstruttoria",value:function(e){var t=this;this.gestioneUtenzeService.getIstruttoriaProfiloByDomanda(e.id).subscribe((function(e){t.istruttoriaDomandaCorrente=new X,t.istruttoriaDomandaCorrente.motivazioneRifiuto=e.motivazioneRifiuto,t.istruttoriaDomandaCorrente.note=e.note,t.istruttoriaDomandaCorrente.testoMail=e.testoMail,t.motivazioneRifiutoDialog.onOpen(t.istruttoriaDomandaCorrente)}),(function(e){t.messages.add(b.a.getToast("tst",b.b.error,b.a.erroreRecuperoDati))}))}},{key:"setCols",value:function(){this.cols=[{field:"idProtocollo",header:this.intestazioni.nrProtocollo},{field:"dtProtocollazione",header:this.intestazioni.dtProtocollazione},{field:"dtRifiuto",header:this.intestazioni.dtRifiuto},{field:"nome",header:this.intestazioni.nome},{field:"cognome",header:this.intestazioni.cognome},{field:"codiceFiscale",header:this.intestazioni.codiceFiscale},{field:null,header:this.intestazioni.contatti},{field:null,header:this.intestazioni.azioni}]}}]),i}(F)).\u0275fac=function(e){return new(e||Fe)(d.Nb(I.a),d.Nb(C.d),d.Nb(p),d.Nb(r.e),d.Nb(r.a))},Fe.\u0275cmp=d.Hb({type:Fe,selectors:[["app-richieste-rifiutate"]],viewQuery:function(e,t){var i;1&e&&d.Jc(Me,!0),2&e&&d.Ac(i=d.cc())&&(t.motivazioneRifiutoDialog=i.first)},features:[d.yb],decls:12,vars:15,consts:[[3,"richiestaAccessoCorrente","istruttoriaDomandaCorrente","displayChange"],["motivazioneRifiutoDialog",""],[1,"ui-grid-fixed","boxgrey"],[1,"layout-actionmenu","layout--gestione-utenze"],[1,"mb-3"],[1,"table--gestione-utenze",3,"columns","value","autoLayout","sortField","totalRecords","paginator","first","rows","lazy","responsive","onLazyLoad"],["table",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field",4,"ngIf"],[3,"field"],[3,"pSelectableRow"],[2,"text-align","center"],["src","assets/img/icons/phone.png","alt","phone","tooltipPosition","left","tooltipStyleClass","tooltip--white",1,"mr-4",3,"pTooltip"],["src","assets/img/icons/mail.png","alt","phone","tooltipStyleClass","tooltip--white","tooltipPosition","right",3,"pTooltip"],[2,"width","auto"],[1,"ui-g","icon-action","actions--gestione-utenze"],[3,"title","click"],["src","assets/img/icons/eye.png","alt","eye"],["src","assets/img/icons/align-left.png","alt","align-left"]],template:function(e,t){1&e&&(d.Tb(0,"app-motivazione-rifiuto-dialog",0,1),d.bc("displayChange",(function(e){return t.onDialogClose(e)})),d.Sb(),d.Tb(2,"div",2),d.Tb(3,"div",3),d.Tb(4,"h3",4),d.Oc(5),d.gc(6,"translate"),d.Sb(),d.Tb(7,"p-table",5,6),d.bc("onLazyLoad",(function(e){return t.getElencoRichieste(e)})),d.Mc(9,Ee,2,1,"ng-template",7),d.Mc(10,we,26,17,"ng-template",8),d.Mc(11,_e,3,2,"ng-template",9),d.Sb(),d.Sb(),d.Sb()),2&e&&(d.mc("richiestaAccessoCorrente",t.richiestaAccessoCorrente)("istruttoriaDomandaCorrente",t.istruttoriaDomandaCorrente),d.Bb(5),d.Pc(d.hc(6,13,"gestioneUtenze.RIFIUTATE")),d.Bb(2),d.mc("columns",t.cols)("value",t.paginaDomande.risultati)("autoLayout",!0)("sortField",t.proprieta)("totalRecords",t.paginaDomande.count)("paginator",!0)("first",t.numeroPagina*t.elementiPerPagina)("rows",t.elementiPerPagina)("lazy",!0)("responsive",!0))},directives:[Re,U.q,C.e,c.s,U.p,c.t,U.o,U.m,N.a,R.a],pipes:[x.d,c.f],styles:[""]}),Fe);function Ne(e,t){if(1&e&&(d.Tb(0,"span",27),d.Oc(1),d.gc(2,"translate"),d.Tb(3,"span"),d.Oc(4),d.Sb(),d.Sb()),2&e){var i=d.fc();d.Bb(1),d.Qc("",d.hc(2,2,"gestioneUtenze.PROTOCOLLATE")," "),d.Bb(3),d.Pc(i.reformattedItemBadges.PROTOCOLLATA)}}function xe(e,t){1&e&&d.Ob(0,"app-richieste-protocollate")}function $e(e,t){if(1&e&&(d.Tb(0,"span",27),d.Oc(1),d.gc(2,"translate"),d.Tb(3,"span"),d.Oc(4),d.Sb(),d.Sb()),2&e){var i=d.fc();d.Bb(1),d.Qc(" ",d.hc(2,2,"gestioneUtenze.IN_LAVORAZIONE")," "),d.Bb(3),d.Pc(i.reformattedItemBadges.IN_LAVORAZIONE)}}function je(e,t){1&e&&d.Ob(0,"app-richieste-in-lavorazione")}function Le(e,t){if(1&e&&(d.Tb(0,"span",27),d.Oc(1),d.gc(2,"translate"),d.Tb(3,"span"),d.Oc(4),d.Sb(),d.Sb()),2&e){var i=d.fc();d.Bb(1),d.Qc("",d.hc(2,2,"gestioneUtenze.APPROVATE")," "),d.Bb(3),d.Pc(i.reformattedItemBadges.APPROVATA)}}function Ge(e,t){1&e&&d.Ob(0,"app-richieste-approvate")}function He(e,t){if(1&e&&(d.Tb(0,"span",27),d.Oc(1),d.gc(2,"translate"),d.Tb(3,"span"),d.Oc(4),d.Sb(),d.Sb()),2&e){var i=d.fc();d.Bb(1),d.Qc(" ",d.hc(2,2,"gestioneUtenze.RIFIUTATE")," "),d.Bb(3),d.Pc(i.reformattedItemBadges.RIFIUTATA)}}function qe(e,t){1&e&&d.Ob(0,"app-richieste-rifiutate")}var Qe,Ve=((Qe=function(){function e(t,i,o,a,n){_classCallCheck(this,e),this.utentiService=t,this.messages=i,this.sharedService=o,this.route=a,this.router=n,this.labels=s.a,this.reformattedItemBadges={},this.componentDestroyed$=new g.a,this.language=O.a.itCalendar(),this.openSearchTab=0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.queryParams.pipe(Object(f.a)(this.componentDestroyed$),Object(h.a)((function(t){return e.aggiornaParametri(t)}))).subscribe((function(e){console.log(e)}),(function(e){console.log(e)})),this.loadCounters(),this.sharedService.currentTimersForChangeCounters.subscribe((function(t){console.log("Approvazione/Rifiuto domanda",t),e.loadCounters()}))}},{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}},{key:"handleTabChange",value:function(e){switch(e.index){case 0:this.tabSelected="protocollate";break;case 1:this.tabSelected="inlavorazione";break;case 2:this.tabSelected="approvate";break;case 3:this.tabSelected="rifiutate"}this.router.navigate([],{queryParams:{tabselected:this.tabSelected,page:0,sortOrder:null,sortProperty:null},queryParamsHandling:"merge"})}},{key:"eseguiRicercaSuTuttiTab",value:function(){this.loadCounters();var e=this.creaTabDaPassare();this.router.navigate([],{queryParams:this.creaQueryParams(e),queryParamsHandling:"merge"})}},{key:"calcolaMinMaxDateOfRangeDataProtocollazioneFilter",value:function(){this.rangeDates&&0!=this.rangeDates.length?2!=this.rangeDates.length||this.rangeDates[1]?(this.minDateProtocollazioneFilter=v.a.convertToPatternDate(this.rangeDates[0]),this.maxDateProtocollazioneFilter=v.a.convertToPatternDate(this.rangeDates[1])):(this.minDateProtocollazioneFilter=v.a.convertToPatternDate(this.rangeDates[0]),this.maxDateProtocollazioneFilter=v.a.convertToPatternDate(this.rangeDates[0])):(this.minDateProtocollazioneFilter=null,this.maxDateProtocollazioneFilter=null)}},{key:"aggiornaParametri",value:function(e){this.nome=e.nome,this.cognome=e.cognome,this.codiceFiscale=e.codiceFiscale,this.idProtocollo=e.idProtocollo,this.openSearchTab=e.openSearchTab;var t=v.a.convertStringToOnlyDate(e.dataInizio),i=v.a.convertStringToOnlyDate(e.dataFine);switch(this.rangeDates=t?[t,i]:null,e.tabselected){case"protocollate":this.selectedTab="PROTOCOLLATE";break;case"inlavorazione":this.selectedTab="IN_LAVORAZIONE";break;case"approvate":this.selectedTab="APPROVATE";break;case"rifiutate":this.selectedTab="RIFIUTATE"}}},{key:"creaQueryParams",value:function(e){var t={tabselected:e,page:0,filter:0};return t.nome=m.a.isNotEmpty(this.nome)?this.nome:null,t.cognome=m.a.isNotEmpty(this.cognome)?this.cognome:null,t.codiceFiscale=m.a.isNotEmpty(this.codiceFiscale)?this.codiceFiscale:null,t.idProtocollo=m.a.isNotEmpty(this.idProtocollo)?this.idProtocollo:null,t.dataInizio=m.a.isNotEmpty(this.minDateProtocollazioneFilter)?this.minDateProtocollazioneFilter:null,t.dataFine=m.a.isNotEmpty(this.maxDateProtocollazioneFilter)?this.maxDateProtocollazioneFilter:null,t.openSearchTab=1,t}},{key:"creaTabDaPassare",value:function(){var e;switch(this.selectedTab){case"PROTOCOLLATE":e="protocollate";break;case"IN_LAVORAZIONE":e="inlavorazione";break;case"APPROVATE":e="approvate";break;case"RIFIUTATE":e="rifiutate";break;default:e="protocollate"}return e}},{key:"loadCounters",value:function(){var e=this;this.calcolaMinMaxDateOfRangeDataProtocollazioneFilter(),this.itemBadges=new Array;var t=this.calcolaFiltroPerRicercaContatori();this.utentiService.getStatoRichiesteCount(t).subscribe((function(t){t.forEach((function(t){e.itemBadges.push(t)})),e.reformattedItemBadges=e.itemBadges.reduce((function(e,t){return e[t.stato]=t.count,e}),{})}),(function(t){e.messages.add(b.a.getToast("tst",b.b.error,b.a.erroreRecuperoDati))}))}},{key:"calcolaFiltroPerRicercaContatori",value:function(){return y.of(null,null,this.codiceFiscale,this.nome,this.cognome,this.idProtocollo,this.minDateProtocollazioneFilter,this.maxDateProtocollazioneFilter)}}]),e}()).\u0275fac=function(e){return new(e||Qe)(d.Nb(l.a),d.Nb(C.d),d.Nb(p),d.Nb(r.a),d.Nb(r.e))},Qe.\u0275cmp=d.Hb({type:Qe,selectors:[["app-richieste-accesso-sistema"]],decls:64,vars:22,consts:[["key","tst",3,"baseZIndex"],[1,"ui-g","ui-fluid"],[1,"tophome"],[1,"ui-grid-fixed"],[1,"accordion-wrapper"],["header","Cerca",3,"selected"],[3,"ngSubmit"],["tooltipPosition","top",3,"disabled"],[1,"boxgrey-user"],[1,"ui-g-12"],[1,"ui-g-2"],[1,"ui-g-4"],["name","rangeDates","selectionMode","range","showButtonBar","true","dateFormat","dd/mm/yy",1,"a4g-calendar",3,"ngModel","readonlyInput","locale","ngModelChange"],["type","text","name","nrProtocollo","pInputText","","maxlength","50",3,"ngModel","ngModelChange"],["type","text","name","cognome","pInputText","","maxlength","30",3,"ngModel","ngModelChange"],["type","text","name","nome","pInputText","","maxlength","30",3,"ngModel","ngModelChange"],["type","text","name","codiceFiscale","pInputText","","maxlength","16",3,"ngModel","ngModelChange"],[1,"ui-g-6"],[1,"ui-g-9"],[1,"ui-g-3"],[1,"next-button"],["pButton","","icon","ui-icon-check","type","submit","label","RICERCA"],[1,"funzioni-grid","tab-new","boxgrey"],[1,"container--gestione-utenze",3,"onChange"],[3,"selected"],["pTemplate","header"],["pTemplate","content"],[1,"ui-tabview-title","ng-star-inserted"]],template:function(e,t){1&e&&(d.Ob(0,"p-toast",0),d.Tb(1,"div",1),d.Tb(2,"div",2),d.Tb(3,"div",3),d.Tb(4,"h4"),d.Oc(5),d.gc(6,"translate"),d.Sb(),d.Sb(),d.Sb(),d.Tb(7,"div",3),d.Tb(8,"div",4),d.Tb(9,"p-accordion"),d.Tb(10,"p-accordionTab",5),d.Tb(11,"form",6),d.bc("ngSubmit",(function(){return t.eseguiRicercaSuTuttiTab()})),d.Tb(12,"fieldset",7),d.Tb(13,"div",8),d.Tb(14,"div",9),d.Tb(15,"div",10),d.Tb(16,"label"),d.Oc(17),d.Sb(),d.Sb(),d.Tb(18,"div",11),d.Tb(19,"p-calendar",12),d.bc("ngModelChange",(function(e){return t.rangeDates=e})),d.Sb(),d.Sb(),d.Tb(20,"div",10),d.Tb(21,"label"),d.Oc(22),d.Sb(),d.Sb(),d.Tb(23,"div",11),d.Tb(24,"input",13),d.bc("ngModelChange",(function(e){return t.idProtocollo=e})),d.Sb(),d.Sb(),d.Sb(),d.Tb(25,"div",9),d.Tb(26,"div",10),d.Tb(27,"label"),d.Oc(28),d.Sb(),d.Sb(),d.Tb(29,"div",11),d.Tb(30,"input",14),d.bc("ngModelChange",(function(e){return t.cognome=e})),d.Sb(),d.Sb(),d.Tb(31,"div",10),d.Tb(32,"label"),d.Oc(33),d.Sb(),d.Sb(),d.Tb(34,"div",11),d.Tb(35,"input",15),d.bc("ngModelChange",(function(e){return t.nome=e})),d.Sb(),d.Sb(),d.Sb(),d.Tb(36,"div",9),d.Tb(37,"div",10),d.Tb(38,"label"),d.Oc(39),d.Sb(),d.Sb(),d.Tb(40,"div",11),d.Tb(41,"input",16),d.bc("ngModelChange",(function(e){return t.codiceFiscale=e})),d.Sb(),d.Sb(),d.Ob(42,"div",17),d.Sb(),d.Tb(43,"div",9),d.Ob(44,"div",18),d.Tb(45,"div",19),d.Tb(46,"div",20),d.Ob(47,"button",21),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Tb(48,"div",9),d.Tb(49,"div",3),d.Tb(50,"div",22),d.Tb(51,"p-tabView",23),d.bc("onChange",(function(e){return t.handleTabChange(e)})),d.Tb(52,"p-tabPanel",24),d.Mc(53,Ne,5,4,"ng-template",25),d.Mc(54,xe,1,0,"ng-template",26),d.Sb(),d.Tb(55,"p-tabPanel",24),d.Mc(56,$e,5,4,"ng-template",25),d.Mc(57,je,1,0,"ng-template",26),d.Sb(),d.Tb(58,"p-tabPanel",24),d.Mc(59,Le,5,4,"ng-template",25),d.Mc(60,Ge,1,0,"ng-template",26),d.Sb(),d.Tb(61,"p-tabPanel",24),d.Mc(62,He,5,4,"ng-template",25),d.Mc(63,qe,1,0,"ng-template",26),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb()),2&e&&(d.mc("baseZIndex",5e4),d.Bb(5),d.Pc(d.hc(6,20,"RICHIESTE_ACCESSO.TITLE")),d.Bb(5),d.mc("selected",1==t.openSearchTab),d.Bb(2),d.mc("disabled",!1),d.Bb(5),d.Pc(t.labels.dataProtocollazione),d.Bb(2),d.mc("ngModel",t.rangeDates)("readonlyInput",!0)("locale",t.language),d.Bb(3),d.Pc(t.labels.nrProtocollo),d.Bb(2),d.mc("ngModel",t.idProtocollo),d.Bb(4),d.Pc(t.labels.cognome),d.Bb(2),d.mc("ngModel",t.cognome),d.Bb(3),d.Pc(t.labels.nome),d.Bb(2),d.mc("ngModel",t.nome),d.Bb(4),d.Pc(t.labels.codiceFiscale),d.Bb(2),d.mc("ngModel",t.codiceFiscale),d.Bb(11),d.mc("selected","PROTOCOLLATE"==t.selectedTab),d.Bb(3),d.mc("selected","IN_LAVORAZIONE"==t.selectedTab),d.Bb(3),d.mc("selected","APPROVATE"==t.selectedTab),d.Bb(3),d.mc("selected","RIFIUTATE"==t.selectedTab))},directives:[P.a,z.a,z.c,D.I,D.t,D.u,A.a,D.s,D.v,D.c,B.a,D.n,R.b,M.b,M.a,C.e,Q,fe,De,Ue],pipes:[x.d],styles:[""]}),Qe),Ze=i("JIr8"),Ke=i("eIep"),Je=i("cp0P"),Ye=i("EY2u"),We=i("LRne"),Xe=i("bYf8"),et=i("GFTO"),tt=i("kPZZ"),it=i("R5y+"),ot=i("AD9J"),at=function(){return{width:"100%",height:"300px",overflow:"auto",display:"block"}};function nt(e,t){if(1&e){var i=d.Ub();d.Tb(0,"p-tree",39),d.bc("selectionChange",(function(e){return d.Ec(i),d.fc(6).selectedNodes=e})),d.Sb()}if(2&e){var o=d.fc(6);d.Kc(d.rc(4,at)),d.mc("value",o.entiCaaTreeNode)("selection",o.selectedNodes)}}function rt(e,t){if(1&e&&(d.Tb(0,"div"),d.Mc(1,nt,1,5,"p-tree",38),d.Sb()),2&e){var i=d.fc(5);d.Bb(1),d.mc("ngIf",i.entiCaaTreeNode)}}function ct(e,t){if(1&e&&(d.Tb(0,"div"),d.Tb(1,"div",36),d.Ob(2,"p-checkbox",37),d.Sb(),d.Mc(3,rt,2,1,"div",24),d.Sb()),2&e){var i=d.fc().$implicit,o=d.fc(3);d.Bb(2),d.mc("formControl",o.profiloUtenteFormGroup.controls[i.id])("label",i.descrizione),d.Bb(1),d.mc("ngIf",o.profiloUtenteFormGroup.controls[i.id].value)}}function st(e,t){if(1&e&&(d.Tb(0,"span"),d.Oc(1,", "),d.Tb(2,"b"),d.Oc(3,"denominazione"),d.Sb(),d.Oc(4),d.Sb()),2&e){var i=d.fc().$implicit;d.Bb(4),d.Qc(" ",i.denominazione,"")}}function lt(e,t){if(1&e&&(d.Tb(0,"div"),d.Tb(1,"span"),d.Tb(2,"b"),d.Oc(3),d.Sb(),d.Oc(4),d.Sb(),d.Mc(5,st,5,1,"span",24),d.Sb()),2&e){var i=t.$implicit,o=d.fc(6);d.Bb(3),d.Pc(o.labels.cuaaSigla),d.Bb(1),d.Qc(" ",i.cuaa,""),d.Bb(1),d.mc("ngIf",i.denominazione)}}function bt(e,t){if(1&e&&(d.Tb(0,"span"),d.Oc(1,", "),d.Tb(2,"b"),d.Oc(3,"denominazione"),d.Sb(),d.Oc(4),d.Sb()),2&e){var i=d.fc().$implicit;d.Bb(4),d.Qc(" ",i.denominazione,"")}}function ut(e,t){if(1&e&&(d.Tb(0,"div"),d.Tb(1,"span"),d.Tb(2,"b"),d.Oc(3),d.Sb(),d.Oc(4),d.Sb(),d.Mc(5,bt,5,1,"span",24),d.Sb()),2&e){var i=t.$implicit,o=d.fc(6);d.Bb(3),d.Pc(o.labels.cuaaSigla),d.Bb(1),d.Qc(" ",i.cuaa,""),d.Bb(1),d.mc("ngIf",i.denominazione)}}function dt(e,t){if(1&e&&(d.Tb(0,"div"),d.Mc(1,lt,6,3,"div",19),d.Mc(2,ut,6,3,"div",19),d.Sb()),2&e){var i=d.fc(5);d.Bb(1),d.mc("ngForOf",i.datiDomanda.responsabilitaRichieste.responsabilitaTitolare),d.Bb(1),d.mc("ngForOf",i.datiDomanda.responsabilitaRichieste.responsabilitaLegaleRappresentante)}}function pt(e,t){if(1&e&&(d.Rb(0),d.Oc(1),d.Qb()),2&e){var i=t.$implicit;d.Bb(1),d.Rc(" ",i.denominazioneAzienda," - ",i.comune,", ")}}function ft(e,t){if(1&e&&(d.Rb(0),d.Mc(1,pt,2,2,"ng-container",19),d.Qb()),2&e){var i=t.$implicit;d.Bb(1),d.mc("ngForOf",i.distributori)}}function ht(e,t){if(1&e&&(d.Tb(0,"div",42),d.Tb(1,"strong"),d.Oc(2),d.gc(3,"translate"),d.Sb(),d.Ob(4,"br"),d.Mc(5,ft,2,1,"ng-container",19),d.Sb()),2&e){var i=d.fc(5);d.Bb(2),d.Qc("",d.hc(3,2,"gestioneUtenze.distributori")," "),d.Bb(3),d.mc("ngForOf",i.datiDomanda.responsabilitaRichieste.responsabilitaDistributore)}}function gt(e,t){if(1&e&&(d.Ob(0,"p-checkbox",40),d.Mc(1,dt,3,2,"div",24),d.Mc(2,ht,6,4,"div",41)),2&e){var i=d.fc().$implicit,o=d.fc(3);d.mc("formControl",o.profiloUtenteFormGroup.controls[i.id])("label",i.descrizione),d.Bb(1),d.mc("ngIf",o.profiloUtenteFormGroup.controls[i.id].value&&"azienda"==i.identificativo),d.Bb(1),d.mc("ngIf",o.profiloUtenteFormGroup.controls[i.id].value&&"operatore_distributore"==i.identificativo)}}function mt(e,t){if(1&e&&(d.Tb(0,"div"),d.Mc(1,ct,4,3,"div",34),d.Mc(2,gt,3,4,"ng-template",null,35,d.Nc),d.Sb()),2&e){var i=t.$implicit,o=d.Bc(3);d.Bb(1),d.mc("ngIf","caa"==i.identificativo)("ngIfElse",o)}}function vt(e,t){if(1&e&&(d.Tb(0,"div"),d.Mc(1,mt,4,2,"div",19),d.Sb()),2&e){var i=t.$implicit;d.Bb(1),d.mc("ngForOf",i.profili)}}function St(e,t){if(1&e&&(d.Tb(0,"div"),d.Ob(1,"p-checkbox",37),d.Sb()),2&e){var i=t.$implicit,o=d.fc(3);d.Bb(1),d.mc("formControl",o.profiloUtenteFormGroup.controls[i.id])("label",i.descrizione)}}function Tt(e,t){if(1&e&&(d.Tb(0,"p-accordion"),d.Tb(1,"p-accordionTab",43),d.Mc(2,St,2,2,"div",19),d.Sb(),d.Sb()),2&e){var i=t.$implicit,o=d.fc(2);d.Bb(1),d.mc("header",o.labels[i.responsabilita])("selected",!1),d.Bb(1),d.mc("ngForOf",i.profili)}}function yt(e,t){if(1&e&&d.Ob(0,"p-accordionTab",45),2&e){var i=d.fc().$implicit;d.mc("header",i.profili[0].descrizione)("selected",!1)("disabled",!0)}}function Ot(e,t){if(1&e&&(d.Tb(0,"p-accordion"),d.Mc(1,yt,1,3,"p-accordionTab",44),d.Sb()),2&e){var i=t.$implicit;d.Bb(1),d.mc("ngForOf",i.profili)}}function Ct(e,t){if(1&e&&(d.Tb(0,"div",47),d.Oc(1),d.Sb()),2&e){var i=t.$implicit;d.Bb(1),d.Qc(" ",i,"")}}function Pt(e,t){if(1&e&&(d.Tb(0,"div"),d.Mc(1,Ct,2,1,"div",46),d.Sb()),2&e){var i=d.fc(2);d.Bb(1),d.mc("ngForOf",i.profiliSrt)}}function zt(e,t){1&e&&(d.Tb(0,"div"),d.Tb(1,"div",47),d.Oc(2," Non sono presenti profili per questo utente in SRTrento!"),d.Sb(),d.Sb())}function Dt(e,t){if(1&e&&(d.Tb(0,"div",47),d.Oc(1),d.Sb()),2&e){var i=t.$implicit;d.Bb(1),d.Qc(" ",i,"")}}function At(e,t){if(1&e&&(d.Tb(0,"div"),d.Mc(1,Dt,2,1,"div",46),d.Sb()),2&e){var i=d.fc(2);d.Bb(1),d.mc("ngForOf",i.profiliAgs)}}function Bt(e,t){1&e&&(d.Tb(0,"div"),d.Tb(1,"div",47),d.Oc(2," Non sono presenti profili per questo utente in AGS!"),d.Sb(),d.Sb())}var Rt=function(){return{overflow:"auto","max-height":"750px"}},Mt=function(){return{float:"right"}};function It(e,t){if(1&e){var i=d.Ub();d.Tb(0,"div",1),d.Tb(1,"p-dialog",2,3),d.bc("visibleChange",(function(e){return d.Ec(i),d.fc().display=e}))("onShow",(function(){return d.Ec(i),d.fc().onShow()}))("onHide",(function(){return d.Ec(i),d.fc().onHide()})),d.Tb(3,"form",4),d.Tb(4,"div",5),d.Tb(5,"div",6),d.Tb(6,"strong",7),d.Oc(7),d.Sb(),d.Tb(8,"span",8),d.Oc(9),d.Sb(),d.Tb(10,"span"),d.Oc(11),d.Sb(),d.Tb(12,"div",9),d.Ob(13,"img",10),d.Ob(14,"img",11),d.Sb(),d.Sb(),d.Tb(15,"div",12),d.Tb(16,"h4",13),d.Ob(17,"i",14),d.Tb(18,"span"),d.Oc(19),d.Sb(),d.Sb(),d.Tb(20,"div",15),d.Tb(21,"p-panel"),d.Tb(22,"p-header",16),d.Ob(23,"img",17),d.Tb(24,"span",18),d.Oc(25),d.Sb(),d.Sb(),d.Mc(26,vt,2,1,"div",19),d.Mc(27,Tt,3,3,"p-accordion",19),d.Mc(28,Ot,2,1,"p-accordion",19),d.Sb(),d.Tb(29,"p-panel"),d.Tb(30,"p-header",16),d.Ob(31,"img",20),d.Tb(32,"span",18),d.Oc(33),d.Sb(),d.Tb(34,"p-button",21),d.bc("onClick",(function(){d.Ec(i);var e=d.fc();return e.updateProfiliSrt(e.datiDomanda.datiAnagrafici)})),d.gc(35,"translate"),d.Sb(),d.Sb(),d.Tb(36,"div",22),d.Tb(37,"div",23),d.Mc(38,Pt,2,1,"div",24),d.Mc(39,zt,3,0,"div",24),d.Sb(),d.Sb(),d.Sb(),d.Tb(40,"p-panel"),d.Tb(41,"p-header",16),d.Ob(42,"img",25),d.Tb(43,"span",18),d.Oc(44),d.Sb(),d.Tb(45,"p-button",21),d.bc("onClick",(function(){d.Ec(i);var e=d.fc();return e.updateProfiliAgs(e.datiDomanda.datiAnagrafici)})),d.gc(46,"translate"),d.Sb(),d.Sb(),d.Tb(47,"div",22),d.Tb(48,"div",23),d.Mc(49,At,2,1,"div",24),d.Mc(50,Bt,3,0,"div",24),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Tb(51,"div",12),d.Tb(52,"h4",13),d.Ob(53,"i",26),d.Tb(54,"span"),d.Oc(55),d.gc(56,"translate"),d.Sb(),d.Sb(),d.Tb(57,"div",15),d.Ob(58,"textarea",27),d.Sb(),d.Sb(),d.Sb(),d.Ob(59,"hr",28),d.Tb(60,"div",29),d.Tb(61,"div",30),d.Tb(62,"button",31),d.bc("click",(function(){return d.Ec(i),d.fc().hide()})),d.Sb(),d.Sb(),d.Tb(63,"div",30),d.Tb(64,"div",32),d.Tb(65,"button",33),d.bc("click",(function(){return d.Ec(i),d.fc().onSave()})),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb()}if(2&e){var o=d.fc();d.Bb(1),d.mc("visible",o.display)("focusOnShow",!1)("contentStyle",d.rc(37,Rt)),d.Bb(2),d.mc("formGroup",o.profiloUtenteFormGroup),d.Bb(4),d.Pc(o.datiDomanda.datiAnagrafici.nome+" "+o.datiDomanda.datiAnagrafici.cognome),d.Bb(2),d.Pc(o.labels.codiceFiscale.toLowerCase()),d.Bb(2),d.Pc(o.datiDomanda.datiAnagrafici.codiceFiscale),d.Bb(2),d.nc("pTooltip",o.datiDomanda.datiAnagrafici.telefono),d.Bb(1),d.nc("pTooltip",o.datiDomanda.datiAnagrafici.email),d.Bb(5),d.Pc(o.labels.configurazioneProfili),d.Bb(6),d.Pc(o.labels.nuovoSistemaInformativoAgricoltura),d.Bb(1),d.mc("ngForOf",o.responsabilitaPresentationSingleProfile),d.Bb(1),d.mc("ngForOf",o.responsabilitaPresentationMultiProfile),d.Bb(1),d.mc("ngForOf",o.responsabilitaPresentationSingleProfileNoRuoli),d.Bb(5),d.Pc(o.labels.misureStrutturali),d.Bb(1),d.Kc(d.rc(38,Mt)),d.nc("label",d.hc(35,31,"RICHIESTE_ACCESSO.refresh")),d.Bb(4),d.mc("ngIf",o.profiliSrt&&o.profiliSrt.length>0),d.Bb(1),d.mc("ngIf",!(o.profiliSrt&&o.profiliSrt.length>0)),d.Bb(5),d.Pc(o.labels.sistemaInformativoAgricoltura),d.Bb(1),d.Kc(d.rc(39,Mt)),d.nc("label",d.hc(46,33,"RICHIESTE_ACCESSO.refresh")),d.Bb(4),d.mc("ngIf",o.profiliAgs&&o.profiliAgs.length>0),d.Bb(1),d.mc("ngIf",!(o.profiliAgs&&o.profiliAgs.length>0)),d.Bb(5),d.Pc(d.hc(56,35,"RICERCA_UTENTE.variazioniRichiesta")),d.Bb(3),d.mc("rows",3)("formControl",o.profiloUtenteFormGroup.controls.variazioniRichiesta),d.Bb(4),d.mc("label",o.labels.ANNULLA),d.Bb(3),d.mc("label",o.labels.salva)}}var kt,Et=function e(){_classCallCheck(this,e)},wt=((kt=function(){function e(t,i,o,a,n,r){_classCallCheck(this,e),this.router=t,this.route=i,this.gestioneUtenzeService=o,this.utentiService=a,this.messageService=n,this.translateService=r,this.display=!1,this.displayChange=new d.n,this.componentDestroyed$=new g.a,this.istruttoriaProfiloUtente=new Xe.a,this.labels=s.a,this.displayAssegnazioneConfigurazioneDialog=!1,this.profiloUtenteFormGroup=new D.j({}),this.profiloUtenteFormGroup.controls.variazioniRichiesta=new D.g("",D.G.required)}return _createClass(e,[{key:"handleUfficiCaaOB",value:function(e){this.entiCaaTreeNode=et.a.getTreeNodes(e)}},{key:"handleProfiliOB",value:function(e){var t,i=this,o=new Map,a=_createForOfIteratorHelper(e);try{for(a.s();!(t=a.n()).done;){var n=t.value;o.has(n.responsabilita)?o.get(n.responsabilita).push(n):o.set(n.responsabilita,[n])}}catch(m){a.e(m)}finally{a.f()}this.responsabilitaPresentationSingleProfileNoRuoli=[],this.responsabilitaPresentationSingleProfile=[],this.responsabilitaPresentationMultiProfile=[];var r,c=_createForOfIteratorHelper(Array.from(o.keys()).sort());try{for(c.s();!(r=c.n()).done;){var s=r.value,l=new Et,b=o.get(s).sort();l.responsabilita=s,l.profili=b,1===b.length?b[0].haRuoli?this.responsabilitaPresentationSingleProfile.push(l):this.responsabilitaPresentationSingleProfileNoRuoli.push(l):this.responsabilitaPresentationMultiProfile.push(l)}}catch(m){c.e(m)}finally{c.f()}this.responsabilitaPresentationSingleProfileNoRuoli.sort((function(e,t){return e.responsabilita>t.responsabilita?1:-1})),this.responsabilitaPresentationSingleProfile.sort((function(e,t){return e.profili[0]>t.profili[0]?1:-1})),this.responsabilitaPresentationMultiProfile.sort((function(e,t){return e.responsabilita>t.responsabilita?1:-1}));var u,d=_createForOfIteratorHelper(this.responsabilitaPresentationSingleProfile);try{for(d.s();!(u=d.n()).done;){var p=u.value.profili[0],f=new D.g(!1);"azienda"!==p.identificativo||this.hasCuaa(this.datiDomanda)||f.disable(),this.profiloUtenteFormGroup.controls[p.id]=f}}catch(m){d.e(m)}finally{d.f()}var h,g=_createForOfIteratorHelper(this.responsabilitaPresentationMultiProfile);try{for(g.s();!(h=g.n()).done;)h.value.profili.forEach((function(e){return i.profiloUtenteFormGroup.controls[e.id]=new D.g(!1)}))}catch(m){g.e(m)}finally{g.f()}}},{key:"handleIstruttoriaOB",value:function(e){Object.assign(this.istruttoriaProfiloUtente,e),this.selectedNodes=et.a.selectEntiSedi(this.entiCaaTreeNode,this.istruttoriaProfiloUtente.sedi),this.profiloUtenteFormGroup.controls.variazioniRichiesta.setValue(this.istruttoriaProfiloUtente.variazioneRichiesta);var t,i=_createForOfIteratorHelper(this.istruttoriaProfiloUtente.profili);try{for(i.s();!(t=i.n()).done;){var o=t.value;this.profiloUtenteFormGroup.controls[o].setValue(!0)}}catch(a){i.e(a)}finally{i.f()}}},{key:"hasCuaa",value:function(e){return!!(e.responsabilitaRichieste.responsabilitaLegaleRappresentante&&e.responsabilitaRichieste.responsabilitaLegaleRappresentante.some((function(e){return!!e.cuaa}))||e.responsabilitaRichieste.responsabilitaTitolare&&e.responsabilitaRichieste.responsabilitaTitolare.some((function(e){return!!e.cuaa})))}},{key:"popolaDatiDomanda",value:function(){var e,t=this.datiDomanda.responsabilitaRichieste,i=this.hasCuaa(this.datiDomanda),o=this.hasDistributors(this.datiDomanda),a=_createForOfIteratorHelper(this.responsabilitaPresentationSingleProfile);try{for(a.s();!(e=a.n()).done;){var n=e.value;this.profiloUtenteFormGroup.controls[n.profili[0].id].setValue(!("azienda"!==n.profili[0].identificativo||!i)),"operatore_distributore"===n.profili[0].identificativo&&o&&this.profiloUtenteFormGroup.controls[n.profili[0].id].setValue(!0)}}catch(b){a.e(b)}finally{a.f()}if(t.responsabilitaCaa){var r,c=_createForOfIteratorHelper(t.responsabilitaCaa);try{for(c.s();!(r=c.n()).done;){var s=r.value;this.selectedNodes=et.a.selectEntiSedi(this.entiCaaTreeNode,s.sedi.map((function(e){return e.id})));var l=this.getProfiloCaaFormControl();l&&this.profiloUtenteFormGroup.controls[l.id].setValue(this.selectedNodes.length>0)}}catch(b){c.e(b)}finally{c.f()}}}},{key:"hasDistributors",value:function(e){try{return e.responsabilitaRichieste.responsabilitaDistributore[0].distributori.length>0}catch(t){return!1}}},{key:"updateProfiliSrt",value:function(e){var t=this;Object(Je.a)([this.utentiService.getProfiliSrt(e).pipe(Object(Ze.a)((function(e){return t.messageService.add(b.a.getToast("tst",b.b.error,b.a.erroreRecuperoDatiSrt)),Object(Ye.b)()})))]).pipe(Object(f.a)(this.componentDestroyed$)).subscribe((function(e){t.getProfiliSrt(e[0])}),(function(e){console.log(e)}))}},{key:"getProfiliSrt",value:function(e){var t=this;this.profiliSrt=[],e&&(e.forEach((function(e){t.profiliSrt.push(e.ruolo)})),console.log("Profili SRT:"),console.log(this.profiliSrt))}},{key:"updateProfiliAgs",value:function(e){var t=this;Object(Je.a)([this.utentiService.getProfiliAgs(e).pipe(Object(Ze.a)((function(e){return t.messageService.add(b.a.getToast("tst",b.b.error,b.a.erroreRecuperoDatiAgs)),Object(Ye.b)()})))]).pipe(Object(f.a)(this.componentDestroyed$)).subscribe((function(e){t.getProfiliAgs(e[0])}),(function(e){console.log(e)}))}},{key:"getProfiliAgs",value:function(e){var t=this;this.profiliAgs=[],e&&e.forEach((function(e){t.profiliAgs.push(e.utenza)}))}},{key:"ngOnInit",value:function(){var e=this;this.selectedNodes=[],this.route.params.pipe(Object(Ke.a)((function(t){return e.gestioneUtenzeService.getDatiAnagraficiUtente(t.idUtenza)})),Object(Ke.a)((function(t){return e.datiDomanda=t,console.log("loading from services"),Object(Je.a)([e.utentiService.getUfficiCaa().pipe(Object(Ze.a)((function(t){b.a.handleError(e.messageService,t,b.a.erroreRecuperoDati)}))),e.utentiService.getProfiliUtente().pipe(Object(Ze.a)((function(t){b.a.handleError(e.messageService,t,b.a.erroreRecuperoDati)}))),e.gestioneUtenzeService.getIstruttoriaProfiloByDomanda(t.id).pipe(Object(Ze.a)((function(t){return e.istruttoriaProfiloUtente.idDomanda=e.datiDomanda.id,e.selectedNodes=[],Object(We.a)(null)})))])})),Object(Ke.a)((function(t){return e.handleUfficiCaaOB(t[0]),e.handleProfiliOB(t[1]),t[2]?e.handleIstruttoriaOB(t[2]):e.popolaDatiDomanda(),e.route.queryParams})),Object(f.a)(this.componentDestroyed$)).subscribe((function(t){"1"===t.dialog&&e.open()}),(function(t){return b.a.handleError(e.messageService,t,b.a.erroreRecuperoDati),e.route.queryParams}))}},{key:"hide",value:function(){this.display=!1}},{key:"onHide",value:function(){this.displayChange.emit(!1)}},{key:"onShow",value:function(){this.displayChange.emit(!0)}},{key:"open",value:function(){this.display=!0,this.updateProfiliSrt(this.datiDomanda.datiAnagrafici),this.updateProfiliAgs(this.datiDomanda.datiAnagrafici)}},{key:"getProfiloCaaFormControl",value:function(){var e=this.responsabilitaPresentationSingleProfile.map((function(e){return e.profili})).find((function(e){return!!e.find((function(e){return"caa"===e.identificativo}))}));return e&&e.length>0?e[0]:null}},{key:"onSave",value:function(){var e=this;if(this.profiloUtenteFormGroup.updateValueAndValidity(),this.profiloUtenteFormGroup.valid){var t=this.getProfiloCaaFormControl();if(t&&this.profiloUtenteFormGroup.controls[t.id]&&this.profiloUtenteFormGroup.controls[t.id].value&&0===this.selectedNodes.length)this.messageService.add(b.a.getToast("tst",b.b.warn,this.translateService.instant("RICHIESTE_ACCESSO.seProfiloCaaAlmeno1Sede")));else{this.istruttoriaProfiloUtente.sedi=[],this.selectedNodes.forEach((function(t,i){t.data&&e.istruttoriaProfiloUtente.sedi.push(t.data.id)})),this.istruttoriaProfiloUtente.profili=[];var i,o=_createForOfIteratorHelper(this.responsabilitaPresentationMultiProfile.concat(this.responsabilitaPresentationSingleProfile));try{for(o.s();!(i=o.n()).done;)i.value.profili.forEach((function(t){var i=t.id;e.profiloUtenteFormGroup.controls[i].value&&e.istruttoriaProfiloUtente.profili.push(i)}))}catch(a){o.e(a)}finally{o.f()}this.istruttoriaProfiloUtente.variazioneRichiesta=this.profiloUtenteFormGroup.controls.variazioniRichiesta.value,this.istruttoriaProfiloUtente.id?this.utentiService.putIstruttoriaProfilo(this.istruttoriaProfiloUtente).subscribe((function(t){e.messageService.add(b.a.getToast("tst",b.b.success,b.a.OPERAZIONE_OK)),e.router.navigate(["./"],{relativeTo:e.route.parent,queryParams:{tabselected:"inlavorazione"}})}),(function(t){e.messageService.add(b.a.getToast("tst",b.b.error,b.a.changeStatusKo))})):(this.istruttoriaProfiloUtente.idDomanda=this.datiDomanda.id,this.utentiService.postIstruttoriaProfilo(this.istruttoriaProfiloUtente).subscribe((function(t){e.messageService.add(b.a.getToast("tst",b.b.success,b.a.OPERAZIONE_OK)),e.router.navigate(["./"],{relativeTo:e.route.parent,queryParams:{tabselected:"inlavorazione"}})}),(function(t){e.messageService.add(b.a.getToast("tst",b.b.error,b.a.changeStatusKo))})))}}else this.messageService.add(b.a.getToast("tst",b.b.warn,b.a.inputRequiredInvalid))}},{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}}]),e}()).\u0275fac=function(e){return new(e||kt)(d.Nb(r.e),d.Nb(r.a),d.Nb(I.a),d.Nb(l.a),d.Nb(C.d),d.Nb(x.e))},kt.\u0275cmp=d.Hb({type:kt,selectors:[["assegnazione-configurazioni-dialog"]],outputs:{displayChange:"displayChange"},decls:1,vars:1,consts:[["id","confirm",4,"ngIf"],["id","confirm"],["width","900","modal","true","appendTo","body","closable","true","closeOnEscape","true",3,"visible","focusOnShow","contentStyle","visibleChange","onShow","onHide"],["dialog",""],[3,"formGroup"],[1,"popup-istruttoria","clearfix","p-0"],[1,"d-flex","align-items-center","p-3","bg-success","text-white"],[1,"mr-3"],[1,"mr-1"],[1,"ml-auto"],["src","assets/img/icons/phone.png","alt","phone","tooltipPosition","left","tooltipStyleClass","tooltip--white",1,"mr-4","img--force-white",3,"pTooltip"],["src","assets/img/icons/mail.png","alt","phone","tooltipStyleClass","tooltip--white","tooltipPosition","right",1,"img--force-white",3,"pTooltip"],[1,"popup-box"],[1,"popup-box__head"],[1,"pi","pi-cog"],[1,"popup-box__body"],[1,"d-flex","align-items-center"],["src","assets/layout/images/misure_strutturali.png","alt","x"],[1,"ui-panel-title"],[4,"ngFor","ngForOf"],["src","assets/layout/images/nuovo_sistema.png","alt","x"],["icon","pi pi-refresh","iconPos","left",1,"ml-auto",3,"label","onClick"],[1,"row","mb-5"],[1,"col-12"],[4,"ngIf"],["src","assets/layout/images/sistema_informativo.png","alt","x"],[1,"pi","pi-plus-circle"],["autoResize","autoResize","required","",2,"width","100%",3,"rows","formControl"],[1,"my-3"],[1,"row"],[1,"col-6"],["pButton","","type","button",1,"annulla","btn--text",3,"label","click"],[1,"next-button"],["pButton","","type","button",1,"salva",3,"label","click"],[4,"ngIf","ngIfElse"],["selezionaProfilo",""],[1,"row","checkbox--top-level"],["binary","false",3,"formControl","label"],["selectionMode","checkbox",3,"style","value","selection","selectionChange",4,"ngIf"],["selectionMode","checkbox",3,"value","selection","selectionChange"],["binary","false",1,"checkbox--top-level",3,"formControl","label"],["class","pl-2",4,"ngIf"],[1,"pl-2"],[3,"header","selected"],[3,"header","selected","disabled",4,"ngFor","ngForOf"],[3,"header","selected","disabled"],["class","box-user-role dialog-config",4,"ngFor","ngForOf"],[1,"box-user-role","dialog-config"]],template:function(e,t){1&e&&d.Mc(0,It,66,40,"div",0),2&e&&d.mc("ngIf",t.datiDomanda)},directives:[c.t,K.a,D.I,D.t,D.k,N.a,tt.a,C.c,c.s,R.a,D.c,D.D,D.s,D.h,R.b,it.a,ot.a,z.a,z.c],pipes:[x.d],styles:[".dialog-config[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #dedede;border-top:0}.ng-dirty.ng-invalid[_ngcontent-%COMP%]{border-color:red}"]}),kt),_t=["assegnazioneConfigurazioneDialog"],Ft=["rifiutoDialog"];function Ut(e,t){if(1&e&&(d.Tb(0,"h4"),d.Oc(1),d.gc(2,"translate"),d.gc(3,"date"),d.Sb()),2&e){var i=d.fc();d.Bb(1),d.Sc(" ",d.hc(2,3,"gestioneUtenze.richiesta")," ",i.datiDomanda.idProtocollo," | ",d.ic(3,5,i.datiDomanda.dataProtocollazione,i.DATE_FORMAT)," ")}}function Nt(e,t){if(1&e){var i=d.Ub();d.Tb(0,"div",12),d.Tb(1,"p-accordion"),d.Tb(2,"p-accordionTab",20),d.Tb(3,"fieldset",21),d.Tb(4,"div",22),d.Tb(5,"div",23),d.Tb(6,"label"),d.Oc(7),d.gc(8,"translate"),d.Sb(),d.Sb(),d.Tb(9,"div",24),d.Tb(10,"input",25),d.bc("ngModelChange",(function(e){return d.Ec(i),d.fc(2).datiDomanda.datiAnagrafici.cognome=e})),d.Sb(),d.Sb(),d.Tb(11,"div",23),d.Tb(12,"label"),d.Oc(13),d.gc(14,"translate"),d.Sb(),d.Sb(),d.Tb(15,"div",24),d.Tb(16,"input",26),d.bc("ngModelChange",(function(e){return d.Ec(i),d.fc(2).datiDomanda.datiAnagrafici.nome=e})),d.Sb(),d.Sb(),d.Tb(17,"div",23),d.Tb(18,"label"),d.Oc(19),d.gc(20,"translate"),d.Sb(),d.Sb(),d.Tb(21,"div",24),d.Tb(22,"input",27),d.bc("ngModelChange",(function(e){return d.Ec(i),d.fc(2).datiDomanda.datiAnagrafici.codiceFiscale=e})),d.Sb(),d.Sb(),d.Tb(23,"div",23),d.Tb(24,"label"),d.Oc(25),d.gc(26,"translate"),d.Sb(),d.Sb(),d.Tb(27,"div",24),d.Tb(28,"input",28),d.bc("ngModelChange",(function(e){return d.Ec(i),d.fc(2).datiDomanda.datiAnagrafici.email=e})),d.Sb(),d.Sb(),d.Ob(29,"div",9),d.Tb(30,"div",23),d.Tb(31,"label"),d.Oc(32),d.gc(33,"translate"),d.Sb(),d.Sb(),d.Tb(34,"div",24),d.Tb(35,"input",29),d.bc("ngModelChange",(function(e){return d.Ec(i),d.fc(2).datiDomanda.datiAnagrafici.telefono=e})),d.Sb(),d.Sb(),d.Ob(36,"div",15),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb()}if(2&e){var o=d.fc(2);d.Bb(2),d.mc("selected",!0),d.Bb(1),d.mc("disabled",!1),d.Bb(4),d.Pc(d.hc(8,17,"cognome")),d.Bb(3),d.mc("ngModel",o.datiDomanda.datiAnagrafici.cognome)("readonly",!0),d.Bb(3),d.Pc(d.hc(14,19,"nome")),d.Bb(3),d.mc("ngModel",o.datiDomanda.datiAnagrafici.nome)("readonly",!0),d.Bb(3),d.Pc(d.hc(20,21,"cf")),d.Bb(3),d.mc("ngModel",o.datiDomanda.datiAnagrafici.codiceFiscale)("readonly",!0),d.Bb(3),d.Pc(d.hc(26,23,"INDIRIZZO_PEC")),d.Bb(3),d.mc("ngModel",o.datiDomanda.datiAnagrafici.email)("readonly",!0),d.Bb(4),d.Pc(d.hc(33,25,"RECAPITO_TELEFONICO")),d.Bb(3),d.mc("ngModel",o.datiDomanda.datiAnagrafici.telefono)("readonly",!0)}}function xt(e,t){1&e&&(d.Tb(0,"tr"),d.Tb(1,"th"),d.Tb(2,"strong"),d.Oc(3),d.gc(4,"translate"),d.Sb(),d.Sb(),d.Tb(5,"th"),d.Tb(6,"strong"),d.Oc(7),d.gc(8,"translate"),d.Sb(),d.Sb(),d.Sb()),2&e&&(d.Bb(3),d.Pc(d.hc(4,2,"cuaa")),d.Bb(4),d.Pc(d.hc(8,4,"gestioneUtenze.descrizioneImpresa")))}function $t(e,t){if(1&e&&(d.Tb(0,"tr"),d.Tb(1,"td"),d.Oc(2),d.Sb(),d.Tb(3,"td"),d.Oc(4),d.Sb(),d.Sb()),2&e){var i=t.$implicit;d.Bb(2),d.Pc(i.cuaa),d.Bb(2),d.Pc(i.denominazione)}}function jt(e,t){if(1&e&&(d.Rb(0),d.Tb(1,"h5"),d.Tb(2,"strong"),d.Oc(3),d.gc(4,"translate"),d.Sb(),d.Sb(),d.Tb(5,"p-table",31),d.Mc(6,xt,9,6,"ng-template",32),d.Mc(7,$t,5,2,"ng-template",33),d.Sb(),d.Qb()),2&e){var i=d.fc(3);d.Bb(3),d.Pc(d.hc(4,2,"titolare")),d.Bb(2),d.mc("value",i.datiDomanda.responsabilitaRichieste.responsabilitaTitolare)}}function Lt(e,t){1&e&&(d.Tb(0,"tr"),d.Tb(1,"th"),d.Tb(2,"strong"),d.Oc(3),d.gc(4,"translate"),d.Sb(),d.Sb(),d.Tb(5,"th"),d.Tb(6,"strong"),d.Oc(7),d.gc(8,"translate"),d.Sb(),d.Sb(),d.Sb()),2&e&&(d.Bb(3),d.Pc(d.hc(4,2,"cuaa")),d.Bb(4),d.Pc(d.hc(8,4,"gestioneUtenze.descrizioneImpresa")))}function Gt(e,t){if(1&e&&(d.Tb(0,"tr"),d.Tb(1,"td"),d.Oc(2),d.Sb(),d.Tb(3,"td"),d.Oc(4),d.Sb(),d.Sb()),2&e){var i=t.$implicit;d.Bb(2),d.Pc(i.cuaa),d.Bb(2),d.Pc(i.denominazione)}}function Ht(e,t){if(1&e&&(d.Rb(0),d.Tb(1,"h5",34),d.Tb(2,"strong"),d.Oc(3),d.Sb(),d.Sb(),d.Tb(4,"p-table",31),d.Mc(5,Lt,9,6,"ng-template",32),d.Mc(6,Gt,5,2,"ng-template",33),d.Sb(),d.Qb()),2&e){var i=d.fc(3);d.Bb(3),d.Pc(i.labels.legaleRappresentante),d.Bb(1),d.mc("value",i.datiDomanda.responsabilitaRichieste.responsabilitaLegaleRappresentante)}}function qt(e,t){1&e&&(d.Tb(0,"tr"),d.Tb(1,"th"),d.Tb(2,"strong"),d.Oc(3),d.gc(4,"translate"),d.Sb(),d.Sb(),d.Tb(5,"th"),d.Tb(6,"strong"),d.Oc(7),d.gc(8,"translate"),d.Sb(),d.Sb(),d.Tb(9,"th"),d.Tb(10,"strong"),d.Oc(11),d.gc(12,"translate"),d.Sb(),d.Sb(),d.Tb(13,"th"),d.Tb(14,"strong"),d.Oc(15),d.gc(16,"translate"),d.Sb(),d.Sb(),d.Tb(17,"th"),d.Tb(18,"strong"),d.Oc(19),d.gc(20,"translate"),d.Sb(),d.Sb(),d.Sb()),2&e&&(d.Bb(3),d.Pc(d.hc(4,5,"gestioneUtenze.ordineDiAppartenenza")),d.Bb(4),d.Pc(d.hc(8,7,"NUMERO_RI")),d.Bb(4),d.Pc(d.hc(12,9,"cuaa")),d.Bb(4),d.Pc(d.hc(16,11,"gestioneUtenze.descrizioneImpresa")),d.Bb(4),d.Pc(d.hc(20,13,"RAPPR")))}function Qt(e,t){if(1&e&&(d.Tb(0,"tr"),d.Tb(1,"td"),d.Oc(2),d.Sb(),d.Tb(3,"td"),d.Oc(4),d.Sb(),d.Tb(5,"td"),d.Oc(6),d.Sb(),d.Tb(7,"td"),d.Oc(8),d.Sb(),d.Tb(9,"td"),d.Oc(10),d.Sb(),d.Sb()),2&e){var i=t.$implicit;d.Bb(2),d.Pc(i.ordine),d.Bb(2),d.Pc(i.iscrizione),d.Bb(2),d.Pc(i.cuaa),d.Bb(2),d.Pc(i.denominazione),d.Bb(2),d.Pc(i.rappresentante)}}function Vt(e,t){if(1&e&&(d.Rb(0),d.Tb(1,"h5",34),d.Tb(2,"strong"),d.Oc(3),d.Sb(),d.Sb(),d.Tb(4,"p-table",31),d.Mc(5,qt,21,15,"ng-template",32),d.Mc(6,Qt,11,5,"ng-template",33),d.Sb(),d.Qb()),2&e){var i=d.fc(3);d.Bb(3),d.Pc(i.labels.liberoProfessionistaConsulente),d.Bb(1),d.mc("value",i.datiDomanda.responsabilitaRichieste.responsabilitaConsulente)}}function Zt(e,t){1&e&&(d.Tb(0,"tr"),d.Tb(1,"th"),d.Tb(2,"strong"),d.Oc(3),d.gc(4,"translate"),d.Sb(),d.Sb(),d.Tb(5,"th"),d.Tb(6,"strong"),d.Oc(7),d.gc(8,"translate"),d.Sb(),d.Sb(),d.Tb(9,"th"),d.Tb(10,"strong"),d.Oc(11),d.gc(12,"translate"),d.Sb(),d.Sb(),d.Tb(13,"th"),d.Tb(14,"strong"),d.Oc(15),d.gc(16,"translate"),d.Sb(),d.Sb(),d.Sb()),2&e&&(d.Bb(3),d.Pc(d.hc(4,4,"gestioneUtenze.matricola")),d.Bb(4),d.Pc(d.hc(8,6,"gestioneUtenze.struttura")),d.Bb(4),d.Pc(d.hc(12,8,"gestioneUtenze.dirigente")),d.Bb(4),d.Pc(d.hc(16,10,"RICHIESTE_ACCESSO.motivazioneRichiesta")))}function Kt(e,t){if(1&e&&(d.Tb(0,"tr"),d.Tb(1,"td"),d.Oc(2),d.Sb(),d.Tb(3,"td"),d.Oc(4),d.Sb(),d.Tb(5,"td"),d.Oc(6),d.Sb(),d.Tb(7,"td"),d.Oc(8),d.Sb(),d.Sb()),2&e){var i=t.$implicit;d.Bb(2),d.Pc(i.matricola),d.Bb(2),d.Pc(i.dipartimento),d.Bb(2),d.Pc(i.dirigente),d.Bb(2),d.Pc(i.note)}}function Jt(e,t){if(1&e&&(d.Rb(0),d.Tb(1,"h5",34),d.Tb(2,"strong"),d.Oc(3),d.gc(4,"translate"),d.Sb(),d.Sb(),d.Tb(5,"p-table",31),d.Mc(6,Zt,17,12,"ng-template",32),d.Mc(7,Kt,9,4,"ng-template",33),d.Sb(),d.Qb()),2&e){var i=d.fc(3);d.Bb(3),d.Pc(d.hc(4,2,"gestioneUtenze.dipendenteCollaboratorePat")),d.Bb(2),d.mc("value",i.datiDomanda.responsabilitaRichieste.responsabilitaPat)}}function Yt(e,t){1&e&&(d.Tb(0,"tr"),d.Tb(1,"th"),d.Tb(2,"strong"),d.Oc(3),d.gc(4,"translate"),d.Sb(),d.Sb(),d.Tb(5,"th"),d.Tb(6,"strong"),d.Oc(7),d.gc(8,"translate"),d.Sb(),d.Sb(),d.Sb()),2&e&&(d.Bb(3),d.Pc(d.hc(4,2,"gestioneUtenze.caaSedi")),d.Bb(4),d.Pc(d.hc(8,4,"gestioneUtenze.responsabile")))}function Wt(e,t){if(1&e&&(d.Tb(0,"div"),d.Oc(1),d.Sb()),2&e){var i=t.$implicit;d.Bb(1),d.Qc(" ",i.descrizione," ")}}function Xt(e,t){if(1&e&&(d.Rb(0),d.Mc(1,Wt,2,1,"div",35),d.Qb()),2&e){var i=d.fc().$implicit;d.Bb(1),d.mc("ngForOf",i.sedi)}}function ei(e,t){if(1&e&&(d.Tb(0,"tr"),d.Tb(1,"td"),d.Mc(2,Xt,2,1,"ng-container",8),d.Sb(),d.Tb(3,"td"),d.Oc(4),d.Sb(),d.Sb()),2&e){var i=t.$implicit;d.Bb(2),d.mc("ngIf",(null==i.sedi?null:i.sedi.length)>0),d.Bb(2),d.Pc(i.responsabile)}}function ti(e,t){if(1&e&&(d.Rb(0),d.Tb(1,"h5",34),d.Tb(2,"strong"),d.Oc(3),d.gc(4,"translate"),d.Sb(),d.Sb(),d.Tb(5,"p-table",31),d.Mc(6,Yt,9,6,"ng-template",32),d.Mc(7,ei,5,2,"ng-template",33),d.Sb(),d.Qb()),2&e){var i=d.fc(3);d.Bb(3),d.Pc(d.hc(4,2,"gestioneUtenze.dipendenteCollaboratoreCaa")),d.Bb(2),d.mc("value",i.datiDomanda.responsabilitaRichieste.responsabilitaCaa)}}function ii(e,t){1&e&&(d.Tb(0,"tr"),d.Tb(1,"th"),d.Tb(2,"strong"),d.Oc(3),d.gc(4,"translate"),d.Sb(),d.Sb(),d.Tb(5,"th"),d.Tb(6,"strong"),d.Oc(7),d.gc(8,"translate"),d.Sb(),d.Sb(),d.Tb(9,"th"),d.Tb(10,"strong"),d.Oc(11),d.gc(12,"translate"),d.Sb(),d.Sb(),d.Tb(13,"th"),d.Tb(14,"strong"),d.Oc(15),d.gc(16,"translate"),d.Sb(),d.Sb(),d.Sb()),2&e&&(d.Bb(3),d.Pc(d.hc(4,4,"denominazioneEnte")),d.Bb(4),d.Pc(d.hc(8,6,"PARTITA_IVA")),d.Bb(4),d.Pc(d.hc(12,8,"gestioneUtenze.responsabile")),d.Bb(4),d.Pc(d.hc(16,10,"RICHIESTE_ACCESSO.motivazioneRichiesta")))}function oi(e,t){if(1&e&&(d.Tb(0,"tr"),d.Tb(1,"td"),d.Oc(2),d.Sb(),d.Tb(3,"td"),d.Oc(4),d.Sb(),d.Tb(5,"td"),d.Oc(6),d.Sb(),d.Tb(7,"td"),d.Oc(8),d.Sb(),d.Sb()),2&e){var i=t.$implicit;d.Bb(2),d.Pc(i.denominazione),d.Bb(2),d.Pc(i.piva),d.Bb(2),d.Pc(i.dirigente),d.Bb(2),d.Pc(i.note)}}function ai(e,t){if(1&e&&(d.Rb(0),d.Tb(1,"h5",34),d.Tb(2,"strong"),d.Oc(3),d.gc(4,"translate"),d.Sb(),d.Sb(),d.Tb(5,"p-table",31),d.Mc(6,ii,17,12,"ng-template",32),d.Mc(7,oi,9,4,"ng-template",33),d.Sb(),d.Qb()),2&e){var i=d.fc(3);d.Bb(3),d.Pc(d.hc(4,2,"gestioneUtenze.collaboratoreAltriEnti")),d.Bb(2),d.mc("value",i.datiDomanda.responsabilitaRichieste.responsabilitaAltriEnti)}}function ni(e,t){1&e&&(d.Tb(0,"tr"),d.Tb(1,"th"),d.Tb(2,"strong"),d.Oc(3),d.gc(4,"translate"),d.Sb(),d.Sb(),d.Tb(5,"th"),d.Tb(6,"strong"),d.Oc(7),d.gc(8,"translate"),d.Sb(),d.Sb(),d.Sb()),2&e&&(d.Bb(3),d.Pc(d.hc(4,2,"gestioneUtenze.distributori")),d.Bb(4),d.Pc(d.hc(8,4,"gestioneUtenze.responsabile")))}function ri(e,t){if(1&e&&(d.Tb(0,"div"),d.Oc(1),d.Sb()),2&e){var i=t.$implicit;d.Bb(1),d.Rc(" ",i.denominazioneAzienda," - ",i.comune," ")}}function ci(e,t){if(1&e&&(d.Rb(0),d.Mc(1,ri,2,2,"div",35),d.Qb()),2&e){var i=d.fc().$implicit;d.Bb(1),d.mc("ngForOf",i.distributori)}}function si(e,t){if(1&e&&(d.Tb(0,"tr"),d.Tb(1,"td"),d.Mc(2,ci,2,1,"ng-container",8),d.Sb(),d.Tb(3,"td"),d.Oc(4),d.Sb(),d.Sb()),2&e){var i=t.$implicit;d.Bb(2),d.mc("ngIf",null==i.distributori?null:i.distributori.length),d.Bb(2),d.Pc(i.responsabile)}}function li(e,t){if(1&e&&(d.Rb(0),d.Tb(1,"h5",34),d.Tb(2,"strong"),d.Oc(3),d.gc(4,"translate"),d.Sb(),d.Sb(),d.Tb(5,"p-table",31),d.Mc(6,ni,9,6,"ng-template",32),d.Mc(7,si,5,2,"ng-template",33),d.Sb(),d.Qb()),2&e){var i=d.fc(3);d.Bb(3),d.Pc(d.hc(4,2,"gestioneUtenze.dipendenteCollaboratoreDistributore")),d.Bb(2),d.mc("value",i.datiDomanda.responsabilitaRichieste.responsabilitaDistributore)}}function bi(e,t){if(1&e&&(d.Tb(0,"div",12),d.Tb(1,"p-accordion"),d.Tb(2,"p-accordionTab",30),d.Tb(3,"div",14),d.Mc(4,jt,8,4,"ng-container",8),d.Mc(5,Ht,7,2,"ng-container",8),d.Mc(6,Vt,7,2,"ng-container",8),d.Mc(7,Jt,8,4,"ng-container",8),d.Mc(8,ti,8,4,"ng-container",8),d.Mc(9,ai,8,4,"ng-container",8),d.Mc(10,li,8,4,"ng-container",8),d.Sb(),d.Sb(),d.Sb(),d.Sb()),2&e){var i=d.fc(2);d.Bb(2),d.mc("selected",!0),d.Bb(2),d.mc("ngIf",(null==i.datiDomanda.responsabilitaRichieste.responsabilitaTitolare?null:i.datiDomanda.responsabilitaRichieste.responsabilitaTitolare.length)>0),d.Bb(1),d.mc("ngIf",(null==i.datiDomanda.responsabilitaRichieste.responsabilitaLegaleRappresentante?null:i.datiDomanda.responsabilitaRichieste.responsabilitaLegaleRappresentante.length)>0),d.Bb(1),d.mc("ngIf",(null==i.datiDomanda.responsabilitaRichieste.responsabilitaConsulente?null:i.datiDomanda.responsabilitaRichieste.responsabilitaConsulente.length)>0),d.Bb(1),d.mc("ngIf",(null==i.datiDomanda.responsabilitaRichieste.responsabilitaPat?null:i.datiDomanda.responsabilitaRichieste.responsabilitaPat.length)>0),d.Bb(1),d.mc("ngIf",(null==i.datiDomanda.responsabilitaRichieste.responsabilitaCaa?null:i.datiDomanda.responsabilitaRichieste.responsabilitaCaa.length)>0),d.Bb(1),d.mc("ngIf",(null==i.datiDomanda.responsabilitaRichieste.responsabilitaAltriEnti?null:i.datiDomanda.responsabilitaRichieste.responsabilitaAltriEnti.length)>0),d.Bb(1),d.mc("ngIf",(null==i.datiDomanda.responsabilitaRichieste.responsabilitaDistributore?null:i.datiDomanda.responsabilitaRichieste.responsabilitaDistributore.length)>0)}}function ui(e,t){if(1&e&&(d.Tb(0,"div"),d.Tb(1,"strong"),d.Oc(2),d.Sb(),d.Sb()),2&e){var i=t.$implicit,o=d.fc(3);d.Bb(2),d.Pc(o.applicativi[i])}}function di(e,t){if(1&e&&(d.Rb(0),d.Mc(1,ui,3,1,"div",35),d.Qb()),2&e){var i=d.fc(2);d.Bb(1),d.mc("ngForOf",i.datiDomanda.servizi)}}function pi(e,t){if(1&e){var i=d.Ub();d.Tb(0,"form",null,10),d.Mc(2,Nt,37,27,"div",11),d.Mc(3,bi,11,8,"div",11),d.Tb(4,"div",12),d.Tb(5,"p-accordion"),d.Tb(6,"p-accordionTab",13),d.Tb(7,"div",14),d.Mc(8,di,2,1,"ng-container",8),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Ob(9,"div",15),d.Tb(10,"div",16),d.Tb(11,"div",17),d.Tb(12,"button",18),d.bc("click",(function(){d.Ec(i);var e=d.fc();return e.showDialogRifiutoDomandaRichiestaUtente(e.datiDomanda)})),d.Sb(),d.Sb(),d.Sb(),d.Tb(13,"div",16),d.Tb(14,"div",17),d.Tb(15,"button",19),d.bc("click",(function(){return d.Ec(i),d.fc().showDialogConfigurazioneUtente()})),d.gc(16,"translate"),d.Sb(),d.Sb(),d.Sb(),d.Sb()}if(2&e){var o=d.fc();d.Bb(2),d.mc("ngIf",o.datiDomanda.datiAnagrafici),d.Bb(1),d.mc("ngIf",o.datiDomanda.responsabilitaRichieste),d.Bb(3),d.mc("selected",!0),d.Bb(2),d.mc("ngIf",(null==o.datiDomanda.servizi?null:o.datiDomanda.servizi.length)>0),d.Bb(4),d.mc("disabled","IN_LAVORAZIONE"!=o.datiDomanda.stato),d.Bb(3),d.nc("label",d.hc(16,7,"RICHIESTE_ACCESSO.dettaglioUtente")),d.mc("disabled","IN_LAVORAZIONE"!=o.datiDomanda.stato)}}var fi,hi,gi,mi=function(){return{marginTop:"70px"}},vi=[{path:"",component:Ve,pathMatch:"full"},{path:":idUtenza/dettaglioUtenza",component:(fi=function(){function e(t,i,o){_classCallCheck(this,e),this.route=t,this.gestioneUtenzeService=i,this.router=o,this.applicativi={},this.componentDestroyed$=new g.a,this.DATE_FORMAT=v.a.PATTERN_DATE_2,this.labels=s.a}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.fillApplicativi(),this.route.params.pipe(Object(Ke.a)((function(t){var i=t.idUtenza;return i?e.gestioneUtenzeService.getDatiAnagraficiUtente(i):Object(Ye.b)()})),Object(f.a)(this.componentDestroyed$)).subscribe((function(t){console.log("Dati della domanda di registrazione utente",t),e.datiDomanda=t}))}},{key:"fillApplicativi",value:function(){this.applicativi.SRT="SRTrento - Misure strutturali",this.applicativi.A4G="A4G - Nuovo Sistema Informativo Agricoltura",this.applicativi.AGS="SIAP - Sistema Informativo Agricoltura"}},{key:"showDialogConfigurazioneUtente",value:function(){this.router.navigate(["./"],{relativeTo:this.route,queryParams:{dialog:"1"},queryParamsHandling:"merge",replaceUrl:!0})}},{key:"onDialogConfigurazioneToggle",value:function(e){e||this.router.navigate(["./"],{relativeTo:this.route,queryParams:{dialog:"0"},queryParamsHandling:"merge",replaceUrl:!0})}},{key:"onDialogRifiutoClose",value:function(e){}},{key:"backToUtenze",value:function(){switch(this.datiDomanda.stato){case"PROTOCOLLATA":this.router.navigate(["./"],{relativeTo:this.route.parent,queryParams:{tabselected:"protocollate"}});break;case"IN_LAVORAZIONE":this.router.navigate(["./"],{relativeTo:this.route.parent,queryParams:{tabselected:"inlavorazione"}});break;case"APPROVATA":this.router.navigate(["./"],{relativeTo:this.route.parent,queryParams:{tabselected:"approvate"}});break;case"RIFIUTATA":this.router.navigate(["./"],{relativeTo:this.route.parent,queryParams:{tabselected:"rifiutate"}})}}},{key:"showDialogRifiutoDomandaRichiestaUtente",value:function(e){if(this.rifiutoDialog.onOpen(e.datiAnagrafici),this.richiestaAccessoCorrente=new V,this.richiestaAccessoCorrente.id=e.id,this.richiestaAccessoCorrente.datiAnagrafici=e.datiAnagrafici,e.dataProtocollazione){var t=e.dataProtocollazione.toString();this.richiestaAccessoCorrente.dataProtocollazione=t}this.richiestaAccessoCorrente.idProtocollo=e.idProtocollo}},{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}}]),e}(),fi.\u0275fac=function(e){return new(e||fi)(d.Nb(r.a),d.Nb(I.a),d.Nb(r.e))},fi.\u0275cmp=d.Hb({type:fi,selectors:[["app-dettaglio-utenza"]],viewQuery:function(e,t){var i;1&e&&(d.Jc(_t,!0),d.Jc(Ft,!0)),2&e&&(d.Ac(i=d.cc())&&(t.assegnazioneConfigurazioneDialog=i.first),d.Ac(i=d.cc())&&(t.rifiutoDialog=i.first))},decls:12,vars:7,consts:[["key","tst",3,"baseZIndex"],[3,"displayChange"],["assegnazioneConfigurazioneDialog",""],[3,"richiestaAccessoCorrente"],["rifiutoDialog",""],[1,"ui-g","ui-fluid"],[1,"tophome"],[1,"ui-grid-fixed"],[4,"ngIf"],[1,"ui-g-12"],["f","ngForm"],["class","accordion-wrapper",4,"ngIf"],[1,"accordion-wrapper"],["header","Applicativi",3,"selected"],[1,"boxgrey"],[1,"ui-g-6"],[1,"ui-g-3"],[1,"next-button"],["pButton","","icon","ui-icon-clear","type","button","label","RIFIUTA DOMANDA","pButton","",3,"disabled","click"],["pButton","","icon","ui-icon-check","type","button","pButton","",3,"label","disabled","click"],["header","Anagrafica",3,"selected"],["tooltipPosition","top",3,"disabled"],[1,"boxgrey-user"],[1,"ui-g-2"],[1,"ui-g-4"],["type","text","name","cognome","pInputText","",3,"ngModel","readonly","ngModelChange"],["type","text","name","nome","pInputText","",3,"ngModel","readonly","ngModelChange"],["type","text","name","codiceFiscale","pInputText","",3,"ngModel","readonly","ngModelChange"],["type","text","name","email","pInputText","",3,"ngModel","readonly","ngModelChange"],["type","text","name","telefono","pInputText","",3,"ngModel","readonly","ngModelChange"],["header","Responsabilit\xe0",3,"selected"],[3,"value"],["pTemplate","header"],["pTemplate","body"],[1,"sezione-responsabili"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(d.Ob(0,"p-toast",0),d.Tb(1,"assegnazione-configurazioni-dialog",1,2),d.bc("displayChange",(function(e){return t.onDialogConfigurazioneToggle(e)})),d.Sb(),d.Ob(3,"app-rifiuto-dialog",3,4),d.Tb(5,"div",5),d.Tb(6,"div",6),d.Tb(7,"div",7),d.Mc(8,Ut,4,8,"h4",8),d.Sb(),d.Sb(),d.Tb(9,"div",7),d.Tb(10,"div",9),d.Mc(11,pi,17,9,"form",8),d.Sb(),d.Sb(),d.Sb()),2&e&&(d.Kc(d.rc(6,mi)),d.mc("baseZIndex",5e4),d.Bb(3),d.mc("richiestaAccessoCorrente",t.richiestaAccessoCorrente),d.Bb(5),d.mc("ngIf",t.datiDomanda&&t.datiDomanda.idProtocollo&&t.datiDomanda.dataProtocollazione),d.Bb(3),d.mc("ngIf",t.datiDomanda))},directives:[P.a,wt,oe,c.t,D.I,D.t,D.u,z.a,z.c,R.b,D.c,B.a,D.s,D.v,U.q,C.e,c.s],pipes:[x.d,c.f],styles:[".boxgrey[_ngcontent-%COMP%]   .sezione-responsabili[_ngcontent-%COMP%]{margin-top:10px}"]}),fi),data:{mybreadcrumb:s.a.DETTAGLIO_UTENZE}}],Si=((hi=function e(){_classCallCheck(this,e)}).\u0275mod=d.Lb({type:hi}),hi.\u0275inj=d.Kb({factory:function(e){return new(e||hi)},imports:[[c.c,r.i.forChild(vi)]]}),hi),Ti=i("SnyB"),yi=i("BGwN"),Oi=((gi=function e(){_classCallCheck(this,e)}).\u0275mod=d.Lb({type:gi}),gi.\u0275inj=d.Kb({factory:function(e){return new(e||gi)},providers:[I.a],imports:[[n.a,Si,M.c,K.b,Ti.b,A.b,yi.b]]}),gi)}}]);