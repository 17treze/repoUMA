(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"4AYi":function(t,i,e){"use strict";e.d(i,"a",(function(){return o}));class o{}},"4waU":function(t,i,e){"use strict";e.r(i),e.d(i,"SuperficiModule",(function(){return h}));var o=e("ofXK"),a=e("tyNb"),n=e("TW8+"),r=e("iU1L"),c=e("Y7ag"),s=e("fXoL"),l=e("b7oP"),d=e("sYmb");const b=[{path:"",redirectTo:n.a.PREMIO,pathMatch:"full"},{path:"",component:(()=>{class t extends c.a{constructor(t){super(t,r.a.SUPERFICIE),this.tipoIstruttoria="saldo"}}return t.\u0275fac=function(i){return new(i||t)(s.Nb(a.a))},t.\u0275cmp=s.Hb({type:t,selectors:[["app-container-elenco-istruttorie"]],features:[s.yb],decls:15,vars:6,consts:[[1,"ui-g","ui-fluid"],[1,"tophome"],[1,"ui-grid-fixed"],[1,"top-sub-green"],[1,"ui-g-12"],[3,"model"],[1,"funzioni-grid","tab-new"],[1,"disaccoppiato",2,"width","100%"]],template:function(t,i){1&t&&(s.Tb(0,"div",0),s.Tb(1,"div",1),s.Tb(2,"div",2),s.Tb(3,"h4"),s.Oc(4),s.gc(5,"translate"),s.Sb(),s.Sb(),s.Sb(),s.Tb(6,"div",3),s.Tb(7,"div",4),s.Tb(8,"div",2),s.Ob(9,"p-tabMenu",5),s.Sb(),s.Sb(),s.Sb(),s.Tb(10,"div",4),s.Tb(11,"div",2),s.Tb(12,"div",6),s.Tb(13,"div",7),s.Ob(14,"router-outlet"),s.Sb(),s.Sb(),s.Sb(),s.Sb(),s.Sb()),2&t&&(s.Bb(4),s.Sc("",s.hc(5,4,"SOSTEGNO."+i.sostegno)," - ",i.annoCampagna," - ",i.tipoIstruttoria,""),s.Bb(5),s.mc("model",i.menu))},directives:[l.a,a.j],pipes:[d.d],styles:[""]}),t})(),children:[{path:n.a.PREMIO,loadChildren:()=>Promise.all([e.e(6),e.e(24)]).then(e.bind(null,"fRCj")).then(t=>t.SuperficiCalcoloPremioModule),data:{mybreadcrumb:"Calcolo Premio"}},{path:n.a.LIQUIDABILITA,loadChildren:()=>Promise.all([e.e(6),e.e(25)]).then(e.bind(null,"TGxC")).then(t=>t.SuperficiControlliLiquidabilitaModule),data:{mybreadcrumb:"Controlli Liquidabilit\xe0"}},{path:n.a.LIQUIDAZIONE,loadChildren:()=>Promise.all([e.e(6),e.e(26)]).then(e.bind(null,"/tTZ")).then(t=>t.SuperficiLiquidazioneModule),data:{mybreadcrumb:"Liquidazione"}}]},{path:"istruttoria/:idIstruttoria",loadChildren:()=>Promise.all([e.e(5),e.e(0),e.e(31)]).then(e.bind(null,"YOdh")).then(t=>t.SostegnoDettaglioSuperficiModule),data:{mybreadcrumb:"Dettaglio"}}];let u=(()=>{class t{}return t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({factory:function(i){return new(i||t)},imports:[[a.i.forChild(b)]]}),t})();var p=e("R69K"),g=e("kQyY"),m=e("A+aF");let h=(()=>{class t{}return t.\u0275mod=s.Lb({type:t}),t.\u0275inj=s.Kb({factory:function(i){return new(i||t)},imports:[[o.c,p.a,u,g.b,m.b],m.b]}),t})()},"8bNH":function(t,i,e){"use strict";e.d(i,"a",(function(){return o}));class o{}},EOOO:function(t,i,e){"use strict";e.d(i,"k",(function(){return o})),e.d(i,"h",(function(){return a})),e.d(i,"i",(function(){return n})),e.d(i,"j",(function(){return r})),e.d(i,"d",(function(){return c})),e.d(i,"a",(function(){return s})),e.d(i,"b",(function(){return l})),e.d(i,"f",(function(){return d})),e.d(i,"g",(function(){return b})),e.d(i,"c",(function(){return u})),e.d(i,"l",(function(){return p})),e.d(i,"e",(function(){return g})),e.d(i,"m",(function(){return m}));class o{}class a{}class n{}class r{}class c{}class s{}class l{}class d{}class b{}class u{}class p{}class g{}class m{}},F5kq:function(t,i,e){var o,a,n;!function(r){if("object"==typeof t.exports){var c=r(0,i);void 0!==c&&(t.exports=c)}else a=[e,i],void 0===(n="function"==typeof(o=r)?o.apply(i,a):o)||(t.exports=n)}((function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=void 0;i.default=[[["mezzanotte","mezzogiorno","di mattina","di pomeriggio","di sera","di notte"],e,["mezzanotte","mezzogiorno","di mattina","del pomeriggio","di sera","di notte"]],[["mezzanotte","mezzogiorno","mattina","pomeriggio","sera","notte"],e,e],["00:00","12:00",["06:00","12:00"],["12:00","18:00"],["18:00","24:00"],["00:00","06:00"]]]}))},FcGh:function(t,i,e){"use strict";e.d(i,"a",(function(){return I}));var o=e("fXoL"),a=e("5RHE"),n=e.n(a),r=e("DaQG"),c=e.n(r),s=e("cAab"),l=e("tyNb"),d=e("A+aF"),b=e("RtSl"),u=e("yWug"),p=e("A1Yd"),g=e("ofXK"),m=e("sYmb");function h(t,i){if(1&t){const t=o.Ub();o.Tb(0,"div",9),o.Tb(1,"button",10),o.bc("click",(function(){return o.Ec(t),o.fc(),o.Bc(6).exportCSV()})),o.gc(2,"translate"),o.Sb(),o.Tb(3,"button",11),o.bc("click",(function(){o.Ec(t);const i=o.fc(),e=o.Bc(6);return i.exportPdf(e)})),o.gc(4,"translate"),o.Sb(),o.Sb()}2&t&&(o.Bb(1),o.nc("label",o.hc(2,2,"EXPORT_CSV")),o.Bb(2),o.nc("label",o.hc(4,4,"EXPORT_PDF")))}function S(t,i){if(1&t&&(o.Tb(0,"th",13),o.Oc(1),o.Ob(2,"p-sortIcon",14),o.Sb()),2&t){const t=i.$implicit;o.mc("pSortableColumn",t.field)("pSortableColumnDisabled",null==t.field),o.Bb(1),o.Qc(" ",t.header," "),o.Bb(1),o.mc("field",t.field)}}function f(t,i){if(1&t&&(o.Tb(0,"tr"),o.Mc(1,S,3,4,"th",12),o.Sb()),2&t){const t=i.$implicit;o.Bb(1),o.mc("ngForOf",t)}}function T(t,i){if(1&t&&(o.Tb(0,"tr"),o.Tb(1,"td"),o.Oc(2),o.Sb(),o.Tb(3,"td"),o.Oc(4),o.Sb(),o.Tb(5,"td"),o.Oc(6),o.Sb(),o.Tb(7,"td"),o.Oc(8),o.Sb(),o.Tb(9,"td"),o.Oc(10),o.Sb(),o.Sb()),2&t){const t=i.$implicit;o.Bb(2),o.Pc(t.codiceAgea),o.Bb(2),o.Pc(t.descrizioneBreve),o.Bb(2),o.Pc(t.totali),o.Bb(2),o.Pc(t.ammissibili),o.Bb(2),o.Pc(t.ammissibiliConSanzione)}}function v(t,i){1&t&&(o.Tb(0,"tr"),o.Tb(1,"td"),o.Oc(2,"dati non presenti"),o.Sb(),o.Sb()),2&t&&(o.Bb(1),o.Cb("colspan",5))}let I=(()=>{class t{constructor(t,i){this.route=t,this.domandaIntegrativaService=i,this.chiudiPopup=new o.n,this.cols=[{field:"codiceAgea",header:"Codice intervento AGEA"},{field:"descrizioneBreve",header:"Descrizione intervento"},{field:"",header:"Numero Capi Richiesti"},{field:"",header:"Di cui ammissibili"},{field:"",header:"Di cui ammissibili con sanzione"}]}exportPdf(t){const i=new n.a;c()(i,{html:t.tableViewChild.nativeElement}),i.save("tabella-istruttoria-accoppiato-zootecnia.pdf")}ngOnInit(){this.route.params.subscribe(t=>{let i=Number(t.annoCampagna);this.domandaIntegrativaService.getStatisticheZootecnia(i).subscribe(t=>{this.datiAggregati=t})})}closePopup(){this.chiudiPopup.emit()}}return t.\u0275fac=function(i){return new(i||t)(o.Nb(l.a),o.Nb(s.a))},t.\u0275cmp=o.Hb({type:t,selectors:[["app-popup-dati-aggregati-zootecnia"]],inputs:{popupVisibile:"popupVisibile"},outputs:{chiudiPopup:"chiudiPopup"},decls:15,vars:17,consts:[["showEffect","fade",3,"visible","responsive","modal","closable","blockScroll","visibleChange"],[1,"boxpopup"],["tableStyleClass","mb-3",3,"columns","value","autoLayout","paginator","rows","responsive"],["tableAggregati",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["type","button","pButton","",1,"btn","btn-darkgreen","mt-0","mr-0",3,"label","click"],[1,"d-flex"],["type","button","pButton","","icon","pi pi-file","iconPos","left",1,"ml-auto",2,"margin-right","0.5em",3,"label","click"],["type","button","pButton","","icon","pi pi-file","iconPos","left",2,"margin-right","0.5em",3,"label","click"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"]],template:function(t,i){1&t&&(o.Tb(0,"p-dialog",0),o.bc("visibleChange",(function(t){return i.popupVisibile=t})),o.Tb(1,"p-header"),o.Oc(2),o.gc(3,"translate"),o.Sb(),o.Tb(4,"div",1),o.Tb(5,"p-table",2,3),o.Mc(7,h,5,6,"ng-template",4),o.Mc(8,f,2,1,"ng-template",5),o.Mc(9,T,11,5,"ng-template",6),o.Mc(10,v,3,1,"ng-template",7),o.Sb(),o.Ob(11,"div"),o.Sb(),o.Tb(12,"p-footer"),o.Tb(13,"button",8),o.bc("click",(function(){return i.closePopup()})),o.gc(14,"translate"),o.Sb(),o.Sb(),o.Sb()),2&t&&(o.mc("visible",i.popupVisibile)("responsive",!0)("modal",!0)("closable",!0)("blockScroll",!0),o.Bb(2),o.Qc(" ",o.hc(3,13,"ISTRUTTORIA_PAC.ISTRUTTORIA_DOMANDA_UNICA_ACCOPPIATO_ZOOTECNIA")," "),o.Bb(3),o.mc("columns",i.cols)("value",i.datiAggregati)("autoLayout",!0)("paginator",!1)("rows",5)("responsive",!0),o.Bb(8),o.nc("label",o.hc(14,15,"chiudi")))},directives:[d.a,b.c,u.q,b.e,b.b,p.b,g.s,u.p,u.o],pipes:[m.d],styles:["p-dialog .ui-dialog{max-height:100%;display:flex;flex-direction:column}  p-dialog .ui-dialog .ui-dialog-content{overflow-y:auto}  table.tableDatiAggregati tr:last-child{font-weight:700}"]}),t})()},IWBs:function(t,i,e){"use strict";e.r(i),e.d(i,"ZootecniaModule",(function(){return m}));var o=e("ofXK"),a=e("R69K"),n=e("tyNb"),r=e("TW8+"),c=e("iU1L"),s=e("Y7ag"),l=e("fXoL"),d=e("b7oP"),b=e("sYmb");const u=[{path:"",redirectTo:r.a.PREMIO,pathMatch:"full"},{path:"",component:(()=>{class t extends s.a{constructor(t){super(t,c.a.ZOOTECNIA),this.tipoIstruttoria="saldo"}}return t.\u0275fac=function(i){return new(i||t)(l.Nb(n.a))},t.\u0275cmp=l.Hb({type:t,selectors:[["app-container-zootecnia"]],features:[l.yb],decls:15,vars:6,consts:[[1,"ui-g","ui-fluid"],[1,"tophome"],[1,"ui-grid-fixed"],[1,"top-sub-green"],[1,"ui-g-12"],[3,"model"],[1,"funzioni-grid","tab-new"],[1,"disaccoppiato",2,"width","100%"]],template:function(t,i){1&t&&(l.Tb(0,"div",0),l.Tb(1,"div",1),l.Tb(2,"div",2),l.Tb(3,"h4"),l.Oc(4),l.gc(5,"translate"),l.Sb(),l.Sb(),l.Sb(),l.Tb(6,"div",3),l.Tb(7,"div",4),l.Tb(8,"div",2),l.Ob(9,"p-tabMenu",5),l.Sb(),l.Sb(),l.Sb(),l.Tb(10,"div",4),l.Tb(11,"div",2),l.Tb(12,"div",6),l.Tb(13,"div",7),l.Ob(14,"router-outlet"),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&t&&(l.Bb(4),l.Sc("",l.hc(5,4,"SOSTEGNO."+i.sostegno)," - ",i.annoCampagna," - ",i.tipoIstruttoria,""),l.Bb(5),l.mc("model",i.menu))},directives:[d.a,n.j],pipes:[b.d],styles:[""]}),t})(),children:[{path:r.a.PREMIO,loadChildren:()=>Promise.all([e.e(7),e.e(27)]).then(e.bind(null,"l/i0")).then(t=>t.AzCalcoloPremioModule),data:{mybreadcrumb:"Calcolo Premio"}},{path:r.a.LIQUIDABILITA,loadChildren:()=>Promise.all([e.e(7),e.e(0),e.e(28)]).then(e.bind(null,"m/At")).then(t=>t.AzControlliLiquidabilitaModule),data:{mybreadcrumb:"Controlli Liquidabilit\xe0"}},{path:r.a.LIQUIDAZIONE,loadChildren:()=>Promise.all([e.e(7),e.e(0),e.e(29)]).then(e.bind(null,"O9EF")).then(t=>t.AzLiquidazioneModule),data:{mybreadcrumb:"Liquidazione"}}]},{path:"istruttoria/:idIstruttoria",loadChildren:()=>Promise.all([e.e(5),e.e(0),e.e(32)]).then(e.bind(null,"haK/")).then(t=>t.SostegnoDettaglioZootecniaModule),data:{mybreadcrumb:"Dettaglio"}}];let p=(()=>{class t{}return t.\u0275mod=l.Lb({type:t}),t.\u0275inj=l.Kb({factory:function(i){return new(i||t)},imports:[[n.i.forChild(u)]]}),t})();var g=e("A+aF");let m=(()=>{class t{}return t.\u0275mod=l.Lb({type:t}),t.\u0275inj=l.Kb({factory:function(i){return new(i||t)},imports:[[o.c,a.a,p,g.b],g.b]}),t})()},Lf7B:function(t,i,e){"use strict";e.d(i,"a",(function(){return o})),e.d(i,"b",(function(){return a}));class o{}class a{}},Urau:function(t,i,e){"use strict";e.d(i,"a",(function(){return o}));class o{constructor(t,i,e,o,a,n,r){this.esitoControlloMantenimento=t,this.verificaDocumentazione=i,this.descrizionePascolo=e,this.superficieDeterminata=o,this.cuaaResponsabile=a,this.id=n,this.version=r}}},Y7ag:function(t,i,e){"use strict";e.d(i,"a",(function(){return n}));var o=e("69Tm"),a=e("TW8+");class n{constructor(t,i){this.activatedRoute=t,this.sostegno=i,this.annoCampagna=this.activatedRoute.snapshot.paramMap.get("annoCampagna"),this.tipoIstruttoria=this.activatedRoute.snapshot.paramMap.get("tipo"),this.menu=new Array({routerLink:a.a.PREMIO,label:o.a.CALCOLO_PREMIO},{routerLink:a.a.LIQUIDABILITA,label:o.a.CONTROLLI_LIQUIDABILITA},{routerLink:a.a.LIQUIDAZIONE,label:o.a.LIQUIDAZIONE})}}},a2Ts:function(t,i,e){"use strict";e.d(i,"a",(function(){return o}));class o{}},"ayH+":function(t,i,e){"use strict";e.d(i,"a",(function(){return o}));class o{constructor(t,i,e){this.order=t,this.stato=i,this.counter=e}}},"eM/+":function(t,i,e){"use strict";e.d(i,"a",(function(){return o}));class o{static itCalendar(){return{firstDayOfWeek:0,dayNames:["Domenica","Luned\xec","Marted\xec","Mercoled\xec","Gioved\xec","Venerd\xec","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],today:"Oggi",clear:"Cancella"}}}},gCvi:function(t,i,e){"use strict";e.d(i,"a",(function(){return B}));var o=e("fXoL"),a=e("5RHE"),n=e.n(a),r=e("DaQG"),c=e.n(r),s=e("mrSG"),l=e("2Vo4"),d=e("HDdC"),b=e("rNJQ"),u=e("dkQB"),p=e("tk/3");let g=(()=>{class t{constructor(t,i){this.configuration=t,this.http=i,this.totaleSuperficiePerInterventoBs=new l.a(null),this.totaleSuperficiePerIntervento=this.totaleSuperficiePerInterventoBs.asObservable()}closeTotaleSuperficiePerIntervento(){this.totaleSuperficiePerInterventoBs.next(null)}getTotaleSuperficiePerIntervento(t){return this.http.get(this.configuration.getUrlTotaleSuperficiePerIntervento(t))}}return t.\u0275fac=function(i){return new(i||t)(o.Xb(u.a),o.Xb(p.b))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),Object(s.b)([Object(b.a)(),Object(s.c)("design:type",Function),Object(s.c)("design:paramtypes",[Number]),Object(s.c)("design:returntype",d.a)],t.prototype,"getTotaleSuperficiePerIntervento",null),t})();class m{}var h=e("sYmb"),S=e("A+aF"),f=e("RtSl"),T=e("yWug"),v=e("A1Yd"),I=e("ofXK");function O(t,i){if(1&t){const t=o.Ub();o.Tb(0,"div",8),o.Tb(1,"button",9),o.bc("click",(function(){return o.Ec(t),o.fc(),o.Bc(5).exportCSV()})),o.gc(2,"translate"),o.Sb(),o.Tb(3,"button",10),o.bc("click",(function(){o.Ec(t);const i=o.fc(),e=o.Bc(5);return i.exportPdf(e)})),o.gc(4,"translate"),o.Sb(),o.Sb()}2&t&&(o.Bb(1),o.nc("label",o.hc(2,2,"EXPORT_CSV")),o.Bb(2),o.nc("label",o.hc(4,4,"EXPORT_PDF")))}function C(t,i){if(1&t&&(o.Tb(0,"th",12),o.Oc(1),o.gc(2,"translate"),o.Ob(3,"p-sortIcon",13),o.Sb()),2&t){const t=i.$implicit;o.mc("pSortableColumn",t.field),o.Bb(1),o.Qc(" ",o.hc(2,3,t.header)," "),o.Bb(2),o.mc("field",t.field)}}function A(t,i){if(1&t&&(o.Tb(0,"tr"),o.Mc(1,C,4,5,"th",11),o.Sb()),2&t){const t=i.$implicit;o.Bb(1),o.mc("ngForOf",t)}}function D(t,i){if(1&t&&(o.Tb(0,"tr",14),o.Tb(1,"td"),o.Oc(2),o.Sb(),o.Tb(3,"td"),o.Oc(4),o.gc(5,"number"),o.Sb(),o.Sb()),2&t){const t=i.$implicit;o.mc("pSelectableRow",t),o.Bb(2),o.Pc(t.intervento),o.Bb(2),o.Pc(o.jc(5,3,t.superficie,"1.0-4","it"))}}function P(t,i){1&t&&(o.Tb(0,"tr"),o.Tb(1,"td"),o.Oc(2,"dati non presenti"),o.Sb(),o.Sb()),2&t&&(o.Bb(1),o.Cb("colspan",5))}let B=(()=>{class t{constructor(t,i){this.domandaAccoppiatoSuperficieService=t,this.translateService=i,this.annoCampagna=void 0,this.datiAggregati=[],this.popupVisibile=!1,this.chiudiPopup=new o.n,this.cols=[{field:"intervento",header:"SOSTEGNO.DESCRIZIONE_INTERVENTO"},{field:"superficie",header:"SOSTEGNO.TOTALE_SUPERFICIE_RICHIESTA"}]}set setAnnoCampagna(t){this.annoCampagna=t,this.domandaAccoppiatoSuperficieService.getTotaleSuperficiePerIntervento(t).subscribe(t=>{let i=[];if(t){for(let e of t){let t=new m;t.intervento=this.translateService.instant("DescrizioneCodiceAgeaPerChiaveJson."+e.intervento),t.superficie=e.superficie,i.push(t)}this.datiAggregati=i}})}exportPdf(t){const i=new n.a;c()(i,{html:t.tableViewChild.nativeElement}),i.save("tabella-dati-aggregati-superfici-ammissibili.pdf")}ngOnInit(){}closePopup(){this.chiudiPopup.emit()}}return t.\u0275fac=function(i){return new(i||t)(o.Nb(g),o.Nb(h.e))},t.\u0275cmp=o.Hb({type:t,selectors:[["app-popup-dati-aggregati-superficie-intervento"]],inputs:{popupVisibile:"popupVisibile",setAnnoCampagna:["annoCampagna","setAnnoCampagna"]},outputs:{chiudiPopup:"chiudiPopup"},decls:13,vars:15,consts:[["showEffect","fade",3,"visible","responsive","modal","closable","visibleChange"],["tableStyleClass","mb-3",3,"columns","value","autoLayout","paginator","responsive"],["tableAggregati",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["type","button","pButton","",1,"btn","btn-darkgreen","mt-0","mr-0",3,"label","click"],[1,"d-flex"],["type","button","pButton","","icon","pi pi-file","iconPos","left",1,"ml-auto",2,"margin-right","0.5em",3,"label","click"],["type","button","pButton","","icon","pi pi-file","iconPos","left",2,"margin-right","0.5em",3,"label","click"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow"]],template:function(t,i){1&t&&(o.Tb(0,"p-dialog",0),o.bc("visibleChange",(function(t){return i.popupVisibile=t})),o.Tb(1,"p-header"),o.Oc(2),o.gc(3,"translate"),o.Sb(),o.Tb(4,"p-table",1,2),o.Mc(6,O,5,6,"ng-template",3),o.Mc(7,A,2,1,"ng-template",4),o.Mc(8,D,6,7,"ng-template",5),o.Mc(9,P,3,1,"ng-template",6),o.Sb(),o.Tb(10,"p-footer"),o.Tb(11,"button",7),o.bc("click",(function(){return i.closePopup()})),o.gc(12,"translate"),o.Sb(),o.Sb(),o.Sb()),2&t&&(o.mc("visible",i.popupVisibile)("responsive",!0)("modal",!0)("closable",!0),o.Bb(2),o.Qc(" ",o.hc(3,11,"SOSTEGNO.AGGREGATO_SUPERFICI_PER_INTERVENTO")," "),o.Bb(2),o.mc("columns",i.cols)("value",i.datiAggregati)("autoLayout",!0)("paginator",!1)("responsive",!0),o.Bb(7),o.nc("label",o.hc(12,13,"chiudi")))},directives:[S.a,f.c,T.q,f.e,f.b,v.b,I.s,T.p,T.o,T.m],pipes:[h.d,I.g],styles:[""]}),t})()},kKjl:function(t,i,e){"use strict";e.d(i,"a",(function(){return o}));class o{}},ktSL:function(t,i,e){"use strict";e.r(i),e.d(i,"IstruttoriaPac1420Module",(function(){return wl}));var o=e("ofXK"),a=e("yWug"),n=e("pxLX"),r=e("P028"),c=e("tyNb"),s=e("U1tW"),l=e("MvQ6"),d=e("8k9x"),b=e("Tn7N"),u=e("903C"),p=e("ngg1"),g=e("iU1L"),m=e("eIep"),h=e("1G5W"),S=e("JIr8"),f=e("vkgz"),T=e("XNiG"),v=e("EY2u"),I=e("NXyV"),O=e("r0o6"),C=e("JEAp"),A=e("VrO5"),D=e("IwI7"),P=e("MgAl"),B=e("fXoL"),N=e("RtSl"),z=e("sYmb"),M=e("arS9"),R=e("1SSY"),y=e("3Pt+"),E=e("Cnh2"),L=e("A1Yd"),w=e("FcGh"),x=e("A+aF"),_=e("5RHE"),k=e.n(_),U=e("DaQG"),F=e.n(U),G=e("wd/R"),V=e("LRne"),Z=e("cp0P"),$=e("5+tZ"),Q=e("bOdf"),q=e("RIRQ"),H=function(t){return t.NETTO="NETTO",t.LORDO="LORDO",t}({});class j{}class K{}function Y(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div",7),B.Tb(1,"h4",8),B.kc(2),B.Sb(),B.Tb(3,"button",9),B.bc("click",(function(){return B.Ec(t),B.fc(),B.Bc(2).exportCSV()})),B.gc(4,"translate"),B.Sb(),B.Tb(5,"button",9),B.bc("click",(function(){B.Ec(t);const i=B.fc(),e=B.Bc(2);return i.exportPdf(e)})),B.gc(6,"translate"),B.Sb(),B.Sb()}2&t&&(B.Bb(3),B.nc("label",B.hc(4,2,"EXPORT_CSV")),B.Bb(2),B.nc("label",B.hc(6,4,"EXPORT_PDF")))}function J(t,i){if(1&t&&(B.Tb(0,"th",11),B.Oc(1),B.Ob(2,"p-sortIcon",12),B.Sb()),2&t){const t=i.$implicit;B.mc("pSortableColumn",t.field),B.Bb(1),B.Qc(" ",t.header," "),B.Bb(1),B.mc("field",t.field)}}function W(t,i){if(1&t&&(B.Tb(0,"tr"),B.Mc(1,J,3,3,"th",10),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.mc("ngForOf",t)}}function X(t,i){if(1&t&&(B.Tb(0,"tr",15),B.Tb(1,"td",16),B.Tb(2,"span"),B.Oc(3),B.gc(4,"translate"),B.Sb(),B.Sb(),B.Sb()),2&t){const t=B.fc().rowIndex,i=B.fc();B.Bb(3),B.Pc(B.hc(4,1,"IstruttorieDatiAggregati.tableGroups."+i.rowGroupMetadata[t].title))}}function tt(t,i){if(1&t&&(B.Mc(0,X,5,3,"tr",13),B.Tb(1,"tr",14),B.Tb(2,"td"),B.Oc(3),B.Sb(),B.Tb(4,"td"),B.Oc(5),B.Sb(),B.Tb(6,"td"),B.Oc(7),B.gc(8,"number"),B.Sb(),B.Tb(9,"td"),B.Oc(10),B.gc(11,"number"),B.Sb(),B.Sb()),2&t){const t=i.$implicit,e=i.rowIndex,o=B.fc();B.mc("ngIf",o.rowGroupMetadata[e]),B.Bb(1),B.mc("pSelectableRow",t),B.Bb(2),B.Pc(t.stato),B.Bb(2),B.Pc(t.numeroDomande),B.Bb(2),B.Pc(B.jc(8,6,t.valoreLordo,"1.0-4","it")),B.Bb(3),B.Pc(B.jc(11,10,t.valoreNetto,"1.0-4","it"))}}function it(t,i){1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2),B.gc(3,"translate"),B.Sb(),B.Sb()),2&t&&(B.Bb(1),B.Cb("colspan",5),B.Bb(1),B.Pc(B.hc(3,2,"datiNonPresenti")))}const et=["*"];let ot=(()=>{class t{constructor(t,i,e){this.istruttoriaService=t,this.messageService=i,this.translateService=e,this.datiAggregatiModel=[],this.isShowPagamentoAnticipoAsZero=!1,this.rowGroupMetadata={},this.datiAggregatiModelEmitter=new B.n,this.componentDestroyed$=new T.a,this.countersRequestParams=[q.a.RICHIESTO,q.a.CONTROLLI_CALCOLO_OK,q.a.CONTROLLI_CALCOLO_KO,q.a.NON_AMMISSIBILE,q.a.LIQUIDABILE,q.a.CONTROLLI_LIQUIDABILE_KO,q.a.DEBITI,q.a.PAGAMENTO_NON_AUTORIZZATO,q.a.CONTROLLI_INTERSOSTEGNO_OK,q.a.NON_LIQUIDABILE,q.a.PAGAMENTO_AUTORIZZATO],this.columnsDescription=[{field:"stato",header:e.instant("IstruttorieDatiAggregati.stato")},{field:"numeroDomande",header:e.instant("IstruttorieDatiAggregati.numeroDomande")},{field:"valoreLordo",header:e.instant("IstruttorieDatiAggregati.valoreLordo")},{field:"valoreNetto",header:e.instant("IstruttorieDatiAggregati.valoreNetto")}]}set setTipoSostegno(t){this.tipoSostegno=g.a[t],this.setupTableIntegratoRow(this.tipoSostegno),this.setupTableGrouping()}set setAnnoCampagna(t){this.annoCampagna=t;let i=G(t+"1201","YYYYMMDD").hours(0).minutes(0).seconds(0),e=G(G.now());this.isShowPagamentoAnticipoAsZero=e.isSameOrAfter(i)}setupTableIntegratoRow(t){t===g.a.ZOOTECNIA&&this.countersRequestParams.splice(1,0,q.a.INTEGRATO)}setupTableGrouping(){let t=this.countersRequestParams.findIndex(t=>t===q.a.RICHIESTO),i=this.countersRequestParams.findIndex(t=>t===q.a.LIQUIDABILE),e=this.countersRequestParams.findIndex(t=>t===q.a.PAGAMENTO_NON_AUTORIZZATO),o=this.countersRequestParams.length;this.rowGroupMetadata[t]={title:"CONTROLLI_AMMISSIBILITA"},this.rowGroupMetadata[i]={title:"CONTROLLI_LIQUIDABILITA"},this.rowGroupMetadata[e]={title:"CONTROLLI_INTERSOSTEGNO"},this.rowGroupMetadata[o]={title:"TOTALI"}}loadCounter(t,i,e,o){let a=new u.a;return a.campagna=t,a.sostegno=i,a.tipo=e,a.stato=o,this.istruttoriaService.countIstruttorieDU(a)}handleResultPremi(t,i){let e=0,o=0;if(i)for(let n of this.countersRequestParams){let a=t.find(t=>t.keyDesc===n);if(a||(a=new j,a.keyDesc=n,a.numeroDomande=0,t.push(a)),n===q.a.RICHIESTO||n===q.a.NON_AMMISSIBILE||n===q.a.INTEGRATO||n===q.a.NON_LIQUIDABILE)a.valoreNetto=0,a.valoreLordo=0;else if(this.tipoSostegno===g.a.DISACCOPPIATO&&this.tipoIstruttoria===p.a.ANTICIPO&&n!==q.a.PAGAMENTO_AUTORIZZATO&&this.isShowPagamentoAnticipoAsZero)a.valoreNetto=0,a.valoreLordo=0;else if(this.tipoSostegno===g.a.SUPERFICIE&&n===q.a.CONTROLLI_CALCOLO_KO){let t=i.find(t=>t.statoIstruttoria===n&&t.tipoPremio===H.LORDO);a.valoreLordo=t?t.valorePremio:0,a.valoreNetto=0}else{let t=i.find(t=>t.statoIstruttoria===n&&t.tipoPremio===H.NETTO);a.valoreNetto=t?t.valorePremio:0,t=i.find(t=>t.statoIstruttoria===n&&t.tipoPremio===H.LORDO),a.valoreLordo=t?t.valorePremio:0}e+=a.valoreNetto,o+=a.valoreLordo}else for(let n of t)n.valoreNetto=0,n.valoreLordo=0;for(let n of this.countersRequestParams){let i=t.find(t=>t.keyDesc===n);i.stato=this.translateService.instant("STATO_LAVORAZIONE_SOSTEGNO."+i.keyDesc)}let a=t[t.length-1];return a.valoreLordo=o,a.valoreNetto=e,this.datiAggregatiModelEmitter.emit(t),t}handleResultCounters(t){let i=[],e=0;t.forEach((o,a)=>{let n=new j;n.numeroDomande=Number(t[a]),e+=n.numeroDomande,n.keyDesc=this.countersRequestParams[a],i.push(n)});let o=new j;return o.numeroDomande=e,o.keyDesc=`TOT_${this.tipoIstruttoria}_${this.tipoSostegno}`,o.stato=this.translateService.instant("IstruttorieDatiAggregati."+o.keyDesc),i.push(o),i}exportPdf(t){const i=new k.a;F()(i,{html:t.tableViewChild.nativeElement}),i.save("tabella-dati-aggregati-istruttoria.pdf")}ngOnInit(){const t=t=>this.loadCounter(this.annoCampagna,this.tipoSostegno,this.tipoIstruttoria,t);let i;Object(V.a)(this.countersRequestParams).pipe(Object($.a)(i=>Object(Z.a)(...i.map(t))),Object(f.a)(t=>{i=this.handleResultCounters(t)}),Object(Q.a)(t=>this.istruttoriaService.getDatiAggregatiPagamenti(this.tipoSostegno,this.tipoIstruttoria,this.annoCampagna)),Object(S.a)(t=>{throw this.messageService.add(b.a.getToast("tst",b.b.error,b.a.erroreRecuperoDati)),t}),Object(f.a)(t=>{this.datiAggregatiModel=this.handleResultPremi(i,t)}),Object(S.a)(t=>{throw this.messageService.add(b.a.getToast("tst",b.b.error,b.a.erroreRecuperoDati)),t}),Object(h.a)(this.componentDestroyed$)).subscribe()}ngOnDestroy(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(l.a),B.Nb(N.d),B.Nb(z.e))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-tabella-dati-aggregati-istruttoria"]],inputs:{setTipoSostegno:["tipoSostegno","setTipoSostegno"],tipoIstruttoria:"tipoIstruttoria",setAnnoCampagna:["annoCampagna","setAnnoCampagna"]},outputs:{datiAggregatiModelEmitter:"datiAggregatiModelEmitter"},ngContentSelectors:et,decls:7,vars:5,consts:[[1,"layout-actionmenu","mb-4"],["tableStyleClass","tableDatiAggregati",3,"columns","value","autoLayout","paginator","responsive"],["tableAggregati",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"d-flex","align-items-center"],[1,"mb-0","mr-auto"],["type","button","pButton","","icon","pi pi-file","iconPos","left",2,"margin-right","0.5em",3,"label","click"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],["class","text-right","style","font-style: italic;",4,"ngIf"],[3,"pSelectableRow"],[1,"text-right",2,"font-style","italic"],["colspan","4"]],template:function(t,i){1&t&&(B.lc(),B.Tb(0,"div",0),B.Tb(1,"p-table",1,2),B.Mc(3,Y,7,6,"ng-template",3),B.Mc(4,W,2,1,"ng-template",4),B.Mc(5,tt,12,14,"ng-template",5),B.Mc(6,it,4,4,"ng-template",6),B.Sb(),B.Sb()),2&t&&(B.Bb(1),B.mc("columns",i.columnsDescription)("value",i.datiAggregatiModel)("autoLayout",!0)("paginator",!1)("responsive",!0))},directives:[a.q,N.e,L.b,o.s,a.p,a.o,o.t,a.m],pipes:[z.d,o.g],styles:["p-dialog .ui-dialog{max-height:100%;display:flex;flex-direction:column}  p-dialog .ui-dialog .ui-dialog-content{overflow-y:auto}  table.tableDatiAggregati tr:last-child{font-weight:700}"]}),t})(),at=(()=>{class t{constructor(){this.datiAggregatiModel=void 0,this.popupVisibile=!1,this.chiudiPopup=new B.n}set setTipoSostegno(t){this.tipoSostegno=g.a[t]}setDatiAggregatiModel(t){this.datiAggregatiModel=t}closePopup(){this.chiudiPopup.emit()}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=B.Hb({type:t,selectors:[["app-popup-dati-aggregati-istruttoria"]],inputs:{popupVisibile:"popupVisibile",setTipoSostegno:["tipoSostegno","setTipoSostegno"],tipoIstruttoria:"tipoIstruttoria",annoCampagna:"annoCampagna"},outputs:{chiudiPopup:"chiudiPopup"},decls:9,vars:16,consts:[["showEffect","fade",3,"visible","responsive","modal","closable","positionTop","blockScroll","visibleChange","onHide"],[1,"boxpopup"],[3,"tipoSostegno","tipoIstruttoria","annoCampagna","datiAggregatiModelEmitter"],["type","button","pButton","",1,"btn","btn-darkgreen","mt-0","mr-0",3,"label","click"]],template:function(t,i){1&t&&(B.Tb(0,"p-dialog",0),B.bc("visibleChange",(function(t){return i.popupVisibile=t}))("onHide",(function(){return i.closePopup()})),B.Tb(1,"p-header"),B.Oc(2),B.gc(3,"translate"),B.Sb(),B.Tb(4,"div",1),B.Tb(5,"app-tabella-dati-aggregati-istruttoria",2),B.bc("datiAggregatiModelEmitter",(function(t){return i.setDatiAggregatiModel(t)})),B.Sb(),B.Sb(),B.Tb(6,"p-footer"),B.Tb(7,"button",3),B.bc("click",(function(){return i.closePopup()})),B.gc(8,"translate"),B.Sb(),B.Sb(),B.Sb()),2&t&&(B.mc("visible",i.popupVisibile)("responsive",!0)("modal",!0)("closable",!0)("positionTop",0)("blockScroll",!0),B.Bb(2),B.Rc(" Domanda unica campagna ",i.annoCampagna," - ",B.hc(3,12,"IstruttorieDatiAggregati."+i.tipoIstruttoria+"_"+i.tipoSostegno)," "),B.Bb(3),B.mc("tipoSostegno",i.tipoSostegno)("tipoIstruttoria",i.tipoIstruttoria)("annoCampagna",i.annoCampagna),B.Bb(2),B.nc("label",B.hc(8,14,"chiudi")))},directives:[x.a,N.c,ot,N.b,L.b],pipes:[z.d],encapsulation:2}),t})(),nt=(()=>{class t{constructor(){this.tipoSostegno=g.a.DISACCOPPIATO,this.datiTotali=void 0,this.popupVisibile=!1,this.chiudiPopup=new B.n,this.datiAggregatiAnticipoModel=void 0,this.datiAggregatiSaldoModel=void 0,this.datiAggregatiIntegrazioneModel=void 0}setDatiAggregatiAnticipoModel(t){this.datiAggregatiAnticipoModel=t,this.tryComputeTotals()}setDatiAggregatiSaldoModel(t){this.datiAggregatiSaldoModel=t,this.tryComputeTotals()}setDatiAggregatiIntegrazioneModel(t){this.datiAggregatiIntegrazioneModel=t,this.tryComputeTotals()}tryComputeTotals(){if(!this.datiAggregatiAnticipoModel||!this.datiAggregatiSaldoModel||!this.datiAggregatiIntegrazioneModel)return;let t=new K,i=this.datiAggregatiAnticipoModel.find(t=>t.keyDesc===q.a.PAGAMENTO_AUTORIZZATO).valoreNetto,e=this.datiAggregatiSaldoModel.find(t=>t.keyDesc===q.a.PAGAMENTO_AUTORIZZATO).valoreNetto,o=this.datiAggregatiIntegrazioneModel.find(t=>t.keyDesc===q.a.PAGAMENTO_AUTORIZZATO).valoreNetto;t.pagamentoAutorizzato=i+e+o;let a=this.datiAggregatiAnticipoModel.find(t=>"TOT_ANTICIPO_DISACCOPPIATO"===t.keyDesc).valoreNetto,n=this.datiAggregatiSaldoModel.find(t=>"TOT_SALDO_DISACCOPPIATO"===t.keyDesc).valoreNetto,r=this.datiAggregatiIntegrazioneModel.find(t=>"TOT_INTEGRAZIONE_DISACCOPPIATO"===t.keyDesc).valoreNetto;t.totaleCalcolato=a+n+r,t.percentualePagamento=(t.pagamentoAutorizzato/t.totaleCalcolato*100).toFixed(2),this.datiTotali=t}closePopup(){this.chiudiPopup.emit()}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=B.Hb({type:t,selectors:[["app-popup-dati-aggregati-disaccoppiato-istruttoria"]],inputs:{popupVisibile:"popupVisibile",annoCampagna:"annoCampagna"},outputs:{chiudiPopup:"chiudiPopup"},decls:16,vars:22,consts:[["showEffect","fade",3,"visible","responsive","modal","closable","positionTop","blockScroll","visibleChange","onHide"],[1,"boxpopup"],["tipoSostegno","DISACCOPPIATO","tipoIstruttoria","ANTICIPO",1,"mb-4",3,"annoCampagna","datiAggregatiModelEmitter"],["tipoSostegno","DISACCOPPIATO","tipoIstruttoria","SALDO",1,"mb-4",3,"annoCampagna","datiAggregatiModelEmitter"],["tipoSostegno","DISACCOPPIATO","tipoIstruttoria","INTEGRAZIONE",1,"mb-4",3,"annoCampagna","datiAggregatiModelEmitter"],["type","button","pButton","",1,"btn","btn-darkgreen","mt-0","mr-0",3,"label","click"]],template:function(t,i){1&t&&(B.Tb(0,"p-dialog",0),B.bc("visibleChange",(function(t){return i.popupVisibile=t}))("onHide",(function(){return i.closePopup()})),B.Tb(1,"p-header"),B.Oc(2),B.Sb(),B.Tb(3,"div",1),B.Tb(4,"app-tabella-dati-aggregati-istruttoria",2),B.bc("datiAggregatiModelEmitter",(function(t){return i.setDatiAggregatiAnticipoModel(t)})),B.Oc(5),B.gc(6,"translate"),B.Sb(),B.Tb(7,"app-tabella-dati-aggregati-istruttoria",3),B.bc("datiAggregatiModelEmitter",(function(t){return i.setDatiAggregatiSaldoModel(t)})),B.Oc(8),B.gc(9,"translate"),B.Sb(),B.Tb(10,"app-tabella-dati-aggregati-istruttoria",4),B.bc("datiAggregatiModelEmitter",(function(t){return i.setDatiAggregatiIntegrazioneModel(t)})),B.Oc(11),B.gc(12,"translate"),B.Sb(),B.Sb(),B.Tb(13,"p-footer"),B.Tb(14,"button",5),B.bc("click",(function(){return i.closePopup()})),B.gc(15,"translate"),B.Sb(),B.Sb(),B.Sb()),2&t&&(B.mc("visible",i.popupVisibile)("responsive",!0)("modal",!0)("closable",!0)("positionTop",0)("blockScroll",!0),B.Bb(2),B.Qc(" Domanda unica campagna ",i.annoCampagna," "),B.Bb(2),B.mc("annoCampagna",i.annoCampagna),B.Bb(1),B.Qc(" ",B.hc(6,14,"IstruttorieDatiAggregati.ANTICIPO_DISACCOPPIATO")," "),B.Bb(2),B.mc("annoCampagna",i.annoCampagna),B.Bb(1),B.Qc(" ",B.hc(9,16,"IstruttorieDatiAggregati.SALDO_DISACCOPPIATO")," "),B.Bb(2),B.mc("annoCampagna",i.annoCampagna),B.Bb(1),B.Qc(" ",B.hc(12,18,"IstruttorieDatiAggregati.INTEGRAZIONE_DISACCOPPIATO")," "),B.Bb(3),B.nc("label",B.hc(15,20,"chiudi")))},directives:[x.a,N.c,ot,N.b,L.b],pipes:[z.d],encapsulation:2}),t})();var rt=e("gCvi"),ct=e("sfyY");function st(t,i){if(1&t){const t=B.Ub();B.Tb(0,"app-popup-dati-aggregati-zootecnia",21),B.bc("chiudiPopup",(function(){return B.Ec(t),B.fc().closePopupCapiInterventoZootecnia()})),B.Sb()}if(2&t){const t=B.fc();B.mc("popupVisibile",t.popupCapiInterventoZootecniaVisibile)}}function lt(t,i){if(1&t){const t=B.Ub();B.Tb(0,"app-popup-dati-aggregati-istruttoria",22),B.bc("popupVisibileChange",(function(i){return B.Ec(t),B.fc().popupDatiAggregatiVisibile=i}))("chiudiPopup",(function(){return B.Ec(t),B.fc().closePopupDatiAggregati()})),B.Sb()}if(2&t){const t=B.fc();B.mc("tipoSostegno",t.tipoSostegno)("tipoIstruttoria",t.tipoIstruttoria)("popupVisibile",t.popupDatiAggregatiVisibile)("annoCampagna",t.annoCampagna)}}function dt(t,i){if(1&t){const t=B.Ub();B.Tb(0,"app-popup-dati-aggregati-disaccoppiato-istruttoria",23),B.bc("popupVisibileChange",(function(i){return B.Ec(t),B.fc().popupDatiAggregatiDisaccoppiatoVisibile=i}))("chiudiPopup",(function(){return B.Ec(t),B.fc().closePopupDatiAggregatiDisaccoppiato()})),B.Sb()}if(2&t){const t=B.fc();B.mc("popupVisibile",t.popupDatiAggregatiDisaccoppiatoVisibile)("annoCampagna",t.annoCampagna)}}function bt(t,i){if(1&t){const t=B.Ub();B.Tb(0,"app-popup-dati-aggregati-superficie-intervento",24),B.bc("chiudiPopup",(function(){return B.Ec(t),B.fc().closePopupDatiAggregatiSuperficie()})),B.Sb()}if(2&t){const t=B.fc();B.mc("popupVisibile",t.popupDatiAggregatiSuperficieVisibile)("annoCampagna",t.annoCampagna)}}function ut(t,i){1&t&&(B.Tb(0,"tr"),B.Tb(1,"th"),B.Oc(2,"SOSTEGNO"),B.Sb(),B.Tb(3,"th",25),B.Oc(4,"ANTICIPO"),B.Sb(),B.Tb(5,"th",25),B.Oc(6,"SALDO"),B.Sb(),B.Tb(7,"th",25),B.Oc(8,"INTEGRAZIONE"),B.Sb(),B.Sb())}function pt(t,i){if(1&t&&(B.Tb(0,"strong",32),B.Oc(1),B.Sb()),2&t){const t=B.fc(3);B.Bb(1),B.Pc(t.numberBeforeButtonDscAnt)}}function gt(t,i){if(1&t){const t=B.Ub();B.Tb(0,"button",33),B.bc("click",(function(){B.Ec(t);const i=B.fc(3);return i.redirectCruscotto(i.istruttoria[0].anticipoDisaccoppiato)})),B.Oc(1,"CRUSCOTTO"),B.Sb()}}function mt(t,i){if(1&t&&(B.Tb(0,"div",31),B.Mc(1,pt,2,1,"strong",37),B.Mc(2,gt,2,0,"button",38),B.Sb()),2&t){const t=B.fc(2);B.Bb(1),B.mc("ngIf",t.istruttoria[0].anticipoDisaccoppiato),B.Bb(1),B.mc("ngIf",t.istruttoria[0].anticipoDisaccoppiato)}}function ht(t,i){if(1&t){const t=B.Ub();B.Tb(0,"tr"),B.Tb(1,"td",26),B.Ob(2,"img",27),B.Tb(3,"strong",28),B.Oc(4,"DISACCOPPIATO"),B.Sb(),B.Sb(),B.Tb(5,"td",29),B.Mc(6,mt,3,2,"div",30),B.Sb(),B.Tb(7,"td",29),B.Tb(8,"div",31),B.Tb(9,"strong",32),B.Oc(10),B.Sb(),B.Tb(11,"button",33),B.bc("click",(function(){B.Ec(t);const i=B.fc();return i.redirectCruscotto(i.istruttoria[0].saldoDisaccoppiato)})),B.Oc(12,"CRUSCOTTO"),B.Sb(),B.Sb(),B.Sb(),B.Tb(13,"td",29),B.Tb(14,"div",31),B.Tb(15,"strong",32),B.Oc(16),B.Sb(),B.Tb(17,"button",33),B.bc("click",(function(){B.Ec(t);const i=B.fc();return i.redirectCruscotto(i.istruttoria[0].integrazioneDisaccoppiato)})),B.Oc(18,"CRUSCOTTO"),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Tb(19,"tr"),B.Tb(20,"td",26),B.Ob(21,"img",34),B.Tb(22,"strong",28),B.Oc(23,"ACCOPPIATO ZOOTECNIA"),B.Sb(),B.Sb(),B.Ob(24,"td"),B.Tb(25,"td",29),B.Tb(26,"div",31),B.Tb(27,"strong",32),B.Oc(28),B.Sb(),B.Tb(29,"button",33),B.bc("click",(function(){B.Ec(t);const i=B.fc();return i.redirectCruscotto(i.istruttoria[0].saldoAcz)})),B.Oc(30,"CRUSCOTTO"),B.Sb(),B.Sb(),B.Sb(),B.Ob(31,"td",29),B.Sb(),B.Tb(32,"tr"),B.Tb(33,"td",26),B.Ob(34,"img",35),B.Tb(35,"strong",28),B.Oc(36,"ACCOPPIATO SUPERFICI"),B.Sb(),B.Sb(),B.Ob(37,"td"),B.Tb(38,"td",29),B.Tb(39,"div",31),B.Tb(40,"strong",32),B.Oc(41),B.Sb(),B.Tb(42,"button",36),B.bc("click",(function(){B.Ec(t);const i=B.fc();return i.redirectCruscotto(i.istruttoria[0].saldoAcs)})),B.Oc(43,"CRUSCOTTO"),B.Sb(),B.Sb(),B.Sb(),B.Ob(44,"td",29),B.Sb()}if(2&t){const t=B.fc();B.Bb(6),B.mc("ngIf",0!==t.numberBeforeButtonDscAnt),B.Bb(4),B.Pc(t.numberBeforeButtonDsc),B.Bb(6),B.Pc(t.numberBeforeButtonDscInt),B.Bb(12),B.Pc(t.numberBeforeButtonAcz),B.Bb(13),B.Pc(t.numberBeforeButtonAcs)}}function St(t,i){if(1&t&&B.Ob(0,"app-processi-di-controllo",39),2&t){const t=B.fc();B.mc("processiDaControllare",t.processiDaControllare)}}const ft=function(){return{marginTop:"70px"}};let Tt=(()=>{class t{constructor(t,i,e,o,a,n,r){this.istruttoriaService=t,this.router=i,this.route=e,this.messageService=o,this.confirmationService=a,this.translateService=n,this.repeatingServiceCall=r,this.popupDatiAggregatiSuperficieVisibile=!1,this.popupDatiAggregatiDisaccoppiatoVisibile=!1,this.popupDatiAggregatiVisibile=!1,this.popupCapiInterventoZootecniaVisibile=!1,this.tipoIstruttoria=void 0,this.tipoSostegno=void 0,this.itemsCampagna=[],this.msgText="",this.warnIco="warn",this.numberBeforeButtonDsc=0,this.numberBeforeButtonDscAnt=0,this.numberBeforeButtonDscInt=0,this.numberBeforeButtonAcs=0,this.numberBeforeButtonAcz=0,this.annoCampagna=void 0,this.numeroDomandeCount=0,this.componentDestroyed$=new T.a,this.processiDaControllare=D.a.CRUSCOTTO,this.istruttorie=this.valoriAnniIstruttorie(),this.istruttoria=[{anticipoDisaccoppiato:{sostegno:"DISACCOPPIATO",tipo:"ANTICIPO"},saldoDisaccoppiato:{sostegno:"DISACCOPPIATO",tipo:"SALDO"},integrazioneDisaccoppiato:{sostegno:"DISACCOPPIATO",tipo:"INTEGRAZIONE"},saldoAcs:{sostegno:"SUPERFICIE",tipo:"SALDO"},integrazioneAcs:{sostegno:"SUPERFICIE",tipo:"INTEGRAZIONE"},saldoAcz:{sostegno:"ZOOTECNIA",tipo:"SALDO"},integrazioneAcz:{sostegno:"ZOOTECNIA",tipo:"INTEGRAZIONE"}}]}manageAnniCampagna(t){t.forEach(t=>{this.itemsCampagna.push({label:""+t,value:t})})}ngOnInit(){this.istruttoriaService.caricaAnniCampagna(P.a.PAC_2014_2020).pipe(Object(m.a)(t=>(this.manageAnniCampagna(t),this.route.params)),Object(m.a)(t=>{if(this.annoCampagna=Number(t.annoCampagna),this.annoCampagna)return this.itemsSincronizzazione=this.valoriSincronizzazione(this.annoCampagna),this.itemsStatistiche=this.valoriStatistiche(this.annoCampagna),this.itemsMenuDatiAggregati=this.getItemsMenuDatiAggregati(this.annoCampagna),this.aggiornaContatore(this.annoCampagna);{let t=this.verificaAnnoDefault();this.annoCampagna=t.defaultAnnoCorrente?t.annoAttuale:t.annoAttuale-1,this.router.navigate(["./"+this.annoCampagna],{relativeTo:this.route})}return v.a}),Object(h.a)(this.componentDestroyed$)).subscribe(t=>{this.manageAggiornaContatore(this.annoCampagna,t)})}loadNumber(t){const i=t;let e=new u.a;e.campagna=i,e.sostegno=this.istruttoria[0].saldoDisaccoppiato.sostegno,e.tipo=this.istruttoria[0].saldoDisaccoppiato.tipo;let o=new u.a;o.campagna=i,o.sostegno=this.istruttoria[0].saldoAcs.sostegno,o.tipo=this.istruttoria[0].saldoAcs.tipo;let a=new u.a;a.campagna=i,a.sostegno=this.istruttoria[0].saldoAcz.sostegno,a.tipo=this.istruttoria[0].saldoAcz.tipo,this.istruttoriaService.countIstruttorieDU(e).subscribe(t=>{this.numberBeforeButtonDsc=t}),e.tipo=this.istruttoria[0].anticipoDisaccoppiato.tipo,this.istruttoriaService.countIstruttorieDU(e).subscribe(t=>{this.numberBeforeButtonDscAnt=t}),e.tipo=this.istruttoria[0].integrazioneDisaccoppiato.tipo,this.istruttoriaService.countIstruttorieDU(e).subscribe(t=>{this.numberBeforeButtonDscInt=t}),this.istruttoriaService.countIstruttorieDU(o).subscribe(t=>{this.numberBeforeButtonAcs=t}),this.istruttoriaService.countIstruttorieDU(a).subscribe(t=>{this.numberBeforeButtonAcz=t})}redirectCruscotto(t){this.router.navigate([`./${t.sostegno.toLowerCase()}/${t.tipo.toLowerCase()}`],{relativeTo:this.route})}apriConfigIstruttoria(){this.router.navigate(["./configurazione"],{relativeTo:this.route})}valoriAnniIstruttorie(){return[{annoCampagna:2018,anticipoDisaccoppiato:null,saldoDisaccoppiato:{campagna:2018,sostegno:"DISACCOPPIATO",tipo:"SALDO"},integrazioneDisaccoppiato:{campagna:2018,sostegno:"DISACCOPPIATO",tipo:"INTEGRAZIONE"},saldoAcs:{campagna:2018,sostegno:"SUPERFICIE",tipo:"SALDO"},integrazioneAcs:{campagna:2018,sostegno:"SUPERFICIE",tipo:"INTEGRAZIONE"},saldoAcz:{campagna:2018,sostegno:"ZOOTECNIA",tipo:"SALDO"},integrazioneAcz:{campagna:2018,sostegno:"ZOOTECNIA",tipo:"INTEGRAZIONE"}},{annoCampagna:2019,anticipoDisaccoppiato:{campagna:2019,sostegno:"DISACCOPPIATO",tipo:"ANTICIPO"},saldoDisaccoppiato:{campagna:2019,sostegno:"DISACCOPPIATO",tipo:"SALDO"},integrazioneDisaccoppiato:{campagna:2019,sostegno:"DISACCOPPIATO",tipo:"INTEGRAZIONE"},saldoAcs:{campagna:2019,sostegno:"SUPERFICIE",tipo:"SALDO"},integrazioneAcs:{campagna:2019,sostegno:"SUPERFICIE",tipo:"INTEGRAZIONE"},saldoAcz:{campagna:2019,sostegno:"ZOOTECNIA",tipo:"SALDO"},integrazioneAcz:{campagna:2019,sostegno:"ZOOTECNIA",tipo:"INTEGRAZIONE"}}]}valoriStatistiche(t){return[{label:"STATISTICHE",items:[{label:"BPS",value:d.a.STATISTICHE_CS21,command:()=>{this.calcoloStatisticheEsinc(t,d.a.STATISTICHE_CS21,"STATISTICHE-BPS")}},{label:"Greening",value:d.a.STATISTICHE_CS22,command:()=>{this.calcoloStatisticheEsinc(t,d.a.STATISTICHE_CS22,"STATISTICHE-Greening")}},{label:"Giovane Agricoltore",value:d.a.STATISTICHE_CS25,command:()=>{this.calcoloStatisticheEsinc(t,d.a.STATISTICHE_CS25,"STATISTICHE-Giovane Agricoltore")}},{label:"Accoppiati",value:d.a.STATISTICHE_CS27,command:()=>{this.calcoloStatisticheEsinc(t,d.a.STATISTICHE_CS27,"STATISTICHE-Accoppiati")}}]}]}valoriSincronizzazione(t){return[{label:"SINCRONIZZAZIONE",items:[{label:"SUP. ACCERTATE",value:d.a.SINCRONIZZAZIONE_SUPERFICI_ACCERTATE,command:()=>{this.calcoloStatisticheEsinc(t,d.a.SINCRONIZZAZIONE_SUPERFICI_ACCERTATE,"SINCRONIZZAZIONE-SUP. ACCERTATE")}},{label:"PAGAMENTI",value:d.a.SINCRONIZZAZIONE_PAGAMENTI,command:()=>{this.calcoloStatisticheEsinc(t,d.a.SINCRONIZZAZIONE_PAGAMENTI,"SINCRONIZZAZIONE-PAGAMENTI")}}]}]}getItemsMenuDatiAggregati(t){return[{label:this.translateService.instant("DATI_AGGREGATI"),items:[{label:this.translateService.instant("SOSTEGNO.DISACCOPPIATO"),items:[{label:this.translateService.instant("ISTRUTTORIA_PAC.PAGAMENTI"),command:()=>{this.openPopupDatiAggregatiDisaccoppiato()}}]},{label:this.translateService.instant("SOSTEGNO.SUPERFICIE"),items:[{label:this.translateService.instant("ISTRUTTORIA_PAC.PAGAMENTI"),command:()=>{this.tipoSostegno=g.a.SUPERFICIE,this.tipoIstruttoria=p.a.SALDO,this.openPopupDatiAggregati()}},{label:this.translateService.instant("ISTRUTTORIA_PAC.SUPERFICI_AMMISSIBILI"),command:()=>{this.openPopupDatiAggregatiSuperficie()}}]},{label:this.translateService.instant("SOSTEGNO.ZOOTECNIA"),items:[{label:this.translateService.instant("ISTRUTTORIA_PAC.PAGAMENTI"),command:()=>{this.tipoSostegno=g.a.ZOOTECNIA,this.tipoIstruttoria=p.a.SALDO,this.openPopupDatiAggregati()}},{label:this.translateService.instant("ISTRUTTORIA_PAC.CAPI_RICHIESTI"),command:()=>{this.openPopupCapiInterventoZootecnia()}},{label:this.translateService.instant("ISTRUTTORIA_PAC.ELENCO_CAPI_RICHIESTI"),command:()=>{this.istruttoriaService.getCapiImpegnatiPerAGEA(t).pipe(Object(S.a)(t=>(this.messageService.add(b.a.getToast("tst",b.b.error,b.a.erroreRecuperoDati)),v.a)),Object(h.a)(this.componentDestroyed$)).subscribe(t=>{C.saveAs(t,"CAPI_ZOOTECNIA_APPAG.csv")})}}]}]}]}calcoloStatisticheEsinc(t,i,e){this.confirmationService.confirm({message:`Attenzione si sta per lanciare l'elaborazione <br>${e}.<br> Questa operazione \xe8 irreversibile e sovrascriver\xe0 i dati precedenti.<br> Sei sicuro di voler procedere?`,header:"Conferma",icon:"pi pi-exclamation-triangle",accept:[d.a.SINCRONIZZAZIONE_SUPERFICI_ACCERTATE,d.a.SINCRONIZZAZIONE_PAGAMENTI].includes(i)?this.calcoloSincronizzazioneCallRestApi(i,t):this.calcoloStatisticheCallRestApi(i,t),reject:()=>{this.messageService.add(b.a.getToast("tst",b.b.reject,b.a.operazioneAnnullata))}})}calcoloStatisticheCallRestApi(t,i){return()=>{let e={tipologiaStatistica:t,campagna:i.toString()};const o=Object(I.a)(()=>{t==d.a.STATISTICHE_CS21&&this.messageService.add(b.a.getToast("tst",b.b.warn,b.a.inRunStatisticheBPS)),t==d.a.STATISTICHE_CS22&&this.messageService.add(b.a.getToast("tst",b.b.warn,b.a.inRunStatisticheGreening)),t==d.a.STATISTICHE_CS25&&this.messageService.add(b.a.getToast("tst",b.b.warn,b.a.inRunStatisticheGiovane)),t==d.a.STATISTICHE_CS27&&this.messageService.add(b.a.getToast("tst",b.b.warn,b.a.inRunStatisticheAccoppiato))}),a=this.istruttoriaService.avviaStatistiche(e).pipe(Object(f.a)(i=>{this.repeatingServiceCall.start(),t==d.a.STATISTICHE_CS21&&this.messageService.add(b.a.getToast("tst",b.b.success,b.a.processoOkStatisticheBPS)),t==d.a.STATISTICHE_CS22&&this.messageService.add(b.a.getToast("tst",b.b.success,b.a.processoOkStatisticheGreening)),t==d.a.STATISTICHE_CS25&&this.messageService.add(b.a.getToast("tst",b.b.success,b.a.processoOkStatisticheGiovane)),t==d.a.STATISTICHE_CS27&&this.messageService.add(b.a.getToast("tst",b.b.success,b.a.processoOkStatisticheAccoppiato)),t==d.a.SINCRONIZZAZIONE_SUPERFICI_ACCERTATE&&this.messageService.add(b.a.getToast("tst",b.b.success,b.a.processoOkSincronizzazioneSuperficiAccertate)),t==d.a.SINCRONIZZAZIONE_PAGAMENTI&&this.messageService.add(b.a.getToast("tst",b.b.success,b.a.processoOkSincronizzazionePagamenti))}));this.istruttoriaService.checkProcessiInEsecuzione([t]).pipe(Object(h.a)(this.componentDestroyed$),Object(m.a)(t=>Object(O.a)(()=>t,o,a))).subscribe()}}calcoloSincronizzazioneCallRestApi(t,i){return()=>{let e={tipologiaSincronizzazione:t,campagna:i};const o=Object(I.a)(()=>{t==d.a.SINCRONIZZAZIONE_SUPERFICI_ACCERTATE&&this.messageService.add(b.a.getToast("tst",b.b.warn,b.a.inRunSincronizzazioneSuperficiAccertate)),t==d.a.SINCRONIZZAZIONE_PAGAMENTI&&this.messageService.add(b.a.getToast("tst",b.b.warn,b.a.inRunSincronizzazionePagamenti))}),a=this.istruttoriaService.avviaSincronizzazione(e).pipe(Object(f.a)(i=>{this.repeatingServiceCall.start(),t==d.a.SINCRONIZZAZIONE_SUPERFICI_ACCERTATE&&this.messageService.add(b.a.getToast("tst",b.b.success,b.a.processoOkSincronizzazioneSuperficiAccertate)),t==d.a.SINCRONIZZAZIONE_PAGAMENTI&&this.messageService.add(b.a.getToast("tst",b.b.success,b.a.processoOkSincronizzazionePagamenti))}));this.istruttoriaService.checkProcessiInEsecuzione([t]).pipe(Object(h.a)(this.componentDestroyed$),Object(m.a)(t=>Object(O.a)(()=>t,o,a))).subscribe()}}manageCambioAnno(t){this.router.navigate(["./"+t.value],{relativeTo:this.route.parent})}aggiornaContatore(t){return this.istruttoriaService.countDomandeDUPAC("annoRiferimento="+t)}manageAggiornaContatore(t,i){this.numeroDomandeCount=i,this.warnIco="warn",this.msgText="Ci sono "+this.numeroDomandeCount+" domande PROTOCOLLATE da ricevere",this.numeroDomandeCount<=0&&(this.warnIco="",this.msgText=""),1===this.numeroDomandeCount&&(this.msgText="C'\xe8 1 domanda PROTOCOLLATA da ricevere"),this.loadNumber(t)}verificaAnnoDefault(){let t=new Date,i=!1;return t.getMonth()+1>9&&(i=!0),{annoAttuale:t.getFullYear(),defaultAnnoCorrente:i}}openPopupDatiAggregatiSuperficie(){this.popupDatiAggregatiSuperficieVisibile=!0}closePopupDatiAggregatiSuperficie(){this.popupDatiAggregatiSuperficieVisibile=!1}openPopupDatiAggregatiDisaccoppiato(){this.popupDatiAggregatiDisaccoppiatoVisibile=!0}closePopupDatiAggregatiDisaccoppiato(){this.popupDatiAggregatiDisaccoppiatoVisibile=!1}openPopupDatiAggregati(){this.popupDatiAggregatiVisibile=!0}closePopupDatiAggregati(){this.popupDatiAggregatiVisibile=!1}openPopupCapiInterventoZootecnia(){this.popupCapiInterventoZootecniaVisibile=!0}closePopupCapiInterventoZootecnia(){this.popupCapiInterventoZootecniaVisibile=!1}ngOnDestroy(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(l.a),B.Nb(c.e),B.Nb(c.a),B.Nb(N.d),B.Nb(N.a),B.Nb(z.e),B.Nb(A.a))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-sommario-istruttoria1420"]],decls:29,vars:22,consts:[[3,"popupVisibile","chiudiPopup",4,"ngIf"],[3,"tipoSostegno","tipoIstruttoria","popupVisibile","annoCampagna","popupVisibileChange","chiudiPopup",4,"ngIf"],[3,"popupVisibile","annoCampagna","popupVisibileChange","chiudiPopup",4,"ngIf"],[3,"popupVisibile","annoCampagna","chiudiPopup",4,"ngIf"],[1,"tophome"],[1,"ui-grid-fixed"],["key","tst"],[1,"ui-grid-fixed","layout-actionmenu"],[2,"margin-top","30px","text-align","center"],[1,"d-flex","align-items-center","bg-primary","px-4","py-3"],[1,"mb-0","text-white","fs-16","fw-700"],[1,"ml-2","dropdown-custom",3,"options","ngModel","onChange"],[1,"ml-auto","mr-3","message-custom",3,"severity","text"],[1,"dropdown-custom","mr-3",3,"model"],["label","GESTISCI","icon","pi pi-cog","iconPos","right",1,"button-custom",3,"click"],[1,"boxgrey",2,"padding-top","50px","display","table"],[1,"table-custom",3,"value"],["pTemplate","header"],["pTemplate","body"],[1,"layout-actionmenu"],[3,"processiDaControllare",4,"ngIf"],[3,"popupVisibile","chiudiPopup"],[3,"tipoSostegno","tipoIstruttoria","popupVisibile","annoCampagna","popupVisibileChange","chiudiPopup"],[3,"popupVisibile","annoCampagna","popupVisibileChange","chiudiPopup"],[3,"popupVisibile","annoCampagna","chiudiPopup"],[1,"text-center"],["align","left"],["src","assets/img/icon_disaccoppiato.png"],[1,"ml-2"],["align","right"],["class","d-flex  align-items-center  justify-content-end",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-end"],[1,"fs-22","mr-3"],["pButton","","type","button",1,"btn","fs-16","btn-green","ui-button","ui-widget","ui-state-default","ui-corner-all","ui-button-text-empty",3,"click"],["src","assets/img/icon_acz.png"],["src","assets/img/icon_acs.png"],["pButton","","type","button",1,"btn","fs-16","btn-green","ui-button","ui-widget","ui-state-default","ui-corner-all","ui-button-text-empty","button-responsive",3,"click"],["class","fs-22  mr-3",4,"ngIf"],["pButton","","type","button","class","btn fs-16 btn-green ui-button ui-widget ui-state-default ui-corner-all ui-button-text-empty",3,"click",4,"ngIf"],[3,"processiDaControllare"]],template:function(t,i){1&t&&(B.Mc(0,st,1,1,"app-popup-dati-aggregati-zootecnia",0),B.Mc(1,lt,1,4,"app-popup-dati-aggregati-istruttoria",1),B.Mc(2,dt,1,2,"app-popup-dati-aggregati-disaccoppiato-istruttoria",2),B.Mc(3,bt,1,2,"app-popup-dati-aggregati-superficie-intervento",3),B.Tb(4,"div",4),B.Tb(5,"div",5),B.Tb(6,"h4"),B.Oc(7),B.gc(8,"translate"),B.Sb(),B.Sb(),B.Sb(),B.Ob(9,"p-toast",6),B.Tb(10,"div",7),B.Tb(11,"div",8),B.Tb(12,"div",9),B.Tb(13,"h4",10),B.Oc(14),B.gc(15,"translate"),B.Sb(),B.Tb(16,"p-dropdown",11),B.bc("onChange",(function(t){return i.manageCambioAnno(t)})),B.Sb(),B.Ob(17,"p-message",12),B.Ob(18,"p-menubar",13),B.Ob(19,"p-menubar",13),B.Ob(20,"p-menubar",13),B.Tb(21,"p-button",14),B.bc("click",(function(){return i.apriConfigIstruttoria()})),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Tb(22,"div",15),B.Tb(23,"div",5),B.Tb(24,"p-table",16),B.Mc(25,ut,9,0,"ng-template",17),B.Mc(26,ht,45,5,"ng-template",18),B.Sb(),B.Tb(27,"div",19),B.Mc(28,St,1,1,"app-processi-di-controllo",20),B.Sb(),B.Sb(),B.Sb()),2&t&&(B.mc("ngIf",i.annoCampagna&&i.popupCapiInterventoZootecniaVisibile),B.Bb(1),B.mc("ngIf",i.annoCampagna&&i.tipoIstruttoria&&i.annoCampagna&&i.popupDatiAggregatiVisibile),B.Bb(1),B.mc("ngIf",i.annoCampagna&&i.popupDatiAggregatiDisaccoppiatoVisibile),B.Bb(1),B.mc("ngIf",i.annoCampagna&&i.popupDatiAggregatiSuperficieVisibile),B.Bb(4),B.Pc(B.hc(8,17,"ISTRUTTORIA_PAC.INTESTAZIONE")),B.Bb(2),B.Kc(B.rc(21,ft)),B.Bb(5),B.Pc(B.hc(15,19,"ISTRUTTORIA_PAC.DOMANDA_UNICA")),B.Bb(2),B.mc("options",i.itemsCampagna)("ngModel",i.annoCampagna),B.Bb(1),B.mc("severity",i.warnIco)("text",i.msgText),B.Bb(1),B.mc("model",i.itemsMenuDatiAggregati),B.Bb(1),B.mc("model",i.itemsStatistiche),B.Bb(1),B.mc("model",i.itemsSincronizzazione),B.Bb(4),B.mc("value",i.istruttoria),B.Bb(4),B.mc("ngIf",i.processiDaControllare))},directives:[o.t,M.a,R.a,y.s,y.v,r.b,E.a,L.a,a.q,N.e,w.a,at,nt,rt.a,L.b,ct.a],pipes:[z.d],styles:[".button-custom .ui-button,.dropdown-custom .ui-dropdown-label,.dropdown-custom .ui-menuitem-link{display:flex;align-items:center;justify-content:center;padding:7px 30px!important;min-height:0!important;height:auto;border:0!important;border-radius:0!important;background-color:var(--white)!important;box-shadow:none;font-size:14px!important;font-weight:700;line-height:1!important}.button-custom .ui-button span,.dropdown-custom .ui-dropdown-label span,.dropdown-custom .ui-menuitem-link span{line-height:1}.message-custom .ui-message.ui-message.ui-message{display:flex;align-items:center;margin:0;padding:.375rem 1rem;border:0;background-color:#f9f4cf}.message-custom .ui-message.ui-message.ui-message .ui-message-icon.ui-message-icon{font-size:1rem;margin-top:0;margin-right:.5rem;height:auto;color:#ffae3f}.message-custom .ui-message.ui-message.ui-message .ui-message-text{line-height:1;color:#7c724f}.dropdown-custom{text-transform:uppercase}.dropdown-custom *{color:var(--primary)!important}.dropdown-custom .ui-dropdown.ui-dropdown.ui-dropdown{background-image:none;padding-bottom:0}.dropdown-custom .pi.pi-caret-down,.dropdown-custom .ui-dropdown-trigger.ui-dropdown-trigger.ui-dropdown-trigger{margin-top:0!important;position:absolute;top:50%;right:0;transform:translateY(-50%);font-size:20px}.dropdown-custom .ui-menubar.ui-menubar{border:0;border-radius:0}.dropdown-custom .ui-menubar-custom{display:none!important}.dropdown-custom .ui-dropdown-panel.ui-dropdown-panel .ui-dropdown-item.ui-state-highlight{background-color:var(--primary)}.dropdown-custom .ui-dropdown-panel.ui-dropdown-panel .ui-dropdown-item.ui-state-highlight span{color:var(--white)!important}.dropdown-custom .ui-widget-content.ui-widget-content.ui-widget-content{padding-top:0;padding-bottom:0}.button-custom .ui-button{text-transform:uppercase}.button-custom .ui-button *{color:var(--primary)!important}.button-custom .ui-button .pi{font-size:26px;right:0}.table-custom table .ui-table-tbody>tr{background:transparent}.table-custom table .btn{box-shadow:none}"],encapsulation:2}),t})();const vt=[{path:"",component:Tt,pathMatch:"full"},{path:":annoCampagna",component:Tt,pathMatch:"full",data:{mybreadcrumb:""}},{path:":annoCampagna/configurazione",loadChildren:()=>Promise.resolve().then(e.bind(null,"tZin")).then(t=>t.SostegnoSharedModule),canLoad:[s.a],data:{mybreadcrumb:"Configurazione Istruttoria"}},{path:":annoCampagna/disaccoppiato/:tipo",loadChildren:()=>e.e(35).then(e.bind(null,"d5Pd")).then(t=>t.DisaccoppiatoModule),canLoad:[s.a],data:{mybreadcrumb:"Disaccoppiato"}},{path:":annoCampagna/superficie/saldo",loadChildren:()=>Promise.resolve().then(e.bind(null,"4waU")).then(t=>t.SuperficiModule),canLoad:[s.a],data:{mybreadcrumb:"Superfici"}},{path:":annoCampagna/zootecnia/saldo",loadChildren:()=>Promise.resolve().then(e.bind(null,"IWBs")).then(t=>t.ZootecniaModule),canLoad:[s.a],data:{mybreadcrumb:"Zootecnia Saldo"}}];let It=(()=>{class t{}return t.\u0275mod=B.Lb({type:t}),t.\u0275inj=B.Kb({factory:function(i){return new(i||t)},imports:[[o.c,c.i.forChild(vt)]]}),t})();var Ot=e("b7oP"),Ct=e("R0Ic"),At=e("P/hZ"),Dt=e("Z7TK");const Pt=["container"],Bt=["defaultbtn"],Nt=function(t){return{"ui-helper-hidden":t}};function zt(t,i){if(1&t&&B.Ob(0,"li",11),2&t){const t=B.fc().$implicit;B.mc("ngClass",B.sc(1,Nt,!1===t.visible))}}function Mt(t,i){if(1&t&&B.Ob(0,"span",18),2&t){const t=B.fc(3).$implicit;B.Db(t.icon),B.mc("ngClass","ui-menuitem-icon")}}const Rt=function(t){return{"ui-state-disabled":t}};function yt(t,i){if(1&t){const t=B.Ub();B.Tb(0,"a",15),B.bc("click",(function(i){B.Ec(t);const e=B.fc(2).$implicit;return B.fc(2).itemClick(i,e)})),B.Mc(1,Mt,1,3,"span",16),B.Tb(2,"span",17),B.Oc(3),B.Sb(),B.Sb()}if(2&t){const t=B.fc(2).$implicit;B.mc("ngClass",B.sc(5,Rt,t.disabled)),B.Cb("href",t.url,B.Gc)("target",t.target),B.Bb(1),B.mc("ngIf",t.icon),B.Bb(2),B.Pc(t.label)}}function Et(t,i){if(1&t&&B.Ob(0,"span",18),2&t){const t=B.fc(3).$implicit;B.Db(t.icon),B.mc("ngClass","ui-menuitem-icon")}}function Lt(t,i){if(1&t){const t=B.Ub();B.Tb(0,"a",19),B.bc("click",(function(i){B.Ec(t);const e=B.fc(2).$implicit;return B.fc(2).itemClick(i,e)})),B.Mc(1,Et,1,3,"span",16),B.Tb(2,"span",17),B.Oc(3),B.Sb(),B.Sb()}if(2&t){const t=B.fc(2).$implicit;B.mc("routerLink",t.routerLink)("queryParams",t.queryParams)("ngClass",B.sc(6,Rt,t.disabled)),B.Cb("target",t.target),B.Bb(1),B.mc("ngIf",t.icon),B.Bb(2),B.Pc(t.label)}}function wt(t,i){if(1&t&&(B.Tb(0,"li",12),B.Mc(1,yt,4,7,"a",13),B.Mc(2,Lt,4,8,"a",14),B.Sb()),2&t){const t=B.fc().$implicit;B.Bb(1),B.mc("ngIf",!t.routerLink),B.Bb(1),B.mc("ngIf",t.routerLink)}}function xt(t,i){if(1&t&&(B.Mc(0,zt,1,3,"li",9),B.Mc(1,wt,3,2,"li",10)),2&t){const t=i.$implicit;B.mc("ngIf",t.separator),B.Bb(1),B.mc("ngIf",!1!==t.visible&&!t.separator)}}const _t=function(t,i){return{showTransitionParams:t,hideTransitionParams:i}},kt=function(t){return{value:"visible",params:t}};function Ut(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div",0,6),B.bc("@overlayAnimation.start",(function(i){return B.Ec(t),B.fc().onOverlayAnimationStart(i)})),B.Tb(2,"ul",7),B.Mc(3,xt,2,2,"ng-template",8),B.Sb(),B.Sb()}if(2&t){const t=B.fc();B.Db(t.menuStyleClass),B.mc("ngClass","ui-menu ui-menu-dynamic ui-widget ui-widget-content ui-corner-all ui-helper-clearfix ui-shadow")("ngStyle",t.menuStyle)("@overlayAnimation",B.sc(10,kt,B.tc(7,_t,t.showTransitionOptions,t.hideTransitionOptions))),B.Cb("id",t.ariaId+"_overlay"),B.Bb(3),B.mc("ngForOf",t.model)}}const Ft=function(){return{"ui-splitbutton ui-buttonset ui-widget":!0}};let Gt=(()=>{let t=class{constructor(t,i,e,o){this.el=t,this.renderer=i,this.router=e,this.cd=o,this.iconPos="left",this.onClick=new B.n,this.onDropdownClick=new B.n,this.showTransitionOptions="225ms ease-out",this.hideTransitionOptions="195ms ease-in",this.overlayVisible=!1,this.ariaId=Object(Dt.c)()+"_list"}onDefaultButtonClick(t){this.onClick.emit(t)}itemClick(t,i){i.disabled?t.preventDefault():(i.url||t.preventDefault(),i.command&&i.command({originalEvent:t,item:i}),this.overlayVisible=!1)}show(){this.overlayVisible=!this.overlayVisible}onOverlayAnimationStart(t){switch(t.toState){case"visible":this.overlay=t.element,this.appendOverlay(),this.overlay.style.zIndex=String(++At.a.zindex),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener();break;case"void":this.onOverlayHide()}}onDropdownButtonClick(t){this.onDropdownClick.emit(t),this.dropdownClick=!0,this.show()}alignOverlay(){this.appendTo?At.a.absolutePosition(this.overlay,this.containerViewChild.nativeElement):At.a.relativePosition(this.overlay,this.containerViewChild.nativeElement)}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):At.a.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=At.a.getWidth(this.el.nativeElement.children[0])+"px"))}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen("document","click",()=>{this.dropdownClick?this.dropdownClick=!1:(this.overlayVisible=!1,this.unbindDocumentClickListener(),this.cd.markForCheck())}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.overlayVisible=!1}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.overlay=null}ngOnDestroy(){this.restoreOverlayAppend(),this.onOverlayHide()}};return t.\u0275fac=function(i){return new(i||t)(B.Nb(B.l),B.Nb(B.E),B.Nb(c.e),B.Nb(B.h))},t.\u0275cmp=B.Hb({type:t,selectors:[["p-splitButton"]],viewQuery:function(t,i){var e;1&t&&(B.Uc(Pt,!0),B.Uc(Bt,!0)),2&t&&(B.Ac(e=B.cc())&&(i.containerViewChild=e.first),B.Ac(e=B.cc())&&(i.buttonViewChild=e.first))},inputs:{iconPos:"iconPos",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",model:"model",icon:"icon",label:"label",style:"style",styleClass:"styleClass",menuStyle:"menuStyle",menuStyleClass:"menuStyleClass",disabled:"disabled",tabindex:"tabindex",appendTo:"appendTo",dir:"dir"},outputs:{onClick:"onClick",onDropdownClick:"onDropdownClick"},decls:6,vars:14,consts:[[3,"ngClass","ngStyle"],["container",""],["type","button","pButton","",3,"icon","iconPos","label","cornerStyleClass","disabled","click"],["defaultbtn",""],["type","button","pButton","","icon","pi pi-chevron-down",1,"ui-splitbutton-menubutton",3,"cornerStyleClass","disabled","click"],[3,"ngClass","ngStyle","class",4,"ngIf"],["overlay",""],["role","menu",1,"ui-menu-list","ui-helper-reset"],["ngFor","",3,"ngForOf"],["class","ui-menu-separator ui-widget-content","role","separator",3,"ngClass",4,"ngIf"],["class","ui-menuitem ui-widget ui-corner-all","role","menuitem","role","none",4,"ngIf"],["role","separator",1,"ui-menu-separator","ui-widget-content",3,"ngClass"],["role","menuitem","role","none",1,"ui-menuitem","ui-widget","ui-corner-all"],["class","ui-menuitem-link ui-corner-all","role","menuitem",3,"ngClass","click",4,"ngIf"],["class","ui-menuitem-link ui-corner-all",3,"routerLink","queryParams","ngClass","click",4,"ngIf"],["role","menuitem",1,"ui-menuitem-link","ui-corner-all",3,"ngClass","click"],[3,"ngClass","class",4,"ngIf"],[1,"ui-menuitem-text"],[3,"ngClass"],[1,"ui-menuitem-link","ui-corner-all",3,"routerLink","queryParams","ngClass","click"]],template:function(t,i){1&t&&(B.Tb(0,"div",0,1),B.Tb(2,"button",2,3),B.bc("click",(function(t){return i.onDefaultButtonClick(t)})),B.Sb(),B.Tb(4,"button",4),B.bc("click",(function(t){return i.onDropdownButtonClick(t)})),B.Sb(),B.Mc(5,Ut,4,12,"div",5),B.Sb()),2&t&&(B.Db(i.styleClass),B.mc("ngClass",B.rc(13,Ft))("ngStyle",i.style),B.Bb(2),B.mc("icon",i.icon)("iconPos",i.iconPos)("label",i.label)("cornerStyleClass","rtl"===i.dir?"ui-corner-right":"ui-corner-left")("disabled",i.disabled),B.Cb("tabindex",i.tabindex),B.Bb(2),B.mc("cornerStyleClass","rtl"===i.dir?"ui-corner-left":"ui-corner-right")("disabled",i.disabled),B.Bb(1),B.mc("ngIf",i.overlayVisible))},directives:[o.q,o.w,L.b,o.t,o.s,c.h],encapsulation:2,data:{animation:[Object(Ct.m)("overlayAnimation",[Object(Ct.j)("void",Object(Ct.k)({transform:"translateY(5%)",opacity:0})),Object(Ct.j)("visible",Object(Ct.k)({transform:"translateY(0)",opacity:1})),Object(Ct.l)("void => visible",Object(Ct.e)("{{showTransitionParams}}")),Object(Ct.l)("visible => void",Object(Ct.e)("{{hideTransitionParams}}"))])]}}),t})(),Vt=(()=>{let t=class{};return t.\u0275mod=B.Lb({type:t}),t.\u0275inj=B.Kb({factory:function(i){return new(i||t)},imports:[[o.c,L.c,c.i],L.c,c.i]}),t})();var Zt=e("R69K"),$t=e("tZin"),Qt=e("4waU"),qt=e("IWBs"),Ht=e("Vufj"),jt=e("ayH+"),Kt=e("XEYE"),Yt=e("TW8+"),Jt=e("dkQB"),Wt=e("qkoE"),Xt=e("ngA5");class ti{}function ii(t,i){1&t&&(B.Tb(0,"span",11),B.Tb(1,"h4"),B.Tb(2,"b"),B.Oc(3,"Dati di dettaglio istruttoria"),B.Sb(),B.Sb(),B.Sb())}function ei(t,i){if(1&t){const t=B.Ub();B.Tb(0,"app-dettaglio-istruttoria-dati",12),B.bc("aggiornaDomandeCounters",(function(i){return B.Ec(t),B.fc(2).aggiornaDomandeCounters(i)})),B.Sb()}}function oi(t,i){1&t&&(B.Tb(0,"span",11),B.Tb(1,"h4"),B.Tb(2,"b"),B.Oc(3,"Dati di dettaglio istruttoria ACZ"),B.Sb(),B.Sb(),B.Sb())}function ai(t,i){if(1&t){const t=B.Ub();B.Tb(0,"app-dettaglio-istruttoria-dati-acz",13),B.bc("aggiornaPremioAggregato",(function(i){return B.Ec(t),B.fc(2).aggiornaPremioAggregato(i)})),B.Sb()}if(2&t){const t=B.fc(2);B.mc("premioAggregato",t.premioAggregato)}}function ni(t,i){1&t&&(B.Tb(0,"span",11),B.Tb(1,"h4"),B.Tb(2,"b"),B.Oc(3,"Dati di dettaglio istruttoria ACS"),B.Sb(),B.Sb(),B.Sb())}function ri(t,i){if(1&t){const t=B.Ub();B.Tb(0,"app-dettaglio-istruttoria-dati-acs",14),B.bc("aggiornaPremioAggregatoACS",(function(i){return B.Ec(t),B.fc(2).aggiornaPremioAggregatoACS(i)})),B.Sb()}if(2&t){const t=B.fc(2);B.mc("premioAggregatoACS",t.premioAggregatoACS)}}function ci(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div"),B.Tb(1,"div",8),B.Tb(2,"div",15),B.Oc(3,"Completamento"),B.Sb(),B.Tb(4,"div",16),B.Ob(5,"p-progressBar",17),B.Sb(),B.Tb(6,"div",18),B.Tb(7,"button",19),B.bc("click",(function(){B.Ec(t);const i=B.fc(2);return i.collassaDivProgressBar("RICEV_AGS"),i.refresh()})),B.Sb(),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=B.fc(2);B.Bb(5),B.mc("value",t.getPercentualeAvanzamentoProcesso("RICEV_AGS")),B.Bb(2),B.mc("disabled",t.disableOkRicevibilita)}}function si(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div"),B.Tb(1,"div",8),B.Tb(2,"div",15),B.Oc(3,"Completamento"),B.Sb(),B.Tb(4,"div",16),B.Ob(5,"p-progressBar",17),B.Sb(),B.Tb(6,"div",18),B.Tb(7,"button",19),B.bc("click",(function(){B.Ec(t);const i=B.fc(2);return i.collassaDivProgressBar("AVV_IST"),i.refresh()})),B.Sb(),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=B.fc(2);B.Bb(5),B.mc("value",t.getPercentualeAvanzamentoProcesso("AVV_IST")),B.Bb(2),B.mc("disabled",t.disableOkIstruttoria)}}function li(t,i){if(1&t&&(B.Tb(0,"div"),B.Tb(1,"div",2),B.Tb(2,"p-tabView",3),B.Tb(3,"p-tabPanel"),B.Mc(4,ii,4,0,"ng-template",4),B.Mc(5,ei,1,0,"ng-template",5),B.Sb(),B.Tb(6,"p-tabPanel"),B.Mc(7,oi,4,0,"ng-template",4),B.Mc(8,ai,1,1,"ng-template",5),B.Sb(),B.Tb(9,"p-tabPanel"),B.Mc(10,ni,4,0,"ng-template",4),B.Mc(11,ri,1,1,"ng-template",5),B.Sb(),B.Sb(),B.Sb(),B.Ob(12,"router-outlet"),B.Tb(13,"h2",6),B.Tb(14,"span"),B.Oc(15,"Riepilogo stato domande"),B.Sb(),B.Sb(),B.Tb(16,"div",7),B.Tb(17,"div",8),B.Tb(18,"div",9),B.Ob(19,"app-stato-domande-card",10),B.Mc(20,ci,8,2,"div",1),B.Sb(),B.Tb(21,"div",9),B.Ob(22,"app-stato-domande-card",10),B.Mc(23,si,8,2,"div",1),B.Sb(),B.Tb(24,"div",9),B.Ob(25,"app-stato-domande-card",10),B.Sb(),B.Tb(26,"div",9),B.Ob(27,"app-stato-domande-card",10),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t){const t=B.fc();B.Bb(2),B.mc("activeIndex",t.index),B.Bb(17),B.mc("riepilogoStatoDomande",t.listaRiepilogoStati[0])("dettaglioIstruttoria",t),B.Bb(1),B.mc("ngIf",1==t.showProgressbarRicevibilita),B.Bb(2),B.mc("riepilogoStatoDomande",t.listaRiepilogoStati[1])("dettaglioIstruttoria",t),B.Bb(1),B.mc("ngIf",1==t.showProgressbarIstruttoria),B.Bb(2),B.mc("riepilogoStatoDomande",t.listaRiepilogoStati[2])("dettaglioIstruttoria",t),B.Bb(2),B.mc("riepilogoStatoDomande",t.listaRiepilogoStati[3])("dettaglioIstruttoria",t)}}let di=(()=>{class t{constructor(t,i,e,o,a){this.istruttoriaCorrente=t,this.route=i,this.istruttoriaService=e,this.router=o,this.conf=a,this.showProgressbarRicevibilita=!1,this.disableAvviaRicevibilita=!1,this.disableOkRicevibilita=!1,this.valueProgressbarRicevibilita=0,this.controlloRicev=!1,this.showSostegno=!1,this.showProgressbarIstruttoria=!1,this.disableAvviaIstruttoria=!1,this.disableOkIstruttoria=!1,this.valueProgressbarIstruttoria=0,this.editable=!1}ngOnInit(){this.listaRiepilogoStati=new Array,this.listaRiepilogoStati.push(new jt.a(1,Kt.a.PROTOCOLLATA,0)),this.listaRiepilogoStati.push(new jt.a(2,Kt.a.RICEVIBILE,0)),this.listaRiepilogoStati.push(new jt.a(3,Kt.a.NON_RICEVIBILE,0)),this.listaRiepilogoStati.push(new jt.a(4,Kt.a.IN_ISTRUTTORIA,0)),this.listaRiepilogoSostegno=new Array,this.listaRiepilogoSostegno.push(new Xt.a(1,Wt.a.SOSTEGNO_DISACCOPPIATO,0)),this.listaRiepilogoSostegno.push(new Xt.a(2,Wt.a.SOSTEGNO_SUPERFICI,0)),this.listaRiepilogoSostegno.push(new Xt.a(3,Wt.a.SOSTEGNO_ZOOTECNIA,0)),this.production=this.conf.production,this.listaRiepilogoStati.sort((t,i)=>t.order>i.order?1:t.order<i.order?-1:0),this.listaRiepilogoSostegno.sort((t,i)=>t.order>i.order?1:t.order<i.order?-1:0),this.subIstruttoria=this.route.params.subscribe(t=>{this.getIstruttoria(t.idIstruttoria)}),this.subProcessi=this.route.params.subscribe(t=>{this.getListaProcessiAttiviIstruttoria(t.idIstruttoria)}),this.interval=setInterval(()=>{null!=this.listaProcessiAttivi&&this.listaProcessiAttivi.length>0&&(console.log("Verifica avanzamento processo"),this.listaProcessiAttivi.forEach(t=>{this.controllo=this.istruttoriaService.getProcesso(t.idProcesso).subscribe(i=>{if(t.percentualeAvanzamento=i.percentualeAvanzamento,i.percentualeAvanzamento>=100||"PROCESSO_KO"===i.idStatoProcesso){const i=this.listaProcessiAttivi.indexOf(t);-1!==i&&this.listaProcessiAttivi.splice(i,1),"RICEV_AGS"===t.idTipoProcesso?(this.disableOkRicevibilita=!1,this.disableAvviaRicevibilita=!1):"AVV_IST"===t.idTipoProcesso&&(this.disableOkIstruttoria=!1,this.disableAvviaIstruttoria=!1)}})}))},1e4),this.route.params.subscribe(t=>{this.istruttoriaService.getDatiDettaglio(t.idIstruttoria,{identificativoSostegno:g.a.ZOOTECNIA}).subscribe(t=>{this.premioAggregato=t},t=>this.handleError(t)),this.istruttoriaService.getDatiDettaglio(t.idIstruttoria,{identificativoSostegno:g.a.SUPERFICIE}).subscribe(t=>{this.premioAggregatoACS=t},t=>this.handleError(t))})}ngOnDestroy(){this.subIstruttoria.unsubscribe(),this.subProcessi.unsubscribe(),clearInterval(this.interval)}addDomandePerStato(t,i){this.listaRiepilogoStati.map(e=>{e.stato===t&&(e.counter=i)}),0===i&&t===Kt.a.RICEVIBILE&&(this.disableAvviaIstruttoria=!0)}addDomandePerSostegno(t,i){this.listaRiepilogoSostegno.map(e=>{e.descrizioneSostegno===t&&(e.counter=i)})}getIstruttoria(t){this.istruttoriaService.getIstruttoria(t).subscribe(t=>this.countDomandeDU(t)),this.countDomandePerStato(Kt.a.RICEVIBILE,t),this.countDomandePerStato(Kt.a.NON_RICEVIBILE,t),this.countDomandePerStato(Kt.a.IN_ISTRUTTORIA,t),this.countDomandeSostegno(Wt.a.SOSTEGNO_DISACCOPPIATO,t),this.countDomandeSostegno(Wt.a.SOSTEGNO_SUPERFICI,t),this.countDomandeSostegno(Wt.a.SOSTEGNO_ZOOTECNIA,t)}aggiornaDomandeCounters(t){this.getIstruttoria(Number.parseInt(t.toString()))}countDomandeDU(t){this.istruttoriaCorrente.istruttoria=t;const i=encodeURIComponent(JSON.stringify(this.istruttoriaCorrente.istruttoria));this.istruttoriaService.countDomandeDU(i).subscribe(t=>this.listaRiepilogoStati.map(i=>{i.stato===Kt.a.PROTOCOLLATA&&(i.counter=t)}))}getIstruttoriaCorrente(){return this.istruttoriaCorrente.istruttoria}countDomandePerStato(t,i){const e=encodeURIComponent('{"idDatiSettore": "'+i+'", "statoDomanda": "'+t+'"}');this.istruttoriaService.countDomandeFiltered(e).subscribe(i=>this.addDomandePerStato(t,i))}countDomandeSostegno(t,i){const e=Xt.a.ritornaSostegno(t),o=encodeURIComponent('{ "idDatiSettore": "'+i+'", "statoDomanda": "'+Kt.a.IN_ISTRUTTORIA+'" , "sostegno": "'+e+'"}');this.istruttoriaService.countDomandeFiltered(o).subscribe(i=>this.addDomandePerSostegno(t,i))}avviaProcessoIstruttoria(t){}getListaProcessiAttiviIstruttoria(t){this.istruttoriaService.getListaProcessiAttivi(encodeURIComponent('{ "idIstruttoria": '+t+" }")).subscribe(t=>{this.listaProcessiAttivi=t,null!=this.listaProcessiAttivi?this.listaProcessiAttivi.map(t=>{"RICEV_AGS"===t.idTipoProcesso&&(this.disableAvviaRicevibilita=!0,this.showProgressbarRicevibilita=!0,this.valueProgressbarRicevibilita=t.percentualeAvanzamento,this.disableOkRicevibilita=!0),"AVV_IST"===t.idTipoProcesso&&(this.disableAvviaIstruttoria=!0,this.showProgressbarIstruttoria=!0,this.valueProgressbarIstruttoria=t.percentualeAvanzamento,this.disableOkIstruttoria=!0)}):this.listaProcessiAttivi=new Array})}getPercentualeAvanzamentoProcesso(t){let i=100;return null!=this.listaProcessiAttivi&&this.listaProcessiAttivi.length>0&&this.listaProcessiAttivi.map(e=>{e.idTipoProcesso===t&&(i=e.percentualeAvanzamento)}),i}collassaDivProgressBar(t){"RICEV_AGS"===t?this.showProgressbarRicevibilita=!1:"AVV_IST"===t&&(this.showProgressbarIstruttoria=!1)}goListaDomande(t){this.router.navigate(["./"+Yt.a.elencoDomande],{relativeTo:this.route,queryParams:{stato:t}})}goListaSostegno(t){this.router.navigate(["./"+Yt.a.cruscottoDisaccoppiato],{relativeTo:this.route,queryParams:{stato:t}})}vediTipiSostegno(){this.showSostegno=!this.showSostegno}refresh(){window.location.reload()}disableButtonPerStato(t){let i=!1;return this.listaRiepilogoStati.map(e=>{e.stato===t&&0===e.counter&&(i=!0)}),i}replacerProcessoJson(t,i){if(console.log(typeof i),"numeroDomandeDaElaborare"!==t)return i}aggiornaPremioAggregato(t){let i=new ti;this.istruttoriaService.aggiornaInterventiPremio(this.istruttoriaCorrente.istruttoria.id,t.interventoDuPremi).subscribe(e=>{i.interventoDuPremi=e,this.istruttoriaService.aggiornaDomandaIntegrativa(this.istruttoriaCorrente.istruttoria.id,t.sostegnoDuDi).subscribe(t=>{i.sostegnoDuDi=t,this.premioAggregato=i},t=>this.handleError(t))},t=>this.handleError(t))}aggiornaPremioAggregatoACS(t){let i=new ti;this.istruttoriaService.aggiornaInterventiPremio(this.istruttoriaCorrente.istruttoria.id,t.interventoDuPremi).subscribe(t=>{i.interventoDuPremi=t,this.premioAggregatoACS=i},t=>this.handleError(t))}handleError(t){console.log("Error "+t+" msg "+t.error+" error.code "+t.status)}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(Ht.a),B.Nb(c.a),B.Nb(l.a),B.Nb(c.e),B.Nb(Jt.a))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-dettaglio-istruttoria"]],features:[B.Ab([N.a])],decls:2,vars:1,consts:[[1,"ui-grid-fixed"],[4,"ngIf"],[1,"funzioni-grid","tab-new"],[3,"activeIndex"],["pTemplate","header"],["pTemplate","content"],[1,"h2title"],[1,""],[1,"ui-g"],[1,"ui-g-3"],[3,"riepilogoStatoDomande","dettaglioIstruttoria"],[1,"ui-tabview-title","ng-star-inserted"],[3,"aggiornaDomandeCounters"],[3,"premioAggregato","aggiornaPremioAggregato"],[3,"premioAggregatoACS","aggiornaPremioAggregatoACS"],[1,"ui-g-4"],[1,"ui-g-8"],[3,"value"],[1,"ui-g-12","centerButton"],["pButton","","type","button","label","Ok",1,"ui-button-rounded","ui-button-success",3,"disabled","click"]],template:function(t,i){1&t&&(B.Tb(0,"div",0),B.Mc(1,li,28,11,"div",1),B.Sb()),2&t&&(B.Bb(1),B.mc("ngIf",i.getIstruttoriaCorrente()))},styles:[".centerButton[_ngcontent-%COMP%]{text-align:center}.piu[_ngcontent-%COMP%]{color:green}.meno[_ngcontent-%COMP%], .piu[_ngcontent-%COMP%]{font-size:2em;padding-left:10%;vertical-align:auto}.meno[_ngcontent-%COMP%]{color:#dc143c}.noMargin[_ngcontent-%COMP%]{padding:0!important}.spostaSinistra[_ngcontent-%COMP%]{padding-left:5%!important}.label-font[_ngcontent-%COMP%]{color:#0d5f3d!important}"]}),t})();var bi=e("wS7k"),ui=e("+NW7");class pi{}function gi(t,i){1&t&&(B.Tb(0,"th",14),B.Tb(1,"strong"),B.Oc(2,"Anomalie"),B.Sb(),B.Sb())}function mi(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"th",12),B.Tb(2,"strong"),B.Oc(3,"CUAA"),B.Sb(),B.Sb(),B.Tb(4,"th",13),B.Tb(5,"strong"),B.Oc(6,"Ragione sociale"),B.Sb(),B.Sb(),B.Tb(7,"th",14),B.Tb(8,"strong"),B.Oc(9,"Numero Domanda"),B.Sb(),B.Sb(),B.Tb(10,"th",15),B.Tb(11,"strong"),B.Oc(12,"Modulo"),B.Sb(),B.Sb(),B.Tb(13,"th",15),B.Tb(14,"strong"),B.Oc(15,"Data pres."),B.Sb(),B.Sb(),B.Tb(16,"th",14),B.Tb(17,"strong"),B.Oc(18,"Numero Domanda rett."),B.Sb(),B.Sb(),B.Tb(19,"th",15),B.Tb(20,"strong"),B.Oc(21,"Data pres. iniz."),B.Sb(),B.Sb(),B.Tb(22,"th",16),B.Tb(23,"strong"),B.Oc(24,"Ente"),B.Sb(),B.Sb(),B.Mc(25,gi,3,0,"th",17),B.Sb()),2&t){const t=B.fc(2);B.Bb(25),B.mc("ngIf","IN ISTRUTTORIA"!==t.statoDomande)}}function hi(t,i){1&t&&(B.Tb(0,"td"),B.Ob(1,"div",18),B.Sb())}function Si(t,i){1&t&&(B.Tb(0,"td"),B.Ob(1,"div",19),B.Sb())}function fi(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2),B.Sb(),B.Tb(3,"td"),B.Oc(4),B.Sb(),B.Tb(5,"td"),B.Oc(6),B.Sb(),B.Tb(7,"td"),B.Oc(8),B.Sb(),B.Tb(9,"td"),B.Oc(10),B.gc(11,"date"),B.Sb(),B.Tb(12,"td"),B.Oc(13),B.Sb(),B.Tb(14,"td"),B.Oc(15),B.gc(16,"slice"),B.Sb(),B.Tb(17,"td"),B.Oc(18),B.Sb(),B.Mc(19,hi,2,0,"td",0),B.Mc(20,Si,2,0,"td",0),B.Sb()),2&t){const t=i.$implicit,e=B.fc(2);B.Bb(2),B.Pc(t.infoGeneraliDomanda.cuaaIntestatario),B.Bb(2),B.Pc(t.infoGeneraliDomanda.ragioneSociale),B.Bb(2),B.Pc(t.infoGeneraliDomanda.numeroDomanda),B.Bb(2),B.Pc(t.infoGeneraliDomanda.modulo),B.Bb(2),B.Pc(B.ic(11,10,t.infoGeneraliDomanda.dataPresentazione,"dd/MM/yyyy")),B.Bb(3),B.Pc(t.infoGeneraliDomanda.numeroDomandaRettificata),B.Bb(2),B.Pc(B.jc(16,13,t.infoGeneraliDomanda.dataPresentazioneDomandaRettificata,0,10)),B.Bb(3),B.Pc(t.infoGeneraliDomanda.enteCompilatore),B.Bb(1),B.mc("ngIf","NON RICEVIBILE"==e.statoDomande),B.Bb(1),B.mc("ngIf","RICEVIBILE"==e.statoDomande)}}function Ti(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div"),B.Tb(1,"div",1),B.Tb(2,"div",2),B.Tb(3,"div",3),B.Tb(4,"h4"),B.Oc(5,"ISTRUTTORIA"),B.Sb(),B.Tb(6,"div",4),B.Tb(7,"div",5),B.Tb(8,"div",6),B.Tb(9,"strong"),B.Oc(10,"PAC"),B.Sb(),B.Ob(11,"br"),B.Oc(12),B.Sb(),B.Tb(13,"div",6),B.Tb(14,"strong"),B.Oc(15,"Tipologia Domanda"),B.Sb(),B.Ob(16,"br"),B.Oc(17),B.Sb(),B.Tb(18,"div",6),B.Tb(19,"strong"),B.Oc(20,"Anno di riferimento"),B.Sb(),B.Ob(21,"br"),B.Oc(22),B.Sb(),B.Tb(23,"div",6),B.Tb(24,"strong"),B.Oc(25,"Stato"),B.Sb(),B.Ob(26,"br"),B.Oc(27),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Tb(28,"div",1),B.Tb(29,"div",3),B.Tb(30,"div",7),B.Tb(31,"legend",8),B.Oc(32),B.Sb(),B.Tb(33,"p-table",9),B.bc("onLazyLoad",(function(i){return B.Ec(t),B.fc().changePage(i)})),B.Mc(34,mi,26,1,"ng-template",10),B.Mc(35,fi,21,17,"ng-template",11),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=B.fc();B.Bb(12),B.Qc("",t.getIstruttoriaCorrente().descrizionePac," "),B.Bb(5),B.Qc("",t.getIstruttoriaCorrente().descrizioneDomanda," "),B.Bb(5),B.Qc("",t.getIstruttoriaCorrente().annoRiferimento," "),B.Bb(5),B.Qc("",t.toUpperCase()," "),B.Bb(5),B.Pc(t.titoloPagina),B.Bb(1),B.mc("columns",t.cols)("lazy",!0)("totalRecords",t.paginaDomande.elementiTotali)("value",t.paginaDomande.risultati)("rows",t.elementiPerPagina)("paginator",!0)}}let vi=(()=>{class t{constructor(t,i,e,o){this.istruttoriaCorrente=t,this.route=i,this.elencoDomandeService=e,this.istruttoriaService=o,this.isAlive=!0,this.elementiPerPagina=20,this.numeroPagina=0}ngOnInit(){console.log("Elenco domande init "),this.paginaDomande=new pi,this.subQueryParams=this.route.queryParams.subscribe(t=>{this.statoDomande=t.stato,this.statoDomande===Kt.a.RICEVIBILE?this.titoloPagina="Domande Ricevibili":this.statoDomande===Kt.a.NON_RICEVIBILE?this.titoloPagina="Domande Non Ricevibili":this.statoDomande===Kt.a.IN_ISTRUTTORIA&&(this.titoloPagina="Domande In Istruttoria")}),this.subParams=this.route.paramMap.subscribe(t=>{this.idIstruttoria=Number(t.get("idIstruttoria")),console.log("Elenco domande param "+this.idIstruttoria),null==this.getIstruttoriaCorrente()&&(this.istruttoriaCorrente=new Ht.a,this.istruttoriaService.getIstruttoria(this.idIstruttoria).subscribe(t=>{console.log(t,"next"),console.log(this.istruttoriaCorrente,"istr."),this.istruttoriaCorrente.istruttoria=t}))})}getIstruttoriaCorrente(){return this.istruttoriaCorrente.istruttoria}ngOnDestroy(){this.isAlive=!1,this.subParams.unsubscribe(),this.subQueryParams.unsubscribe()}changePage(t){this.numeroPagina=Math.floor(t.first/this.elementiPerPagina);const i='{ "numeroElementiPagina": '+this.elementiPerPagina+', "pagina": '+this.numeroPagina+"}";this.elencoDomandeService.getPaginaDomandeAttuale(encodeURIComponent('{ "idDatiSettore": '+this.idIstruttoria+', "statoDomanda": "'+this.statoDomande+'"}'),encodeURIComponent(i),encodeURIComponent('[{"proprieta": "cuaaIntestatario" , "ordine": "ASC"}]')).subscribe(t=>{null!=t?this.paginaDomande=t:(this.paginaDomande.risultati=[],this.paginaDomande.elementiTotali=0)})}toUpperCase(){return this.statoDomande===Kt.a.NON_RICEVIBILE?"Non Ricevibile":this.statoDomande===Kt.a.RICEVIBILE?"Ricevibile":this.statoDomande===Kt.a.IN_ISTRUTTORIA?"In Istruttoria":void 0}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(Ht.a),B.Nb(c.a),B.Nb(ui.a),B.Nb(l.a))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-elenco-domande"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"ui-g","ui-fluid"],[1,"tophome","riepilogo"],[1,"ui-grid-fixed"],[1,"subhome"],[1,"ui-g"],[1,"ui-md-3"],[1,"ui-g-12"],[1,"richiesta-title",2,"padding","10px 0"],[3,"columns","lazy","totalRecords","value","rows","paginator","onLazyLoad"],["pTemplate","header","class","header"],["pTemplate","body"],[2,"width","14%"],[2,"width","16%"],[2,"width","7%"],[2,"width","9%"],[2,"width","22%"],["style","width: 7%",4,"ngIf"],[1,"pallinoRosso"],[1,"pallinoVerde"]],template:function(t,i){1&t&&B.Mc(0,Ti,36,11,"div",0),2&t&&B.mc("ngIf",i.getIstruttoriaCorrente())},directives:[o.t,a.q,N.e],pipes:[o.f,o.E],styles:[".pallinoVerde[_ngcontent-%COMP%]{border-radius:50%;background-color:#8dbe26;height:12px;width:12px;margin:auto}.header[_ngcontent-%COMP%]{width:100%}.pallinoRosso[_ngcontent-%COMP%]{border-radius:50%;background-color:#f13c3c;height:12px;width:12px;margin:auto}.colori-per-numeri[_ngcontent-%COMP%]{background:#00985a;line-height:0;color:#fff;font-size:13px;border-radius:30px;display:inline;padding:0 7px}"]}),t})();var Ii=e("1IWC"),Oi=e.n(Ii),Ci=e("F5kq"),Ai=e.n(Ci);class Di{constructor(t,i,e){this.order=t,this.stato=i,this.counter=e}}var Pi=e("M/UB");function Bi(t,i){if(1&t&&(B.Tb(0,"th"),B.Oc(1),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.Qc(" ",t.header," ")}}function Ni(t,i){if(1&t&&(B.Tb(0,"tr"),B.Mc(1,Bi,2,1,"th",10),B.Sb()),2&t){const t=B.fc(2);B.Bb(1),B.mc("ngForOf",t.cols)}}function zi(t,i){if(1&t&&B.Ob(0,"p-treeTableToggler",12),2&t){const t=B.fc(2).$implicit;B.mc("rowNode",t)}}function Mi(t,i){if(1&t&&(B.Tb(0,"td"),B.Mc(1,zi,1,1,"p-treeTableToggler",11),B.Oc(2),B.Sb()),2&t){const t=i.$implicit,e=i.index,o=B.fc().rowData;B.Bb(1),B.mc("ngIf",0==e),B.Bb(1),B.Qc(" ",o[t.field]," ")}}function Ri(t,i){if(1&t&&(B.Tb(0,"tr"),B.Mc(1,Mi,3,2,"td",10),B.Sb()),2&t){const t=B.fc(2);B.Bb(1),B.mc("ngForOf",t.cols)}}function yi(t,i){1&t&&(B.Tb(0,"th"),B.Oc(1,"Stato"),B.Sb(),B.Tb(2,"th"),B.Oc(3,"Numero domande"),B.Sb())}function Ei(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2),B.Sb(),B.Tb(3,"td"),B.Oc(4),B.Sb(),B.Sb()),2&t){const t=i.$implicit;B.Bb(2),B.Pc(t.stato),B.Bb(2),B.Pc(t.counter)}}function Li(t,i){if(1&t&&(B.Tb(0,"div"),B.Tb(1,"div",1),B.Tb(2,"h1"),B.Oc(3,"Istruttoria sostegno disaccoppiato"),B.Sb(),B.Tb(4,"fieldset",2),B.Tb(5,"div",3),B.Tb(6,"div",4),B.Tb(7,"strong"),B.Oc(8," Tipologia Domanda"),B.Sb(),B.Sb(),B.Tb(9,"div",4),B.Oc(10),B.Sb(),B.Tb(11,"div",4),B.Tb(12,"strong"),B.Oc(13," Descrizione Domanda"),B.Sb(),B.Sb(),B.Tb(14,"div",4),B.Oc(15),B.Sb(),B.Tb(16,"div",4),B.Tb(17,"strong"),B.Oc(18,"Anno di riferimento"),B.Sb(),B.Sb(),B.Tb(19,"div",4),B.Oc(20),B.Sb(),B.Tb(21,"div",4),B.Tb(22,"strong"),B.Oc(23,"Stato"),B.Sb(),B.Sb(),B.Tb(24,"div",4),B.Oc(25," In Istruttoria "),B.Sb(),B.Sb(),B.Sb(),B.Tb(26,"fieldset",5),B.Tb(27,"legend",6),B.Oc(28,"Riepilogo interventi"),B.Sb(),B.Tb(29,"p-treeTable",7),B.Mc(30,Ni,2,1,"ng-template",8),B.Mc(31,Ri,2,1,"ng-template",9),B.Sb(),B.Sb(),B.Tb(32,"fieldset",5),B.Tb(33,"legend",6),B.Oc(34,"Stato di lavorazione domande"),B.Sb(),B.Tb(35,"p-table",7),B.Mc(36,yi,4,0,"ng-template",8),B.Mc(37,Ei,5,2,"ng-template",9),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t){const t=B.fc();B.Bb(10),B.Qc(" ",t.getIstruttoriaCorrente().descrizionePac," "),B.Bb(5),B.Qc(" ",t.getIstruttoriaCorrente().descrizioneDomanda," "),B.Bb(5),B.Qc(" ",t.getIstruttoriaCorrente().annoRiferimento," "),B.Bb(9),B.mc("value",t.files),B.Bb(6),B.mc("value",t.listaStatiLavorazione)}}let wi=(()=>{class t{constructor(t,i,e,o,a){this.istruttoriaCorrente=t,this.route=i,this.istruttoriaService=e,this.router=o,this.conf=a,this.checked=!1}ngOnInit(){this.listaStatiLavorazione=new Array,this.listaStatiLavorazione.push(new Di(1,q.a.RICHIESTO,0)),this.listaStatiLavorazione.sort((t,i)=>t.order>i.order?1:t.order<i.order?-1:0),this.subIstruttoria=this.route.params.subscribe(t=>{this.getIstruttoria(t.idIstruttoria)}),this.cols=[{field:"sostegno",header:"SOSTEGNO"},{field:"interventi",header:"INTERVENTI"},{field:"numeroDomande",header:"NUMERO DOMANDE"}],this.numeroDomandeGiovaneAgricoltore=0}getIstruttoria(t){this.istruttoriaService.getIstruttoria(t).subscribe(t=>this.istruttoriaCorrente.istruttoria=t),this.countDomandeGiovaneAgricoltore(t),this.countDomandeSostegno(t),this.countStatoLavorazione()}getIstruttoriaCorrente(){return this.istruttoriaCorrente.istruttoria}addDomandePerSostegno(t){this.listaStatiLavorazione.map(i=>{i.counter=t})}countStatoLavorazione(){const t=encodeURIComponent('{"sostegno": "DISACCOPPIATO" , "statoSostegno":"RICHIESTO"}');this.istruttoriaService.countDomandeFiltered(t).subscribe(t=>this.addDomandePerSostegno(t))}countDomandeSostegno(t){const i=encodeURIComponent('{"idDatiSettore": '+t+',"statoDomanda": "'+Kt.a.IN_ISTRUTTORIA+'","sostegno": "richiestaDisaccoppiato"}');this.istruttoriaService.countDomandeFiltered(i).subscribe(t=>this.initTreeNode(t,this.numeroDomandeGiovaneAgricoltore))}countDomandeGiovaneAgricoltore(t){const i=encodeURIComponent('{"dichiarazione": "GIOVANE_AGRICOLTORE", "idDatiSettore": '+t+"}");this.istruttoriaService.countDomandeFiltered(i).subscribe(t=>this.numeroDomandeGiovaneAgricoltore=t)}initTreeNode(t,i){this.files=[{data:{sostegno:"DISACCOPPIATO",interventi:"",numeroDomande:t},children:[{data:{sostegno:"",interventi:"REGIME PAGAMENTO BASE",numeroDomande:t}},{data:{sostegno:"",interventi:"PAGAMENTO GREENING",numeroDomande:t}},{data:{sostegno:"",interventi:"PAGAMENTO GIOVANE AGRICOLTORE",numeroDomande:i}}]}]}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(Ht.a),B.Nb(c.a),B.Nb(l.a),B.Nb(c.e),B.Nb(Jt.a))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-cruscotto-sostegno"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"card","no-margin"],[1,"border","p-2"],[1,"ui-g"],[1,"ui-g-3"],[1,"border","p-2",2,"margin-top","2%"],[1,"w-auto"],[3,"value"],["pTemplate","header"],["pTemplate","body"],[4,"ngFor","ngForOf"],[3,"rowNode",4,"ngIf"],[3,"rowNode"]],template:function(t,i){1&t&&B.Mc(0,Li,38,5,"div",0),2&t&&B.mc("ngIf",i.getIstruttoriaCorrente())},directives:[o.t,Pi.l,N.e,a.q,o.s,Pi.o],styles:[""]}),t})();var xi=e("R5y+"),_i=e("yhG/"),ki=e("T8KO"),Ui=e("rgW5");let Fi=(()=>{class t{constructor(t,i,e){this.route=t,this.router=i,this.istruttoriaService=e}ngOnInit(){this.menu1=new Array({label:"Calcolo premio disaccoppiato",routerLink:Yt.a.CALCOLO_DISACCOPPIATO},{routerLink:Yt.a.controlliLiquidabilita,label:"Controlli Liquidabilita"},{routerLink:Yt.a.liquidazione,label:"Liquidazione"})}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(c.a),B.Nb(c.e),B.Nb(l.a))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-cruscotto-disaccoppiato"]],decls:11,vars:2,consts:[[1,"ui-g","ui-fluid"],[1,"tophome"],[1,"ui-grid-fixed"],[1,"top-sub-green"],[1,"ui-g-12"],[3,"model"],[1,"disaccoppiato",2,"width","100%"]],template:function(t,i){1&t&&(B.Tb(0,"div",0),B.Tb(1,"div",1),B.Tb(2,"div",2),B.Tb(3,"h4"),B.Oc(4),B.Sb(),B.Sb(),B.Sb(),B.Tb(5,"div",3),B.Tb(6,"div",4),B.Tb(7,"div",2),B.Ob(8,"p-tabMenu",5),B.Sb(),B.Sb(),B.Sb(),B.Tb(9,"div",6),B.Ob(10,"router-outlet"),B.Sb(),B.Sb()),2&t&&(B.Bb(4),B.Pc(i.title),B.Bb(4),B.mc("model",i.menu1))},directives:[Ot.a,c.j],styles:[""]}),t})();var Gi=e("Sy1n");let Vi=(()=>{class t{constructor(){this.domandSettata=new B.n}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=B.Jb({token:t,factory:t.\u0275fac}),t})(),Zi=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=B.Jb({token:t,factory:t.\u0275fac}),t})();var $i=e("lJxs"),Qi=e("8bNH"),qi=e("MM/6"),Hi=e("8ioI"),ji=e("D0mR"),Ki=e("KDHY");function Yi(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div",28),B.Ob(1,"i",29),B.Tb(2,"h3"),B.Oc(3),B.Sb(),B.Tb(4,"p"),B.Oc(5),B.Sb(),B.Sb(),B.Tb(6,"div",1),B.Tb(7,"div",30),B.Tb(8,"button",31),B.bc("click",(function(){return B.Ec(t),B.fc(2).annullaIstruttoria()})),B.Sb(),B.Sb(),B.Tb(9,"div",30),B.Tb(10,"button",32),B.bc("click",(function(){return B.Ec(t),B.fc(2).onRejectAnnullaIstruttoria()})),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=i.$implicit;B.Bb(3),B.Pc(t.summary),B.Bb(2),B.Pc(t.detail)}}const Ji=function(t){return{"active-topmenuitem":t}};function Wi(t,i){if(1&t){const t=B.Ub();B.Tb(0,"li",33,34),B.bc("click",(function(i){B.Ec(t);const e=B.Bc(1);return B.fc(2).app.onTopbarRootItemClick(i,e)})),B.Tb(2,"a",35),B.bc("click",(function(){return B.Ec(t),B.fc(2).showDialog()})),B.Tb(3,"h4"),B.Oc(4),B.gc(5,"slice"),B.Sb(),B.Tb(6,"span",36),B.Oc(7),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=B.Bc(1),i=B.fc(2);B.mc("ngClass",B.sc(9,Ji,i.app.activeTopbarItem===t)),B.Bb(4),B.Sc("",i.numeroDomanda," - ",i.domandaCorrente.infoGeneraliDomanda.cuaaIntestatario," - ",B.jc(5,5,i.domandaCorrente.infoGeneraliDomanda.ragioneSociale,0,60),""),B.Bb(3),B.Pc(i.numeroDomanda)}}function Xi(t,i){if(1&t){const t=B.Ub();B.Tb(0,"p-checkbox",37),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc(2).annulloRitardoPresentazione=i}))("ngModelChange",(function(i){return B.Ec(t),B.fc(2).onCheckboxChange(i)})),B.Sb()}if(2&t){const t=B.fc(2);B.mc("ngModel",t.annulloRitardoPresentazione)}}function te(t,i){if(1&t&&(B.Tb(0,"span"),B.Oc(1),B.Sb()),2&t){const t=B.fc(2);B.Bb(1),B.Qc(" ",t.a4gMessages.attestazioneAnnulloSanzionePerRitardoPresentazione,"")}}const ie=function(){return{"min-width":"750px"}};function ee(t,i){if(1&t){const t=B.Ub();B.Tb(0,"p-fieldset",38),B.Tb(1,"div",39),B.Tb(2,"p-checkbox",37),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc(2).annulloRitardoPresentazione=i}))("ngModelChange",(function(i){return B.Ec(t),B.fc(2).onCheckboxChange(i)})),B.Sb(),B.Sb(),B.Tb(3,"div",40),B.Tb(4,"span"),B.Oc(5," Si attesta che la domanda di modifica presentata in ritardo non introduce nuovi impegni e dunque non si applicano le riduzioni per ritardata presentazione"),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=B.fc(2);B.Kc(B.rc(3,ie)),B.Bb(2),B.mc("ngModel",t.annulloRitardoPresentazione)}}function oe(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div"),B.Tb(1,"div",39),B.Tb(2,"p-checkbox",42),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc(3).datiEredeDto.certificato=i}))("onChange",(function(i){return B.Ec(t),B.fc(3).onCheckboxChangeDatiErede(i)})),B.Sb(),B.Sb(),B.Tb(3,"div",40),B.Tb(4,"span"),B.Oc(5,"Si attesta che i dati dell\u2019erede sono corretti ed \xe8 possibile liquidare la domanda"),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=B.fc(3);B.Bb(2),B.mc("ngModel",t.datiEredeDto.certificato)}}function ae(t,i){if(1&t&&(B.Tb(0,"div"),B.Tb(1,"div",43),B.Tb(2,"span"),B.Oc(3),B.Sb(),B.Sb(),B.Sb()),2&t){const t=B.fc(3);B.Bb(3),B.Qc(" ",t.messaggioErroreDatiErede,"")}}function ne(t,i){if(1&t&&(B.Tb(0,"p-fieldset",41),B.Tb(1,"div",20),B.Tb(2,"div",21),B.Tb(3,"strong"),B.Oc(4,"Nominativo"),B.Sb(),B.Sb(),B.Tb(5,"div",22),B.Oc(6),B.Sb(),B.Tb(7,"div",21),B.Tb(8,"strong"),B.Oc(9,"Codice fiscale"),B.Sb(),B.Sb(),B.Tb(10,"div",22),B.Oc(11),B.Sb(),B.Tb(12,"div",21),B.Tb(13,"strong"),B.Oc(14,"Residenza"),B.Sb(),B.Sb(),B.Tb(15,"div",22),B.Oc(16),B.Sb(),B.Tb(17,"div",21),B.Tb(18,"strong"),B.Oc(19,"IBAN"),B.Sb(),B.Sb(),B.Tb(20,"div",22),B.Oc(21),B.Sb(),B.Tb(22,"div",21),B.Tb(23,"strong"),B.Oc(24,"Dati di nascita"),B.Sb(),B.Sb(),B.Tb(25,"div",22),B.Oc(26),B.gc(27,"date"),B.Sb(),B.Tb(28,"div",21),B.Tb(29,"strong"),B.Oc(30,"Sesso"),B.Sb(),B.Sb(),B.Tb(31,"div",22),B.Oc(32),B.Sb(),B.Mc(33,oe,6,1,"div",0),B.Mc(34,ae,4,1,"div",0),B.Sb(),B.Sb()),2&t){const t=B.fc(2);B.Kc(B.rc(19,ie)),B.Bb(6),B.Rc(" ",t.datiEredeDto.nome," ",t.datiEredeDto.cognome," "),B.Bb(5),B.Qc(" ",t.datiEredeDto.codiceFiscale," "),B.Bb(5),B.Tc(" ",t.datiEredeDto.indirizzoResidenza," ",t.datiEredeDto.codiceIstat," ",t.datiEredeDto.capResidenza," ",t.datiEredeDto.provResidenza," "),B.Bb(5),B.Qc(" ",t.datiEredeDto.iban," "),B.Bb(5),B.Sc(" ",B.ic(27,16,t.datiEredeDto.dtNascita,"dd/MM/yyyy")," ",t.datiEredeDto.codIstatNascita," ",t.datiEredeDto.provNascita," "),B.Bb(6),B.Qc(" ",t.datiEredeDto.sesso," "),B.Bb(1),B.mc("ngIf",t.datiErediOk),B.Bb(1),B.mc("ngIf",!t.datiErediOk)}}const re=function(t){return{"topbar-menu-active":t}},ce=function(){return{"max-width":"800px"}},se=function(){return{marginTop:"70px"}};function le(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div"),B.Tb(1,"div",1),B.Tb(2,"p-toast",2),B.Mc(3,Yi,11,2,"ng-template",3),B.Sb(),B.Tb(4,"div",4),B.Tb(5,"div",5),B.Tb(6,"div",6),B.Tb(7,"div",7),B.Tb(8,"ul",8),B.bc("click",(function(i){return B.Ec(t),B.fc().app.onTopbarMenuClick(i)})),B.Tb(9,"li",9),B.Tb(10,"h4"),B.Oc(11),B.Sb(),B.Sb(),B.Tb(12,"li"),B.Tb(13,"h4"),B.Oc(14,"/"),B.Sb(),B.Sb(),B.Mc(15,Wi,8,11,"li",10),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Tb(16,"div",11),B.Tb(17,"div",12),B.Tb(18,"div",5),B.Ob(19,"p-tabMenu",13),B.Sb(),B.Sb(),B.Sb(),B.Tb(20,"div",14),B.Ob(21,"router-outlet"),B.Sb(),B.Sb(),B.Tb(22,"p-overlayPanel",15,16),B.Tb(24,"ul",17),B.Tb(25,"strong"),B.Oc(26,"CUAA /"),B.Sb(),B.Oc(27),B.Ob(28,"br"),B.Tb(29,"strong"),B.Oc(30,"Ragione Sociale /"),B.Sb(),B.Oc(31),B.Ob(32,"br"),B.Tb(33,"strong"),B.Oc(34,"Id /"),B.Sb(),B.Oc(35),B.Ob(36,"br"),B.Tb(37,"strong"),B.Oc(38,"Numero /"),B.Sb(),B.Oc(39),B.Ob(40,"br"),B.Tb(41,"strong"),B.Oc(42,"Modulo /"),B.Sb(),B.Oc(43),B.Ob(44,"br"),B.Tb(45,"strong"),B.Oc(46,"Data pres. /"),B.Sb(),B.Oc(47),B.Ob(48,"br"),B.Tb(49,"strong"),B.Oc(50,"Ente Comp. /"),B.Sb(),B.Oc(51),B.Ob(52,"br"),B.Tb(53,"strong"),B.Oc(54,"Stato /"),B.Sb(),B.Oc(55),B.Ob(56,"br"),B.Mc(57,Xi,1,1,"p-checkbox",18),B.Mc(58,te,2,1,"span",0),B.Sb(),B.Sb(),B.Tb(59,"p-dialog",19),B.bc("visibleChange",(function(i){return B.Ec(t),B.fc().displayDetails=i})),B.Tb(60,"p-header"),B.Tb(61,"strong"),B.Oc(62,"INFO domanda"),B.Sb(),B.Sb(),B.Tb(63,"div",20),B.Tb(64,"div",21),B.Tb(65,"strong"),B.Oc(66,"CUAA"),B.Sb(),B.Sb(),B.Tb(67,"div",22),B.Oc(68),B.Sb(),B.Tb(69,"div",21),B.Tb(70,"strong"),B.Oc(71,"Ragione Sociale"),B.Sb(),B.Sb(),B.Tb(72,"div",22),B.Oc(73),B.Sb(),B.Tb(74,"div",21),B.Tb(75,"strong"),B.Oc(76,"Id"),B.Sb(),B.Sb(),B.Tb(77,"div",22),B.Oc(78),B.Sb(),B.Tb(79,"div",21),B.Tb(80,"strong"),B.Oc(81,"Numero"),B.Sb(),B.Sb(),B.Tb(82,"div",22),B.Oc(83),B.Sb(),B.Tb(84,"div",21),B.Tb(85,"strong"),B.Oc(86,"Modulo"),B.Sb(),B.Sb(),B.Tb(87,"div",22),B.Oc(88),B.Sb(),B.Tb(89,"div",21),B.Tb(90,"strong"),B.Oc(91,"Data pres."),B.Sb(),B.Sb(),B.Tb(92,"div",22),B.Oc(93),B.Sb(),B.Tb(94,"div",21),B.Tb(95,"strong"),B.Oc(96,"Ente Comp."),B.Sb(),B.Sb(),B.Tb(97,"div",22),B.Oc(98),B.Sb(),B.Tb(99,"div",21),B.Tb(100,"strong"),B.Oc(101,"Stato"),B.Sb(),B.Sb(),B.Tb(102,"div",22),B.Oc(103),B.Sb(),B.Tb(104,"div",23),B.Tb(105,"div",12),B.Tb(106,"p-button",24),B.bc("debounceClick",(function(){return B.Ec(t),B.fc().confermaAnnullamento()})),B.Sb(),B.Sb(),B.Sb(),B.Mc(107,ee,6,4,"p-fieldset",25),B.Mc(108,ne,35,20,"p-fieldset",26),B.Sb(),B.Ob(109,"p-toast",27),B.Sb(),B.Sb()}if(2&t){const t=B.fc();B.Bb(2),B.mc("modal",!0)("baseZIndex",9999998),B.Bb(6),B.mc("ngClass",B.sc(39,re,t.app.topbarMenuActive)),B.Bb(3),B.Pc(t.title),B.Bb(4),B.mc("ngIf",t.numeroDomanda),B.Bb(4),B.mc("model",t.menu1),B.Bb(8),B.Qc(" ",t.domandaCorrente.infoGeneraliDomanda.cuaaIntestatario,""),B.Bb(4),B.Qc(" ",t.domandaCorrente.infoGeneraliDomanda.ragioneSociale,""),B.Bb(4),B.Qc(" ",t.domandaCorrente.id,""),B.Bb(4),B.Qc(" ",t.domandaCorrente.infoGeneraliDomanda.numeroDomanda,""),B.Bb(4),B.Qc(" ",t.domandaCorrente.infoGeneraliDomanda.modulo,""),B.Bb(4),B.Qc(" ",t.domandaCorrente.infoGeneraliDomanda.dataPresentazione,""),B.Bb(4),B.Qc(" ",t.domandaCorrente.infoGeneraliDomanda.enteCompilatore,""),B.Bb(4),B.Qc(" ",t.domandaCorrente.infoGeneraliDomanda.stato,""),B.Bb(2),B.mc("ngIf",t.showCheckboxAnnulloRitardoPresentazione),B.Bb(1),B.mc("ngIf",t.showCheckboxAnnulloRitardoPresentazione),B.Bb(1),B.mc("visible",t.displayDetails)("modal",!0)("responsive",!0)("contentStyle",B.rc(41,ce))("minY",70)("maximizable",!1)("baseZIndex",999998),B.Bb(9),B.Qc(" ",t.domandaCorrente.infoGeneraliDomanda.cuaaIntestatario," "),B.Bb(5),B.Qc(" ",t.domandaCorrente.infoGeneraliDomanda.ragioneSociale," "),B.Bb(5),B.Qc(" ",t.domandaCorrente.id," "),B.Bb(5),B.Qc(" ",t.domandaCorrente.infoGeneraliDomanda.numeroDomanda," "),B.Bb(5),B.Qc(" ",t.domandaCorrente.infoGeneraliDomanda.modulo," "),B.Bb(5),B.Qc(" ",t.domandaCorrente.infoGeneraliDomanda.dataPresentazione," "),B.Bb(5),B.Qc(" ",t.domandaCorrente.infoGeneraliDomanda.enteCompilatore," "),B.Bb(5),B.Qc(" ",t.domandaCorrente.infoGeneraliDomanda.stato," "),B.Bb(1),B.mc("a4gHasPermission","MODIFICABILE")("annoCampagna",t.getIstruttoriaCorrente().annoRiferimento)("statoSostegno",t.domandaCorrente.statoSostegno)("tipoIstruttoria",t.getIstruttoriaCorrente().tipoIstruttoria),B.Bb(3),B.mc("ngIf",t.showCheckboxAnnulloRitardoPresentazione),B.Bb(1),B.mc("ngIf",t.titolareDeceduto),B.Bb(1),B.Kc(B.rc(42,se))}}let de=(()=>{class t{constructor(t,i,e,o,a,n,r,c){this.route=t,this.app=i,this.istruttoriaService=e,this.sharedService=o,this.domandaIstruttoriacorrente=a,this.messages=n,this.router=r,this.istruttoria=c,this.isRTL=!0,this.annulloRitardoPresentazione=!1,this.showCheckboxAnnulloRitardoPresentazione=!1,this.titolareDeceduto=!1,this.displayDetails=!1,this.a4gMessages=b.a,this.datiErediOk=!1}ngOnInit(){this.domandaCorrente=this.route.snapshot.data.domandaIstruttoria,this.datiIstruttoriaCorrente=this.route.snapshot.data.istruttoria,this.infoDomanda=this.route.snapshot.data.infoDomanda;const t=this.route.snapshot.paramMap.get("idIstruttoria");switch(this.istruttoriaService.getIstruttoria(+t).toPromise().then(t=>{this.istruttoriaCorrente=t,this.istruttoria.istruttoria=t;let i=null;t.dtScadenzaDomande&&(i=t.dtScadenzaDomande),String(this.infoDomanda.codModuloDomanda).includes("BPS_ART_15")&&this.domandaCorrente.infoGeneraliDomanda.dataPresentazione>i&&(this.showCheckboxAnnulloRitardoPresentazione=!0,this.annulloRitardoPresentazione=!!this.infoDomanda.annulloRiduzione)}),this.infoDomanda.lavorazioneSostegno.forEach(t=>{t.tipoSostegno===g.a.ZOOTECNIA&&(this.labelStatoZootecnia=" - "+t.statoSotegno.replace(/_/g," ")),t.tipoSostegno===g.a.SUPERFICIE&&(this.labelStatoSuperficie=" - "+t.statoSotegno.replace(/_/g," "))}),this.domandaIstruttoriacorrente.domanda=this.domandaCorrente,this.sharedService.domandSettata.emit(this.domandaIstruttoriacorrente.domanda),this.idDomandaCorrente=this.domandaCorrente.id.toString(),this.numeroDomanda=this.domandaCorrente.infoGeneraliDomanda.numeroDomanda,this.label1=this.domandaCorrente.statoSostegno,this.domandaCorrente.statoSostegno){case"RICHIESTO":this.label1="SOSTEGNO DISACCOPPIATO - RICHIESTO";break;case"CONTROLLI_CALCOLO_OK":this.label1="SOSTEGNO DISACCOPPIATO - CONTROLLI SUPERATI";break;case"CONTROLLI_CALCOLO_KO":this.label1="SOSTEGNO DISACCOPPIATO - CONTROLLI NON SUPERATI";break;case"NON_AMMISSIBILE":this.label1="SOSTEGNO DISACCOPPIATO - NON AMMISSIBILE";break;case"LIQUIDABILE":this.label1="SOSTEGNO DISACCOPPIATO - LIQUIDABILE";break;case"CONTROLLI_LIQUIDABILE_KO":this.label1="SOSTEGNO DISACCOPPIATO - NON LIQUIDABILE";break;case"PAGAMENTO_NON_AUTORIZZATO":this.label1="SOSTEGNO DISACCOPPIATO - PAGAMENTO NON AUTORIZZATO";break;case"NON_LIQUIDABILE":this.label1="SOSTEGNO DISACCOPPIATO - NON LIQUIDABILE";break;case"PAGAMENTO_AUTORIZZATO":this.label1="SOSTEGNO DISACCOPPIATO - PAGAMENTO AUTORIZZATO";break;case"CONTROLLI_INTERSOSTEGNO_OK":this.label1="SOSTEGNO DISACCOPPIATO - CONTROLLI INTERSOSTEGNO SUPERATI";break;case"INTEGRATO":this.label1="SOSTEGNO DISACCOPPIATO - INTEGRATO"}this.title=this.datiIstruttoriaCorrente.annoRiferimento+" - "+this.datiIstruttoriaCorrente.tipoIstruttoria;const i="Sostegno Accoppiato Zootecnia "+this.labelStatoZootecnia,e="Sostegno Accoppiato Superfici "+this.labelStatoSuperficie;!0===this.domandaCorrente.richieste.sintesiRichieste.richiestaDisaccoppiato&&!0===this.domandaCorrente.richieste.sintesiRichieste.richiestaSuperfici&&!0===this.domandaCorrente.richieste.sintesiRichieste.richiestaZootecnia?this.menu1=new Array({routerLink:Yt.a.disaccoppiatoControlliSuperati,label:this.label1},{routerLink:Yt.a.accoppiatoZootecniaRichiesto,label:i},{routerLink:Yt.a.accoppiatoSuperficiRichiesto,label:e}):!0===this.domandaCorrente.richieste.sintesiRichieste.richiestaDisaccoppiato&&!1===this.domandaCorrente.richieste.sintesiRichieste.richiestaSuperfici&&!1===this.domandaCorrente.richieste.sintesiRichieste.richiestaZootecnia?this.menu1=new Array({routerLink:Yt.a.disaccoppiatoControlliSuperati,label:this.label1}):!0===this.domandaCorrente.richieste.sintesiRichieste.richiestaDisaccoppiato&&!0===this.domandaCorrente.richieste.sintesiRichieste.richiestaSuperfici&&!1===this.domandaCorrente.richieste.sintesiRichieste.richiestaZootecnia?this.menu1=new Array({routerLink:Yt.a.disaccoppiatoControlliSuperati,label:this.label1},{routerLink:Yt.a.accoppiatoSuperficiRichiesto,label:e}):!0===this.domandaCorrente.richieste.sintesiRichieste.richiestaDisaccoppiato&&!1===this.domandaCorrente.richieste.sintesiRichieste.richiestaSuperfici&&!0===this.domandaCorrente.richieste.sintesiRichieste.richiestaZootecnia?this.menu1=new Array({routerLink:Yt.a.disaccoppiatoControlliSuperati,label:this.label1},{routerLink:Yt.a.accoppiatoZootecniaRichiesto,label:i}):!1===this.domandaCorrente.richieste.sintesiRichieste.richiestaDisaccoppiato&&!0===this.domandaCorrente.richieste.sintesiRichieste.richiestaSuperfici&&!1===this.domandaCorrente.richieste.sintesiRichieste.richiestaZootecnia&&(this.menu1=new Array({routerLink:Yt.a.accoppiatoZootecniaRichiesto,label:i},{routerLink:Yt.a.accoppiatoSuperficiRichiesto,label:e}))}showDialog(){this.displayDetails=!0,this.istruttoriaService.getInfoDomanda(+this.route.snapshot.paramMap.get("idDomanda"),["EREDE"]).pipe(Object(m.a)(t=>t.erede?(this.titolareDeceduto=!0,Object(V.a)(t.erede)):this.istruttoriaService.getInfoLiquidabilita(this.infoDomanda.numeroDomanda).pipe(Object($i.a)(t=>!this.a4gMessages.isUndefinedOrNull(t)&&t.length>0?(this.titolareDeceduto=t[0].infoLiquidabilita.titolareDeceduto,t[0].infoLiquidabilita.datiErede):null)))).subscribe(t=>{this.titolareDeceduto&&(this.datiEredeDto=this.creaDatiErediDto(t),this.datiEredeDto&&this.datiEredeDto.cognome&&this.datiEredeDto.nome&&this.datiEredeDto.codiceFiscale&&this.datiEredeDto.iban&&this.datiEredeDto.indirizzoResidenza&&this.datiEredeDto.provResidenza&&this.datiEredeDto.codiceIstat?this.datiErediOk=!0:(this.datiErediOk=!1,this.messaggioErroreDatiErede="Non sono presenti tutti i dati dell\u2019erede",this.messages.add(b.a.getToast("tst",b.b.error,this.messaggioErroreDatiErede))))},t=>{console.log("Error",t),b.a.handleError(this.messages,t,b.a.SERVIZIO_NON_DISPONIBILE)})}onCheckboxChange(t){this.infoDomanda.annulloRiduzione=t,this.istruttoriaService.aggiornaDomanda(this.infoDomanda).subscribe()}onCheckboxChangeDatiErede(t){this.datiEredeDto.certificato=t,this.datiEredeDto.id?(this.datiEredeDto.certificato=t,this.istruttoriaService.aggiornaDatiErede(this.domandaCorrente.id,this.datiEredeDto).subscribe()):this.istruttoriaService.creaDatiErede(this.domandaCorrente.id,this.datiEredeDto).subscribe(t=>{this.datiEredeDto.id=t.id})}creaDatiErediDto(t){const i=new Qi.a;return t?(Object.keys(t).forEach(e=>i[e]=t[e]),i.codIstatNascita||(i.codIstatNascita=t.codiceIstatNascita),i):i}confermaAnnullamento(){this.messages.add(b.a.getToast("warn-annullaIstruttoria",b.b.warn,b.a.CONFERMA_ANNULLA_ISTRUTTORIA))}onRejectAnnullaIstruttoria(){this.messages.clear("warn-annullaIstruttoria")}annullaIstruttoria(){this.istruttoriaService.annullaIstruttoria(this.domandaCorrente.id).subscribe(t=>{this.router.navigate(["./"],{relativeTo:this.route.parent})},t=>{console.log(t.error),this.messages.clear("warn-annullaIstruttoria"),this.messages.add(b.a.getToast("tst",b.b.error,"ANNULLA_ISTRUTTORIA_DOMANDA_IN_PAGAMENTO"==t.error.message?b.a.ANNULLA_ISTRUTTORIA_DOMANDA_IN_PAGAMENTO:b.a.ANNULLA_ISTRUTTORIA_KO))})}getIstruttoriaCorrente(){return this.istruttoriaCorrente}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(c.a),B.Nb(Gi.a),B.Nb(l.a),B.Nb(Vi),B.Nb(Zi),B.Nb(N.d),B.Nb(c.e),B.Nb(Ht.a))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-dettaglio-domanda-old"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"ui-g","ui-fluid"],["position","center","key","warn-annullaIstruttoria",3,"modal","baseZIndex"],["pTemplate","messageService"],[1,"tophome"],[1,"ui-grid-fixed"],[1,"layout-topbar",2,"padding","0px","height","auto"],[1,"layout-topbar-menu-wrapper"],[1,"topbar-menu","fadeInDown",3,"ngClass","click"],[2,"margin","0px"],[3,"ngClass","click",4,"ngIf"],[1,"top-sub-green"],[1,"ui-g-12"],[3,"model"],[1,"disaccoppiato",2,"width","100%"],["baseZIndex","10000"],["op",""],[2,"color","#333","padding","15px","width","700px !important"],["binary","true",3,"ngModel","ngModelChange",4,"ngIf"],[3,"visible","modal","responsive","contentStyle","minY","maximizable","baseZIndex","visibleChange"],[1,"ui-g"],[1,"ui-g-2"],[1,"ui-g-4"],[1,"ui-g",3,"a4gHasPermission","annoCampagna","statoSostegno","tipoIstruttoria"],["appDebounceClick","","label","Annulla Istruttoria",3,"debounceClick"],["legend","Dichiarazione riduzione annullamento sanzione",3,"style",4,"ngIf"],["legend","Dati di istruttoria relativi all'erede di un titolare deceduto",3,"style",4,"ngIf"],["key","tst"],[2,"text-align","center"],[1,"pi","pi-exclamation-triangle",2,"font-size","3em"],[1,"ui-g-6"],["type","button","pButton","","label","Si",1,"ui-button-success",3,"click"],["type","button","pButton","","label","No",1,"ui-button-secondary",3,"click"],[3,"ngClass","click"],["idDomanda",""],["href","#",2,"color","#0e5f3f",3,"click"],[1,"topbar-item-name"],["binary","true",3,"ngModel","ngModelChange"],["legend","Dichiarazione riduzione annullamento sanzione"],[1,"ui-g-1"],[1,"ui-g-11"],["legend","Dati di istruttoria relativi all'erede di un titolare deceduto"],["binary","true",3,"ngModel","ngModelChange","onChange"],[1,"ui-g-12","error"]],template:function(t,i){1&t&&B.Mc(0,le,110,43,"div",0),2&t&&B.mc("ngIf",i.istruttoriaCorrente)},directives:[o.t,M.a,N.e,o.q,Ot.a,c.j,qi.a,x.a,N.c,Hi.a,L.a,ji.a,L.b,xi.a,y.s,y.v,Ki.a],pipes:[o.E,o.f],styles:["[_nghost-%COMP%] .ui-dialog .ui-dialog-titlebar{background-color:#f6f6f7}.error[_ngcontent-%COMP%]{color:#d8000c;background-color:#ffbaba}"]}),t})();var be=e("4AYi"),ue=e("B4vn");const pe=function(t){return{width:t}};function ge(t,i){1&t&&B.Ob(0,"th",13),2&t&&B.mc("ngStyle",B.sc(1,pe,i.$implicit.width))}function me(t,i){if(1&t&&(B.Tb(0,"tr",11),B.Mc(1,ge,1,3,"th",12),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.mc("ngForOf",t)}}function he(t,i){if(1&t&&B.Ob(0,"p-treeTableToggler",18),2&t){const t=B.fc(2).$implicit;B.mc("rowNode",t)}}function Se(t,i){if(1&t&&(B.Tb(0,"a"),B.Oc(1),B.Sb()),2&t){const t=B.fc().$implicit,i=B.fc().rowData;B.Bb(1),B.Pc(i[t.field])}}function fe(t,i){if(1&t&&(B.Tb(0,"strong"),B.Oc(1),B.Sb()),2&t){const t=B.fc().$implicit,i=B.fc().rowData;B.Bb(1),B.Pc(i[t.field])}}function Te(t,i){if(1&t&&(B.Tb(0,"td"),B.Mc(1,he,1,1,"p-treeTableToggler",15),B.Tb(2,"span",16),B.Mc(3,Se,2,1,"a",17),B.Mc(4,fe,2,1,"strong",17),B.Sb(),B.Sb()),2&t){const t=i.index,e=B.fc().rowData;B.Bb(1),B.mc("ngIf",0==t),B.Bb(2),B.mc("ngIf",0==e.bold),B.Bb(1),B.mc("ngIf",1==e.bold)}}function ve(t,i){if(1&t&&(B.Tb(0,"tr"),B.Mc(1,Te,5,3,"td",14),B.Sb()),2&t){const t=i.columns;B.Bb(1),B.mc("ngForOf",t)}}function Ie(t,i){if(1&t&&(B.Tb(0,"p-treeTable",8),B.Mc(1,me,2,1,"ng-template",9),B.Mc(2,ve,2,1,"ng-template",10),B.Sb()),2&t){const t=B.fc();B.mc("value",t.dataSintesi)("columns",t.cols)}}function Oe(t,i){if(1&t&&(B.Tb(0,"strong"),B.Oc(1),B.Sb()),2&t){const t=B.fc(3).$implicit;B.Bb(1),B.Pc(t.descrizione2)}}function Ce(t,i){if(1&t&&(B.Tb(0,"th",26),B.Mc(1,Oe,2,1,"strong",17),B.Sb()),2&t){const t=i.$implicit;B.mc("ngStyle",B.sc(2,pe,t.width)),B.Bb(1),B.mc("ngIf",t.header)}}function Ae(t,i){if(1&t&&(B.Tb(0,"tr"),B.Mc(1,Ce,2,4,"th",25),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.mc("ngForOf",t)}}function De(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2),B.Sb(),B.Tb(3,"td"),B.Oc(4),B.Sb(),B.Sb()),2&t){const t=i.$implicit;B.Bb(2),B.Pc(t.controlloDescrizione),B.Bb(2),B.Pc(t.valore)}}function Pe(t,i){1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2," Controllo non eseguito "),B.Sb(),B.Sb()),2&t&&(B.Bb(1),B.Cb("colspan",10))}function Be(t,i){if(1&t&&(B.Tb(0,"div",22),B.Tb(1,"p-table",23),B.gc(2,"tipoFilter"),B.gc(3,"tipoFilter"),B.Mc(4,Ae,2,1,"ng-template",9),B.Mc(5,De,5,2,"ng-template",10),B.Mc(6,Pe,3,1,"ng-template",24),B.Sb(),B.Sb()),2&t){const t=i.$implicit,e=B.fc(3).$implicit,o=B.fc(2);B.Bb(1),B.mc("columns",o.cols)("value",B.jc(2,5,B.jc(3,9,o.controlli,"codice1",e.codice1),"codice2",t.codice2))("autoLayout",!0)("paginator",!1)("responsive",!0)}}function Ne(t,i){if(1&t&&(B.Mc(0,Be,7,13,"ng-template",20),B.gc(1,"tipoFilter")),2&t){const t=B.fc(2).$implicit,i=B.fc(2);B.mc("ngForOf",B.jc(1,1,i.tabelle,"codice1",t.codice1))}}function ze(t,i){if(1&t&&(B.Tb(0,"div"),B.Tb(1,"p-accordion"),B.Tb(2,"p-accordionTab",21),B.Mc(3,Ne,2,5,void 0,17),B.Sb(),B.Sb(),B.Sb()),2&t){const t=B.fc().$implicit,i=B.fc(2);B.Bb(2),B.oc("header","Calcolo ",t.descrizione1,""),B.mc("selected",!1),B.Bb(1),B.mc("ngIf",i.tabelle)}}function Me(t,i){1&t&&B.Mc(0,ze,4,3,"div",17),2&t&&B.mc("ngIf","Anomalie mantenimento"!=i.$implicit.descrizione1)}function Re(t,i){if(1&t&&(B.Tb(0,"div",19),B.Mc(1,Me,1,1,"ng-template",20),B.Sb()),2&t){const t=B.fc();B.Bb(1),B.mc("ngForOf",t.tipiControllo)}}let ye=(()=>{class t{constructor(t,i,e){this.route=t,this.sharedService=i,this.domandaIstruttoriacorrente=e,this.sintesi="SINTESI",this._serviceSubscription=this.sharedService.domandSettata.subscribe(t=>{this.caricaDatiDettaglio()})}ngOnInit(){this.cols=[{field:"controlloDescrizione",header:"b",width:"70%"},{field:"valore",header:"ss",width:"30%"}],null!=this.domandaIstruttoriacorrente.domanda&&null==this.domandaCorrenteDettaglio&&this.caricaDatiDettaglio()}controlloToTreeNode(t,i){return t.bold=i?1:0,{label:t.controllo.toString(),data:t,children:i}}caricaDatiDettaglio(){this.domandaCorrenteDettaglio=this.domandaIstruttoriacorrente.domanda,this.controlli=this.domandaCorrenteDettaglio.datiDomanda.sort((t,i)=>t.ordineControllo<i.ordineControllo?-1:1).sort((t,i)=>t.ordine1<i.ordine1?-1:1);const t=this.controlli.filter(t=>t.codice1!==this.sintesi).map(t=>{let i=new be.a;return i.codice1=t.codice1,i.descrizione1=t.descrizione1,i.bold=0,i});this.tipiControllo=this.mapDistinct(t);const i=this.controlli.map(t=>{let i=new be.a;return i.codice1=t.codice1,i.descrizione1=t.descrizione1,i.bold=0,i});this.tabelle=this.mapDistinct(i);const e=this.controlli.filter(t=>t.codice1===this.sintesi&&t.codice2===t.controllo).map(t=>this.controlloToTreeNode(t,this.controlli.filter(i=>i.codice1===this.sintesi&&i.codice2===t.controllo&&i.controllo!==t.controllo).map(t=>this.controlloToTreeNode(t,null))));this.dataSintesi=e}mapDistinct(t){const i=new Array;return t.forEach(t=>{let e=!1;i.forEach(i=>{t.codice2===i.codice2&&t.codice1===i.codice1&&(e=!0)}),e||i.push(t)}),console.log("def "+i.length),console.log(i),i}consume(){this.cleanup()}cleanup(){this._serviceSubscription.unsubscribe()}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(c.a),B.Nb(Vi),B.Nb(Zi))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-dati-domanda"]],decls:17,vars:2,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],[1,"ui-g-4"],[1,"table-responsive"],[3,"value","columns",4,"ngIf"],[1,"ui-g-8"],["class","accordion-wrapper dettaglioaccordionmultiple",4,"ngIf"],[3,"value","columns"],["pTemplate","header"],["pTemplate","body"],[2,"display","none"],["height","0","span","0",3,"ngStyle",4,"ngFor","ngForOf"],["height","0","span","0",3,"ngStyle"],[4,"ngFor","ngForOf"],[3,"rowNode",4,"ngIf"],[2,"vertical-align","middle"],[4,"ngIf"],[3,"rowNode"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],["ngFor","",3,"ngForOf"],[3,"header","selected"],[1,"table-responsive",2,"margin-top","30px"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","emptymessage"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"]],template:function(t,i){1&t&&(B.Tb(0,"div",0),B.Tb(1,"div",1),B.Tb(2,"div",2),B.Tb(3,"div",3),B.Tb(4,"div"),B.Tb(5,"h3"),B.Tb(6,"span"),B.Oc(7,"Sintesi Calcolo"),B.Sb(),B.Sb(),B.Sb(),B.Tb(8,"div",4),B.Mc(9,Ie,3,2,"p-treeTable",5),B.Sb(),B.Sb(),B.Tb(10,"div",6),B.Tb(11,"div"),B.Tb(12,"div"),B.Tb(13,"h3"),B.Tb(14,"span"),B.Oc(15,"Dettaglio Calcolo cia"),B.Sb(),B.Sb(),B.Sb(),B.Mc(16,Re,2,1,"div",7),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t&&(B.Bb(9),B.mc("ngIf",i.dataSintesi),B.Bb(7),B.mc("ngIf",i.tipiControllo))},directives:[o.t,Pi.l,N.e,o.s,o.w,Pi.o,_i.a,_i.c,a.q],pipes:[ue.b],styles:[""]}),t})();const Ee=function(t){return{width:t}};function Le(t,i){1&t&&B.Ob(0,"th",9),2&t&&B.mc("ngStyle",B.sc(1,Ee,i.$implicit.width))}function we(t,i){if(1&t&&(B.Tb(0,"tr"),B.Mc(1,Le,1,3,"th",8),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.mc("ngForOf",t)}}function xe(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2),B.Sb(),B.Tb(3,"td",10),B.Oc(4),B.Sb(),B.Sb()),2&t){const t=i.$implicit;B.Bb(2),B.Pc(t.mkey),B.Bb(2),B.Pc(t.mvalue)}}let _e=(()=>{class t{constructor(t,i,e,o,a){this.route=t,this.istruttoriaService=i,this.messageService=e,this.domandaIstruttoriacorrente=o,this.sharedService=a,this.dati=new Array,this._serviceSubscription=this.sharedService.domandSettata.subscribe(t=>{console.log("sharedService subscribe"),console.log(t),this.domandaCorrenteDettaglio=t,this.dati=this.domandaCorrenteDettaglio.informazioniDomanda})}ngOnInit(){null!=this.domandaIstruttoriacorrente.domanda&&null==this.domandaCorrenteDettaglio&&(this.domandaCorrenteDettaglio=this.domandaIstruttoriacorrente.domanda,this.dati=this.domandaCorrenteDettaglio.informazioniDomanda),this.cols=[{field:"a",header:"",width:"80%"},{field:"b",header:"",width:"20%"}]}consume(){this.cleanup()}cleanup(){this._serviceSubscription.unsubscribe()}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(c.a),B.Nb(l.a),B.Nb(N.d),B.Nb(Zi),B.Nb(Vi))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-informazioni-domanda"]],decls:11,vars:5,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],[1,"dettaglioaccordion",2,"background","#fff"],[1,"table-responsive","nobrd",2,"margin-top","30px"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","header"],["pTemplate","body"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"text-right",2,"font-weight","bold"]],template:function(t,i){1&t&&(B.Tb(0,"div",0),B.Tb(1,"div",1),B.Tb(2,"div",2),B.Tb(3,"div",3),B.Tb(4,"h3"),B.Tb(5,"span"),B.Oc(6,"Indicatore"),B.Sb(),B.Sb(),B.Tb(7,"div",4),B.Tb(8,"p-table",5),B.Mc(9,we,2,1,"ng-template",6),B.Mc(10,xe,5,2,"ng-template",7),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t&&(B.Bb(8),B.mc("columns",i.cols)("value",i.dati)("autoLayout",!0)("paginator",!1)("responsive",!0))},directives:[a.q,N.e,o.s,o.w],styles:[""]}),t})();class ke{}class Ue{}const Fe=["tableSup"];function Ge(t,i){if(1&t&&(B.Tb(0,"div"),B.Oc(1),B.Sb()),2&t){const t=B.fc();B.Bb(1),B.Pc(t.domandaCorrenteDettaglio.supImpegnataLorda)}}function Ve(t,i){if(1&t&&(B.Tb(0,"div"),B.Oc(1),B.Sb()),2&t){const t=B.fc();B.Bb(1),B.Pc(t.domandaCorrenteDettaglio.supImpegnataNetta)}}function Ze(t,i){if(1&t&&(B.Tb(0,"th",16),B.Tb(1,"strong"),B.Oc(2),B.Sb(),B.Ob(3,"p-sortIcon",17),B.Sb()),2&t){const t=i.$implicit;B.mc("pSortableColumn",t.field)("pSortableColumnDisabled",null==t.field),B.Bb(2),B.Pc(t.header),B.Bb(1),B.mc("field",t.field)}}function $e(t,i){if(1&t&&(B.Tb(0,"tr"),B.Mc(1,Ze,4,4,"th",15),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.mc("ngForOf",t)}}function Qe(t,i){if(1&t&&(B.Tb(0,"tr",18),B.Tb(1,"td"),B.Oc(2),B.Sb(),B.Tb(3,"td"),B.Oc(4),B.Sb(),B.Tb(5,"td"),B.Oc(6),B.Sb(),B.Tb(7,"td"),B.Oc(8),B.Sb(),B.Tb(9,"td"),B.Oc(10),B.Sb(),B.Tb(11,"td"),B.Oc(12),B.Sb(),B.Tb(13,"td"),B.Oc(14),B.Sb(),B.Tb(15,"td"),B.Oc(16),B.Sb(),B.Tb(17,"td"),B.Oc(18),B.Sb(),B.Tb(19,"td"),B.Oc(20),B.Sb(),B.Tb(21,"td"),B.Oc(22),B.Sb(),B.Sb()),2&t){const t=i.$implicit;B.mc("pSelectableRow",t),B.Bb(2),B.Pc(t.idParticella),B.Bb(2),B.Pc(t.comuneCatastale),B.Bb(2),B.Pc(t.codNazionale),B.Bb(2),B.Pc(t.foglio),B.Bb(2),B.Pc(t.particella),B.Bb(2),B.Pc(t.sub),B.Bb(2),B.Pc(t.isola),B.Bb(2),B.Pc(t.codColtura),B.Bb(2),B.Pc(t.descrColtura),B.Bb(2),B.Pc(t.supImpLorda),B.Bb(2),B.Pc(t.supImpNetta)}}function qe(t,i){1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2," Nessuna particella trovata "),B.Sb(),B.Sb()),2&t&&(B.Bb(1),B.Cb("colspan",10))}let He=(()=>{class t{constructor(t,i,e){this.istruttoriaService=t,this.sharedService=i,this.domandaIstruttoriacorrente=e,this.listaParticelleTable=new Ue,this.numeroPagina=1,this.elementiPerPagina=5,this.first=!0,this._serviceSubscription=this.sharedService.domandSettata.subscribe(t=>{this.domandaCorrenteDettaglio=t,this.changePage1(this.tableSup)})}ngOnInit(){this.cols=[{field:"idParticella",header:"Id Particella"},{field:"comune",header:"Comune Catastale"},{field:"codNazionale",header:"Cod. Nazionale"},{field:"foglio",header:"Foglio"},{field:"particella",header:"Particella"},{field:"sub",header:"Sub"},{field:"codIsola",header:"Isola"},{field:"codiceColtura3",header:"Cod. Coltura"},{field:"descrizioneColtura",header:"Descr. Coltura"},{field:"supRichiesta",header:"Sup. Imp. Lorda"},{field:"supRichiestaNetta",header:"Sup Imp. Netta"}],null!=this.domandaIstruttoriacorrente.domanda&&null==this.domandaCorrenteDettaglio&&(this.domandaCorrenteDettaglio=this.domandaIstruttoriacorrente.domanda,this.changePage1(this.tableSup))}consume(){this.cleanup()}cleanup(){this._subscriptionIstruttoriaService.unsubscribe(),this._serviceSubscription.unsubscribe()}changePage(t){null!=this.domandaCorrenteDettaglio&&(this.first?this.first=!1:this.changePage1(t))}changePage1(t){this.numeroPagina=Math.floor(t.first/this.elementiPerPagina);const i='{ "numeroElementiPagina": '+this.elementiPerPagina+', "pagina": '+this.numeroPagina+"}";let e="";null!=t&&null!=t.sortField&&(console.log(t.sortField),e='[{ "proprieta": "'+t.sortField+'", "ordine": "'+this.istruttoriaService.getOrdine(t.sortOrder)+'"}]'),this._subscriptionIstruttoriaService=this.istruttoriaService.getPaginaParticellaAttuale(this.domandaCorrenteDettaglio.id.toString(),encodeURIComponent(i),encodeURIComponent(e)).subscribe(t=>{null!=t?(console.log("Particelle trovate"),this.caricaParticelle(t)):(this.listaParticelleTable.risultati=[],this.listaParticelleTable.elementiTotali=0)})}caricaParticelle(t){const i=new Array;t.risultati.forEach(t=>{let e=new ke;e.idParticella=t.infoCatastali.idParticella,e.comuneCatastale=t.infoCatastali.comune,e.codNazionale=t.infoCatastali.codNazionale,e.foglio=t.infoCatastali.foglio,e.particella=t.infoCatastali.particella,e.sub=t.infoCatastali.sub,e.isola=t.riferimentiCartografici.codIsola,e.codColtura=t.codiceColtura3,e.descrColtura=t.infoColtivazione.descrizioneColtura,e.supImpLorda=t.supRichiesta,e.supImpNetta=t.supRichiestaNetta,i.push(e)}),this.listaParticelleTable=new Ue,this.listaParticelleTable.risultati=i,this.listaParticelleTable.elementiTotali=t.count,console.log(this.listaParticelleTable.risultati)}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(l.a),B.Nb(Vi),B.Nb(Zi))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-superfici-impegnate"]],viewQuery:function(t,i){var e;1&t&&B.Jc(Fe,!0),2&t&&B.Ac(e=B.cc())&&(i.tableSup=e.first)},decls:26,vars:9,consts:[[1,"ui-g","ui-fluid"],[1,"boxgrey",2,"padding-top","50px"],[1,"ui-g-12"],[1,"ui-grid-fixed"],[2,"display","inline-block","width","100%"],[1,"ui-g-6","box",2,"padding-left","0px"],[1,"square-boxsmall"],[4,"ngIf"],[1,"ui-g-6",2,"padding-right","0px"],[1,"table-responsive",2,"margin-top","20px","display","block"],[3,"columns","value","autoLayout","totalRecords","paginator","rows","lazy","onLazyLoad"],["tableSup",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"],[3,"pSelectableRow"]],template:function(t,i){1&t&&(B.Tb(0,"div",0),B.Tb(1,"div",1),B.Tb(2,"div",2),B.Tb(3,"div",3),B.Tb(4,"div"),B.Tb(5,"h3"),B.Oc(6,"Premio base"),B.Sb(),B.Sb(),B.Tb(7,"div",4),B.Tb(8,"div",5),B.Tb(9,"div",6),B.Tb(10,"strong"),B.Oc(11,"Sup. Imp. Lorda (mq)"),B.Sb(),B.Ob(12,"br"),B.Mc(13,Ge,2,1,"div",7),B.Sb(),B.Sb(),B.Tb(14,"div",8),B.Tb(15,"div",6),B.Tb(16,"strong"),B.Oc(17,"Sup. Imp. Netta (mq)"),B.Sb(),B.Ob(18,"br"),B.Mc(19,Ve,2,1,"div",7),B.Sb(),B.Sb(),B.Sb(),B.Tb(20,"div",9),B.Tb(21,"p-table",10,11),B.bc("onLazyLoad",(function(t){return i.changePage(t)})),B.Mc(23,$e,2,1,"ng-template",12),B.Mc(24,Qe,23,12,"ng-template",13),B.Mc(25,qe,3,1,"ng-template",14),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t&&(B.Bb(13),B.mc("ngIf",i.domandaCorrenteDettaglio),B.Bb(6),B.mc("ngIf",i.domandaCorrenteDettaglio),B.Bb(2),B.mc("columns",i.cols)("value",i.listaParticelleTable.risultati)("autoLayout",!0)("totalRecords",i.listaParticelleTable.elementiTotali)("paginator",!0)("rows",i.elementiPerPagina)("lazy",!0))},directives:[o.t,a.q,N.e,o.s,a.p,a.o,a.m],styles:[""]}),t})();const je=function(t){return{width:t}};function Ke(t,i){1&t&&B.Ob(0,"th",11),2&t&&B.mc("ngStyle",B.sc(1,je,i.$implicit.width))}function Ye(t,i){if(1&t&&(B.Tb(0,"tr"),B.Mc(1,Ke,1,3,"th",10),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.mc("ngForOf",t)}}function Je(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2),B.Sb(),B.Tb(3,"td",12),B.Oc(4),B.Sb(),B.Sb()),2&t){const t=i.$implicit;B.Bb(2),B.Pc(t.descrizione),B.Bb(2),B.Pc(t.valore)}}function We(t,i){if(1&t&&(B.Tb(0,"div",4),B.Tb(1,"p-accordion"),B.Tb(2,"p-accordionTab",5),B.gc(3,"fixDichiarazioni"),B.Tb(4,"div",6),B.Tb(5,"p-table",7),B.gc(6,"tipoFilter"),B.Mc(7,Ye,2,1,"ng-template",8),B.Mc(8,Je,5,2,"ng-template",9),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t){const t=i.$implicit,e=B.fc();B.Bb(2),B.nc("header",B.hc(3,7,t)),B.mc("selected",!0),B.Bb(3),B.mc("columns",e.cols)("value",B.jc(6,9,e.dichiarazioni,"idTipoDichiarazioneDu",t))("autoLayout",!0)("paginator",!1)("responsive",!0)}}let Xe=(()=>{class t{constructor(t,i,e,o,a,n){this.route=t,this.istruttoriaService=i,this.messageService=e,this.domandaCorrente=o,this.sharedService=a,this.domandaIstruttoriacorrente=n,this._serviceSubscription=this.sharedService.domandSettata.subscribe(t=>{this.caricaDatiDettaglio()})}ngOnInit(){this.cols=[{field:"a",header:"",width:"90%"},{field:"b",header:"",width:"10%"}],null!=this.domandaIstruttoriacorrente.domanda&&null==this.domandaCorrenteDettaglio&&this.caricaDatiDettaglio()}caricaDatiDettaglio(){this.domandaCorrenteDettaglio=this.domandaIstruttoriacorrente.domanda,this.dichiarazioni=this.domandaCorrenteDettaglio.dichiarazioni,this.codiciTipo=this.dichiarazioni.map(t=>t.quadro).filter((t,i,e)=>e.indexOf(t)===i)}consume(){this.cleanup()}cleanup(){this._serviceSubscription.unsubscribe()}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(c.a),B.Nb(l.a),B.Nb(N.d),B.Nb(Zi),B.Nb(Vi),B.Nb(Zi))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-dichiarazioni"]],decls:4,vars:1,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["ngFor","",3,"ngForOf"],[1,"accordion-wrapper","dettaglioaccordion"],[3,"header","selected"],[1,"table-responsive","nobrd",2,"margin-top","30px"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","header"],["pTemplate","body"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"text-right",2,"font-weight","bold"]],template:function(t,i){1&t&&(B.Tb(0,"div",0),B.Tb(1,"div",1),B.Tb(2,"div",2),B.Mc(3,We,9,13,"ng-template",3),B.Sb(),B.Sb(),B.Sb()),2&t&&(B.Bb(3),B.mc("ngForOf",i.codiciTipo))},directives:[o.s,_i.a,_i.c,a.q,N.e,o.w],pipes:[ue.a,ue.b],styles:[""]}),t})();function to(t,i){if(1&t&&(B.Tb(0,"strong"),B.Oc(1),B.Sb()),2&t){const t=B.fc(3).$implicit;B.Bb(1),B.Pc(t.descrizione2)}}const io=function(t){return{width:t}};function eo(t,i){if(1&t&&(B.Tb(0,"th",14),B.Mc(1,to,2,1,"strong",4),B.Sb()),2&t){const t=i.$implicit;B.mc("ngStyle",B.sc(2,io,t.width)),B.Bb(1),B.mc("ngIf",t.header)}}function oo(t,i){if(1&t&&(B.Tb(0,"tr"),B.Mc(1,eo,2,4,"th",13),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.mc("ngForOf",t)}}function ao(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"td",15),B.Oc(2),B.Sb(),B.Sb()),2&t){const t=i.$implicit;B.Bb(2),B.Pc(t.valore)}}function no(t,i){1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2," Controllo non eseguito "),B.Sb(),B.Sb()),2&t&&(B.Bb(1),B.Cb("colspan",10))}function ro(t,i){if(1&t&&(B.Tb(0,"div",8),B.Tb(1,"p-table",9),B.gc(2,"tipoFilter"),B.gc(3,"tipoFilter"),B.Mc(4,oo,2,1,"ng-template",10),B.Mc(5,ao,3,1,"ng-template",11),B.Mc(6,no,3,1,"ng-template",12),B.Sb(),B.Sb()),2&t){const t=i.$implicit,e=B.fc().$implicit,o=B.fc(2);B.Bb(1),B.mc("columns",o.cols)("value",B.jc(2,5,B.jc(3,9,o.controlli,"codice1",e.codice1),"codice2",t.codice2))("autoLayout",!0)("paginator",!1)("responsive",!0)}}function co(t,i){if(1&t&&(B.Tb(0,"p-accordion"),B.Tb(1,"p-accordionTab",7),B.Mc(2,ro,7,13,"ng-template",6),B.gc(3,"tipoFilter"),B.Sb(),B.Sb()),2&t){const t=i.$implicit,e=B.fc(2);B.Bb(1),B.nc("header",t.descrizione1),B.mc("selected",!0),B.Bb(1),B.mc("ngForOf",B.jc(3,3,e.passiLavorazione,"codice1",t.codice1))}}function so(t,i){if(1&t&&(B.Tb(0,"div",5),B.Mc(1,co,4,7,"ng-template",6),B.Sb()),2&t){const t=B.fc();B.Bb(1),B.mc("ngForOf",t.tipiControllo)}}function lo(t,i){1&t&&(B.Tb(0,"div"),B.Oc(1," Nessun controllo eseguito "),B.Sb())}let bo=(()=>{class t{constructor(t,i,e,o,a){this.route=t,this.istruttoriaService=i,this.domandaCorrente=e,this.sharedService=o,this.domandaIstruttoriacorrente=a,this._serviceSubscription=this.sharedService.domandSettata.subscribe(t=>{this.caricaDatiDettaglio()})}ngOnInit(){this.cols=[{field:"b",header:"",width:"100%"}],null!=this.domandaIstruttoriacorrente.domanda&&null==this.domandaCorrenteDettaglio&&this.caricaDatiDettaglio()}caricaDatiDettaglio(){this.domandaCorrenteDettaglio=this.domandaIstruttoriacorrente.domanda,this.controlli=this.domandaCorrenteDettaglio.controlliSostegno;const t=this.controlli.map(t=>{let i=new be.a;return i.codice2=t.codice2,i.descrizione2=t.descrizione2,i.codice1=t.codice1,i.descrizione1=t.descrizione1,i.bold=0,i});this.passiLavorazione=this.mapDistinct(t),console.log("this.passiLavorazione "+this.passiLavorazione.length);const i=this.controlli.map(t=>{let i=new be.a;return i.codice1=t.codice1,i.descrizione1=t.descrizione1,i.bold=0,i});this.tipiControllo=this.mapDistinct(i),console.log("this.tipiControllo "+this.tipiControllo.length)}mapDistinct(t){const i=new Array;return t.forEach(t=>{let e=!1;i.forEach(i=>{t.codice2===i.codice2&&t.codice1===i.codice1&&(e=!0)}),e||i.push(t)}),console.log("def "+i.length),console.log(i),i}consume(){this.cleanup()}cleanup(){this._serviceSubscription.unsubscribe()}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(c.a),B.Nb(l.a),B.Nb(Zi),B.Nb(Vi),B.Nb(Zi))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-controlli-sostegno"]],decls:5,vars:2,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["class","accordion-wrapper dettaglioaccordion",4,"ngIf"],[4,"ngIf"],[1,"accordion-wrapper","dettaglioaccordion"],["ngFor","",3,"ngForOf"],[3,"header","selected"],[1,"table-responsive","nobrd",2,"margin-top","30px"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[2,"font-weight","bold"]],template:function(t,i){1&t&&(B.Tb(0,"div",0),B.Tb(1,"div",1),B.Tb(2,"div",2),B.Mc(3,so,2,1,"div",3),B.Mc(4,lo,2,0,"div",4),B.Sb(),B.Sb(),B.Sb()),2&t&&(B.Bb(3),B.mc("ngIf",i.tipiControllo&&i.passiLavorazione),B.Bb(1),B.mc("ngIf",!(i.tipiControllo&&i.passiLavorazione)))},directives:[o.t,o.s,_i.a,_i.c,a.q,N.e,o.w],pipes:[ue.b],styles:[""]}),t})();var uo=e("Lf7B");const po=["tableEle"],go=["tableGreening"],mo=["tableMan"];function ho(t,i){if(1&t&&B.Ob(0,"p-sortIcon",16),2&t){const t=B.fc().$implicit;B.mc("field",t.field)}}function So(t,i){if(1&t&&(B.Tb(0,"th",14),B.Tb(1,"strong"),B.Oc(2),B.Sb(),B.Mc(3,ho,1,1,"p-sortIcon",15),B.Sb()),2&t){const t=i.$implicit;B.mc("pSortableColumn",t.field)("pSortableColumnDisabled",null==t.field||"descrizioneColtura"===t.field),B.Bb(2),B.Pc(t.header),B.Bb(1),B.mc("ngIf","descrizioneColtura"!==t.field)}}function fo(t,i){if(1&t&&(B.Tb(0,"tr"),B.Mc(1,So,4,4,"th",13),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.mc("ngForOf",t)}}function To(t,i){if(1&t&&(B.Tb(0,"tr",17),B.Tb(1,"td"),B.Oc(2),B.Sb(),B.Tb(3,"td"),B.Oc(4),B.Sb(),B.Tb(5,"td"),B.Oc(6),B.Sb(),B.Tb(7,"td"),B.Oc(8),B.Sb(),B.Tb(9,"td"),B.Oc(10),B.Sb(),B.Tb(11,"td"),B.Oc(12),B.Sb(),B.Tb(13,"td"),B.Oc(14),B.Sb(),B.Tb(15,"td"),B.Oc(16),B.Sb(),B.Tb(17,"td"),B.Oc(18),B.Sb(),B.Tb(19,"td"),B.Oc(20),B.Sb(),B.Tb(21,"td"),B.Oc(22),B.Sb(),B.Tb(23,"td"),B.Oc(24),B.Sb(),B.Sb()),2&t){const t=i.$implicit;B.mc("pSelectableRow",t),B.Bb(2),B.Pc(t.codNazionale),B.Bb(2),B.Pc(t.foglio),B.Bb(2),B.Pc(t.particella),B.Bb(2),B.Pc(t.sub),B.Bb(2),B.Pc(t.codColtura),B.Bb(2),B.Pc(t.descrizioneColtura),B.Bb(2),B.Pc(t.supImpegnata),B.Bb(2),B.Pc(t.supEleggibile),B.Bb(2),B.Pc(t.supSigeco),B.Bb(2),B.Pc(t.anomalieMantenimento),B.Bb(2),B.Pc(t.anomalieCoordinamento),B.Bb(2),B.Pc(t.supDeterminata)}}function vo(t,i){1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2," Calcolo disaccoppiato non ancora effettuato per la domanda. "),B.Sb(),B.Sb()),2&t&&(B.Bb(1),B.Cb("colspan",13))}function Io(t,i){if(1&t){const t=B.Ub();B.Tb(0,"p-table",8,9),B.bc("onLazyLoad",(function(i){return B.Ec(t),B.fc().changePageEle(i)})),B.Mc(2,fo,2,1,"ng-template",10),B.Mc(3,To,25,13,"ng-template",11),B.Mc(4,vo,3,1,"ng-template",12),B.Sb()}if(2&t){const t=B.fc();B.mc("columns",t.cols)("value",t.listaDettaglioParticelleTable.risultati)("autoLayout",!0)("totalRecords",t.listaDettaglioParticelleTable.elementiTotali)("paginator",!0)("rows",t.elementiPerPagina)("lazy",!0)}}function Oo(t,i){if(1&t&&B.Ob(0,"p-sortIcon",16),2&t){const t=B.fc().$implicit;B.mc("field",t.field)}}function Co(t,i){if(1&t&&(B.Tb(0,"th",14),B.Tb(1,"strong"),B.Oc(2),B.Sb(),B.Mc(3,Oo,1,1,"p-sortIcon",15),B.Sb()),2&t){const t=i.$implicit;B.mc("pSortableColumn",t.field)("pSortableColumnDisabled",null==t.field||"descrizioneColtura"===t.field),B.Bb(2),B.Pc(t.header),B.Bb(1),B.mc("ngIf","descrizioneColtura"!==t.field)}}function Ao(t,i){if(1&t&&(B.Tb(0,"tr"),B.Mc(1,Co,4,4,"th",13),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.mc("ngForOf",t)}}function Do(t,i){if(1&t&&(B.Tb(0,"tr",17),B.Tb(1,"td"),B.Oc(2),B.Sb(),B.Tb(3,"td"),B.Oc(4),B.Sb(),B.Tb(5,"td"),B.Oc(6),B.Sb(),B.Tb(7,"td"),B.Oc(8),B.Sb(),B.Tb(9,"td"),B.Oc(10),B.Sb(),B.Tb(11,"td"),B.Oc(12),B.Sb(),B.Tb(13,"td"),B.Oc(14),B.Sb(),B.Tb(15,"td"),B.Oc(16),B.Sb(),B.Tb(17,"td"),B.Oc(18),B.Sb(),B.Tb(19,"td"),B.Oc(20),B.Sb(),B.Tb(21,"td"),B.Oc(22),B.Sb(),B.Tb(23,"td"),B.Oc(24),B.Sb(),B.Sb()),2&t){const t=i.$implicit;B.mc("pSelectableRow",t),B.Bb(2),B.Pc(t.codNazionale),B.Bb(2),B.Pc(t.foglio),B.Bb(2),B.Pc(t.particella),B.Bb(2),B.Pc(t.sub),B.Bb(2),B.Pc(t.codColtura),B.Bb(2),B.Pc(t.descrizioneColtura),B.Bb(2),B.Pc(t.supDeterminata),B.Bb(2),B.Pc(t.tipoColtura),B.Bb(2),B.Pc(t.tipoSeminativo),B.Bb(2),B.Pc(t.colturaPrincipale),B.Bb(2),B.Pc(t.secondaColtura),B.Bb(2),B.Pc(t.azotoFissatrice)}}function Po(t,i){1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2," Calcolo disaccoppiato non ancora effettuato per la domanda. "),B.Sb(),B.Sb()),2&t&&(B.Bb(1),B.Cb("colspan",10))}function Bo(t,i){if(1&t){const t=B.Ub();B.Tb(0,"p-table",8,18),B.bc("onLazyLoad",(function(i){return B.Ec(t),B.fc().changePageGreen(i)})),B.Mc(2,Ao,2,1,"ng-template",10),B.Mc(3,Do,25,13,"ng-template",11),B.Mc(4,Po,3,1,"ng-template",12),B.Sb()}if(2&t){const t=B.fc();B.mc("columns",t.colsGreening)("value",t.listaDettaglioParticelleTableGreening.risultati)("autoLayout",!0)("totalRecords",t.listaDettaglioParticelleTableGreening.elementiTotali)("paginator",!0)("rows",t.elementiPerPagina)("lazy",!0)}}function No(t,i){if(1&t&&B.Ob(0,"p-sortIcon",16),2&t){const t=B.fc().$implicit;B.mc("field",t.field)}}function zo(t,i){if(1&t&&(B.Tb(0,"th",14),B.Tb(1,"strong"),B.Oc(2),B.Sb(),B.Mc(3,No,1,1,"p-sortIcon",15),B.Sb()),2&t){const t=i.$implicit;B.mc("pSortableColumn",t.field)("pSortableColumnDisabled",null==t.field||"descrizioneColtura"===t.field),B.Bb(2),B.Pc(t.header),B.Bb(1),B.mc("ngIf","descrizioneColtura"!==t.field)}}function Mo(t,i){if(1&t&&(B.Tb(0,"tr"),B.Mc(1,zo,4,4,"th",13),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.mc("ngForOf",t)}}function Ro(t,i){if(1&t&&(B.Tb(0,"tr",17),B.Tb(1,"td"),B.Oc(2),B.Sb(),B.Tb(3,"td"),B.Oc(4),B.Sb(),B.Tb(5,"td"),B.Oc(6),B.Sb(),B.Tb(7,"td"),B.Oc(8),B.Sb(),B.Tb(9,"td"),B.Oc(10),B.Sb(),B.Tb(11,"td"),B.Oc(12),B.Sb(),B.Tb(13,"td"),B.Oc(14),B.Sb(),B.Tb(15,"td"),B.Oc(16),B.Sb(),B.Tb(17,"td"),B.Oc(18),B.Sb(),B.Tb(19,"td"),B.Oc(20),B.Sb(),B.Tb(21,"td"),B.Oc(22),B.Sb(),B.Sb()),2&t){const t=i.$implicit;B.mc("pSelectableRow",t),B.Bb(2),B.Pc(t.codNazionale),B.Bb(2),B.Pc(t.foglio),B.Bb(2),B.Pc(t.particella),B.Bb(2),B.Pc(t.sub),B.Bb(2),B.Pc(t.codColtura),B.Bb(2),B.Pc(t.descrizioneColtura),B.Bb(2),B.Pc(t.pascolo),B.Bb(2),B.Pc(t.supImpegnata),B.Bb(2),B.Pc(t.supEleggibile),B.Bb(2),B.Pc(t.supSigeco),B.Bb(2),B.Pc(t.anomalieMantenimento)}}function yo(t,i){1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2," Non risultano presenti in domanda particelle afferenti a pascoli. "),B.Sb(),B.Sb()),2&t&&(B.Bb(1),B.Cb("colspan",10))}function Eo(t,i){1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2," Calcolo disaccoppiato non ancora effettuato per la domanda. "),B.Sb(),B.Sb()),2&t&&(B.Bb(1),B.Cb("colspan",10))}function Lo(t,i){if(1&t&&(B.Mc(0,yo,3,1,"tr",20),B.Mc(1,Eo,3,1,"tr",20)),2&t){const t=B.fc(2);B.mc("ngIf",(null==t.listaDettaglioParticelleTable.risultati?null:t.listaDettaglioParticelleTable.risultati.length)>0),B.Bb(1),B.mc("ngIf",0===(null==t.listaDettaglioParticelleTable.risultati?null:t.listaDettaglioParticelleTable.risultati.length))}}function wo(t,i){if(1&t){const t=B.Ub();B.Tb(0,"p-table",8,19),B.bc("onLazyLoad",(function(i){return B.Ec(t),B.fc().changePageMantenimento(i)})),B.Mc(2,Mo,2,1,"ng-template",10),B.Mc(3,Ro,23,12,"ng-template",11),B.Mc(4,Lo,2,2,"ng-template",12),B.Sb()}if(2&t){const t=B.fc();B.mc("columns",t.colsMantenimento)("value",t.listaDettaglioParticelleTableMantenimento.risultati)("autoLayout",!0)("totalRecords",t.listaDettaglioParticelleTableMantenimento.elementiTotali)("paginator",!0)("rows",t.elementiPerPagina)("lazy",!0)}}let xo=(()=>{class t{constructor(t,i){this.istruttoriaService=t,this.route=i,this.listaDettaglioParticelleTable=new uo.b,this.listaDettaglioParticelleTableGreening=new uo.b,this.listaDettaglioParticelleTableMantenimento=new uo.b,this.numeroPagina=1,this.numeroPaginaGreen=1,this.elementiPerPagina=10,this.first=0}ngOnInit(){console.log(this.listaDettaglioParticelleTable),this.cols=[{field:"codNazionale",header:"Cod. Comune"},{field:"foglio",header:"Foglio"},{field:"particella",header:"Particella"},{field:"sub",header:"Sub"},{field:"codiceColtura3",header:"Cod. Coltura"},{field:"descrizioneColtura",header:"Descrizione Coltura",sortable:!1},{field:"superficieImpegnata",header:"Sup Imp."},{field:"superficieEleggibile",header:"Sup Elegg."},{field:"superficieSigeco",header:"Sup Controllo in loco"},{field:"anomalieMantenimento",header:"Anomalie Man"},{field:"anomalieCoordinamento",header:"Anomalie Coor"},{field:"superficieDeterminata",header:"Sup Determinata"}],this.colsGreening=[{field:"codNazionale",header:"Cod. Comune"},{field:"foglio",header:"Foglio"},{field:"particella",header:"Particella"},{field:"sub",header:"Sub"},{field:"codiceColtura3",header:"Cod. Coltura"},{field:"descrizioneColtura",header:"Descrizione Coltura",sortable:!1},{field:"superficieDeterminata",header:"Sup Determinata"},{field:"tipoColtura",header:"Tipo di Coltura"},{field:"tipoSeminativo",header:"Tipo di Seminativo"},{field:"colturaPrincipale",header:"Coltura Principale"},{field:"secondaColtura",header:"Seconda Coltura"},{field:"azotoFissatrice",header:"Azoto Fissatrice"}],this.colsMantenimento=[{field:"codNazionale",header:"Cod. Comune"},{field:"foglio",header:"Foglio"},{field:"particella",header:"Particella"},{field:"sub",header:"Sub"},{field:"codiceColtura3",header:"Cod. Coltura"},{field:"descrizioneColtura",header:"Descrizione Coltura",sortable:!1},{field:"pascolo",header:"Pascolo"},{field:"superficieImpegnata",header:"Sup. imp. netta"},{field:"superficieEleggibile",header:"Sup. eleggibile"},{field:"superficieSigeco",header:"Sup. controllo in loco"},{field:"anomalieMantenimento",header:"Anomalie MAN"}],this._subscription=this.route.paramMap.subscribe(t=>{console.log(t),this.idDomanda=t.get(Yt.a.dettaglioDomandaParam),console.log("idDomanda "+this.idDomanda),this.changePage1(this.tableEle,0),this.first=this.first+1})}consume(){this.cleanup()}cleanup(){this._subscriptionIstruttoriaService.unsubscribe(),this._subscription.unsubscribe()}changePage(t,i){null!=this.idDomanda&&3===this.first?this.changePage1(t,i):this.first=this.first+1}changePageEle(t){console.log("Recupero dettaglio particella changePageEle"),this.changePage(t,1)}changePageGreen(t){console.log("Recupero dettaglio particella changePageGreen"),this.changePage(t,2)}changePageMantenimento(t){console.log("Recupero dettaglio particella changePageMantenimento"),this.changePage(t,3)}changePage1(t,i){let e=1;t&&(e=t.first),this.numeroPagina=Math.floor(e/this.elementiPerPagina);const o='{ "numeroElementiPagina": '+this.elementiPerPagina+', "pagina": '+this.numeroPagina+"}";let a="",n=!1;3===i&&(n=!0);const r='{"identificativoSostegno": "DISACCOPPIATO", "isPascolo": '+n+" }";null!=t&&null!=t.sortField&&(console.log(t.sortField),a='[{ "proprieta": "'+t.sortField+'", "ordine": "'+this.istruttoriaService.getOrdine(t.sortOrder)+'"}]'),console.log("Recupero dettaglio particella"),this._subscriptionIstruttoriaService=this.istruttoriaService.getPaginaDettaglioParticellaAttuale(this.idDomanda,encodeURIComponent(r),encodeURIComponent(o),encodeURIComponent(a)).subscribe(t=>{const e=new uo.b;if(null!=t){console.log("Dettaglio Particelle trovate");const i=this.caricaParticelle(t);e.risultati=i,e.elementiTotali=t.elementiTotali}else e.risultati=[],e.elementiTotali=0;switch(i){case 0:this.listaDettaglioParticelleTable.elementiTotali=e.elementiTotali,this.listaDettaglioParticelleTable.risultati=e.risultati,this.listaDettaglioParticelleTableGreening.elementiTotali=e.elementiTotali,this.listaDettaglioParticelleTableGreening.risultati=e.risultati;break;case 1:this.listaDettaglioParticelleTable.elementiTotali=e.elementiTotali,this.listaDettaglioParticelleTable.risultati=e.risultati;break;case 2:this.listaDettaglioParticelleTableGreening.elementiTotali=e.elementiTotali,this.listaDettaglioParticelleTableGreening.risultati=e.risultati;break;case 3:this.listaDettaglioParticelleTableMantenimento.elementiTotali=e.elementiTotali,this.listaDettaglioParticelleTableMantenimento.risultati=e.risultati}})}caricaParticelle(t){const i=new Array;return t.risultati.forEach(t=>{let e=new uo.a;e.comuneCatastale=t.infoCatastali.comune,e.codNazionale=t.infoCatastali.codNazionale,e.foglio=t.infoCatastali.foglio,e.particella=t.infoCatastali.particella,e.sub=t.infoCatastali.sub,e.codColtura=t.codiceColtura3,e.descrizioneColtura=t.descrizioneColtura,e.supImpegnata=t.variabiliCalcoloParticella.superficieImpegnata,e.supEleggibile=t.variabiliCalcoloParticella.superficieEleggibile,e.supSigeco=t.variabiliCalcoloParticella.superficieSigeco,e.supDeterminata=t.variabiliCalcoloParticella.superficieDeterminata,e.anomalieMantenimento=this.boolToString(t.variabiliCalcoloParticella.anomalieMantenimento),e.anomalieCoordinamento=this.boolToString(t.variabiliCalcoloParticella.anomalieCoordinamento),e.tipoColtura=t.variabiliCalcoloParticella.tipoColtura,e.tipoSeminativo=t.variabiliCalcoloParticella.tipoSeminativo,e.colturaPrincipale=this.boolToString(t.variabiliCalcoloParticella.colturaPrincipale),e.secondaColtura=this.boolToString(t.variabiliCalcoloParticella.secondaColtura),e.azotoFissatrice=this.boolToString(t.variabiliCalcoloParticella.azotoFissatrice),e.pascolo=t.variabiliCalcoloParticella.pascolo,i.push(e)}),i}boolToString(t){return null==t?"":!0===t?"SI":!1===t?"NO":void 0}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(l.a),B.Nb(c.a))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-dati-particella"]],viewQuery:function(t,i){var e;1&t&&(B.Uc(po,!0),B.Uc(go,!0),B.Uc(mo,!0)),2&t&&(B.Ac(e=B.cc())&&(i.tableEle=e.first),B.Ac(e=B.cc())&&(i.tableGreening=e.first),B.Ac(e=B.cc())&&(i.tableMan=e.first))},decls:15,vars:6,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],[1,"accordion-wrapper","dettaglioaccordion"],["header","Dati eleggibilit\xe0",3,"selected"],[3,"columns","value","autoLayout","totalRecords","paginator","rows","lazy","onLazyLoad",4,"ngIf"],["header","Dati greening",3,"selected"],["header","Dati mantenimento",3,"selected"],[3,"columns","value","autoLayout","totalRecords","paginator","rows","lazy","onLazyLoad"],["tableEle",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field",4,"ngIf"],[3,"field"],[3,"pSelectableRow"],["tableGreening",""],["tableMan",""],[4,"ngIf"]],template:function(t,i){1&t&&(B.Tb(0,"div",0),B.Tb(1,"div",1),B.Tb(2,"div",2),B.Tb(3,"div",3),B.Tb(4,"p-accordion"),B.Tb(5,"p-accordionTab",4),B.Mc(6,Io,5,7,"p-table",5),B.Sb(),B.Sb(),B.Sb(),B.Tb(7,"div",3),B.Tb(8,"p-accordion"),B.Tb(9,"p-accordionTab",6),B.Mc(10,Bo,5,7,"p-table",5),B.Sb(),B.Sb(),B.Sb(),B.Tb(11,"div",3),B.Tb(12,"p-accordion"),B.Tb(13,"p-accordionTab",7),B.Mc(14,wo,5,7,"p-table",5),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t&&(B.Bb(5),B.mc("selected",!0),B.Bb(1),B.mc("ngIf",i.listaDettaglioParticelleTable),B.Bb(3),B.mc("selected",!0),B.Bb(1),B.mc("ngIf",i.listaDettaglioParticelleTableGreening),B.Bb(3),B.mc("selected",!0),B.Bb(1),B.mc("ngIf",i.listaDettaglioParticelleTableMantenimento))},directives:[_i.a,_i.c,o.t,a.q,N.e,o.s,a.p,a.o,a.m],styles:[""]}),t})(),_o=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=B.Hb({type:t,selectors:[["app-cruscotto-disaccoppiato-container"]],decls:1,vars:0,template:function(t,i){1&t&&B.Ob(0,"router-outlet")},directives:[c.j],styles:[""]}),t})(),ko=(()=>{class t{constructor(){}validate(t){return this.validaNumero(t.value,!0)?null:{erroreNumero:b.a.ERRORE_NUMERO}}validaNumero(t,i){return t?!0===/^-?\d*\.?\d{0,4}$/.test(t):i}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=B.Ib({type:t,selectors:[["","appValidaNumero4dec",""]],features:[B.Ab([{provide:y.p,useExisting:t,multi:!0}])]}),t})(),Uo=(()=>{class t{constructor(){}validate(t){return this.validaNumero(t.value,!0)?null:{erroreNumero:b.a.ERRORE_NUMERO}}validaNumero(t,i){return t?!0===/^-?\d*\.?\d{0,2}$/.test(t):i}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=B.Ib({type:t,selectors:[["","appValidaNumero2dec",""]],features:[B.Ab([{provide:y.p,useExisting:t,multi:!0}])]}),t})();var Fo=e("kKjl"),Go=e("oBRA"),Vo=e("Urau"),Zo=e("GLSp");function $o(t,i){if(1&t&&(B.Tb(0,"p",36),B.Oc(1),B.Sb()),2&t){B.fc(2);const t=B.Bc(11);B.Bb(1),B.Qc(" ",t.errors.erroreNumero," ")}}function Qo(t,i){if(1&t&&(B.Tb(0,"div"),B.Mc(1,$o,2,1,"p",35),B.Sb()),2&t){B.fc();const t=B.Bc(11);B.Bb(1),B.mc("ngIf",null==t.errors?null:t.errors.erroreNumero)}}function qo(t,i){if(1&t&&(B.Tb(0,"p",36),B.Oc(1),B.Sb()),2&t){B.fc(2);const t=B.Bc(20);B.Bb(1),B.Qc(" ",t.errors.erroreNumero," ")}}function Ho(t,i){if(1&t&&(B.Tb(0,"div"),B.Mc(1,qo,2,1,"p",35),B.Sb()),2&t){B.fc();const t=B.Bc(20);B.Bb(1),B.mc("ngIf",null==t.errors?null:t.errors.erroreNumero)}}function jo(t,i){if(1&t&&(B.Tb(0,"p",36),B.Oc(1),B.Sb()),2&t){B.fc(2);const t=B.Bc(30);B.Bb(1),B.Qc(" ",t.errors.erroreNumero," ")}}function Ko(t,i){if(1&t&&(B.Tb(0,"div"),B.Mc(1,jo,2,1,"p",35),B.Sb()),2&t){B.fc();const t=B.Bc(30);B.Bb(1),B.mc("ngIf",null==t.errors?null:t.errors.erroreNumero)}}function Yo(t,i){if(1&t&&(B.Tb(0,"p",36),B.Oc(1),B.Sb()),2&t){B.fc(2);const t=B.Bc(40);B.Bb(1),B.Qc(" ",t.errors.erroreNumero," ")}}function Jo(t,i){if(1&t&&(B.Tb(0,"div"),B.Mc(1,Yo,2,1,"p",35),B.Sb()),2&t){B.fc();const t=B.Bc(40);B.Bb(1),B.mc("ngIf",null==t.errors?null:t.errors.erroreNumero)}}function Wo(t,i){if(1&t&&(B.Tb(0,"p",36),B.Oc(1),B.Sb()),2&t){B.fc(2);const t=B.Bc(50);B.Bb(1),B.Qc(" ",t.errors.erroreNumero," ")}}function Xo(t,i){if(1&t&&(B.Tb(0,"div"),B.Mc(1,Wo,2,1,"p",35),B.Sb()),2&t){B.fc();const t=B.Bc(50);B.Bb(1),B.mc("ngIf",null==t.errors?null:t.errors.erroreNumero)}}function ta(t,i){if(1&t){const t=B.Ub();B.Tb(0,"form",12,13),B.bc("ngSubmit",(function(){B.Ec(t);const i=B.Bc(1);return B.fc(2).onSubmit(i)})),B.Tb(2,"div",14),B.Tb(3,"p-checkbox",15),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc(2).datiIstruttoriaDaInserire.controlloAntimafia=i})),B.Sb(),B.Sb(),B.Tb(4,"div",14),B.Tb(5,"p-checkbox",16),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc(2).datiIstruttoriaDaInserire.domAnnoPrecNonLiquidabile=i})),B.Sb(),B.Sb(),B.Ob(6,"br"),B.Tb(7,"div",14),B.Tb(8,"p-checkbox",17),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc(2).datiIstruttoriaDaInserire.bpsSanzioniAnnoPrecedente=i}))("onChange",(function(i){return B.Ec(t),B.fc(2).cleanBpsImportoSanzioniAnnoPrecedente(i)})),B.Sb(),B.Sb(),B.Tb(9,"div",18),B.Tb(10,"input",19,20),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc(2).datiIstruttoriaDaInserire.bpsImportoSanzioniAnnoPrecedente=i})),B.Sb(),B.Tb(12,"span",21),B.Oc(13,"Euro"),B.Sb(),B.Sb(),B.Mc(14,Qo,2,1,"div",0),B.Ob(15,"br"),B.Tb(16,"div",14),B.Tb(17,"p-checkbox",22),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc(2).datiIstruttoriaDaInserire.gioSanzioniAnnoPrecedente=i}))("onChange",(function(i){return B.Ec(t),B.fc(2).cleanGioImportoSanzioniAnnoPrecedente(i)})),B.Sb(),B.Sb(),B.Tb(18,"div",18),B.Tb(19,"input",23,24),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc(2).datiIstruttoriaDaInserire.gioImportoSanzioniAnnoPrecedente=i})),B.Sb(),B.Tb(21,"span",21),B.Oc(22,"Euro"),B.Sb(),B.Sb(),B.Mc(23,Ho,2,1,"div",0),B.Ob(24,"br"),B.Tb(25,"div"),B.Tb(26,"label",25),B.Oc(27,"BPS - Superficie determinata dall'istruttore"),B.Sb(),B.Sb(),B.Tb(28,"div",18),B.Tb(29,"input",26,27),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc(2).datiIstruttoriaDaInserire.bPSSuperficie=i})),B.Sb(),B.Tb(31,"span",21),B.Oc(32,"Ha"),B.Sb(),B.Sb(),B.Mc(33,Ko,2,1,"div",0),B.Ob(34,"br"),B.Tb(35,"div"),B.Tb(36,"label",25),B.Oc(37,"Greening - Superficie non ammissibile mancato rispetto Inverdimento Istruttore"),B.Sb(),B.Sb(),B.Tb(38,"div",18),B.Tb(39,"input",28,29),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc(2).datiIstruttoriaDaInserire.greeningSuperficie=i})),B.Sb(),B.Tb(41,"span",21),B.Oc(42,"Ha"),B.Sb(),B.Sb(),B.Mc(43,Jo,2,1,"div",0),B.Ob(44,"br"),B.Tb(45,"div"),B.Tb(46,"label",25),B.Oc(47,"Importo Salari Azienda"),B.Sb(),B.Sb(),B.Tb(48,"div",18),B.Tb(49,"input",30,31),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc(2).datiIstruttoriaDaInserire.importoSalari=i})),B.Sb(),B.Tb(51,"span",21),B.Oc(52,"Euro"),B.Sb(),B.Sb(),B.Mc(53,Xo,2,1,"div",0),B.Ob(54,"br"),B.Tb(55,"div"),B.Tb(56,"label",25),B.Oc(57,"Note"),B.Sb(),B.Sb(),B.Tb(58,"div",18),B.Tb(59,"textarea",32),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc(2).datiIstruttoriaDaInserire.noteIstruttore=i})),B.Sb(),B.Sb(),B.Ob(60,"br"),B.Tb(61,"div"),B.Tb(62,"div",33),B.Tb(63,"button",34),B.Oc(64,"SALVA"),B.Sb(),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=B.Bc(1),i=B.Bc(11),e=B.Bc(20),o=B.Bc(30),a=B.Bc(40),n=B.Bc(50),r=B.fc(2);B.Bb(3),B.mc("ngModel",r.datiIstruttoriaDaInserire.controlloAntimafia),B.Bb(2),B.mc("ngModel",r.datiIstruttoriaDaInserire.domAnnoPrecNonLiquidabile),B.Bb(3),B.mc("ngModel",r.datiIstruttoriaDaInserire.bpsSanzioniAnnoPrecedente),B.Bb(2),B.mc("ngModel",r.datiIstruttoriaDaInserire.bpsImportoSanzioniAnnoPrecedente)("disabled",!r.datiIstruttoriaDaInserire.bpsSanzioniAnnoPrecedente),B.Bb(4),B.mc("ngIf",i&&i.errors),B.Bb(3),B.mc("ngModel",r.datiIstruttoriaDaInserire.gioSanzioniAnnoPrecedente),B.Bb(2),B.mc("ngModel",r.datiIstruttoriaDaInserire.gioImportoSanzioniAnnoPrecedente)("disabled",!r.datiIstruttoriaDaInserire.gioSanzioniAnnoPrecedente),B.Bb(4),B.mc("ngIf",e&&e.errors),B.Bb(6),B.mc("ngModel",r.datiIstruttoriaDaInserire.bPSSuperficie),B.Bb(4),B.mc("ngIf",o&&o.errors),B.Bb(6),B.mc("ngModel",r.datiIstruttoriaDaInserire.greeningSuperficie),B.Bb(4),B.mc("ngIf",a&&a.errors),B.Bb(6),B.mc("ngModel",r.datiIstruttoriaDaInserire.importoSalari),B.Bb(4),B.mc("ngIf",n&&n.errors),B.Bb(6),B.mc("ngModel",r.datiIstruttoriaDaInserire.noteIstruttore),B.Bb(4),B.mc("disabled",!t.valid)}}function ia(t,i){1&t&&(B.Tb(0,"div"),B.Tb(1,"p",36),B.Oc(2," Numero non valido "),B.Sb(),B.Sb())}function ea(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div"),B.Tb(1,"div"),B.Tb(2,"label",25),B.Oc(3,"Pascolo - Verifica documentazione di trasporto (MAN3)"),B.Sb(),B.Sb(),B.Tb(4,"div",43),B.Tb(5,"p-dropdown",45),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc().$implicit.man3=i})),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=B.fc(),i=t.index,e=t.$implicit,o=B.fc(3);B.Bb(5),B.nc("formControlName",i+"man3"),B.mc("options",o.scelteMAN3)("ngModel",e.man3)}}function oa(t,i){1&t&&(B.Tb(0,"div"),B.Tb(1,"p",36),B.Oc(2," CUAA non valido "),B.Sb(),B.Sb())}function aa(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div"),B.Tb(1,"div"),B.Tb(2,"label",25),B.Oc(3,"Pascolo - CUAA del responsabile del pascolo (MAN4)"),B.Sb(),B.Sb(),B.Tb(4,"div",43),B.Tb(5,"input",44),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc().$implicit.man4=i})),B.Sb(),B.Sb(),B.Mc(6,oa,3,0,"div",0),B.Sb()}if(2&t){const t=B.fc(),i=t.index,e=t.$implicit,o=B.fc(3);B.Bb(5),B.nc("formControlName",i+"man4"),B.mc("ngModel",e.man4),B.Bb(1),B.mc("ngIf",!o.formPascoli.controls[i+"man4"].valid)}}function na(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div"),B.Tb(1,"div"),B.Tb(2,"label",25),B.Oc(3,"Pascolo - Esito del controllo del mantenimento delle superfici per i pascoli fuori provincia (MAN5)"),B.Sb(),B.Sb(),B.Tb(4,"div",43),B.Tb(5,"p-dropdown",45),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc().$implicit.man5=i})),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=B.fc(),i=t.index,e=t.$implicit,o=B.fc(3);B.Bb(5),B.nc("formControlName",i+"man5"),B.mc("options",o.scelteMAN5)("ngModel",e.man5)}}function ra(t,i){if(1&t){const t=B.Ub();B.Tb(0,"p-accordionTab",42),B.Tb(1,"div"),B.Tb(2,"div"),B.Tb(3,"label",25),B.Oc(4,"Pascolo - Superfice determinata dall'istruttore"),B.Sb(),B.Sb(),B.Tb(5,"div",43),B.Tb(6,"input",44),B.bc("ngModelChange",(function(e){return B.Ec(t),i.$implicit.superficie=e})),B.Sb(),B.Tb(7,"span",21),B.Oc(8,"Ha"),B.Sb(),B.Sb(),B.Mc(9,ia,3,0,"div",0),B.Sb(),B.Mc(10,ea,6,3,"div",0),B.Mc(11,aa,7,3,"div",0),B.Mc(12,na,6,3,"div",0),B.Sb()}if(2&t){const t=i.$implicit,e=i.index,o=B.fc(3);B.nc("header",t.descPascolo),B.Bb(6),B.nc("formControlName",e+"superficie"),B.mc("ngModel",t.superficie),B.Bb(3),B.mc("ngIf",!o.formPascoli.controls[e+"superficie"].valid),B.Bb(1),B.mc("ngIf",t.hasOwnProperty("man3")),B.Bb(1),B.mc("ngIf",t.hasOwnProperty("man4")),B.Bb(1),B.mc("ngIf",t.hasOwnProperty("man5"))}}function ca(t,i){if(1&t){const t=B.Ub();B.Tb(0,"button",46),B.bc("click",(function(){return B.Ec(t),B.fc(3).salvaDatiIstruttoria()})),B.Oc(1,"SALVA"),B.Sb()}}function sa(t,i){if(1&t&&(B.Tb(0,"div",37),B.Tb(1,"div"),B.Tb(2,"h3"),B.Tb(3,"span"),B.Oc(4,"Dati istruttoria pascoli"),B.Sb(),B.Sb(),B.Tb(5,"form",38),B.Tb(6,"div",39),B.Tb(7,"p-accordion"),B.Mc(8,ra,13,7,"p-accordionTab",40),B.Sb(),B.Sb(),B.Tb(9,"div",33),B.Mc(10,ca,2,0,"button",41),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t){const t=B.fc(2);B.Bb(5),B.mc("formGroup",t.formPascoli),B.Bb(3),B.mc("ngForOf",t.arrayPascoli),B.Bb(2),B.mc("ngIf",t.arrayPascoli.length>0)}}function la(t,i){if(1&t&&(B.Tb(0,"p",36),B.Oc(1),B.Sb()),2&t){B.fc(2);const t=B.Bc(11);B.Bb(1),B.Qc(" ",t.errors.erroreNumero," ")}}function da(t,i){if(1&t&&(B.Tb(0,"div"),B.Mc(1,la,2,1,"p",35),B.Sb()),2&t){B.fc();const t=B.Bc(11);B.Bb(1),B.mc("ngIf",null==t.errors?null:t.errors.erroreNumero)}}function ba(t,i){if(1&t&&(B.Tb(0,"p",36),B.Oc(1),B.Sb()),2&t){B.fc(2);const t=B.Bc(20);B.Bb(1),B.Qc(" ",t.errors.erroreNumero," ")}}function ua(t,i){if(1&t&&(B.Tb(0,"div"),B.Mc(1,ba,2,1,"p",35),B.Sb()),2&t){B.fc();const t=B.Bc(20);B.Bb(1),B.mc("ngIf",null==t.errors?null:t.errors.erroreNumero)}}function pa(t,i){if(1&t&&(B.Tb(0,"p",36),B.Oc(1),B.Sb()),2&t){B.fc(2);const t=B.Bc(30);B.Bb(1),B.Qc(" ",t.errors.erroreNumero," ")}}function ga(t,i){if(1&t&&(B.Tb(0,"div"),B.Mc(1,pa,2,1,"p",35),B.Sb()),2&t){B.fc();const t=B.Bc(30);B.Bb(1),B.mc("ngIf",null==t.errors?null:t.errors.erroreNumero)}}function ma(t,i){if(1&t&&(B.Tb(0,"p",36),B.Oc(1),B.Sb()),2&t){B.fc(2);const t=B.Bc(40);B.Bb(1),B.Qc(" ",t.errors.erroreNumero," ")}}function ha(t,i){if(1&t&&(B.Tb(0,"div"),B.Mc(1,ma,2,1,"p",35),B.Sb()),2&t){B.fc();const t=B.Bc(40);B.Bb(1),B.mc("ngIf",null==t.errors?null:t.errors.erroreNumero)}}function Sa(t,i){if(1&t&&(B.Tb(0,"p",36),B.Oc(1),B.Sb()),2&t){B.fc(2);const t=B.Bc(50);B.Bb(1),B.Qc(" ",t.errors.erroreNumero," ")}}function fa(t,i){if(1&t&&(B.Tb(0,"div"),B.Mc(1,Sa,2,1,"p",35),B.Sb()),2&t){B.fc();const t=B.Bc(50);B.Bb(1),B.mc("ngIf",null==t.errors?null:t.errors.erroreNumero)}}function Ta(t,i){if(1&t){const t=B.Ub();B.Tb(0,"form",12,13),B.bc("ngSubmit",(function(){B.Ec(t);const i=B.Bc(1);return B.fc(2).onSubmit(i)})),B.Tb(2,"div",14),B.Tb(3,"p-checkbox",47),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc(2).datiIstruttoriaDaInserire.controlloAntimafia=i})),B.Sb(),B.Sb(),B.Tb(4,"div",14),B.Tb(5,"p-checkbox",48),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc(2).datiIstruttoriaDaInserire.domAnnoPrecNonLiquidabile=i})),B.Sb(),B.Sb(),B.Ob(6,"br"),B.Tb(7,"div",14),B.Tb(8,"p-checkbox",49),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc(2).datiIstruttoriaDaInserire.bpsSanzioniAnnoPrecedente=i}))("onChange",(function(i){return B.Ec(t),B.fc(2).cleanBpsImportoSanzioniAnnoPrecedente(i)})),B.Sb(),B.Sb(),B.Tb(9,"div",18),B.Tb(10,"input",50,20),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc(2).datiIstruttoriaDaInserire.bpsImportoSanzioniAnnoPrecedente=i})),B.Sb(),B.Tb(12,"span",21),B.Oc(13,"Euro"),B.Sb(),B.Sb(),B.Mc(14,da,2,1,"div",0),B.Ob(15,"br"),B.Tb(16,"div",14),B.Tb(17,"p-checkbox",51),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc(2).datiIstruttoriaDaInserire.gioSanzioniAnnoPrecedente=i}))("onChange",(function(i){return B.Ec(t),B.fc(2).cleanGioImportoSanzioniAnnoPrecedente(i)})),B.Sb(),B.Sb(),B.Tb(18,"div",18),B.Tb(19,"input",52,24),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc(2).datiIstruttoriaDaInserire.gioImportoSanzioniAnnoPrecedente=i})),B.Sb(),B.Tb(21,"span",21),B.Oc(22,"Euro"),B.Sb(),B.Sb(),B.Mc(23,ua,2,1,"div",0),B.Ob(24,"br"),B.Tb(25,"div"),B.Tb(26,"label",25),B.Oc(27,"BPS - Superficie determinata dall'istruttore"),B.Sb(),B.Sb(),B.Tb(28,"div",18),B.Tb(29,"input",53,27),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc(2).datiIstruttoriaDaInserire.bPSSuperficie=i})),B.Sb(),B.Tb(31,"span",21),B.Oc(32,"Ha"),B.Sb(),B.Sb(),B.Mc(33,ga,2,1,"div",0),B.Ob(34,"br"),B.Tb(35,"div"),B.Tb(36,"label",25),B.Oc(37,"Greening - Superficie non ammissibile mancato rispetto Inverdimento Istruttore"),B.Sb(),B.Sb(),B.Tb(38,"div",18),B.Tb(39,"input",54,29),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc(2).datiIstruttoriaDaInserire.greeningSuperficie=i})),B.Sb(),B.Tb(41,"span",21),B.Oc(42,"Ha"),B.Sb(),B.Sb(),B.Mc(43,ha,2,1,"div",0),B.Ob(44,"br"),B.Tb(45,"div"),B.Tb(46,"label",25),B.Oc(47,"Importo Salari Azienda"),B.Sb(),B.Sb(),B.Tb(48,"div",18),B.Tb(49,"input",55,31),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc(2).datiIstruttoriaDaInserire.importoSalari=i})),B.Sb(),B.Tb(51,"span",21),B.Oc(52,"Euro"),B.Sb(),B.Sb(),B.Mc(53,fa,2,1,"div",0),B.Ob(54,"br"),B.Tb(55,"div"),B.Tb(56,"label",25),B.Oc(57,"Note"),B.Sb(),B.Sb(),B.Tb(58,"div",18),B.Tb(59,"textarea",56),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc(2).datiIstruttoriaDaInserire.noteIstruttore=i})),B.Sb(),B.Sb(),B.Ob(60,"br"),B.Tb(61,"div"),B.Ob(62,"div",33),B.Sb(),B.Sb()}if(2&t){const t=B.Bc(11),i=B.Bc(20),e=B.Bc(30),o=B.Bc(40),a=B.Bc(50),n=B.fc(2);B.Bb(3),B.mc("ngModel",n.datiIstruttoriaDaInserire.controlloAntimafia),B.Bb(2),B.mc("ngModel",n.datiIstruttoriaDaInserire.domAnnoPrecNonLiquidabile),B.Bb(3),B.mc("ngModel",n.datiIstruttoriaDaInserire.bpsSanzioniAnnoPrecedente),B.Bb(2),B.mc("ngModel",n.datiIstruttoriaDaInserire.bpsImportoSanzioniAnnoPrecedente)("disabled",!n.datiIstruttoriaDaInserire.bpsSanzioniAnnoPrecedente),B.Bb(4),B.mc("ngIf",t&&t.errors),B.Bb(3),B.mc("ngModel",n.datiIstruttoriaDaInserire.gioSanzioniAnnoPrecedente),B.Bb(2),B.mc("ngModel",n.datiIstruttoriaDaInserire.gioImportoSanzioniAnnoPrecedente)("disabled",!n.datiIstruttoriaDaInserire.gioSanzioniAnnoPrecedente),B.Bb(4),B.mc("ngIf",i&&i.errors),B.Bb(6),B.mc("ngModel",n.datiIstruttoriaDaInserire.bPSSuperficie),B.Bb(4),B.mc("ngIf",e&&e.errors),B.Bb(6),B.mc("ngModel",n.datiIstruttoriaDaInserire.greeningSuperficie),B.Bb(4),B.mc("ngIf",o&&o.errors),B.Bb(6),B.mc("ngModel",n.datiIstruttoriaDaInserire.importoSalari),B.Bb(4),B.mc("ngIf",a&&a.errors),B.Bb(6),B.mc("ngModel",n.datiIstruttoriaDaInserire.noteIstruttore)}}function va(t,i){1&t&&(B.Tb(0,"div"),B.Tb(1,"p",36),B.Oc(2," Numero non valido "),B.Sb(),B.Sb())}function Ia(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div"),B.Tb(1,"div"),B.Tb(2,"label",25),B.Oc(3,"Pascolo - Verifica documentazione di trasporto (MAN3)"),B.Sb(),B.Sb(),B.Tb(4,"div",43),B.Tb(5,"p-dropdown",45),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc().$implicit.man3=i})),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=B.fc(),i=t.index,e=t.$implicit,o=B.fc(3);B.Bb(5),B.nc("formControlName",i+"man3"),B.mc("options",o.scelteMAN3)("ngModel",e.man3)}}function Oa(t,i){1&t&&(B.Tb(0,"div"),B.Tb(1,"p",36),B.Oc(2," CUAA non valido "),B.Sb(),B.Sb())}function Ca(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div"),B.Tb(1,"div"),B.Tb(2,"label",25),B.Oc(3,"Pascolo - CUAA del responsabile del pascolo (MAN4)"),B.Sb(),B.Sb(),B.Tb(4,"div",43),B.Tb(5,"input",57),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc().$implicit.man4=i})),B.Sb(),B.Sb(),B.Mc(6,Oa,3,0,"div",0),B.Sb()}if(2&t){const t=B.fc(),i=t.index,e=t.$implicit,o=B.fc(3);B.Bb(5),B.nc("formControlName",i+"man4"),B.mc("ngModel",e.man4),B.Bb(1),B.mc("ngIf",!o.formPascoli.controls[i+"man4"].valid)}}function Aa(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div"),B.Tb(1,"div"),B.Tb(2,"label",25),B.Oc(3,"Pascolo - Esito del controllo del mantenimento delle superfici per i pascoli fuori provincia (MAN5)"),B.Sb(),B.Sb(),B.Tb(4,"div",43),B.Tb(5,"p-dropdown",45),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc().$implicit.man5=i})),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=B.fc(),i=t.index,e=t.$implicit,o=B.fc(3);B.Bb(5),B.nc("formControlName",i+"man5"),B.mc("options",o.scelteMAN5)("ngModel",e.man5)}}function Da(t,i){if(1&t){const t=B.Ub();B.Tb(0,"p-accordionTab",42),B.Tb(1,"div"),B.Tb(2,"div"),B.Tb(3,"label",25),B.Oc(4,"Pascolo - Superfice determinata dall'istruttore"),B.Sb(),B.Sb(),B.Tb(5,"div",43),B.Tb(6,"input",57),B.bc("ngModelChange",(function(e){return B.Ec(t),i.$implicit.superficie=e})),B.Sb(),B.Tb(7,"span",21),B.Oc(8,"Ha"),B.Sb(),B.Sb(),B.Mc(9,va,3,0,"div",0),B.Sb(),B.Mc(10,Ia,6,3,"div",0),B.Mc(11,Ca,7,3,"div",0),B.Mc(12,Aa,6,3,"div",0),B.Sb()}if(2&t){const t=i.$implicit,e=i.index,o=B.fc(3);B.nc("header",t.descPascolo),B.Bb(6),B.nc("formControlName",e+"superficie"),B.mc("ngModel",t.superficie),B.Bb(3),B.mc("ngIf",!o.formPascoli.controls[e+"superficie"].valid),B.Bb(1),B.mc("ngIf",t.hasOwnProperty("man3")),B.Bb(1),B.mc("ngIf",t.hasOwnProperty("man4")),B.Bb(1),B.mc("ngIf",t.hasOwnProperty("man5"))}}function Pa(t,i){if(1&t&&(B.Tb(0,"div",37),B.Tb(1,"div"),B.Tb(2,"h3"),B.Tb(3,"span"),B.Oc(4,"Dati istruttoria pascoli"),B.Sb(),B.Sb(),B.Tb(5,"form",38),B.Tb(6,"div",39),B.Tb(7,"p-accordion"),B.Mc(8,Da,13,7,"p-accordionTab",40),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t){const t=B.fc(2);B.Bb(5),B.mc("formGroup",t.formPascoli),B.Bb(3),B.mc("ngForOf",t.arrayPascoli)}}const Ba=function(){return{marginTop:"70px"}};function Na(t,i){if(1&t&&(B.Tb(0,"div"),B.Ob(1,"p-toast",1),B.Tb(2,"div",2),B.Tb(3,"div",3),B.Tb(4,"div",4),B.Tb(5,"div",5),B.Tb(6,"div",6),B.Tb(7,"h3"),B.Tb(8,"span"),B.Oc(9,"Dati istruttoria"),B.Sb(),B.Sb(),B.Mc(10,ta,65,18,"form",7),B.Sb(),B.Sb(),B.Sb(),B.Tb(11,"div",8),B.Tb(12,"div",5),B.Mc(13,sa,11,3,"div",9),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Tb(14,"div",10),B.Tb(15,"div",3),B.Tb(16,"div",4),B.Tb(17,"div",5),B.Tb(18,"div",6),B.Tb(19,"h3"),B.Tb(20,"span"),B.Oc(21,"Dati istruttoria"),B.Sb(),B.Sb(),B.Mc(22,Ta,63,17,"form",7),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Tb(23,"div",11),B.Tb(24,"div",5),B.Mc(25,Pa,9,2,"div",9),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t){const t=B.fc();B.Bb(1),B.Kc(B.rc(22,Ba)),B.Bb(1),B.mc("a4gHasPermission","MODIFICABILE")("annoCampagna",t.getIstruttoriaCorrente().annoRiferimento)("statoSostegno",t.domandaCorrenteDettaglio.statoSostegno)("tipoIstruttoria",t.getIstruttoriaCorrente().tipoIstruttoria),B.Bb(8),B.mc("ngIf",t.datiIstruttoriaDaInserire),B.Bb(1),B.mc("a4gHasPermission","MODIFICABILE")("annoCampagna",t.getIstruttoriaCorrente().annoRiferimento)("statoSostegno",t.domandaCorrenteDettaglio.statoSostegno)("tipoIstruttoria",t.getIstruttoriaCorrente().tipoIstruttoria),B.Bb(2),B.mc("ngIf",t.arrayPascoli.length>0),B.Bb(1),B.mc("a4gHasPermission","NON_MODIFICABILE")("statoSostegno",t.domandaCorrenteDettaglio.statoSostegno)("tipoIstruttoria",t.getIstruttoriaCorrente().tipoIstruttoria)("annoCampagna",t.getIstruttoriaCorrente().annoRiferimento),B.Bb(8),B.mc("ngIf",t.datiIstruttoriaDaInserire),B.Bb(1),B.mc("a4gHasPermission","NON_MODIFICABILE")("statoSostegno",t.domandaCorrenteDettaglio.statoSostegno)("tipoIstruttoria",t.getIstruttoriaCorrente().tipoIstruttoria)("annoCampagna",t.getIstruttoriaCorrente().annoRiferimento),B.Bb(2),B.mc("ngIf",t.arrayPascoli.length>0)}}let za=(()=>{class t{constructor(t,i,e,o,a,n){this.route=t,this.istruttoriaService=i,this.messageService=e,this.domandaIstruttoriacorrente=o,this.fb=a,this.sharedService=n,this.arrayPascoli=[],this.scelteMAN3=[{label:"",value:""},{label:"Presente",value:"PRESENTE"},{label:"Incompleta",value:"INCOMPLETA"},{label:"Assente",value:"ASSENTE"}],this.scelteMAN5=[{label:"",value:""},{label:"Positivo",value:"POSITIVO"},{label:"Negativo",value:"NEGATIVO"}],this._serviceSubscription=this.sharedService.domandSettata.subscribe(t=>{this.caricaDatiDettaglio()})}ngOnInit(){this.route.params.subscribe(t=>{this.idDomandaCorrente=t.idDomanda});const t=this.route.snapshot.paramMap.get("idIstruttoria");this.istruttoriaService.getIstruttoria(+t).toPromise().then(t=>{this.istruttoriaCorrente=t}),null!=this.domandaIstruttoriacorrente.domanda&&null==this.domandaCorrenteDettaglio&&this.caricaDatiDettaglio(),this.istruttoriaService.getDatiPascoloByID_Domanda(this.idDomandaCorrente,!0).subscribe(t=>{console.log(t),this.arrayPascoli=Go.a.ArrPascoloDaoToArrPascolo(t);for(let e in this.arrayPascoli){let t=this.arrayPascoli[e];i[e+"codicePascolo"]=[t.codicePascolo],i[e+"superficie"]=[t.superficie,y.G.pattern(/^\d*(\.?\d*)$/)],t instanceof Go.c&&(i[e+"man4"]=[t.man4,y.G.pattern(/^[a-zA-Z0-9]{16}|^[a-zA-Z0-9]{11}$/)]),t instanceof Go.d&&(i[e+"man4"]=[t.man4],i[e+"man5"]=[t.man5]),t instanceof Go.b&&(i[e+"man3"]=[t.man3])}this.formPascoli=this.fb.group(i)});let i={}}caricaDatiDettaglio(){this.domandaCorrenteDettaglio=this.domandaIstruttoriacorrente.domanda,this.datiIstruttoriaDaInserire=null!=this.domandaCorrenteDettaglio.datiIstruttoria?this.domandaCorrenteDettaglio.datiIstruttoria:new Fo.a}onSubmit(t){console.log("Submit"),console.log(this.datiIstruttoriaDaInserire),this.istruttoriaService.setDatiIstruttoria(this.idDomandaCorrente,this.datiIstruttoriaDaInserire).subscribe(t=>{console.log("Salvataggio dati Istruttoria avvenuto con successo"),this.messageService.add(b.a.getToast("tst",b.b.success,b.a.OPERAZIONE_OK))},t=>{console.error("Errore in salvataggio dati Istruttoria: "+t),console.error(t),b.a.handleError(this.messageService,t,b.a.ERRORE_SALVATAGGIO_DATI_ISTRUTTORIA)})}consume(){this.cleanup()}cleanup(){this._serviceSubscription.unsubscribe()}salvaDatiIstruttoria(){if(this.formPascoli.valid){this.formPascoli.getRawValue();let t=new Array;for(let i of this.arrayPascoli)"PascoloDentroProvincia"===i.tipoPascolo&&t.push(new Vo.a("","",i.descPascolo,i.superficie,i.man4)),"PascoloFuoriProvincia"===i.tipoPascolo&&t.push(new Vo.a(i.man5,"",i.descPascolo,i.superficie,i.man4)),"PascoloAziendale"===i.tipoPascolo&&t.push(new Vo.a("",i.man3,i.descPascolo,i.superficie));this.istruttoriaService.saveDatiIstruttoriaPascoli(this.idDomandaCorrente,t).subscribe(t=>console.log(t))}}cleanBpsImportoSanzioniAnnoPrecedente(t){console.log(t),!1===t&&(this.datiIstruttoriaDaInserire.bpsImportoSanzioniAnnoPrecedente=null)}cleanGioImportoSanzioniAnnoPrecedente(t){!1===t&&(this.datiIstruttoriaDaInserire.gioImportoSanzioniAnnoPrecedente=null)}getIstruttoriaCorrente(){return this.istruttoriaCorrente}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(c.a),B.Nb(l.a),B.Nb(N.d),B.Nb(Zi),B.Nb(y.f),B.Nb(Vi))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-inserimento-dati-istruttoria"]],decls:1,vars:1,consts:[[4,"ngIf"],["key","tst"],[3,"a4gHasPermission","annoCampagna","statoSostegno","tipoIstruttoria"],[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],[2,"background","#fff","padding","30px","display","inline-block","width","100%"],["class","ui-g-12",3,"ngSubmit",4,"ngIf"],[1,"boxgrey",2,"padding-top","50px","display","inline-block",3,"a4gHasPermission","annoCampagna","statoSostegno","tipoIstruttoria"],["class","boxgrey",4,"ngIf"],[3,"a4gHasPermission","statoSostegno","tipoIstruttoria","annoCampagna"],[1,"boxgrey",2,"padding-top","50px","display","inline-block",3,"a4gHasPermission","statoSostegno","tipoIstruttoria","annoCampagna"],[1,"ui-g-12",3,"ngSubmit"],["f","ngForm"],[2,"font-size","15px","font-weight","normal !important"],["name","controlloAntimafia","binary","true","label","Si attesta che la certificazione antimafia \xe8 stata acquisita in maniera cartacea o che il pagamento viene effettuato su conduzione risolutiva legata all'esito degli accertamenti",3,"ngModel","ngModelChange"],["name","domAnnoPrecNonLiquidabile","binary","true","label","Si attesta che la domanda unica dell'anno precedente dell'azienda non \xe8 liquidabile",3,"ngModel","ngModelChange"],["name","bpsSanzioniAnnoPrecedente","binary","true","label","Si attesta che l'azienda \xe8 stata soggetta, negli anni precedenti, a sanzioni per il premio di base e che nella domanda dell'anno precedente \xe8 stata scontata una sanzione, da recuperare quest'anno, di importo:",3,"ngModel","ngModelChange","onChange"],[1,"ui-inputgroup","input-width"],["type","text","name","bpsImportoSanzioniAnnoPrecedente","pInputText","","appValidaNumero2dec","","required","",2,"width","80%",3,"ngModel","disabled","ngModelChange"],["bpsImportoSanzioniAnnoPrecedenteInput","ngModel"],[1,"ui-inputgroup-addon",2,"padding","10px 20px","background","#f0f0f0","border","1px solid #dedede"],["name","gioSanzioniAnnoPrecedente","binary","true","label","Si attesta che l'azienda \xe8 stata soggetta, negli anni precedenti, a sanzioni per il premio giovane e che nella domanda dell'anno precedente \xe8 stata scontata una sanzione, da recuperare quest'anno, di importo:",3,"ngModel","ngModelChange","onChange"],["type","text","name","gioImportoSanzioniAnnoPrecedente","pInputText","","appValidaNumero2dec","","required","",2,"width","80%",3,"ngModel","disabled","ngModelChange"],["gioImportoSanzioniAnnoPrecedenteInput","ngModel"],[1,"labelricerca"],["type","text","name","bPSSuperficie","pInputText","","appValidaNumero4dec","",2,"width","80%",3,"ngModel","ngModelChange"],["bPSSuperficieInput","ngModel"],["type","text","name","greeningSuperficie","pInputText","","appValidaNumero4dec","",2,"width","80%",3,"ngModel","ngModelChange"],["greeningInput","ngModel"],["type","text","name","importoSalari","pInputText","","appValidaNumero2dec","",2,"width","80%",3,"ngModel","ngModelChange"],["importoSalariInput","ngModel"],["name","noteIstruttore","rows","5","cols","30","pInputTextarea","","autoResize","autoResize",2,"width","100%",3,"ngModel","ngModelChange"],[1,"ui-g-12","ui-md-2","searchbutton"],["pButton","","type","button","type","submit",1,"ui-button-success",3,"disabled"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],[1,"ui-message","ui-messages-error","ui-corner-all"],[1,"boxgrey"],[3,"formGroup"],[1,"accordion-wrapper","dettaglioaccordion","mlp"],[3,"header",4,"ngFor","ngForOf"],["pButton","","type","button","class","ui-button-success","type","submit",3,"click",4,"ngIf"],[3,"header"],[1,"ui-inputgroup"],["type","text","pInputText","",2,"width","100%",3,"ngModel","formControlName","ngModelChange"],[3,"options","ngModel","formControlName","ngModelChange"],["pButton","","type","button","type","submit",1,"ui-button-success",3,"click"],["disabled","","name","controlloAntimafia","binary","true","label","Si attesta che la certificazione antimafia \xe8 stata acquisita in maniera cartacea o che il pagamento viene effettuato su conduzione risolutiva legata all'esito degli accertamenti",3,"ngModel","ngModelChange"],["disabled","","name","domAnnoPrecNonLiquidabile","binary","true","label","Si attesta che la domanda unica dell'anno precedente dell'azienda non \xe8 liquidabile",3,"ngModel","ngModelChange"],["disabled","","name","bpsSanzioniAnnoPrecedente","binary","true","label","Si attesta che l'azienda \xe8 stata soggetta, negli anni precedenti, a sanzioni per il premio di base e che nella domanda dell'anno precedente \xe8 stata scontata una sanzione, da recuperare quest'anno, di importo:",3,"ngModel","ngModelChange","onChange"],["disabled","","type","text","name","bpsImportoSanzioniAnnoPrecedente","pInputText","","appValidaNumero2dec","","required","",2,"width","80%",3,"ngModel","disabled","ngModelChange"],["disabled","","name","gioSanzioniAnnoPrecedente","binary","true","label","Si attesta che l'azienda \xe8 stata soggetta, negli anni precedenti, a sanzioni per il premio giovane e che nella domanda dell'anno precedente \xe8 stata scontata una sanzione, da recuperare quest'anno, di importo:",3,"ngModel","ngModelChange","onChange"],["disabled","","type","text","name","gioImportoSanzioniAnnoPrecedente","pInputText","","appValidaNumero2dec","","required","",2,"width","80%",3,"ngModel","disabled","ngModelChange"],["disabled","","type","text","name","bPSSuperficie","pInputText","","appValidaNumero4dec","",2,"width","80%",3,"ngModel","ngModelChange"],["disabled","","type","text","name","greeningSuperficie","pInputText","","appValidaNumero4dec","",2,"width","80%",3,"ngModel","ngModelChange"],["disabled","","type","text","name","importoSalari","pInputText","","appValidaNumero2dec","",2,"width","80%",3,"ngModel","ngModelChange"],["disabled","","name","noteIstruttore","rows","5","cols","30","pInputTextarea","","autoResize","autoResize",2,"width","100%",3,"ngModel","ngModelChange"],["type","text","pInputText","","disabled","",2,"width","100%",3,"ngModel","formControlName","ngModelChange"]],template:function(t,i){1&t&&B.Mc(0,Na,26,23,"div",0),2&t&&B.mc("ngIf",i.istruttoriaCorrente)},directives:[o.t,M.a,Hi.a,y.I,y.t,y.u,xi.a,y.s,y.v,y.c,Zo.a,Uo,y.D,ko,L.b,y.k,_i.a,o.s,_i.c,y.i,R.a],styles:[".input-width[_ngcontent-%COMP%]{width:80%}"]}),t})(),Ma=(()=>{class t{constructor(){}ngOnInit(){this.menu2=new Array({routerLink:Yt.a.superficiImpegnate,label:"Superfici Impegnate"},{routerLink:Yt.a.dichiarazioni,label:"Dichiarazioni"},{routerLink:Yt.a.informazioniDomanda,label:"Informazioni di domanda"},{routerLink:Yt.a.controlliSostegno,label:"Controlli di sostegno"},{routerLink:Yt.a.datiDomanda,label:"Esiti di domanda"},{routerLink:Yt.a.datiPerPascolo,label:"Esiti per pascolo"},{routerLink:Yt.a.datiParticella,label:"Dati per particella"},{routerLink:Yt.a.datiIstruttoria,label:"Inserimento dati Istruttoria"})}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=B.Hb({type:t,selectors:[["app-disaccoppiato-controlli-superati"]],decls:7,vars:1,consts:[[1,"ui-g","ui-fluid"],[1,"ui-g-12",2,"padding-bottom","0px !important"],[1,"ui-grid-fixed"],[1,"funzioni-grid","tabsmall",2,"margin-bottom","0px !important","margin-top","40px !important"],[3,"model"],[2,"width","100%"]],template:function(t,i){1&t&&(B.Tb(0,"div",0),B.Tb(1,"div",1),B.Tb(2,"div",2),B.Tb(3,"div",3),B.Ob(4,"p-tabMenu",4),B.Sb(),B.Sb(),B.Sb(),B.Tb(5,"div",5),B.Ob(6,"router-outlet"),B.Sb(),B.Sb()),2&t&&(B.Bb(4),B.mc("model",i.menu2))},directives:[Ot.a,c.j],styles:[""]}),t})();function Ra(t,i){if(1&t){const t=B.Ub();B.Tb(0,"button",13),B.bc("click",(function(){return B.Ec(t),B.fc(2).dettaglioIstruttoria.goListaSostegno("RICHIESTO")})),B.Sb()}if(2&t){const t=B.fc().$implicit;B.mc("disabled",0===t.counter)}}function ya(t,i){if(1&t){const t=B.Ub();B.Tb(0,"button",13),B.bc("click",(function(){return B.Ec(t),B.fc(2).avviaAccoppiatoZootecnia()})),B.Sb()}if(2&t){const t=B.fc().$implicit;B.mc("disabled",0===t.counter)}}function Ea(t,i){if(1&t){const t=B.Ub();B.Tb(0,"button",13),B.bc("click",(function(){return B.Ec(t),B.fc(2).avviaAccoppiatoSuperficie()})),B.Sb()}if(2&t){const t=B.fc().$implicit;B.mc("disabled",0===t.counter)}}function La(t,i){if(1&t&&(B.Tb(0,"div",7),B.Tb(1,"div",8),B.Tb(2,"label",9),B.Oc(3),B.Sb(),B.Sb(),B.Tb(4,"div",10),B.Oc(5),B.Sb(),B.Tb(6,"div",11),B.Mc(7,Ra,1,1,"button",12),B.Mc(8,ya,1,1,"button",12),B.Mc(9,Ea,1,1,"button",12),B.Sb(),B.Sb()),2&t){const t=i.$implicit;B.Bb(3),B.Pc(t.descrizioneSostegno),B.Bb(2),B.Pc(t.counter),B.Bb(2),B.mc("ngIf","SOSTEGNO DISACCOPPIATO"===t.descrizioneSostegno),B.Bb(1),B.mc("ngIf","SOSTEGNO ACCOPPIATO ZOOTECNIA"===t.descrizioneSostegno),B.Bb(1),B.mc("ngIf","SOSTEGNO ACCOPPIATO SUPERFICI"===t.descrizioneSostegno)}}let wa=(()=>{class t{constructor(t,i,e){this.router=t,this.route=i,this.istruttoriaService=e,this.displayChange=new B.n}ngOnInit(){}onC(){this.display=!1,this.displayChange.emit(!1)}naviga(){this.router.navigate([""])}avviaAccoppiatoZootecnia(){this.router.navigate(["./"+Yt.a.ACC_ZOOTECNIA],{relativeTo:this.route})}avviaAccoppiatoSuperficie(){this.router.navigate(["./"+Yt.a.cruscottoAccoppiatoSuperficie],{relativeTo:this.route})}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(c.e),B.Nb(c.a),B.Nb(l.a))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-in-istruttoria-dialog"]],inputs:{display:"display",dettaglioIstruttoria:"dettaglioIstruttoria"},outputs:{displayChange:"displayChange"},decls:9,vars:4,consts:[["id","confirm"],["width","710","appendTo","body",3,"visible","modal","closable","visibleChange"],["dialog",""],[1,"popup-istruttoria"],["class","ui-g",4,"ngFor","ngForOf"],[1,"ui-g-12"],["pButton","","type","button","label","CHIUDI",1,"annulla",3,"click"],[1,"ui-g"],[1,"ui-g-6"],[1,"label-color-cruscottoIstruttoria"],[1,"ui-g-2","num-domande"],[1,"ui-g-4","text-right"],["pButton","","type","button","label","Accedi al cruscotto","class","btn-green","style","min-height:42px; box-shadow:none;",3,"disabled","click",4,"ngIf"],["pButton","","type","button","label","Accedi al cruscotto",1,"btn-green",2,"min-height","42px","box-shadow","none",3,"disabled","click"]],template:function(t,i){1&t&&(B.Tb(0,"div",0),B.Tb(1,"p-dialog",1,2),B.bc("visibleChange",(function(t){return i.display=t})),B.Tb(3,"div",3),B.Tb(4,"h1"),B.Oc(5,"IN ISTRUTTORIA"),B.Sb(),B.Mc(6,La,10,5,"div",4),B.Tb(7,"div",5),B.Tb(8,"button",6),B.bc("click",(function(){return i.onC()})),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t&&(B.Bb(1),B.mc("visible",i.display)("modal",!0)("closable",!1),B.Bb(5),B.mc("ngForOf",i.dettaglioIstruttoria.listaRiepilogoSostegno))},directives:[x.a,o.s,L.b,o.t],styles:[""]}),t})();function xa(t,i){if(1&t){const t=B.Ub();B.Tb(0,"app-in-istruttoria-dialog",10),B.bc("displayChange",(function(i){return B.Ec(t),B.fc().onIstruttoriaDialogClose(i)})),B.Sb()}if(2&t){const t=B.fc();B.mc("display",t.displayInIstruttoriaDialog)("dettaglioIstruttoria",t.dettaglioIstruttoria)}}function _a(t,i){if(1&t){const t=B.Ub();B.Tb(0,"button",11),B.bc("click",(function(){B.Ec(t);const i=B.fc();return i.dettaglioIstruttoria.goListaDomande(i.riepilogoStatoDomande.stato)})),B.Sb()}if(2&t){const t=B.fc();B.mc("disabled",0==t.riepilogoStatoDomande.counter)}}function ka(t,i){if(1&t){const t=B.Ub();B.Tb(0,"button",12),B.bc("click",(function(){return B.Ec(t),B.fc().dettaglioIstruttoria.avviaProcessoIstruttoria("RICEV_AGS")})),B.Sb()}if(2&t){const t=B.fc();B.mc("disabled",t.dettaglioIstruttoria.disableAvviaRicevibilita)}}function Ua(t,i){if(1&t){const t=B.Ub();B.Tb(0,"button",13),B.bc("click",(function(){return B.Ec(t),B.fc().dettaglioIstruttoria.avviaProcessoIstruttoria("AVV_IST")})),B.Sb()}if(2&t){const t=B.fc();B.mc("disabled",t.dettaglioIstruttoria.disableAvviaIstruttoria)}}function Fa(t,i){if(1&t){const t=B.Ub();B.Tb(0,"p-button",14),B.bc("click",(function(){return B.Ec(t),B.fc().displayDialog()})),B.Sb()}}let Ga=(()=>{class t{constructor(){this.displayInIstruttoriaDialog=!1}ngOnInit(){}onIstruttoriaDialogClose(t){this.displayInIstruttoriaDialog=t}displayDialog(){this.displayInIstruttoriaDialog=!0}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=B.Hb({type:t,selectors:[["app-stato-domande-card"]],inputs:{riepilogoStatoDomande:"riepilogoStatoDomande",dettaglioIstruttoria:"dettaglioIstruttoria"},decls:19,vars:7,consts:[[3,"display","dettaglioIstruttoria","displayChange",4,"ngIf"],[1,"card-domande"],["id","sfondo-p-card"],["src","assets/img/img-antimafia.png",1,"dimensioni-icona"],[1,"label-font"],[1,"size-numero-domande","label-font"],["pButton","","type","button","label","VISUALIZZA DOMANDE","class","btn-white","id","visualizza-domande",3,"disabled","click",4,"ngIf"],["pButton","","type","button","class","btn-green","label","AVVIA RICEVIBILITA",3,"disabled","click",4,"ngIf"],["pButton","","type","button","class","btn-green","label","AVVIA ISTRUTTORIA",3,"disabled","click",4,"ngIf"],["label","DETTAGLI",3,"click",4,"ngIf"],[3,"display","dettaglioIstruttoria","displayChange"],["pButton","","type","button","label","VISUALIZZA DOMANDE","id","visualizza-domande",1,"btn-white",3,"disabled","click"],["pButton","","type","button","label","AVVIA RICEVIBILITA",1,"btn-green",3,"disabled","click"],["pButton","","type","button","label","AVVIA ISTRUTTORIA",1,"btn-green",3,"disabled","click"],["label","DETTAGLI",3,"click"]],template:function(t,i){1&t&&(B.Mc(0,xa,1,2,"app-in-istruttoria-dialog",0),B.Tb(1,"div",1),B.Tb(2,"p-card",2),B.Tb(3,"p-header"),B.Tb(4,"div"),B.Ob(5,"img",3),B.Tb(6,"label",4),B.Oc(7),B.Sb(),B.Sb(),B.Sb(),B.Tb(8,"div"),B.Tb(9,"label",5),B.Oc(10),B.Sb(),B.Sb(),B.Tb(11,"p-footer"),B.Tb(12,"div",4),B.Mc(13,_a,1,1,"button",6),B.Sb(),B.Tb(14,"div"),B.Mc(15,ka,1,1,"button",7),B.Mc(16,Ua,1,1,"button",8),B.Mc(17,Fa,1,0,"p-button",9),B.Ob(18,"br"),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t&&(B.mc("ngIf","IN ISTRUTTORIA"==i.riepilogoStatoDomande.stato),B.Bb(7),B.Qc(" ",i.riepilogoStatoDomande.stato,""),B.Bb(3),B.Pc(i.riepilogoStatoDomande.counter),B.Bb(3),B.mc("ngIf","PROTOCOLLATA"!=i.riepilogoStatoDomande.stato),B.Bb(2),B.mc("ngIf","PROTOCOLLATA"==i.riepilogoStatoDomande.stato),B.Bb(1),B.mc("ngIf","RICEVIBILE"==i.riepilogoStatoDomande.stato),B.Bb(1),B.mc("ngIf","IN ISTRUTTORIA"==i.riepilogoStatoDomande.stato))},directives:[o.t,n.a,N.c,N.b,wa,L.b,L.a],styles:[""]}),t})(),Va=(()=>{class t{constructor(t){this.istruttoriaService=t}resolve(t){return this.istruttoriaService.getDettaglioDomanda(t.paramMap.get("idDomanda"),null,null)}}return t.\u0275fac=function(i){return new(i||t)(B.Xb(l.a))},t.\u0275prov=B.Jb({token:t,factory:t.\u0275fac}),t})();var Za=e("DYOT"),$a=e("3Kf3"),Qa=e("3u2U");let qa=(()=>{class t{constructor(t){this.el=t,this.regex=new RegExp(/^\d{0,3}(\.?|(\.\d{0,2}))$/),this.specialKeys=["Backspace","Tab","End","Home","-","ArrowLeft","ArrowRight"],this.regex2=new RegExp(/^\d{3}$/)}onKeyDown(t){if(console.log(this.el.nativeElement.value),-1!==this.specialKeys.indexOf(t.key))return;const i=this.el.nativeElement.value,e=this.el.nativeElement.selectionStart,o=[i.slice(0,e),t.key,i.slice(e)].join("");o&&!String(o).match(this.regex)&&t.preventDefault()}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(B.l))},t.\u0275dir=B.Ib({type:t,selectors:[["","appValidateInputNumber",""]],hostBindings:function(t,i){1&t&&B.bc("keydown",(function(t){return i.onKeyDown(t)}))}}),t})();function Ha(t,i){if(1&t&&(B.Tb(0,"p-accordionTab",11),B.Oc(1),B.Sb()),2&t){const t=B.fc().$implicit;B.nc("header",t.descrizione1),B.mc("selected",!0)("disabled",!0),B.Bb(1),B.Qc(" ",null==t?null:t.valore," ")}}function ja(t,i){if(1&t&&(B.Tb(0,"div"),B.Mc(1,Ha,2,4,"p-accordionTab",10),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.mc("ngIf",null!=t)}}function Ka(t,i){if(1&t&&(B.Tb(0,"strong"),B.Oc(1),B.Sb()),2&t){const t=B.fc().$implicit;B.Bb(1),B.Pc(t.header)}}const Ya=function(t){return{width:t}};function Ja(t,i){if(1&t&&(B.Tb(0,"th",13),B.Mc(1,Ka,2,1,"strong",14),B.Sb()),2&t){const t=i.$implicit;B.mc("ngStyle",B.sc(2,Ya,t.width)),B.Bb(1),B.mc("ngIf",t.header)}}function Wa(t,i){if(1&t&&(B.Tb(0,"tr"),B.Mc(1,Ja,2,4,"th",12),B.Ob(2,"th"),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.mc("ngForOf",t)}}function Xa(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2),B.Sb(),B.Tb(3,"td"),B.Oc(4),B.Sb(),B.Sb()),2&t){const t=i.$implicit;B.Bb(2),B.Pc(t.valString.split("**")[0]),B.Bb(2),B.Pc(t.valString.split("**")[1])}}function tn(t,i){if(1&t&&B.Mc(0,Xa,5,2,"tr",6),2&t){const t=B.fc().$implicit;B.mc("ngForOf",t.datiInput)}}function en(t,i){if(1&t&&(B.Tb(0,"strong"),B.Oc(1),B.Sb()),2&t){const t=B.fc().$implicit;B.Bb(1),B.Pc(t.header)}}function on(t,i){if(1&t&&(B.Tb(0,"th",13),B.Mc(1,en,2,1,"strong",14),B.Sb()),2&t){const t=i.$implicit;B.mc("ngStyle",B.sc(2,Ya,t.width)),B.Bb(1),B.mc("ngIf",t.header)}}function an(t,i){if(1&t&&(B.Tb(0,"tr"),B.Mc(1,on,2,4,"th",12),B.Ob(2,"th"),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.mc("ngForOf",t)}}function nn(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2),B.Sb(),B.Tb(3,"td"),B.Oc(4),B.Sb(),B.Sb()),2&t){const t=i.$implicit;B.Bb(2),B.Pc(t.valString.split("**")[0]),B.Bb(2),B.Pc(t.valString.split("**")[1])}}function rn(t,i){if(1&t&&B.Mc(0,nn,5,2,"tr",6),2&t){const t=B.fc().$implicit;B.mc("ngForOf",t.datiOutput)}}function cn(t,i){if(1&t&&(B.Tb(0,"p-accordionTab",5),B.Mc(1,ja,2,1,"div",6),B.Tb(2,"p-table",7),B.Mc(3,Wa,3,1,"ng-template",8),B.Mc(4,tn,1,1,"ng-template",9),B.Sb(),B.Tb(5,"p-table",7),B.Mc(6,an,3,1,"ng-template",8),B.Mc(7,rn,1,1,"ng-template",9),B.Sb(),B.Sb()),2&t){const t=i.$implicit,e=i.index,o=B.fc();B.nc("header",o.arrayPascoli[e].descPascolo),B.Bb(1),B.mc("ngForOf",t.listaEsitiPascolo),B.Bb(1),B.mc("columns",o.cols)("value",o.dati)("autoLayout",!0)("paginator",!1)("responsive",!0),B.Bb(3),B.mc("columns",o.cols2)("value",o.dati)("autoLayout",!0)("paginator",!1)("responsive",!0)}}let sn=(()=>{class t{constructor(t,i){this.istruttoriaService=t,this.route=i,this.cols=[{header:"Dati in entrata",width:"70%"}],this.cols2=[{header:"Dati in uscita",width:"70%"}],this.cols3=[{header:"Anomalie",width:"70%"}],this.arrayPascoli=[],this.dati=[{}]}ngOnInit(){this.route.params.subscribe(t=>{this.idDomandaCorrente=t.idDomanda}),this.istruttoriaService.getDatiperPascoloByID_Domanda(this.idDomandaCorrente).subscribe(t=>{this.arrayPascoli=t,this.arrayPascoli&&this.arrayPascoli.sort((t,i)=>t.descPascolo<i.descPascolo?-1:1)})}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(l.a),B.Nb(c.a))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-dati-per-pascolo"]],decls:6,vars:1,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],[1,"accordion-wrapper","dettaglioaccordion","mlp"],[3,"header",4,"ngFor","ngForOf"],[3,"header"],[4,"ngFor","ngForOf"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","header"],["pTemplate","body"],[3,"header","selected","disabled",4,"ngIf"],[3,"header","selected","disabled"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[4,"ngIf"]],template:function(t,i){1&t&&(B.Tb(0,"div",0),B.Tb(1,"div",1),B.Tb(2,"div",2),B.Tb(3,"div",3),B.Tb(4,"p-accordion"),B.Mc(5,cn,8,12,"p-accordionTab",4),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t&&(B.Bb(5),B.mc("ngForOf",i.arrayPascoli))},directives:[_i.a,o.s,_i.c,a.q,N.e,o.t,o.w],styles:[""]}),t})(),ln=(()=>{class t{constructor(t){this.el=t,this.specialKeys=["Backspace","Tab","End","Home","-","ArrowLeft","ArrowRight"],this.regex=new RegExp(/^\d{0,5}(\.?|(\.\d{0,6}))$/)}onKeyDown(t){if(console.log(this.el.nativeElement.value),-1!==this.specialKeys.indexOf(t.key))return;const i=this.el.nativeElement.value,e=this.el.nativeElement.selectionStart,o=[i.slice(0,e),t.key,i.slice(e)].join("");o&&!String(o).match(this.regex)&&t.preventDefault()}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(B.l))},t.\u0275dir=B.Ib({type:t,selectors:[["","appValidateInputOtherNumber",""]],hostBindings:function(t,i){1&t&&B.bc("keydown",(function(t){return i.onKeyDown(t)}))}}),t})(),dn=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=B.Hb({type:t,selectors:[["app-cruscotto-accoppiati-container"]],decls:1,vars:0,template:function(t,i){1&t&&B.Ob(0,"router-outlet")},directives:[c.j],styles:[""]}),t})();var bn=e("69Tm");let un=(()=>{class t{constructor(t,i){this.activatedroute=t,this.router=i}ngOnInit(){this.datiIstruttoriaCorrente=this.activatedroute.snapshot.data.istruttoria,this.setSostegno(),this.setMenu()}setSostegno(){this.selectedSostegno=this.router.url.split("/").filter(t=>t===Yt.a.cruscottoAccoppiatoZootecnia).length>0?g.a.ZOOTECNIA:g.a.SUPERFICIE,this.selectedSostegno==g.a.ZOOTECNIA?(this.sostegno="zootecnia",this.title=bn.a.ISTRUTTORIA_ACCOPPIATO_ZOOTECNIA.toUpperCase()+" - "+this.datiIstruttoriaCorrente.annoRiferimento+" - "+this.datiIstruttoriaCorrente.tipoIstruttoria,this.route=Yt.a.calcoloAccoppiatoZootecnia):(this.sostegno="superficie",this.title=bn.a.ISTRUTTORIA_ACCOPPIATO_SUPERFICIE.toUpperCase()+" - "+this.datiIstruttoriaCorrente.annoRiferimento+" - "+this.datiIstruttoriaCorrente.tipoIstruttoria,this.route=Yt.a.calcoloAccoppiatoSuperficie),console.log("Sostegno: "+this.selectedSostegno)}setMenu(){this.menu1=new Array({routerLink:this.route,label:"Calcolo premio accoppiato "+this.sostegno},{routerLink:Yt.a.controlliLiquidabilita,label:"Controlli Liquidabilit\xe0"},{routerLink:Yt.a.liquidazione,label:"Liquidazione"})}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(c.a),B.Nb(c.e))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-cruscotto-accoppiati"]],decls:11,vars:2,consts:[[1,"ui-g","ui-fluid"],[1,"tophome"],[1,"ui-grid-fixed"],[1,"top-sub-green"],[1,"ui-g-12"],[3,"model"],[1,"disaccoppiato",2,"width","100%"]],template:function(t,i){1&t&&(B.Tb(0,"div",0),B.Tb(1,"div",1),B.Tb(2,"div",2),B.Tb(3,"h4"),B.Oc(4),B.Sb(),B.Sb(),B.Sb(),B.Tb(5,"div",3),B.Tb(6,"div",4),B.Tb(7,"div",2),B.Ob(8,"p-tabMenu",5),B.Sb(),B.Sb(),B.Sb(),B.Tb(9,"div",6),B.Ob(10,"router-outlet"),B.Sb(),B.Sb()),2&t&&(B.Bb(4),B.Pc(i.title),B.Bb(4),B.mc("model",i.menu1))},directives:[Ot.a,c.j],styles:[""]}),t})();var pn=e("5gIc"),gn=e("QceE");function mn(t,i){if(1&t&&(B.Tb(0,"span",7),B.Oc(1),B.Sb()),2&t){const t=B.fc().$implicit;B.Bb(1),B.Pc(t.value)}}function hn(t,i){if(1&t&&(B.Tb(0,"span",5),B.Oc(1),B.Mc(2,mn,2,1,"span",6),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.Qc("",t.label," "),B.Bb(1),B.mc("ngIf",t.value>=0)}}let Sn=(()=>{class t{constructor(t,i,e,o){this.router=t,this.route=i,this.istruttoriaService=e,this.loader=o}ngOnDestroy(){this.loader.resetTimeout()}ngOnInit(){this.loader.setTimeout(48e4),this.selectedSostegno=this.router.url.split("/").filter(t=>t===Yt.a.cruscottoAccoppiatoZootecnia).length>0?g.a.ZOOTECNIA:g.a.SUPERFICIE,this.buildMenu(),this.filterMenu(),this.activateMenu()}buildMenu(){this.route.snapshot.routeConfig.path!==Yt.a.calcoloAccoppiatoSuperficie&&this.route.snapshot.routeConfig.path!==Yt.a.calcoloAccoppiatoZootecnia||(this.menu2=new Array({id:q.a.RICHIESTO,command:t=>{this.router.navigate([q.a.RICHIESTO],{relativeTo:this.route})},label:"Richiesto"},{id:q.a.INTEGRATO,command:t=>{this.router.navigate([q.a.INTEGRATO],{relativeTo:this.route})},label:"Integrazioni Ammissibilit\xe0"},{id:q.a.CONTROLLI_CALCOLO_OK,command:t=>{this.router.navigate([q.a.CONTROLLI_CALCOLO_OK],{relativeTo:this.route})},label:"Controlli Superati"},{id:q.a.CONTROLLI_CALCOLO_KO,badge:"true",command:t=>{this.router.navigate([q.a.CONTROLLI_CALCOLO_KO],{relativeTo:this.route})},label:"Controlli Non Superati"},{id:q.a.NON_AMMISSIBILE,badge:"true",command:t=>{this.router.navigate([q.a.NON_AMMISSIBILE],{relativeTo:this.route})},label:"Non Ammissibili"})),this.route.snapshot.routeConfig.path===Yt.a.controlliLiquidabilita&&(this.menu2=new Array({id:q.a.CONTROLLI_CALCOLO_OK,command:t=>{this.router.navigate([q.a.CONTROLLI_CALCOLO_OK],{relativeTo:this.route})},label:"Controlli Superati"},{id:q.a.LIQUIDABILE,command:t=>{this.router.navigate([q.a.LIQUIDABILE],{relativeTo:this.route})},label:"Liquidabile"},{id:q.a.CONTROLLI_LIQUIDABILE_KO,command:t=>{this.router.navigate([q.a.CONTROLLI_LIQUIDABILE_KO],{relativeTo:this.route})},label:"Controlli liquidabilita' non superati"})),this.route.snapshot.routeConfig.path===Yt.a.liquidazione&&(this.menu2=new Array({id:q.a.LIQUIDABILE,command:t=>{this.router.navigate([q.a.LIQUIDABILE],{relativeTo:this.route})},label:"Liquidabile"},{id:q.a.NON_LIQUIDABILE,command:t=>{this.router.navigate([q.a.NON_LIQUIDABILE],{relativeTo:this.route})},label:"Non liquidabile"},{id:q.a.PAGAMENTO_NON_AUTORIZZATO,command:t=>{this.router.navigate([q.a.PAGAMENTO_NON_AUTORIZZATO],{relativeTo:this.route})},label:"Pagamento non autorizzato"},{id:q.a.CONTROLLI_INTERSOSTEGNO_OK,command:t=>{this.router.navigate([q.a.CONTROLLI_INTERSOSTEGNO_OK],{relativeTo:this.route})},label:"Controlli intersostegno superati"},{id:q.a.PAGAMENTO_AUTORIZZATO,command:t=>{this.router.navigate([q.a.PAGAMENTO_AUTORIZZATO],{relativeTo:this.route})},label:"Pagamento autorizzato"})),this.route.snapshot.routeConfig.path===Yt.a.calcoloAccoppiatoSuperficie&&this.menu2.splice(1,1)}filterMenu(){this.route.paramMap.subscribe(t=>{if(this.idIstruttoria=Number(t.get("idIstruttoria")),console.log("IdIstruttoria: "+this.idIstruttoria),this.route.snapshot.routeConfig.path===Yt.a.calcoloAccoppiatoSuperficie||this.route.snapshot.routeConfig.path===Yt.a.calcoloAccoppiatoZootecnia){const t=encodeURIComponent('{"idDatiSettore": '+this.idIstruttoria+', "statoDomanda": "'+Kt.a.IN_ISTRUTTORIA+'", "sostegno": "'+this.selectedSostegno+'", "statoSostegno" : "RICHIESTO" }');this.istruttoriaService.countDomandeFiltered(t).subscribe(t=>{this.menu2.filter(t=>"RICHIESTO"===t.id)[0].label="Richiesto ",this.menu2.filter(t=>"RICHIESTO"===t.id)[0].value=t});const i=encodeURIComponent('{"idDatiSettore": '+this.idIstruttoria+', "statoDomanda": "'+Kt.a.IN_ISTRUTTORIA+'", "sostegno": "'+this.selectedSostegno+'", "statoSostegno" : "CONTROLLI_CALCOLO_OK" }');this.istruttoriaService.countDomandeFiltered(i).subscribe(t=>{this.menu2.filter(t=>"CONTROLLI_CALCOLO_OK"===t.id)[0].label="Controlli Superati ",this.menu2.filter(t=>"CONTROLLI_CALCOLO_OK"===t.id)[0].value=t});const e=encodeURIComponent('{"idDatiSettore": '+this.idIstruttoria+', "statoDomanda": "'+Kt.a.IN_ISTRUTTORIA+'", "sostegno": "'+this.selectedSostegno+'", "statoSostegno" : "CONTROLLI_CALCOLO_KO" }');this.istruttoriaService.countDomandeFiltered(e).subscribe(t=>{this.menu2.filter(t=>"CONTROLLI_CALCOLO_KO"===t.id)[0].label="Controlli Non Superati ",this.menu2.filter(t=>"CONTROLLI_CALCOLO_KO"===t.id)[0].value=t});const o=encodeURIComponent('{"idDatiSettore": '+this.idIstruttoria+', "statoDomanda": "'+Kt.a.IN_ISTRUTTORIA+'", "sostegno": "'+this.selectedSostegno+'", "statoSostegno" : "NON_AMMISSIBILE" }');this.istruttoriaService.countDomandeFiltered(o).subscribe(t=>{this.menu2.filter(t=>"NON_AMMISSIBILE"===t.id)[0].label="Non Ammissibili ",this.menu2.filter(t=>"NON_AMMISSIBILE"===t.id)[0].value=t})}if(this.route.snapshot.routeConfig.path===Yt.a.calcoloAccoppiatoZootecnia){const t=encodeURIComponent('{"idDatiSettore": '+this.idIstruttoria+', "statoDomanda": "'+Kt.a.IN_ISTRUTTORIA+'", "sostegno": "'+this.selectedSostegno+'", "statoSostegno" : "INTEGRATO" }');this.istruttoriaService.countDomandeFiltered(t).subscribe(t=>{this.menu2.filter(t=>"INTEGRATO"===t.id)[0].label="Integrazioni Ammissibilit\xe0 ",this.menu2.filter(t=>"INTEGRATO"===t.id)[0].value=t})}if(this.route.snapshot.routeConfig.path===Yt.a.controlliLiquidabilita){const t=encodeURIComponent('{"idDatiSettore": '+this.idIstruttoria+', "statoDomanda": "'+Kt.a.IN_ISTRUTTORIA+'", "sostegno": "'+this.selectedSostegno+'", "statoSostegno" : "CONTROLLI_CALCOLO_OK" }');this.istruttoriaService.countDomandeFiltered(t).subscribe(t=>{this.menu2.filter(t=>"CONTROLLI_CALCOLO_OK"===t.id)[0].value=t});const i=encodeURIComponent('{"idDatiSettore": '+this.idIstruttoria+', "statoDomanda": "'+Kt.a.IN_ISTRUTTORIA+'", "sostegno": "'+this.selectedSostegno+'", "statoSostegno" : "LIQUIDABILE" }');this.istruttoriaService.countDomandeFiltered(i).subscribe(t=>{this.menu2.filter(t=>"LIQUIDABILE"===t.id)[0].value=t});const e=encodeURIComponent('{"idDatiSettore": '+this.idIstruttoria+', "statoDomanda": "'+Kt.a.IN_ISTRUTTORIA+'", "sostegno": "'+this.selectedSostegno+'", "statoSostegno" : "CONTROLLI_LIQUIDABILE_KO" }');this.istruttoriaService.countDomandeFiltered(e).subscribe(t=>{this.menu2.filter(t=>"CONTROLLI_LIQUIDABILE_KO"===t.id)[0].value=t})}if(this.route.snapshot.routeConfig.path===Yt.a.liquidazione){const t=encodeURIComponent('{"idDatiSettore": '+this.idIstruttoria+', "statoDomanda": "'+Kt.a.IN_ISTRUTTORIA+'", "sostegno": "'+this.selectedSostegno+'", "statoSostegno" : "LIQUIDABILE" }');this.istruttoriaService.countDomandeFiltered(t).subscribe(t=>{this.menu2.filter(t=>"LIQUIDABILE"===t.id)[0].label="Liquidabile ",this.menu2.filter(t=>"LIQUIDABILE"===t.id)[0].value=t});const i=encodeURIComponent('{"idDatiSettore": '+this.idIstruttoria+', "statoDomanda": "'+Kt.a.IN_ISTRUTTORIA+'", "sostegno":"'+this.selectedSostegno+'", "statoSostegno" : "PAGAMENTO_NON_AUTORIZZATO" }');this.istruttoriaService.countDomandeFiltered(i).subscribe(t=>{this.menu2.filter(t=>"PAGAMENTO_NON_AUTORIZZATO"===t.id)[0].label="Pagamento non autorizzato ",this.menu2.filter(t=>"PAGAMENTO_NON_AUTORIZZATO"===t.id)[0].value=t});const e=encodeURIComponent('{"idDatiSettore": '+this.idIstruttoria+', "statoDomanda": "'+Kt.a.IN_ISTRUTTORIA+'", "sostegno":"'+this.selectedSostegno+'", "statoSostegno" : "PAGAMENTO_AUTORIZZATO" }');this.istruttoriaService.countDomandeFiltered(e).subscribe(t=>{this.menu2.filter(t=>"PAGAMENTO_AUTORIZZATO"===t.id)[0].label="Pagamento autorizzato ",this.menu2.filter(t=>"PAGAMENTO_AUTORIZZATO"===t.id)[0].value=t});const o=encodeURIComponent('{"idDatiSettore": '+this.idIstruttoria+', "statoDomanda": "'+Kt.a.IN_ISTRUTTORIA+'", "sostegno": "'+this.selectedSostegno+'", "statoSostegno" : "CONTROLLI_INTERSOSTEGNO_OK" }');this.istruttoriaService.countDomandeFiltered(o).subscribe(t=>{this.menu2.filter(t=>"CONTROLLI_INTERSOSTEGNO_OK"===t.id)[0].label="Controlli intersostegno superati",this.menu2.filter(t=>"CONTROLLI_INTERSOSTEGNO_OK"===t.id)[0].value=t});const a=encodeURIComponent('{"idDatiSettore": '+this.idIstruttoria+', "statoDomanda": "'+Kt.a.IN_ISTRUTTORIA+'", "sostegno": "'+this.selectedSostegno+'", "statoSostegno" : "NON_LIQUIDABILE" }');this.istruttoriaService.countDomandeFiltered(a).subscribe(t=>{this.menu2.filter(t=>"NON_LIQUIDABILE"===t.id)[0].label="Non liquidabile ",this.menu2.filter(t=>"NON_LIQUIDABILE"===t.id)[0].value=t})}})}activateMenu(){this.activeTab=this.menu2[0],this.router.navigate([q.a.RICHIESTO],{relativeTo:this.route}),this.route.snapshot.routeConfig.path===Yt.a.controlliLiquidabilita&&this.router.navigate([q.a.CONTROLLI_CALCOLO_OK],{relativeTo:this.route}),this.route.snapshot.routeConfig.path===Yt.a.liquidazione&&this.router.navigate([q.a.LIQUIDABILE],{relativeTo:this.route})}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(c.e),B.Nb(c.a),B.Nb(l.a),B.Nb(pn.a))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-domande-accoppiati"]],decls:6,vars:2,consts:[[1,"ui-g-12",2,"padding-bottom","0px !important"],[1,"ui-grid-fixed"],[1,"funzioni-grid",2,"margin-bottom","0px !important","margin-top","40px !important"],[3,"model","activeItem"],["pTemplate","item"],[1,"ui-menuitem-text"],["class","colori-per-numeri",4,"ngIf"],[1,"colori-per-numeri"]],template:function(t,i){1&t&&(B.Tb(0,"div",0),B.Tb(1,"div",1),B.Tb(2,"div",2),B.Tb(3,"app-hack-ptab-menu",3),B.Mc(4,hn,3,2,"ng-template",4),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Ob(5,"router-outlet")),2&t&&(B.Bb(3),B.mc("model",i.menu2)("activeItem",i.activeTab))},directives:[gn.a,N.e,c.j,o.t],styles:[".colori-per-numeri[_ngcontent-%COMP%]{background:#00985a;line-height:0;color:#fff;font-size:13px;border-radius:30px;display:inline;padding:0 7px}"]}),t})();var fn=e("PqYM"),Tn=e("q1/g");let vn=(()=>{class t{constructor(){}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275prov=B.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class In{}var On=e("ovm2"),Cn=e("cAab"),An=e("tk/3");const Dn=["table"],Pn=["checkBox"];function Bn(t,i){if(1&t&&(B.Tb(0,"th",23),B.Tb(1,"strong"),B.Oc(2),B.Sb(),B.Ob(3,"p-sortIcon",24),B.Sb()),2&t){const t=i.$implicit;B.mc("pSortableColumn",t.field)("pSortableColumnDisabled",null==t.field),B.Bb(2),B.Pc(t.header),B.Bb(1),B.mc("field",t.field)}}function Nn(t,i){1&t&&(B.Tb(0,"th"),B.Tb(1,"strong"),B.Oc(2,"Identificativo Domanda Integrativa"),B.Sb(),B.Sb())}function zn(t,i){1&t&&(B.Tb(0,"th"),B.Tb(1,"strong"),B.Oc(2,"Data Ultimo Aggiornamento Domanda Integrativa"),B.Sb(),B.Sb())}function Mn(t,i){if(1&t){const t=B.Ub();B.Tb(0,"tr"),B.Tb(1,"th"),B.Tb(2,"p-checkbox",18,19),B.bc("click",(function(){B.Ec(t);const i=B.Bc(3);B.fc();const e=B.Bc(9);return B.fc().selezionaTutto(i.checked,e)}))("ngModelChange",(function(i){return B.Ec(t),B.fc(2).checked=i})),B.Sb(),B.Sb(),B.Mc(4,Bn,4,4,"th",20),B.Mc(5,Nn,3,0,"th",21),B.Mc(6,zn,3,0,"th",21),B.Tb(7,"th"),B.Tb(8,"strong"),B.Oc(9,"Selezionate: "),B.Sb(),B.Tb(10,"span",22),B.Oc(11),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=i.$implicit,e=B.Bc(3),o=B.fc(2);B.Bb(2),B.mc("ngModel",o.checked),B.Bb(2),B.mc("ngForOf",t),B.Bb(1),B.mc("ngIf",o.showColumnDI),B.Bb(1),B.mc("ngIf",o.showColumnDI),B.Bb(5),B.Pc(e.checked?null==o.paginaDomande?null:o.paginaDomande.elementiTotali:null==o.domande?null:o.domande.length)}}function Rn(t,i){if(1&t&&(B.Tb(0,"td",29),B.Oc(1),B.Sb()),2&t){const t=B.fc().$implicit;B.Bb(1),B.Pc(t.identificativoDI)}}function yn(t,i){if(1&t&&(B.Tb(0,"td",29),B.Oc(1),B.gc(2,"date"),B.Sb()),2&t){const t=B.fc().$implicit;B.Bb(1),B.Qc(" ",t.identificativoDI?B.ic(2,1,t.dataDI,"dd-MMM-yyyy"):null,"")}}function En(t,i){if(1&t){const t=B.Ub();B.Tb(0,"td",29),B.Tb(1,"button",30),B.bc("click",(function(){B.Ec(t);const i=B.fc().$implicit;return B.fc(2).downloadVerbaleLiquidazione(i)})),B.Oc(2),B.Sb(),B.Sb()}if(2&t){const t=B.fc().$implicit;B.Bb(2),B.Pc(t.codiceElenco?t.codiceElenco:null)}}function Ln(t,i){if(1&t){const t=B.Ub();B.Tb(0,"tr",25),B.Tb(1,"td"),B.Ob(2,"p-tableCheckbox",26),B.Sb(),B.Tb(3,"td"),B.Oc(4),B.Sb(),B.Tb(5,"td"),B.Oc(6),B.Sb(),B.Tb(7,"td"),B.Oc(8),B.Sb(),B.Mc(9,Rn,2,1,"td",27),B.Mc(10,yn,3,4,"td",27),B.Mc(11,En,3,1,"td",27),B.Tb(12,"td"),B.Tb(13,"div",14),B.Tb(14,"button",28),B.bc("click",(function(){B.Ec(t);const e=i.$implicit;return B.fc(2).dettagliClick(e)})),B.Oc(15,"DETTAGLI"),B.Sb(),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=i.$implicit,e=B.fc(2);B.mc("pSelectableRow",t),B.Bb(2),B.mc("value",t),B.Bb(2),B.Pc(t.infoGeneraliDomanda.cuaaIntestatario),B.Bb(2),B.Pc(t.infoGeneraliDomanda.numeroDomanda),B.Bb(2),B.Pc(t.infoGeneraliDomanda.ragioneSociale),B.Bb(1),B.mc("ngIf",e.showColumnDI),B.Bb(1),B.mc("ngIf",e.showColumnDI),B.Bb(1),B.mc("ngIf",e.showElencoLiquidazione)}}function wn(t,i){1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2," Nessuna domanda trovata "),B.Sb(),B.Sb()),2&t&&(B.Bb(1),B.Cb("colspan",10))}function xn(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div",5),B.Tb(1,"button",31),B.bc("click",(function(){return B.Ec(t),B.fc(2).openPopupDatiAggregati()})),B.Oc(2,"DATI AGGREGATI"),B.Sb(),B.Sb()}}function _n(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div",5),B.Tb(1,"button",31),B.bc("click",(function(){return B.Ec(t),B.fc(2).downloadDatiCapiAgea()})),B.Oc(2,"DATI CAPI AGEA"),B.Sb(),B.Sb()}}function kn(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div",5),B.Tb(1,"button",31),B.bc("click",(function(){return B.Ec(t),B.fc(2).setStatusNonAmmissibile()})),B.Oc(2,"NON AMMISSIBILE"),B.Sb(),B.Sb()}}function Un(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div",5),B.Tb(1,"button",31),B.bc("click",(function(){return B.Ec(t),B.fc(2).avviaCalcoloPremioAccoppiati()})),B.Oc(2,"AVVIA CALCOLO PREMIO"),B.Sb(),B.Sb()}}function Fn(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div",5),B.Tb(1,"button",31),B.bc("click",(function(){return B.Ec(t),B.fc(2).avviaCalcoloCapi()})),B.Oc(2,"AVVIA CALCOLO CAPI"),B.Sb(),B.Sb()}}function Gn(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div",5),B.Tb(1,"button",31),B.bc("click",(function(){return B.Ec(t),B.fc(2).avviaCalcoloCapiConControllo()})),B.Oc(2,"AVVIA CALCOLO CAPI"),B.Sb(),B.Sb()}}function Vn(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div",32),B.Tb(1,"button",31),B.bc("click",(function(){return B.Ec(t),B.fc(2).avviaControlliLiquidazione()})),B.Oc(2,"AVVIA CONTROLLI LIQUIDAZIONE"),B.Sb(),B.Sb()}}function Zn(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div",32),B.Tb(1,"button",31),B.bc("click",(function(){return B.Ec(t),B.fc(2).avviaControlloIntersostegnoACS()})),B.Oc(2,"CREA ELENCO LIQUIDAZIONE"),B.Sb(),B.Sb()}}const $n=function(){return{marginTop:"70px"}};function Qn(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div",1),B.Tb(1,"div",2),B.Tb(2,"div",3),B.Ob(3,"p-toast",4),B.Tb(4,"div",5),B.Ob(5,"app-filtro-accoppiati",6),B.Sb(),B.Tb(6,"div",7),B.Tb(7,"div",8),B.Tb(8,"p-table",9,10),B.bc("onLazyLoad",(function(i){return B.Ec(t),B.fc().loadData(i)}))("selectionChange",(function(i){return B.Ec(t),B.fc().domande=i})),B.Mc(10,Mn,12,5,"ng-template",11),B.Mc(11,Ln,16,8,"ng-template",12),B.Mc(12,wn,3,1,"ng-template",13),B.Sb(),B.Tb(13,"div",14),B.Mc(14,xn,3,0,"div",15),B.Mc(15,_n,3,0,"div",15),B.Mc(16,kn,3,0,"div",15),B.Mc(17,Un,3,0,"div",15),B.Mc(18,Fn,3,0,"div",15),B.Mc(19,Gn,3,0,"div",15),B.Mc(20,Vn,3,0,"div",16),B.Mc(21,Zn,3,0,"div",16),B.Sb(),B.Sb(),B.Tb(22,"div",17),B.Tb(23,"h5"),B.Oc(24,"Processi di Controllo"),B.Sb(),B.Tb(25,"div"),B.Oc(26),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=B.fc();B.Bb(3),B.Kc(B.rc(21,$n)),B.Bb(2),B.mc("cuaaSuggestions",t.suggestionsCUAA)("denominazioneSuggestions",t.suggestionsDenominazione),B.Bb(3),B.mc("columns",t.cols)("value",t.paginaDomande.risultati)("autoLayout",!0)("totalRecords",t.paginaDomande.elementiTotali)("paginator",!0)("rows",t.elementiPerPagina)("lazy",!0)("selection",t.domande),B.Bb(6),B.mc("ngIf",t.showButtonVisualizzaDatiAggregati),B.Bb(1),B.mc("ngIf",t.showButtonDownloadDatiCapiAgea),B.Bb(1),B.mc("ngIf",t.showNonAmmissibile),B.Bb(1),B.mc("ngIf",t.showButtonAvviaCalcolo),B.Bb(1),B.mc("ngIf",t.showButtonCalcoloCapi),B.Bb(1),B.mc("ngIf",t.showButtonCalcoloCapiControllo),B.Bb(1),B.mc("ngIf",t.showButtonAvviaControlliLiquidazione),B.Bb(1),B.mc("ngIf",t.showButtonCreaElencoLiquidazione),B.Bb(5),B.Qc(" ",t.processiInCorso," ")}}let qn=(()=>{class t{constructor(t,i,e,o,a,n,r,c,s,l){this.istruttoriaService=t,this.route=i,this.router=e,this.filtroAccoppiati=o,this.elencoDomandeService=a,this.messageService=n,this.domandaIntegrativaService=r,this.loader=c,this.http=s,this._configuration=l,this.numeroPagina=1,this.elementiPerPagina=10,this.disableAvviaCalcolo=!1,this.disableOkCalcolo=!1,this.valueProgressbar=0,this.domande=[],this.showButtonCalcoloCapi=!1,this.showButtonAvviaCalcolo=!1,this.showButtonCalcoloCapiControllo=!1,this.showButtonVisualizzaDatiAggregati=!1,this.showButtonDownloadDatiCapiAgea=!1,this.showButtonAvviaControlliLiquidazione=!1,this.showColumnDI=!1,this.showButtonCreaElencoLiquidazione=!1,this.showElencoLiquidazione=!1,this.idList=[],this.showNonAmmissibile=!1,this.processiInCorso=bn.a.NESSUN_PROCESSO_DI_CONTROLLO,this.labels=bn.a,this.timeout=3e4}ngOnInit(){this.loader.setTimeout(48e4),this.statoSostegno=this.route.routeConfig.path,this.table=[],this.setParentTab(),this.setSostegno(),this.setSubProcessi(),this.setFiltroAccoppiati(),this.refreshProcessi(),this.autocompleteCuaa(),this.cols="PAGAMENTO_AUTORIZZATO"===this.statoSostegno?[{field:"cuaaIntestatario",header:"CUAA"},{field:"numeroDomanda",header:"Numero Domanda"},{field:"ragioneSociale",header:"Descrizione Impresa"},{field:null,header:"Elenco Liquidazione"}]:[{field:"cuaaIntestatario",header:"CUAA"},{field:"numeroDomanda",header:"Numero Domanda"},{field:"ragioneSociale",header:"Descrizione Impresa"}],this.paginaDomande=new pi}setSostegno(){console.log("stato sostegno: "+this.statoSostegno),this.selectedSostegno=this.router.url.split("/").filter(t=>t===Yt.a.cruscottoAccoppiatoZootecnia).length>0?g.a.ZOOTECNIA:g.a.SUPERFICIE,this.selectedSostegno==g.a.ZOOTECNIA?(this.idTipoProcesso="CLC_ACCOPPIATO_ZOOTECNIA","RICHIESTO"==this.statoSostegno?this.showButtonCalcoloCapi=!0:"INTEGRATO"==this.statoSostegno?(this.showButtonCalcoloCapiControllo=!0,this.showButtonVisualizzaDatiAggregati=!0,this.showButtonDownloadDatiCapiAgea=!0,this.showColumnDI=!0,this.showButtonAvviaCalcolo=!0):"NON_AMMISSIBILE"==this.statoSostegno?(this.showButtonCalcoloCapiControllo=!0,this.showColumnDI=!0):"CONTROLLI_CALCOLO_KO"==this.statoSostegno?(this.showButtonAvviaCalcolo=!0,this.showNonAmmissibile=!0):"CONTROLLI_CALCOLO_OK"==this.statoSostegno?"controlliLiquidabilita"===this.parent?this.showButtonAvviaControlliLiquidazione=!0:this.showButtonAvviaCalcolo=!0:"CONTROLLI_LIQUIDABILE_KO"==this.statoSostegno?this.showButtonAvviaControlliLiquidazione=!0:this.showColumnDI=!0):(this.idTipoProcesso="CLC_ACCOPPIATO_SUPERFICIE","controlliLiquidabilita"==this.parent&&(this.idTipoProcesso=d.a.CTRL_LIQ_ACC_SUPERFICIE),"liquidazione"==this.parent&&(this.idTipoProcesso=d.a.CTRL_INTERSOSTEGNO_ACC_SUPERFICIE),"RICHIESTO"===this.statoSostegno?this.showButtonAvviaCalcolo=!0:"CONTROLLI_CALCOLO_OK"===this.statoSostegno?"controlliLiquidabilita"===this.parent?this.showButtonAvviaControlliLiquidazione=!0:this.showButtonAvviaCalcolo=!0:"CONTROLLI_CALCOLO_KO"==this.statoSostegno?(this.showNonAmmissibile=!0,this.showButtonAvviaCalcolo=!0):"CONTROLLI_LIQUIDABILE_KO"==this.statoSostegno?this.showButtonAvviaControlliLiquidazione=!0:"LIQUIDABILE"==this.statoSostegno&&"liquidazione"==this.parent?(this.idTipoProcesso=d.a.CTRL_INTERSOSTEGNO_ACC_SUPERFICIE,this.showButtonCreaElencoLiquidazione=!0):"CONTROLLI_INTERSOSTEGNO_OK"==this.statoSostegno&&"liquidazione"==this.parent||"PAGAMENTO_NON_AUTORIZZATO"==this.statoSostegno&&"liquidazione"==this.parent?this.showButtonCreaElencoLiquidazione=!0:"PAGAMENTO_AUTORIZZATO"==this.statoSostegno&&"liquidazione"==this.parent&&(this.showElencoLiquidazione=!0))}setSubProcessi(){this.subIstruttoria=this.route.params.subscribe(t=>{this.idIstruttoria=t.idIstruttoria,this.getIstruttoria(t.idIstruttoria),this.getListaProcessiAttiviIstruttoria(t.idIstruttoria)})}getIstruttoria(t){this.istruttoriaService.getIstruttoria(t).subscribe(t=>{this.dettaglioIstruttoria=t,console.log("Istruttoria:"),console.log(this.dettaglioIstruttoria)})}getListaProcessiAttiviIstruttoria(t){this.istruttoriaService.getListaProcessiAttivi(encodeURIComponent('{ "idIstruttoria": '+t+" }")).subscribe(t=>{this.listaProcessiAttivi=t,null!=this.listaProcessiAttivi?this.listaProcessiAttivi.map(t=>{t.idTipoProcesso===this.idTipoProcesso&&(this.disableAvviaCalcolo=!0,this.valueProgressbar=t.percentualeAvanzamento,this.disableOkCalcolo=!0)}):this.listaProcessiAttivi=new Array})}setParentTab(){"calcoloAccoppiatoZootecnia"===this.route.parent.snapshot.routeConfig.path&&(this.parent="calcoloAccoppiatoZootecnia"),"calcoloAccoppiatoSuperficie"===this.route.parent.snapshot.routeConfig.path&&(this.parent="calcoloAccoppiatoSuperficie"),"controlliLiquidabilita"===this.route.parent.snapshot.routeConfig.path&&(this.parent="controlliLiquidabilita"),"liquidazione"===this.route.parent.snapshot.routeConfig.path&&(this.parent="liquidazione")}setFiltroAccoppiati(){this.filtroAccoppiati.elencoDomande=this,this.filtroAccoppiati.filtro=new In,this.filtroAccoppiati.filtro.statoSostegno=this.statoSostegno,this.filtroAccoppiati.filtro.statoDomanda="RICEVIBILE",this.filtroAccoppiati.filtro.sostegno=this.selectedSostegno,this.filtroAccoppiati.filtro.interventi=this.selectedSostegno==g.a.ZOOTECNIA?["310","311","313","315","320","321","316","318","322"]:["122","123","124","125","128","129","132","138","126"],this.filtroAccoppiati.filtro.idDatiSettore=this.idIstruttoria}refreshProcessi(){this.interval=setInterval(()=>{null!=this.listaProcessiAttivi&&this.listaProcessiAttivi.length>0&&(console.log("Verifica avanzamento processo"),this.listaProcessiAttivi.forEach(t=>{this.istruttoriaService.getProcesso(t.idProcesso).subscribe(i=>{if(t.percentualeAvanzamento=i.percentualeAvanzamento,i.percentualeAvanzamento>=100||"PROCESSO_KO"===i.idStatoProcesso){const i=this.listaProcessiAttivi.indexOf(t);-1!==i&&this.listaProcessiAttivi.splice(i,1),t.idTipoProcesso===this.idTipoProcesso&&(this.disableOkCalcolo=!1,this.disableAvviaCalcolo=!1)}})}))},1e4),this.checkStatoAvanzamento()}autocompleteCuaa(){const t=new On.a;t.sostegno=this.filtroAccoppiati.filtro.sostegno,t.statoDomanda=this.filtroAccoppiati.filtro.statoDomanda,t.statoSostegno=this.filtroAccoppiati.filtro.statoSostegno,this.elencoDomandeService.getSuggestionsAutocomplete(encodeURIComponent(JSON.stringify(t))).subscribe(t=>{if(this.suggestionsCUAA=[],this.suggestionsDenominazione=[],t)for(const i of t)this.suggestionsCUAA.push(i.cuaa),this.suggestionsDenominazione.push(i.denominazione)})}avviaCalcoloCapiConControllo(){if(this.idTipoProcesso="CLC_ACCOPPIATO_ZOOTECNIA",!this.domande||0==this.domande.length)return void this.messageService.add(b.a.getToast("tst",b.b.warn,b.a.calcoloAccoppiatiWarningNumeroDomande));const t=this.domande.filter(t=>null!=t.identificativoDI);null!=t&&t.length>0?this.messageService.add(b.a.getToast("tst",b.b.warn,b.a.calcoloAccoppiatiWarningDomandePresentate)):"INTEGRATO"!=this.statoSostegno&&"NON_AMMISSIBILE"!=this.statoSostegno||this.route.params.subscribe(t=>{this.istruttoriaService.getDatiDettaglio(t.idIstruttoria,{identificativoSostegno:g.a.ZOOTECNIA}).subscribe(t=>{let i=new Date,e=new Date(t.sostegnoDuDi.dtChiusuraDomanda);if(i<=e)this.calcoloCapi();else{let i=new Date(t.sostegnoDuDi.dtAperturaDomanda);this.messageService.add(b.a.getToast("tst",b.b.warn,b.a.calcoloFinestraTemporaleDomandaIntegrativa(i.toLocaleDateString(),e.toLocaleDateString())))}})})}avviaCalcoloCapi(){this.idTipoProcesso="CLC_ACCOPPIATO_ZOOTECNIA",this.domande&&0!=this.domande.length?this.calcoloCapi():this.messageService.add(b.a.getToast("tst",b.b.warn,b.a.calcoloAccoppiatiWarningNumeroDomande))}calcoloCapi(){const t=this.domande.map(t=>t.id);if(this.Checkbox.checked){const t=JSON.stringify(this.filtroAccoppiati.filtro),i='{ "numeroElementiPagina": '+this.paginaDomande.elementiTotali+', "pagina": 0}',e="";this.elencoDomandeService.getPaginaDomandeAttuale(encodeURIComponent(t),encodeURIComponent(i),encodeURIComponent(e)).subscribe(t=>{t.risultati.forEach(t=>{this.idList.push(t.id)});let i={campagna:this.dettaglioIstruttoria.annoRiferimento,idsDomande:this.idList};console.log(i),this.istruttoriaService.avviaAccoppiatoZootecnia(i).subscribe(t=>{this.runStatoAvanzamentoProcesso(this.idList.length),this.messageService.add(b.a.getToast("tst",b.b.success,this.idList.length>1?b.a.calcoloAccoppiatoACZProcessoAvviato(this.domande.length):b.a.calcoloAccoppiatoACZProcessoAvviatoDomandaSingola))},t=>{"BRIAMPRT001"==t.error.message?this.messageService.add(b.a.getToast("tst",b.b.warn,b.a.calcoloAccoppiatoACZProcessoControllo)):(console.log(t.error.message),this.messageService.add(b.a.getToast("tst",b.b.error,b.a.calcoloAccoppiatiErroreProcesso)))}),this.idList=[]})}else{let i={campagna:this.dettaglioIstruttoria.annoRiferimento,idsDomande:t};console.log(i),this.istruttoriaService.avviaAccoppiatoZootecnia(i).subscribe(i=>{this.messageService.add(b.a.getToast("tst",b.b.success,t.length>1?b.a.calcoloAccoppiatoACZProcessoAvviato(this.domande.length):b.a.calcoloAccoppiatoACZProcessoAvviatoDomandaSingola)),this.runStatoAvanzamentoProcesso(t.length)},t=>{"BRIAMPRT001"==t.error.message?this.messageService.add(b.a.getToast("tst",b.b.warn,b.a.calcoloAccoppiatoACZProcessoControllo)):(console.log(t.error.message),this.messageService.add(b.a.getToast("tst",b.b.error,b.a.calcoloAccoppiatiErroreProcesso)))})}}dettagliClick(t){this.router.navigate(["./"+Yt.a.dettaglioDomanda.replace(":"+Yt.a.dettaglioDomandaParam,t.id.toString())],{relativeTo:this.route.parent.parent})}loadData(t){console.log("filtro:"),console.log(this.filtroAccoppiati.filtro),null!=t&&null!=t.sortField&&console.log(t.sortField),console.log("this.numeroPagina "+this.numeroPagina+" event.first "+t.first+" this.elementiPerPagina  "+this.elementiPerPagina),this.numeroPagina=Math.floor(t.first/this.elementiPerPagina);const i=JSON.stringify(this.filtroAccoppiati.filtro),e='{ "numeroElementiPagina": '+this.elementiPerPagina+', "pagina": '+this.numeroPagina+"}";let o="";null!=t&&null!=t.sortField&&(o='[{ "proprieta": "'+t.sortField+'", "ordine": "'+this.istruttoriaService.getOrdine(t.sortOrder)+'"}]'),this.elencoDomandeService.getPaginaDomandeAttuale(encodeURIComponent(i),encodeURIComponent(e),encodeURIComponent(o)).subscribe(t=>{if(null!=t){if(this.paginaDomande=t,console.log("this.paginaDomande"),console.log(this.paginaDomande),this.Checkbox.checked)for(let t of this.paginaDomande.risultati)this.domande.push(t)}else this.paginaDomande.risultati=[],this.paginaDomande.elementiTotali=0}),this.table.first=0}avviaNonAmmissibilita(){const t=encodeURIComponent(this.selectedSostegno),i=encodeURIComponent("NON_AMMISSIBILE");this.istruttoriaService.putAmmissibilita(this.domande,t,i).subscribe(t=>{this.refresh()})}refresh(){window.location.reload()}getPercentualeAvanzamentoProcesso(t){let i=100;return null!=this.listaProcessiAttivi&&this.listaProcessiAttivi.length>0&&this.listaProcessiAttivi.map(e=>{e.idTipoProcesso===t&&(i=e.percentualeAvanzamento)}),i}avviaCalcoloPremioAccoppiati(){if(0==this.domande.length)return void this.messageService.add(b.a.getToast("tst",b.b.warn,b.a.calcoloAccoppiatiWarningNumeroDomande));const t=this.domande.map(t=>t.id);if(this.Checkbox.checked){const t=JSON.stringify(this.filtroAccoppiati.filtro),i='{ "numeroElementiPagina": '+this.paginaDomande.elementiTotali+', "pagina": 0}',e="";this.elencoDomandeService.getPaginaDomandeAttuale(encodeURIComponent(t),encodeURIComponent(i),encodeURIComponent(e)).subscribe(t=>{this.idList=[],t.risultati.forEach(t=>{this.idList.push(t.id)}),this.calcoloPremioAccoppiati(this.idList)})}else this.calcoloPremioAccoppiati(t)}calcoloPremioAccoppiati(t){this.selectedSostegno==g.a.ZOOTECNIA?(this.idTipoProcesso="CLC_PREMIO_ACCOPPIATO_ZOOTECNIA",this.istruttoriaService.avviaPremioAcz({annoCampagna:this.dettaglioIstruttoria.annoRiferimento,idsDomande:t}).subscribe(i=>{this.messageService.add(b.a.getToast("tst",b.b.success,t.length>1?b.a.calcoloAccoppiatoACZProcessoAvviato(t.length):b.a.calcoloAccoppiatoACZProcessoAvviatoDomandaSingola)),this.runStatoAvanzamentoProcesso(t.length)},t=>{"BRIDUACZ124"==t.error.message?this.messageService.add(b.a.getToast("tst",b.b.warn,b.a.calcoloPremioACZProcessoControllo)):"BRIDUACZ110"==t.error.message?this.messageService.add(b.a.getToast("tst",b.b.warn,b.a.calcoloFinestraTemporaleDomandaIntegrativaACZ)):(console.log(t.error.message),this.messageService.add(b.a.getToast("tst",b.b.error,b.a.calcoloAccoppiatiErroreProcesso)))})):this.selectedSostegno==g.a.SUPERFICIE&&(this.idTipoProcesso=d.a.ACC_SUPERFICIE,this.istruttoriaService.avviaAccoppiatoSuperficie({annoCampagna:this.dettaglioIstruttoria.annoRiferimento,idsDomande:t}).subscribe(i=>{this.messageService.add(b.a.getToast("tst",b.b.success,t.length>1?b.a.calcoloAccoppiatoACSProcessoAvviato(t.length):b.a.calcoloAccoppiatoACSProcessoAvviatoDomandaSingola)),this.runStatoAvanzamentoProcesso(t.length)},t=>{"BRIDUACS088"==t.error.message?this.messageService.add(b.a.getToast("tst",b.b.warn,b.a.calcoloAccoppiatoACSProcessoControllo)):(console.log(t.error.message),this.messageService.add(b.a.getToast("tst",b.b.error,b.a.calcoloAccoppiatiErroreProcesso)))}))}openPopupDatiAggregati(){this.popupVisibile=!0}closePopupDatiAggregati(){this.popupVisibile=!1}ngOnDestroy(){clearInterval(this.interval),this.loader.resetTimeout()}selezionaTutto(t,i){this.domande=t?this.paginaDomande.risultati:[]}downloadDatiCapiAgea(){this.domandaIntegrativaService.getFileDatiCapiAgea(this.idIstruttoria).subscribe(t=>{C.saveAs(t,"CAPI_ZOOTECNIA_APPAG.csv")})}checkStatoAvanzamento(){let t=encodeURIComponent(JSON.stringify({tipoProcesso:this.idTipoProcesso,statoProcesso:Tn.a.RUN}));this.http.get(this._configuration.urlControlloAntimafiaStatoAvanzamento+t).subscribe(t=>{String(t.esito)!==bn.a.NESSUN_PROCESSO_DI_CONTROLLO?this.runStatoAvanzamentoProcesso(t.numeroDomandeDaElaborare):this.processiInCorso=bn.a.NESSUN_PROCESSO_DI_CONTROLLO},t=>{this.timer.unsubscribe(),this.processiInCorso=bn.a.NESSUN_PROCESSO_DI_CONTROLLO})}runStatoAvanzamentoProcesso(t){let i=0;"CLC_ACCOPPIATO_ZOOTECNIA"==this.idTipoProcesso?this.processiInCorso=b.a.processoDiCalcoloCapiAmm(String(i),String(t)):"CLC_ACCOPPIATO_SUPERFICIE"==this.idTipoProcesso?this.processiInCorso=b.a.processoDiCalcoloACS(String(i),String(t)):"CLC_PREMIO_ACCOPPIATO_ZOOTECNIA"==this.idTipoProcesso?this.processiInCorso=b.a.processoDiCalcoloPremioCapi(String(i),String(t)):"CTRL_LIQUIDABILITA_ACCOPPIATO_ZOOTECNIA"==this.idTipoProcesso||"CTRL_LIQUIDABILITA_ACCOPPIATO_SUPERFICIE"==this.idTipoProcesso?this.processiInCorso=b.a.processoDiControlliLiquidazione(String(i),String(t)):"CTRL_INTERSOSTEGNO_ACC_SUPERFICIE"==this.idTipoProcesso&&(this.processiInCorso=b.a.processoDiControlliIntersostegnoACS(String(i),String(t)));let e=encodeURIComponent(JSON.stringify({tipoProcesso:this.idTipoProcesso,statoProcesso:Tn.a.RUN}));this.timer=Object(fn.a)(0,this.timeout).subscribe(o=>{this.http.get(this._configuration.urlControlloAntimafiaStatoAvanzamento+e).subscribe(e=>{if(o>1&&String(e.esito)===bn.a.NESSUN_PROCESSO_DI_CONTROLLO)return this.timer.unsubscribe(),this.processiInCorso=bn.a.NESSUN_PROCESSO_DI_CONTROLLO,void this.refresh();b.a.isUndefinedOrNull(e.totaleDomandeGestite)||(i=e.totaleDomandeGestite,"CLC_ACCOPPIATO_ZOOTECNIA"==this.idTipoProcesso?this.processiInCorso=b.a.processoDiCalcoloCapiAmm(String(i),String(t)):"CLC_ACCOPPIATO_SUPERFICIE"==this.idTipoProcesso?this.processiInCorso=b.a.processoDiCalcoloACS(String(i),String(t)):"CLC_PREMIO_ACCOPPIATO_ZOOTECNIA"==this.idTipoProcesso?this.processiInCorso=b.a.processoDiCalcoloPremioCapi(String(i),String(t)):"CTRL_LIQUIDABILITA_ACCOPPIATO_ZOOTECNIA"==this.idTipoProcesso||"CTRL_LIQUIDABILITA_ACCOPPIATO_SUPERFICIE"==this.idTipoProcesso?this.processiInCorso=b.a.processoDiControlliLiquidazione(String(i),String(t)):"CTRL_INTERSOSTEGNO_ACC_SUPERFICIE"==this.idTipoProcesso&&(this.processiInCorso=b.a.processoDiControlliIntersostegnoACS(String(i),String(t)))),+i>=+t&&(this.timer.unsubscribe(),this.processiInCorso=bn.a.NESSUN_PROCESSO_DI_CONTROLLO,this.refresh())},t=>{this.timer.unsubscribe(),this.processiInCorso=bn.a.NESSUN_PROCESSO_DI_CONTROLLO})})}setStatusNonAmmissibile(){if(0==this.domande.length)return void this.messageService.add(b.a.getToast("tst",b.b.warn,b.a.calcoloAccoppiatiWarningNumeroDomande));const t=this.domande.map(t=>t.id);if(this.Checkbox.checked){const t=JSON.stringify(this.filtroAccoppiati.filtro),i='{ "numeroElementiPagina": '+this.paginaDomande.elementiTotali+', "pagina": 0}',e="";this.elencoDomandeService.getPaginaDomandeAttuale(encodeURIComponent(t),encodeURIComponent(i),encodeURIComponent(e)).subscribe(t=>{this.idList=[],t.risultati.forEach(t=>{this.idList.push(t.id)}),this.doSetStatusNonAmmissibile(this.idList)})}else this.doSetStatusNonAmmissibile(t)}doSetStatusNonAmmissibile(t){let i;this.selectedSostegno==g.a.ZOOTECNIA?i="az":this.selectedSostegno==g.a.SUPERFICIE&&(i="as"),this.istruttoriaService.aggiornaStatoDomande(i,{idsDomande:t,identificativoSostegno:this.selectedSostegno,identificativoStatoLavSostegno:"NON_AMMISSIBILE",annoCampagna:this.dettaglioIstruttoria.annoRiferimento}).subscribe(t=>{this.messageService.add(b.a.getToast("tst",b.b.success,b.a.OPERAZIONE_OK)),this.refresh()},t=>{"BRIDUACZ124"==t.error.message?this.messageService.add(b.a.getToast("tst",b.b.warn,b.a.calcoloPremioACZProcessoControllo)):"BRIDUACS088"==t.error.message?this.messageService.add(b.a.getToast("tst",b.b.warn,b.a.calcoloAccoppiatoACSProcessoControllo)):"BRIDUACZ110"==t.error.message?this.messageService.add(b.a.getToast("tst",b.b.warn,b.a.finestraTemporaleDomandaIntegrativaChiusa)):(console.log(t.error.message),this.messageService.add(b.a.getToast("tst",b.b.error,b.a.calcoloAccoppiatiErroreProcesso)))})}avviaControlliLiquidazione(){if(0==this.domande.length)return void this.messageService.add(b.a.getToast("tst",b.b.warn,b.a.calcoloAccoppiatiWarningNumeroDomande));const t=this.domande.map(t=>t.id);if(this.Checkbox.checked){const t=JSON.stringify(this.filtroAccoppiati.filtro),i='{ "numeroElementiPagina": '+this.paginaDomande.elementiTotali+', "pagina": 0}',e="";this.elencoDomandeService.getPaginaDomandeAttuale(encodeURIComponent(t),encodeURIComponent(i),encodeURIComponent(e)).subscribe(t=>{this.idList=[],t.risultati.forEach(t=>{this.idList.push(t.id)}),this.avviaCalcoloControlliLiquidazione(this.idList)})}else this.avviaCalcoloControlliLiquidazione(t)}avviaCalcoloControlliLiquidazione(t){let i;this.selectedSostegno==g.a.ZOOTECNIA?(i="az",this.idTipoProcesso="CTRL_LIQUIDABILITA_ACCOPPIATO_ZOOTECNIA"):this.selectedSostegno==g.a.SUPERFICIE&&(i="as",this.idTipoProcesso="CTRL_LIQUIDABILITA_ACCOPPIATO_SUPERFICIE"),this.istruttoriaService.avviaControlliLiquidazione(t,i).subscribe(i=>{this.messageService.add(b.a.getToast("tst",b.b.success,t.length>1?b.a.calcoloControlliLiquidazioneAvviato(t.length):b.a.calcoloControlliLiquidazioneAvviatoDomandaSingola)),this.runStatoAvanzamentoProcesso(t.length)},t=>{"CTRLLIQTAACZ"==t.error.message||"CTRLLIQTAACS"==t.error.message?this.messageService.add(b.a.getToast("tst",b.b.warn,b.a.calcoloControlliLiquidazioneProcessoControllo)):(console.log(t.error.message),this.messageService.add(b.a.getToast("tst",b.b.error,b.a.calcoloAccoppiatiErroreProcesso)))})}avviaControlloIntersostegnoACS(){if(this.idTipoProcesso="CTRL_INTERSOSTEGNO_ACC_SUPERFICIE",0==this.domande.length)return void this.messageService.add(b.a.getToast("tst",b.b.warn,b.a.calcoloAccoppiatiWarningNumeroDomande));const t=this.domande.map(t=>t.id);if(this.Checkbox.checked){const t=JSON.stringify(this.filtroAccoppiati.filtro),i='{ "numeroElementiPagina": '+this.paginaDomande.elementiTotali+', "pagina": 0}',e="";this.elencoDomandeService.getPaginaDomandeAttuale(encodeURIComponent(t),encodeURIComponent(i),encodeURIComponent(e)).subscribe(t=>{this.idList=[],t.risultati.forEach(t=>{this.idList.push(t.id)}),this.avviaCalcoloControlloIntersostegnoACS(this.idList)})}else this.avviaCalcoloControlloIntersostegnoACS(t)}avviaCalcoloControlloIntersostegnoACS(t){this.istruttoriaService.avviaControlliIntersostegnoACS({annoCampagna:this.dettaglioIstruttoria.annoRiferimento,idsDomande:t}).toPromise().then(i=>{this.messageService.add(b.a.getToast("tst",b.b.success,t.length>1?b.a.calcoloControllIntersostegno(t.length):b.a.calcoloControlliIntersostegnoDomandaSingola)),this.runStatoAvanzamentoProcesso(t.length)},t=>{this.messageService.add("CTRLLIQTAACS"==t.error.message?b.a.getToast("tst",b.b.warn,b.a.calcoloControlliIntersostegnoProcessoControllo):b.a.getToast("tst",b.b.error,b.a.calcoloAccoppiatiErroreProcesso))})}downloadVerbaleLiquidazione(t){const i=encodeURIComponent(JSON.stringify({idDomanda:t.id,codiceElenco:t.codiceElenco}));this.istruttoriaService.getDocumentoElencoLiquidazione(i).subscribe(i=>{C.saveAs(i,t.codiceElenco.toString().concat(".pdf"))},t=>{this.messageService.add(b.a.getToast("tst",b.b.error,b.a.erroreRecuperoDati))})}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(l.a),B.Nb(c.a),B.Nb(c.e),B.Nb(vn),B.Nb(ui.a),B.Nb(N.d),B.Nb(Cn.a),B.Nb(pn.a),B.Nb(An.b),B.Nb(Jt.a))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-elenco-accoppiati"]],viewQuery:function(t,i){var e;1&t&&(B.Uc(Dn,!0),B.Uc(Pn,!0)),2&t&&(B.Ac(e=B.cc())&&(i.table=e.first),B.Ac(e=B.cc())&&(i.Checkbox=e.first))},inputs:{popupVisibile:"popupVisibile"},decls:1,vars:1,consts:[["class","card no-margin","class","ui-g-12 boxgrey","style","padding-top:50px;",4,"ngIf"],[1,"ui-g-12","boxgrey",2,"padding-top","50px"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[1,"ui-g-3"],[3,"cuaaSuggestions","denominazioneSuggestions"],[1,"ui-g-9"],["margin-top","30px",1,"table-responsive"],[3,"columns","value","autoLayout","totalRecords","paginator","rows","lazy","selection","onLazyLoad","selectionChange"],["table",""],["pTemplate","header","class","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"searchbutton"],["class","ui-g-3",4,"ngIf"],["class","ui-g-4",4,"ngIf"],[1,"messaggiprocesso","boxgrey_bottom"],["binary","true",3,"ngModel","click","ngModelChange"],["checkBox",""],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"colori-per-numeri"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"],[3,"pSelectableRow"],[3,"value"],["style","text-align:center",4,"ngIf"],["pButton","","type","button",1,"btn","btn-green",3,"click"],[2,"text-align","center"],["type","button",1,"btn","btn-link",3,"click"],["pButton","","type","button","type","submit",1,"ui-button-success",3,"click"],[1,"ui-g-4"]],template:function(t,i){1&t&&B.Mc(0,Qn,27,22,"div",0),2&t&&B.mc("ngIf",i.idIstruttoria)},styles:[".boxgrey_bottom[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#0d5f3f;font-weight:700;font-size:18px;text-transform:uppercase;padding-bottom:10px;margin-bottom:15px}.boxgrey_bottom[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]{border-bottom:2px solid #0d5f3f}.messaggiprocesso[_ngcontent-%COMP%]{margin-top:20px}"]}),t})();var Hn=e("QqKj"),jn=e("c8LR");const Kn=function(t){return{"is-invalid":t}};let Yn=(()=>{class t{constructor(t,i,e){this.filtroAccoppiati=t,this.router=i,this.translateService=e,this.inputRicerca=new Hn.a}ngOnInit(){this.selectedSostegno=this.router.url.split("/").filter(t=>t===Yt.a.cruscottoAccoppiatoZootecnia).length>0?g.a.ZOOTECNIA:g.a.SUPERFICIE,this.initFiltroSettori(),this.initFiltroCampioni()}initFiltroCampioni(){this.campioni=[{label:"SI",title:"S\xec"},{label:"NO",title:"No"},{label:"TUTTI",title:"Tutti"}],this.selectedCampione=this.campioni[2]}initFiltroSettori(){this.settori=this.selectedSostegno==g.a.ZOOTECNIA?[{id:"310",label:"M1",title:"M1 - Vacche da latte (310)"},{id:"311",label:"M2",title:"M2 - Vacche da latte in zone di montagna (311)"},{id:"313",label:"M4",title:"M4 - Vacche nutrici (313)"},{id:"315",label:"M5",title:"M5- Bovini macellati (315)"},{id:"320",label:"M6",title:"M6 - Agnelle (320)"},{id:"321",label:"M7",title:"M7 - Ovicaprini macellati (321)"},{id:"316",label:"M19",title:"M19 - Bovini macellati - Allevati 12 mesi (316)"},{id:"318",label:"M19",title:"M19 - Bovini macellati - Etichettatura (318)"},{id:"322",label:"M20",title:"M20 - Vacche nutrici non iscritte (322)"}]:[{id:"122",label:"M8",title:this.translateService.instant("FILTRI_INTERVENTI_SUPERFICI.soia")},{id:"124",label:"M9",title:this.translateService.instant("FILTRI_INTERVENTI_SUPERFICI.frumento")},{id:"123",label:"M10",title:this.translateService.instant("FILTRI_INTERVENTI_SUPERFICI.proteaginose")},{id:"125",label:"M11",title:this.translateService.instant("FILTRI_INTERVENTI_SUPERFICI.leguminose")},{id:"128",label:"M14",title:this.translateService.instant("FILTRI_INTERVENTI_SUPERFICI.pomodoro")},{id:"129",label:"M15",title:this.translateService.instant("FILTRI_INTERVENTI_SUPERFICI.oliviStandard")},{id:"132",label:"M16",title:this.translateService.instant("FILTRI_INTERVENTI_SUPERFICI.olivi75")},{id:"138",label:"M17",title:this.translateService.instant("FILTRI_INTERVENTI_SUPERFICI.oliviQualita")}],this.selectedSettori=this.settori}filterCUAA(t){let i=[],e=t.query;for(let o=0;o<this.cuaaSuggestions.length;o++){let t=this.cuaaSuggestions[o];t.toLowerCase().indexOf(e.toLowerCase())>=0&&i.push(t)}this.cuaaS=i}filterDenominazione(t){let i=[],e=t.query;for(let o=0;o<this.denominazioneSuggestions.length;o++){let t=this.denominazioneSuggestions[o];t.toLowerCase().indexOf(e.toLowerCase())>=0&&i.push(t)}this.denominazioneS=i}filtroSettoreDisabled(){return!1}onSubmit(t){if(this.filtroAccoppiati.filtro.cuaa=t.value.cuaa,this.filtroAccoppiati.filtro.denominazione=t.value.denominazione,this.filtroAccoppiati.filtro.numero_domanda=t.value.numero_domanda,this.filtroAccoppiati.filtro.interventi=[],0==t.value.selectedSettori.length)for(let i=0;i<this.settori.length;i++)this.filtroAccoppiati.filtro.interventi.push(this.settori[i].id);else for(let i=0;i<t.value.selectedSettori.length;i++)this.filtroAccoppiati.filtro.interventi.push(t.value.selectedSettori[i].id);console.log(this.filtroAccoppiati),this.filtroAccoppiati.elencoDomande.loadData(this.filtroAccoppiati.elencoDomande.table)}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(vn),B.Nb(c.e),B.Nb(z.e))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-filtro-accoppiati"]],inputs:{cuaaSuggestions:"cuaaSuggestions",denominazioneSuggestions:"denominazioneSuggestions"},decls:32,vars:14,consts:[[2,"padding-right","40px"],[1,""],[3,"ngSubmit"],["f","ngForm"],["placeholder","CUAA","name","cuaa","appValidaCuaaCompleto","",3,"ngModel","ngClass","suggestions","ngModelChange","completeMethod"],["cuaaInput","ngModel"],["placeholder","Descrizione Impresa","name","denominazione",3,"ngModel","suggestions","ngModelChange","completeMethod"],["placeholder","Numero Domanda","type","text","name","numero_domanda","pInputText","",2,"width","100%",3,"ngModel","ngModelChange"],["numeroDomandaInput","ngModel"],[1,"labelricerca"],["name","selectedSettori","multiple","multiple","checkbox","checkbox","optionLabel","title","defaultLabel","Seleziona settore/i",3,"filter","options","ngModel","disabled","ngModelChange"],[1,"colori-per-numeri"],[1,"searchbutton"],["pButton","","type","button","type","submit",1,"ui-button-success",2,"background","#0e5f3f",3,"disabled"]],template:function(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div",0),B.Tb(1,"h3"),B.Oc(2," FILTRA PER "),B.Sb(),B.Tb(3,"div",1),B.Tb(4,"form",2,3),B.bc("ngSubmit",(function(){B.Ec(t);const e=B.Bc(5);return i.onSubmit(e)})),B.Tb(6,"div"),B.Tb(7,"p-autoComplete",4,5),B.bc("ngModelChange",(function(t){return i.inputRicerca.cuaa=t}))("completeMethod",(function(t){return i.filterCUAA(t)})),B.Sb(),B.Sb(),B.Ob(9,"br"),B.Tb(10,"div"),B.Tb(11,"p-autoComplete",6),B.bc("ngModelChange",(function(t){return i.inputRicerca.denominazione=t}))("completeMethod",(function(t){return i.filterDenominazione(t)})),B.Sb(),B.Sb(),B.Ob(12,"br"),B.Tb(13,"div"),B.Tb(14,"input",7,8),B.bc("ngModelChange",(function(t){return i.inputRicerca.numero_domanda=t})),B.Sb(),B.Sb(),B.Ob(16,"br"),B.Tb(17,"div"),B.Tb(18,"label",9),B.Oc(19,"Settore"),B.Sb(),B.Tb(20,"p-multiSelect",10),B.bc("ngModelChange",(function(t){return i.selectedSettori=t})),B.Sb(),B.Sb(),B.Ob(21,"br"),B.Tb(22,"div"),B.Tb(23,"label",9),B.Oc(24," Risultati: "),B.Tb(25,"span",11),B.Oc(26),B.Sb(),B.Sb(),B.Sb(),B.Ob(27,"br"),B.Tb(28,"div"),B.Tb(29,"div",12),B.Tb(30,"button",13),B.Oc(31,"APPLICA FILTRI"),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=B.Bc(5),e=B.Bc(8);B.Bb(7),B.mc("ngModel",i.inputRicerca.cuaa)("ngClass",B.sc(12,Kn,e.invalid))("suggestions",i.cuaaS),B.Bb(4),B.mc("ngModel",i.inputRicerca.denominazione)("suggestions",i.denominazioneS),B.Bb(3),B.mc("ngModel",i.inputRicerca.numero_domanda),B.Bb(6),B.mc("filter",!1)("options",i.settori)("ngModel",i.selectedSettori)("disabled",i.filtroSettoreDisabled()),B.Bb(6),B.Qc(" ",i.filtroAccoppiati.elencoDomande.paginaDomande.elementiTotali," "),B.Bb(4),B.mc("disabled",!t.valid)}},directives:[y.I,y.t,y.u,$a.a,jn.a,y.s,y.v,o.q,y.c,Zo.a,ki.a,L.b],styles:[".colori-per-numeri[_ngcontent-%COMP%]{background:#00985a;line-height:0;color:#fff;font-size:13px;border-radius:30px;display:inline;padding:0 7px}"]}),t})(),Jn=(()=>{class t{constructor(t,i){this.route=t,this.loader=i}ngOnInit(){this.setMenu(),this.loader.setTimeout(48e4)}ngOnDestroy(){this.loader.resetTimeout()}setMenu(){this.route.snapshot.routeConfig.path===Yt.a.accoppiatoZootecniaRichiesto?this.menu2=new Array({routerLink:Yt.a.dichiarazioni,label:"Dichiarazioni"},{routerLink:Yt.a.capiAmmessi,label:"Capi Ammessi"},{routerLink:Yt.a.capiRichiesti,label:"Capi Richiesti"},{routerLink:Yt.a.controlliSostegno,label:"Controlli di sostegno"},{routerLink:Yt.a.datiDomanda,label:"Dati di domanda"},{routerLink:Yt.a.datiIstruttoria,label:"Inserimento dati Istruttoria"}):this.route.snapshot.routeConfig.path===Yt.a.accoppiatoSuperficiRichiesto&&(this.menu2=new Array({routerLink:Yt.a.superficiImpegnate,label:"Superfici Impegnate"},{routerLink:Yt.a.dichiarazioni,label:"Dichiarazioni"},{routerLink:Yt.a.controlliSostegno,label:"Controlli di sostegno"},{routerLink:Yt.a.datiDomanda,label:"Dati di domanda"},{routerLink:Yt.a.datiParticella,label:"Dati per Particella"},{routerLink:Yt.a.datiIstruttoria,label:"Inserimento dati Istruttoria"}))}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(c.a),B.Nb(pn.a))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-dettaglio-accoppiati"]],decls:7,vars:1,consts:[[1,"ui-g","ui-fluid"],[1,"ui-g-12",2,"padding-bottom","0px !important"],[1,"ui-grid-fixed"],[1,"funzioni-grid","tabsmall",2,"margin-bottom","0px !important","margin-top","40px !important"],[3,"model"],[2,"width","100%"]],template:function(t,i){1&t&&(B.Tb(0,"div",0),B.Tb(1,"div",1),B.Tb(2,"div",2),B.Tb(3,"div",3),B.Ob(4,"p-tabMenu",4),B.Sb(),B.Sb(),B.Sb(),B.Tb(5,"div",5),B.Ob(6,"router-outlet"),B.Sb(),B.Sb()),2&t&&(B.Bb(4),B.mc("model",i.menu2))},directives:[Ot.a,c.j],styles:[""]}),t})();const Wn=["table"];function Xn(t,i){if(1&t&&(B.Tb(0,"td",12),B.Tb(1,"b"),B.Oc(2),B.Sb(),B.Sb()),2&t){const t=i.$implicit;B.Bb(2),B.Pc(t)}}function tr(t,i){1&t&&(B.Tb(0,"div",15),B.Oc(1," Analisi non presente "),B.Sb())}function ir(t,i){if(1&t&&(B.Tb(0,"tbody"),B.Tb(1,"tr"),B.Tb(2,"th",16),B.Oc(3,"Cellule Somatiche"),B.Sb(),B.Tb(4,"td",17),B.Oc(5),B.gc(6,"number"),B.Sb(),B.Sb(),B.Tb(7,"tr"),B.Tb(8,"th",16),B.Oc(9,"Carica Batterica"),B.Sb(),B.Tb(10,"td",17),B.Oc(11),B.gc(12,"number"),B.Sb(),B.Sb(),B.Tb(13,"tr"),B.Tb(14,"th",16),B.Oc(15,"Contenuto Proteine"),B.Sb(),B.Tb(16,"td",17),B.Oc(17),B.gc(18,"number"),B.Sb(),B.Sb(),B.Sb()),2&t){const t=B.fc(2);B.Bb(5),B.Qc("",B.ic(6,3,t.produzioneLatte.tenoreCellule,"1.2-2")," litri"),B.Bb(6),B.Qc("",B.ic(12,6,t.produzioneLatte.tenoreBatteri,"1.2-2")," litri"),B.Bb(6),B.Qc("",B.ic(18,9,t.produzioneLatte.contenutoProteine,"1.2-2")," grammi")}}function er(t,i){1&t&&(B.Tb(0,"div",15),B.Oc(1," Alpeggio non presente "),B.Sb())}function or(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"th",10),B.Oc(2,"Dal: "),B.Sb(),B.Tb(3,"td",18),B.Oc(4),B.Sb(),B.Tb(5,"th",10),B.Oc(6,"Al: "),B.Sb(),B.Tb(7,"td",17),B.Oc(8),B.Sb(),B.Sb()),2&t){const t=i.$implicit;B.Bb(4),B.Pc(t.dtInizio),B.Bb(4),B.Pc(t.dtFine)}}function ar(t,i){if(1&t&&(B.Tb(0,"tbody"),B.Mc(1,or,9,2,"tr",6),B.Sb()),2&t){const t=B.fc(2);B.Bb(1),B.mc("ngForOf",t.alpeggi)}}function nr(t,i){if(1&t&&(B.Tb(0,"p-accordion"),B.Tb(1,"p-accordionTab",7),B.Tb(2,"h5",8),B.Oc(3,"Produzione e Analisi Latte"),B.Sb(),B.Tb(4,"table",9),B.Tb(5,"tbody"),B.Tb(6,"tr"),B.Tb(7,"th",10),B.Oc(8,"MESI"),B.Sb(),B.Mc(9,Xn,3,1,"td",11),B.Sb(),B.Tb(10,"tr"),B.Tb(11,"th",10),B.Oc(12,"PRODUZIONE"),B.Sb(),B.Tb(13,"td",12),B.Oc(14),B.Sb(),B.Tb(15,"td",12),B.Oc(16),B.Sb(),B.Tb(17,"td",12),B.Oc(18),B.Sb(),B.Tb(19,"td",12),B.Oc(20),B.Sb(),B.Tb(21,"td",12),B.Oc(22),B.Sb(),B.Tb(23,"td",12),B.Oc(24),B.Sb(),B.Tb(25,"td",12),B.Oc(26),B.Sb(),B.Tb(27,"td",12),B.Oc(28),B.Sb(),B.Tb(29,"td",12),B.Oc(30),B.Sb(),B.Tb(31,"td",12),B.Oc(32),B.Sb(),B.Tb(33,"td",12),B.Oc(34),B.Sb(),B.Tb(35,"td",12),B.Oc(36),B.Sb(),B.Sb(),B.Tb(37,"tr"),B.Tb(38,"th",10),B.Oc(39,"ANALISI"),B.Sb(),B.Tb(40,"td",12),B.Oc(41),B.Sb(),B.Tb(42,"td",12),B.Oc(43),B.Sb(),B.Tb(44,"td",12),B.Oc(45),B.Sb(),B.Tb(46,"td",12),B.Oc(47),B.Sb(),B.Tb(48,"td",12),B.Oc(49),B.Sb(),B.Tb(50,"td",12),B.Oc(51),B.Sb(),B.Tb(52,"td",12),B.Oc(53),B.Sb(),B.Tb(54,"td",12),B.Oc(55),B.Sb(),B.Tb(56,"td",12),B.Oc(57),B.Sb(),B.Tb(58,"td",12),B.Oc(59),B.Sb(),B.Tb(60,"td",12),B.Oc(61),B.Sb(),B.Tb(62,"td",12),B.Oc(63),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Tb(64,"h5",8),B.Oc(65,"Valori Medi"),B.Sb(),B.Tb(66,"table",13),B.Mc(67,tr,2,0,"div",14),B.Mc(68,ir,19,12,"tbody",5),B.Sb(),B.Tb(69,"h5",8),B.Oc(70,"Registrazione Alpeggio"),B.Sb(),B.Tb(71,"table",13),B.Mc(72,er,2,0,"div",14),B.Mc(73,ar,2,1,"tbody",5),B.Sb(),B.Sb(),B.Sb()),2&t){const t=B.fc();B.Bb(9),B.mc("ngForOf",t.mesi),B.Bb(5),B.Pc(1==t.produzioneLatte.mesiProduzione.gennaio?"Si":"No"),B.Bb(2),B.Pc(1==t.produzioneLatte.mesiProduzione.febbraio?"Si":"No"),B.Bb(2),B.Pc(1==t.produzioneLatte.mesiProduzione.marzo?"Si":"No"),B.Bb(2),B.Pc(1==t.produzioneLatte.mesiProduzione.aprile?"Si":"No"),B.Bb(2),B.Pc(1==t.produzioneLatte.mesiProduzione.maggio?"Si":"No"),B.Bb(2),B.Pc(1==t.produzioneLatte.mesiProduzione.giugno?"Si":"No"),B.Bb(2),B.Pc(1==t.produzioneLatte.mesiProduzione.luglio?"Si":"No"),B.Bb(2),B.Pc(1==t.produzioneLatte.mesiProduzione.agosto?"Si":"No"),B.Bb(2),B.Pc(1==t.produzioneLatte.mesiProduzione.settembre?"Si":"No"),B.Bb(2),B.Pc(1==t.produzioneLatte.mesiProduzione.ottobre?"Si":"No"),B.Bb(2),B.Pc(1==t.produzioneLatte.mesiProduzione.novembre?"Si":"No"),B.Bb(2),B.Pc(1==t.produzioneLatte.mesiProduzione.dicembre?"Si":"No"),B.Bb(5),B.Pc(1==t.produzioneLatte.mesiAnalisi.gennaio?"Si":"No"),B.Bb(2),B.Pc(1==t.produzioneLatte.mesiAnalisi.febbraio?"Si":"No"),B.Bb(2),B.Pc(1==t.produzioneLatte.mesiAnalisi.marzo?"Si":"No"),B.Bb(2),B.Pc(1==t.produzioneLatte.mesiAnalisi.aprile?"Si":"No"),B.Bb(2),B.Pc(1==t.produzioneLatte.mesiAnalisi.maggio?"Si":"No"),B.Bb(2),B.Pc(1==t.produzioneLatte.mesiAnalisi.giugno?"Si":"No"),B.Bb(2),B.Pc(1==t.produzioneLatte.mesiAnalisi.luglio?"Si":"No"),B.Bb(2),B.Pc(1==t.produzioneLatte.mesiAnalisi.agosto?"Si":"No"),B.Bb(2),B.Pc(1==t.produzioneLatte.mesiAnalisi.settembre?"Si":"No"),B.Bb(2),B.Pc(1==t.produzioneLatte.mesiAnalisi.ottobre?"Si":"No"),B.Bb(2),B.Pc(1==t.produzioneLatte.mesiAnalisi.novembre?"Si":"No"),B.Bb(2),B.Pc(1==t.produzioneLatte.mesiAnalisi.dicembre?"Si":"No"),B.Bb(4),B.mc("ngIf",t.noAnalisi),B.Bb(1),B.mc("ngIf",!t.noAnalisi),B.Bb(4),B.mc("ngIf",null==t.alpeggi),B.Bb(1),B.mc("ngIf",null!=t.alpeggi)}}function rr(t,i){1&t&&(B.Tb(0,"div",15),B.Oc(1," Etichettatura non presente "),B.Sb())}function cr(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"td",10),B.Oc(2),B.Sb(),B.Tb(3,"td"),B.Oc(4),B.gc(5,"date"),B.Sb(),B.Tb(6,"td"),B.Oc(7),B.gc(8,"date"),B.Sb(),B.Sb()),2&t){const t=i.$implicit;B.Bb(2),B.Pc(t.codiceAsl),B.Bb(2),B.Qc(" ",null==t.dtInizioValidita?"-":B.ic(5,3,t.dtInizioValidita,"dd-MM-yyyy")," "),B.Bb(3),B.Qc(" ",null==t.dtFineValidita?"-":B.ic(8,6,t.dtFineValidita,"dd-MM-yyyy")," ")}}function sr(t,i){if(1&t&&(B.Tb(0,"tbody"),B.Tb(1,"tr"),B.Tb(2,"th",10),B.Oc(3,"Codice Asl"),B.Sb(),B.Tb(4,"th"),B.Oc(5,"Dal"),B.Sb(),B.Tb(6,"th"),B.Oc(7,"Al"),B.Sb(),B.Sb(),B.Mc(8,cr,9,9,"tr",6),B.Sb()),2&t){const t=B.fc(2);B.Bb(8),B.mc("ngForOf",t.etichettature)}}function lr(t,i){if(1&t&&(B.Tb(0,"p-accordion"),B.Tb(1,"p-accordionTab",19),B.Tb(2,"table",13),B.Mc(3,rr,2,0,"div",14),B.Mc(4,sr,9,1,"tbody",5),B.Sb(),B.Sb(),B.Sb()),2&t){const t=B.fc();B.Bb(3),B.mc("ngIf",null==t.etichettature),B.Bb(1),B.mc("ngIf",null!=t.etichettature)}}function dr(t,i){1&t&&B.Ob(0,"hr")}function br(t,i){if(1&t&&(B.Tb(0,"th",31),B.Oc(1),B.Ob(2,"p-sortIcon",32),B.Sb()),2&t){const t=i.$implicit;B.mc("pSortableColumn",t.field)("pSortableColumnDisabled",null==t.field),B.Bb(1),B.Qc(" ",t.header," "),B.Bb(1),B.mc("field",t.header)}}function ur(t,i){if(1&t&&(B.Tb(0,"tr"),B.Ob(1,"th",29),B.Mc(2,br,3,4,"th",30),B.Sb()),2&t){const t=i.$implicit;B.Bb(2),B.mc("ngForOf",t)}}function pr(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Tb(2,"a",33),B.Ob(3,"i",34),B.Sb(),B.Sb(),B.Tb(4,"td"),B.Oc(5),B.Sb(),B.Tb(6,"td"),B.Oc(7),B.Sb(),B.Tb(8,"td"),B.Oc(9),B.Sb(),B.Tb(10,"td"),B.Oc(11),B.Sb(),B.Sb()),2&t){const t=i.$implicit,e=i.expanded,o=B.fc().$implicit;B.Bb(2),B.mc("pRowToggler",t),B.Bb(1),B.mc("ngClass",e?"pi pi-chevron-down":"pi pi-chevron-right"),B.Bb(2),B.Pc(t.codiceCapo),B.Bb(2),B.Pc(o.codiceSpecie),B.Bb(2),B.Pc(t.esito),B.Bb(2),B.Pc(t.messaggio)}}function gr(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Tb(2,"tr"),B.Tb(3,"th"),B.Oc(4,"Dati identificativi"),B.Sb(),B.Ob(5,"th"),B.Sb(),B.Tb(6,"tr"),B.Tb(7,"td"),B.Oc(8,"Marca auricolare"),B.Sb(),B.Tb(9,"td"),B.Oc(10),B.Sb(),B.Sb(),B.Tb(11,"tr"),B.Tb(12,"td"),B.Oc(13,"Razza"),B.Sb(),B.Tb(14,"td"),B.Oc(15),B.Sb(),B.Sb(),B.Tb(16,"tr"),B.Tb(17,"td"),B.Oc(18,"La data di nascita del capo"),B.Sb(),B.Tb(19,"td"),B.Oc(20),B.gc(21,"date"),B.Sb(),B.Sb(),B.Ob(22,"br"),B.Tb(23,"tr"),B.Tb(24,"th"),B.Oc(25,"Dati identificativi dei vitelli del primo parto e di registrazione della loro nascita"),B.Sb(),B.Ob(26,"th"),B.Sb(),B.Tb(27,"tr"),B.Tb(28,"td"),B.Oc(29,"Marca auricolare"),B.Sb(),B.Tb(30,"td"),B.Oc(31),B.Sb(),B.Sb(),B.Tb(32,"tr"),B.Tb(33,"td"),B.Oc(34,"Data di nascita del vitello"),B.Sb(),B.Tb(35,"td"),B.Oc(36),B.gc(37,"date"),B.Sb(),B.Sb(),B.Tb(38,"tr"),B.Tb(39,"td"),B.Oc(40,"Gemello"),B.Sb(),B.Tb(41,"td"),B.Oc(42),B.Sb(),B.Sb(),B.Tb(43,"tr"),B.Tb(44,"td"),B.Oc(45,"Data di registrazione della nascita"),B.Sb(),B.Tb(46,"td"),B.Oc(47),B.gc(48,"date"),B.Sb(),B.Sb(),B.Tb(49,"tr"),B.Tb(50,"td"),B.Oc(51,"Registarzione della nascita delegata"),B.Sb(),B.Tb(52,"td"),B.Oc(53),B.Sb(),B.Sb(),B.Tb(54,"tr"),B.Tb(55,"td"),B.Oc(56,"Marcatura prepagata"),B.Sb(),B.Tb(57,"td"),B.Oc(58),B.Sb(),B.Sb(),B.Ob(59,"br"),B.Tb(60,"tr"),B.Tb(61,"th"),B.Oc(62,"Dati di registrazione della movimentazione"),B.Sb(),B.Ob(63,"th"),B.Sb(),B.Tb(64,"tr"),B.Tb(65,"td"),B.Oc(66,"Data di ingresso della vacca nell\u2019allevamento"),B.Sb(),B.Tb(67,"td"),B.Oc(68),B.gc(69,"date"),B.Sb(),B.Sb(),B.Tb(70,"tr"),B.Tb(71,"td"),B.Oc(72,"Data di comunicazione all\u2019autorit\xe0 competente dell\u2019ingresso"),B.Sb(),B.Tb(73,"td"),B.Oc(74),B.gc(75,"date"),B.Sb(),B.Sb(),B.Tb(76,"tr"),B.Tb(77,"td"),B.Oc(78,"Data di registrazione in BDN dell\u2019ingresso"),B.Sb(),B.Tb(79,"td"),B.Oc(80),B.gc(81,"date"),B.Sb(),B.Sb(),B.Ob(82,"br"),B.Tb(83,"tr"),B.Tb(84,"th"),B.Oc(85,"Esito del controllo"),B.Sb(),B.Ob(86,"th"),B.Sb(),B.Tb(87,"tr"),B.Tb(88,"td"),B.Oc(89,"Esito"),B.Sb(),B.Tb(90,"td"),B.Oc(91),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t){const t=B.fc(),i=t.columns,e=t.$implicit,o=B.fc(2);B.Bb(1),B.Cb("colspan",i.length+1),B.Bb(9),B.Pc(e.capoBdn.codice),B.Bb(5),B.Pc(e.capoBdn.razzaCodice),B.Bb(5),B.Qc(" ",e.capoBdn.dtNascita?B.ic(21,14,e.capoBdn.dtNascita,"dd/MM/yyyy"):o.intestazioni.nd," "),B.Bb(11),B.Pc(e.capoBdn.capoLatteBdn.vitelloBdn.codVitello),B.Bb(5),B.Pc(e.capoBdn.capoLatteBdn.vitelloBdn.dtNascita?B.ic(37,17,e.capoBdn.capoLatteBdn.vitelloBdn.dtNascita,"dd/MM/yyyy"):o.intestazioni.nd),B.Bb(6),B.Pc(e.capoBdn.capoLatteBdn.vitelloBdn.tipoOrigine),B.Bb(5),B.Pc(e.capoBdn.capoLatteBdn.vitelloBdn.dtInserimentoBdnNascita?B.ic(48,20,e.capoBdn.capoLatteBdn.vitelloBdn.dtInserimentoBdnNascita,"dd/MM/yyyy"):o.intestazioni.nd),B.Bb(6),B.Pc(e.capoBdn.capoLatteBdn.vitelloBdn.flagDelegatoNascitaVitello),B.Bb(5),B.Pc(e.capoBdn.capoLatteBdn.vitelloBdn.flagProrogaMarcatura),B.Bb(10),B.Pc(e.capoBdn.capoLatteBdn.detenzioniBdn&&e.capoBdn.capoLatteBdn.detenzioniBdn[0].vaccaDtIngresso?B.ic(69,23,e.capoBdn.capoLatteBdn.detenzioniBdn[0].vaccaDtIngresso,"dd/MM/yyyy"):o.intestazioni.nd),B.Bb(6),B.Pc(e.capoBdn.capoLatteBdn.detenzioniBdn&&e.capoBdn.capoLatteBdn.detenzioniBdn[0].vaccaDtComAutoritaIngresso?B.ic(75,26,e.capoBdn.capoLatteBdn.detenzioniBdn[0].vaccaDtComAutoritaIngresso,"dd/MM/yyyy"):o.intestazioni.nd),B.Bb(6),B.Pc(e.capoBdn.capoLatteBdn.detenzioniBdn&&e.capoBdn.capoLatteBdn.detenzioniBdn[0].vaccaDtInserimentoBdnIngresso?B.ic(81,29,e.capoBdn.capoLatteBdn.detenzioniBdn[0].vaccaDtInserimentoBdnIngresso,"dd/MM/yyyy"):o.intestazioni.nd),B.Bb(11),B.Pc(e.esito)}}function mr(t,i){if(1&t&&(B.Tb(0,"td"),B.Tb(1,"tr"),B.Tb(2,"th"),B.Oc(3,"Periodo di detenzione"),B.Sb(),B.Ob(4,"th"),B.Sb(),B.Tb(5,"tr"),B.Tb(6,"td"),B.Oc(7,"Data di inizio detenzione"),B.Sb(),B.Tb(8,"td"),B.Oc(9),B.gc(10,"date"),B.Sb(),B.Sb(),B.Tb(11,"tr"),B.Tb(12,"td"),B.Oc(13,"Data di fine detenzione"),B.Sb(),B.Tb(14,"td"),B.Oc(15),B.gc(16,"date"),B.Sb(),B.Sb(),B.Ob(17,"br"),B.Tb(18,"tr"),B.Tb(19,"th"),B.Oc(20,"Dati identificativi dell'allevamento"),B.Sb(),B.Ob(21,"th"),B.Sb(),B.Tb(22,"tr"),B.Tb(23,"td"),B.Oc(24,"Cuaa dell'azienda"),B.Sb(),B.Tb(25,"td"),B.Oc(26),B.Sb(),B.Sb(),B.Tb(27,"tr"),B.Tb(28,"td"),B.Oc(29,"Codice asl"),B.Sb(),B.Tb(30,"td"),B.Oc(31),B.Sb(),B.Sb(),B.Tb(32,"tr"),B.Tb(33,"td"),B.Oc(34,"Allevamento di montagna"),B.Sb(),B.Tb(35,"td"),B.Oc(36),B.Sb(),B.Sb(),B.Ob(37,"br"),B.Tb(38,"tr"),B.Tb(39,"th"),B.Oc(40,"Dati di registrazione della movimentazione"),B.Sb(),B.Ob(41,"th"),B.Sb(),B.Tb(42,"tr"),B.Tb(43,"td"),B.Oc(44,"Data di ingresso della vacca nell\u2019allevamento"),B.Sb(),B.Tb(45,"td"),B.Oc(46),B.gc(47,"date"),B.Sb(),B.Sb(),B.Tb(48,"tr"),B.Tb(49,"td"),B.Oc(50,"Data di comunicazione all\u2019autorit\xe0 competente dell\u2019ingresso"),B.Sb(),B.Tb(51,"td"),B.Oc(52),B.gc(53,"date"),B.Sb(),B.Sb(),B.Tb(54,"tr"),B.Tb(55,"td"),B.Oc(56,"Data di registrazione in BDN dell\u2019ingresso"),B.Sb(),B.Tb(57,"td"),B.Oc(58),B.gc(59,"date"),B.Sb(),B.Sb(),B.Ob(60,"br"),B.Sb()),2&t){const t=i.$implicit,e=B.fc(4);B.Bb(9),B.Qc(" ",t.dtInizioDetenzione?B.ic(10,8,t.dtInizioDetenzione,"dd/MM/yyyy"):e.intestazioni.nd," "),B.Bb(6),B.Qc(" ",t.dtFineDetenzione?B.ic(16,11,t.dtFineDetenzione,"dd/MM/yyyy"):e.intestazioni.nd," "),B.Bb(11),B.Pc(t.cuaa),B.Bb(5),B.Pc(t.codiceAsl),B.Bb(5),B.Pc(1==t.allevamentoMontagna?"SI":"NO"),B.Bb(10),B.Qc(" ",t.vaccaDtIngresso?B.ic(47,14,t.vaccaDtIngresso,"dd/MM/yyyy"):e.intestazioni.nd," "),B.Bb(6),B.Qc(" ",t.vaccaDtComAutoritaIngresso?B.ic(53,17,t.vaccaDtComAutoritaIngresso,"dd/MM/yyyy"):e.intestazioni.nd," "),B.Bb(6),B.Qc(" ",t.vaccaDtInserimentoBdnIngresso?B.ic(59,20,t.vaccaDtInserimentoBdnIngresso,"dd/MM/yyyy"):e.intestazioni.nd," ")}}function hr(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Tb(2,"tr"),B.Tb(3,"th"),B.Oc(4,"Dati identificativi"),B.Sb(),B.Ob(5,"th"),B.Sb(),B.Tb(6,"tr"),B.Tb(7,"td"),B.Oc(8,"Marca auricolare"),B.Sb(),B.Tb(9,"td"),B.Oc(10),B.Sb(),B.Sb(),B.Tb(11,"tr"),B.Tb(12,"td"),B.Oc(13,"Razza"),B.Sb(),B.Tb(14,"td"),B.Oc(15),B.Sb(),B.Sb(),B.Tb(16,"tr"),B.Tb(17,"td"),B.Oc(18,"La data di nascita del capo"),B.Sb(),B.Tb(19,"td"),B.Oc(20),B.gc(21,"date"),B.Sb(),B.Sb(),B.Ob(22,"br"),B.Tb(23,"tr"),B.Tb(24,"th"),B.Oc(25,"Dati identificativi dei vitelli del primo parto e di registrazione della loro nascita"),B.Sb(),B.Ob(26,"th"),B.Sb(),B.Tb(27,"tr"),B.Tb(28,"td"),B.Oc(29,"Marca auricolare"),B.Sb(),B.Tb(30,"td"),B.Oc(31),B.Sb(),B.Sb(),B.Tb(32,"tr"),B.Tb(33,"td"),B.Oc(34,"Data di nascita del vitello"),B.Sb(),B.Tb(35,"td"),B.Oc(36),B.gc(37,"date"),B.Sb(),B.Sb(),B.Tb(38,"tr"),B.Tb(39,"td"),B.Oc(40,"Gemello"),B.Sb(),B.Tb(41,"td"),B.Oc(42),B.Sb(),B.Sb(),B.Tb(43,"tr"),B.Tb(44,"td"),B.Oc(45,"Data di registrazione della nascita"),B.Sb(),B.Tb(46,"td"),B.Oc(47),B.gc(48,"date"),B.Sb(),B.Sb(),B.Tb(49,"tr"),B.Tb(50,"td"),B.Oc(51,"Registarzione della nascita delegata"),B.Sb(),B.Tb(52,"td"),B.Oc(53),B.Sb(),B.Sb(),B.Tb(54,"tr"),B.Tb(55,"td"),B.Oc(56,"Marcatura prepagata"),B.Sb(),B.Tb(57,"td"),B.Oc(58),B.Sb(),B.Sb(),B.Ob(59,"br"),B.Tb(60,"tr"),B.Tb(61,"th"),B.Oc(62,"Lista delle detenzioni che sono state valutate per il raggiungimento dei sei mesi in zone montane"),B.Sb(),B.Ob(63,"th"),B.Sb(),B.Tb(64,"tr"),B.Mc(65,mr,61,23,"td",6),B.Sb(),B.Ob(66,"br"),B.Tb(67,"tr"),B.Tb(68,"th"),B.Oc(69,"Esito del controllo"),B.Sb(),B.Ob(70,"th"),B.Sb(),B.Tb(71,"tr"),B.Tb(72,"td"),B.Oc(73,"Esito"),B.Sb(),B.Tb(74,"td"),B.Oc(75),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t){const t=B.fc(),i=t.columns,e=t.$implicit,o=B.fc(2);B.Bb(1),B.Cb("colspan",i.length+1),B.Bb(9),B.Pc(e.capoBdn.codice),B.Bb(5),B.Pc(e.capoBdn.razzaCodice),B.Bb(5),B.Qc(" ",e.capoBdn.dtNascita?B.ic(21,12,e.capoBdn.dtNascita,"dd/MM/yyyy"):o.intestazioni.nd," "),B.Bb(11),B.Pc(e.capoBdn.capoLatteBdn.vitelloBdn.codVitello),B.Bb(5),B.Pc(e.capoBdn.capoLatteBdn.vitelloBdn.dtNascita?B.ic(37,15,e.capoBdn.capoLatteBdn.vitelloBdn.dtNascita,"dd/MM/yyyy"):o.intestazioni.nd),B.Bb(6),B.Pc(e.capoBdn.capoLatteBdn.vitelloBdn.tipoOrigine),B.Bb(5),B.Pc(e.capoBdn.capoLatteBdn.vitelloBdn.dtInserimentoBdnNascita?B.ic(48,18,e.capoBdn.capoLatteBdn.vitelloBdn.dtInserimentoBdnNascita,"dd/MM/yyyy"):o.intestazioni.nd),B.Bb(6),B.Pc(e.capoBdn.capoLatteBdn.vitelloBdn.flagDelegatoNascitaVitello),B.Bb(5),B.Pc(e.capoBdn.capoLatteBdn.vitelloBdn.flagProrogaMarcatura),B.Bb(7),B.mc("ngForOf",e.capoBdn.capoLatteBdn.detenzioniBdn),B.Bb(10),B.Pc(e.esito)}}function Sr(t,i){if(1&t&&(B.Tb(0,"td"),B.Tb(1,"tr"),B.Tb(2,"td"),B.Oc(3,"Data di ingresso della vacca nell\u2019allevamento"),B.Sb(),B.Tb(4,"td"),B.Oc(5),B.gc(6,"date"),B.Sb(),B.Sb(),B.Tb(7,"tr"),B.Tb(8,"td"),B.Oc(9,"Data di comunicazione all\u2019autorit\xe0 competente dell\u2019ingresso"),B.Sb(),B.Tb(10,"td"),B.Oc(11),B.gc(12,"date"),B.Sb(),B.Sb(),B.Tb(13,"tr"),B.Tb(14,"td"),B.Oc(15,"Data di registrazione in BDN dell\u2019ingresso"),B.Sb(),B.Tb(16,"td"),B.Oc(17),B.gc(18,"date"),B.Sb(),B.Sb(),B.Ob(19,"br"),B.Tb(20,"tr"),B.Tb(21,"th"),B.Oc(22,"Dati di detenzione in stalla"),B.Sb(),B.Ob(23,"th"),B.Sb(),B.Tb(24,"tr"),B.Tb(25,"td"),B.Oc(26,"Data di uscita del capo dall\u2019allevamento"),B.Sb(),B.Tb(27,"td"),B.Oc(28),B.gc(29,"date"),B.Sb(),B.Sb(),B.Ob(30,"br"),B.Sb()),2&t){const t=i.$implicit,e=B.fc(4);B.Bb(5),B.Pc(t.vaccaDtIngresso?B.ic(6,4,t.vaccaDtIngresso,"dd/MM/yyyy"):e.intestazioni.nd),B.Bb(6),B.Pc(t.vaccaDtComAutoritaIngresso?B.ic(12,7,t.vaccaDtComAutoritaIngresso,"dd/MM/yyyy"):e.intestazioni.nd),B.Bb(6),B.Pc(t.vaccaDtInserimentoBdnIngresso?B.ic(18,10,t.vaccaDtInserimentoBdnIngresso,"dd/MM/yyyy"):e.intestazioni.nd),B.Bb(11),B.Pc(t.dtUscita?B.ic(29,13,t.dtUscita,"dd/MM/yyyy"):e.intestazioni.nd)}}function fr(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Tb(2,"tr"),B.Tb(3,"th"),B.Oc(4,"Dati identificativi"),B.Sb(),B.Ob(5,"th"),B.Sb(),B.Tb(6,"tr"),B.Tb(7,"td"),B.Oc(8,"Marca auricolare"),B.Sb(),B.Tb(9,"td"),B.Oc(10),B.Sb(),B.Sb(),B.Tb(11,"tr"),B.Tb(12,"td"),B.Oc(13,"Razza"),B.Sb(),B.Tb(14,"td"),B.Oc(15),B.Sb(),B.Sb(),B.Tb(16,"tr"),B.Tb(17,"td"),B.Oc(18,"La data di nascita del capo"),B.Sb(),B.Tb(19,"td"),B.Oc(20),B.gc(21,"date"),B.Sb(),B.Sb(),B.Ob(22,"br"),B.Tb(23,"tr"),B.Tb(24,"th"),B.Oc(25,"Dati di registrazione della movimentazione"),B.Sb(),B.Ob(26,"th"),B.Sb(),B.Tb(27,"tr"),B.Mc(28,Sr,31,16,"td",6),B.Sb(),B.Tb(29,"tr"),B.Tb(30,"th"),B.Oc(31,"Esito del controllo"),B.Sb(),B.Ob(32,"th"),B.Sb(),B.Tb(33,"tr"),B.Tb(34,"td"),B.Oc(35,"Esito"),B.Sb(),B.Tb(36,"td"),B.Oc(37),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t){const t=B.fc(),i=t.columns,e=t.$implicit,o=B.fc(2);B.Bb(1),B.Cb("colspan",i.length+1),B.Bb(9),B.Pc(e.capoBdn.codice),B.Bb(5),B.Pc(e.capoBdn.razzaCodice),B.Bb(5),B.Qc(" ",e.capoBdn.dtNascita?B.ic(21,6,e.capoBdn.dtNascita,"dd/MM/yyyy"):o.intestazioni.nd," "),B.Bb(8),B.mc("ngForOf",e.capoBdn.capoMacellatoBdn.detenzioniBdn),B.Bb(9),B.Pc(e.esito)}}function Tr(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Tb(2,"tr"),B.Tb(3,"th"),B.Oc(4,"Dati identificativi"),B.Sb(),B.Ob(5,"th"),B.Sb(),B.Tb(6,"tr"),B.Tb(7,"td"),B.Oc(8,"Marca auricolare"),B.Sb(),B.Tb(9,"td"),B.Oc(10),B.Sb(),B.Sb(),B.Tb(11,"tr"),B.Tb(12,"td"),B.Oc(13,"Razza"),B.Sb(),B.Tb(14,"td"),B.Oc(15),B.Sb(),B.Sb(),B.Tb(16,"tr"),B.Tb(17,"td"),B.Oc(18,"La data di nascita del capo"),B.Sb(),B.Tb(19,"td"),B.Oc(20),B.gc(21,"date"),B.Sb(),B.Sb(),B.Ob(22,"br"),B.Tb(23,"tr"),B.Tb(24,"th"),B.Oc(25,"Esito del controllo"),B.Sb(),B.Ob(26,"th"),B.Sb(),B.Tb(27,"tr"),B.Tb(28,"td"),B.Oc(29,"Esito"),B.Sb(),B.Tb(30,"td"),B.Oc(31),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t){const t=B.fc(),i=t.columns,e=t.$implicit,o=B.fc(2);B.Bb(1),B.Cb("colspan",i.length+1),B.Bb(9),B.Pc(e.capoBdn.codice),B.Bb(5),B.Pc(e.capoBdn.razzaCodice),B.Bb(5),B.Qc(" ",e.capoBdn.dtNascita?B.ic(21,5,e.capoBdn.dtNascita,"dd/MM/yyyy"):o.intestazioni.nd," "),B.Bb(11),B.Pc(e.esito)}}function vr(t,i){if(1&t&&(B.Mc(0,gr,92,32,"ng-template",35),B.Mc(1,hr,76,21,"ng-template",35),B.Mc(2,fr,38,9,"ng-template",35),B.Mc(3,Tr,32,8,"ng-template",35)),2&t){const t=i.$implicit,e=B.fc(2);B.mc("ngIf",e.isInterventoBovini(t.capoBdn.intervento)),B.Bb(1),B.mc("ngIf",e.isAllevamentoMontagna(t.capoBdn.intervento)),B.Bb(1),B.mc("ngIf",e.isInterventoMacellati(t.capoBdn.intervento)),B.Bb(1),B.mc("ngIf",e.isInterventoOvicaprini(t.capoBdn.intervento))}}function Ir(t,i){if(1&t){const t=B.Ub();B.Tb(0,"p-accordion"),B.Tb(1,"p-accordionTab",20),B.Tb(2,"div",21),B.Tb(3,"i",22),B.Oc(4,"search"),B.Sb(),B.Tb(5,"input",23),B.bc("input",(function(i){return B.Ec(t),B.Bc(7).filterGlobal(i.target.value,"contains")})),B.Sb(),B.Sb(),B.Tb(6,"p-table",24,25),B.Mc(8,ur,3,1,"ng-template",26),B.Mc(9,pr,12,6,"ng-template",27),B.Mc(10,vr,4,4,"ng-template",28),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=i.$implicit,e=B.fc();B.Bb(1),B.qc("header","",t.datiAllevamento.descrizioneAllevamento," - ",t.datiAllevamento.codiceAllevamento," - ",t.codiceIntervento," - Numero Capi: ",t.richiesteAllevamentoDuEsito.length,""),B.mc("selected",!1),B.Bb(5),B.mc("columns",e.cols)("value",t.richiesteAllevamentoDuEsito)("autoLayout",!0)("paginator",!0)("rows",e.elementiPagina)("responsive",!0)}}function Or(t,i){1&t&&(B.Tb(0,"div"),B.Oc(1," Nessun controllo eseguito "),B.Sb())}const Cr=function(){return{marginTop:"70px"}};let Ar=(()=>{class t{constructor(t,i,e){this.istruttoriaService=t,this.route=i,this.messageService=e,this.allevamenti=[],this.cols=[],this.intestazioni=bn.a,this.elementiPagina=10,this.interventiBovini=["310","312","313","314","322"],this.interventiMacellati=["315","316","318"],this.interventiOvicaprini=["320","321"],this.mesi=["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],this.showProduzione=!1,this.noAnalisi=!1}ngOnInit(){this.setCols(),this.setIdDomanda(),this.setIdIstruttoria(),this.changePage()}setCols(){this.cols=[{field:"codiceCapo",header:this.intestazioni.marcaAuricolare},{field:"codiceSpecie",header:this.intestazioni.codiceSpecie},{field:"esito",header:this.intestazioni.ESITO_CONTROLLO},{field:"messaggio",header:this.intestazioni.messaggioEsito}]}setIdDomanda(){this.route.paramMap.subscribe(t=>{this.idDomanda=t.get(Yt.a.dettaglioDomandaParam)})}setIdIstruttoria(){this.route.paramMap.subscribe(t=>{this.idIstruttoria=t.get("idIstruttoria")})}changePage(){this.istruttoriaService.getCapi(this.idDomanda,JSON.stringify({tipo:"AMMESSO"})).subscribe(t=>{t&&(t.forEach(t=>{t.datiAllevamento=JSON.parse(t.datiAllevamento),t.datiDetentore=JSON.parse(t.datiDetentore),t.datiProprietario=JSON.parse(t.datiProprietario),this.allevamenti.push(t)}),this.allevamenti.forEach(t=>{t.richiesteAllevamentoDuEsito.forEach(t=>{t.esito=t.esito.split("_").join(" ")})}),this.allevamenti.sort((function(t,i){return t.codiceIntervento-i.codiceIntervento}))),console.log(this.allevamenti),this.getProduzioneLatteAndEtichettaturaCarne()},t=>{console.log(t),this.messageService.add(b.a.getToast("tst",b.b.error,b.a.erroreRecuperoDati))})}isInterventoBovini(t){return this.interventiBovini.includes(t)}isAllevamentoMontagna(t){return 0=="311".localeCompare(t)}isInterventoMacellati(t){return this.interventiMacellati.includes(t)}isInterventoOvicaprini(t){return this.interventiOvicaprini.includes(t)}getProduzioneLatteAndEtichettaturaCarne(){this.istruttoriaService.getDettaglioDomanda(this.idDomanda,null,null).subscribe(t=>{this.cuaa=t.infoGeneraliDomanda.cuaaIntestatario;let i={cuaa:this.cuaa};this.isProduzioneLatte()&&(this.getProduzioneLatte(i),this.getRegistrazioneAlpeggio(i)),this.isEtichettatura()&&this.getEtichettatura(i)},t=>{console.log(t)})}getRegistrazioneAlpeggio(t){this.istruttoriaService.getAlpeggio(this.idIstruttoria,JSON.stringify(t)).subscribe(t=>{this.alpeggi=t},t=>{console.log(t)})}isProduzioneLatte(){return this.allevamenti.some(t=>310==t.codiceIntervento||311==t.codiceIntervento||322==t.codiceIntervento)}isEtichettatura(){return this.allevamenti.some(t=>318==t.codiceIntervento)}getProduzioneLatte(t){this.istruttoriaService.getProduzioneLatte(this.idIstruttoria,JSON.stringify(t)).subscribe(t=>{this.produzioneLatte=t[0],this.showProduzione=!0,this.checkAnalisi()},t=>{this.showProduzione=!1,console.log(t)})}getEtichettatura(t){this.istruttoriaService.getEtichettatura(JSON.stringify(t)).subscribe(t=>{this.etichettature=t},t=>{console.log(t)})}checkAnalisi(){this.noAnalisi=null==this.produzioneLatte.tenoreBatteri||null==this.produzioneLatte.tenoreCellule||null==this.produzioneLatte.contenutoProteine}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(l.a),B.Nb(c.a),B.Nb(N.d))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-capi-ammessi"]],viewQuery:function(t,i){var e;1&t&&B.Uc(Wn,!0),2&t&&B.Ac(e=B.cc())&&(i.table=e.first)},decls:10,vars:8,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],[4,"ngIf"],[4,"ngFor","ngForOf"],["header","PRODUZIONE LATTE"],[1,"h5Title"],[1,"table","table-bordered","tableBorder"],["scope","row"],["class","tdAnalisiLatte",4,"ngFor","ngForOf"],[1,"tdAnalisiLatte"],[1,"table","tableBorder","table-striped"],["style","text-align: center",4,"ngIf"],[2,"text-align","center"],["scope","row",1,"valoriMediTitle"],[1,"valoriMedi"],[1,"valoriMedi","tdDataAlpeggio"],["header","ETICHETTATURA"],[3,"header","selected"],[1,"globalfilter"],[1,"material-icons"],["type","text","pInputText","","size","50","placeholder","Ricerca...",2,"width","auto",3,"input"],["dataKey","codiceCapo",3,"columns","value","autoLayout","paginator","rows","responsive"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[2,"width","3em"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"],["href","#",3,"pRowToggler"],[3,"ngClass"],[3,"ngIf"]],template:function(t,i){1&t&&(B.Tb(0,"div",0),B.Tb(1,"div",1),B.Tb(2,"div",2),B.Ob(3,"p-toast",3),B.Tb(4,"div",4),B.Mc(5,nr,74,29,"p-accordion",5),B.Mc(6,lr,5,2,"p-accordion",5),B.Mc(7,dr,1,0,"hr",5),B.Mc(8,Ir,11,11,"p-accordion",6),B.Mc(9,Or,2,0,"div",5),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t&&(B.Bb(3),B.Kc(B.rc(7,Cr)),B.Bb(2),B.mc("ngIf",i.isProduzioneLatte()&&i.showProduzione),B.Bb(1),B.mc("ngIf",i.isEtichettatura()),B.Bb(1),B.mc("ngIf",i.isProduzioneLatte()||i.isEtichettatura()),B.Bb(1),B.mc("ngForOf",i.allevamenti),B.Bb(1),B.mc("ngIf",0==i.allevamenti.length))},directives:[M.a,o.t,o.s,_i.a,_i.c,Zo.a,a.q,N.e,a.p,a.o,a.k,o.q],pipes:[o.g,o.f],styles:[".tableBorder[_ngcontent-%COMP%]{border-top:2px solid #0d5f3f}.h5Title[_ngcontent-%COMP%]{padding-top:20px}.tdAnalisiLatte[_ngcontent-%COMP%]{text-align:center}.valoriMediTitle[_ngcontent-%COMP%]{width:20%}.valoriMedi[_ngcontent-%COMP%]{text-align:left}.tdDataAlpeggio[_ngcontent-%COMP%]{border-right:1px solid #d3d3d3}"]}),t})();class Dr{constructor(t,i,e,o,a,n,r,c,s,l,d,b,u){this.percIncrementoGreening=t,this.percIncrementoGiovane=i,this.limiteGiovane=e,this.percRiduzioneLineare1=o,this.percRiduzioneLineare2=a,this.percRiduzioneLineare3=n,this.percRiduzioneTitoli=r,this.percPagamento=c,this.percDisciplinaFinanziaria=s,this.dtRicevibilita=l,this.dtScadenzaDomande=d,this.dtScadenzaDomandeRitardo=b,this.dtScadenzaDomandeRitiroparz=u}}function Pr(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div",3),B.Tb(1,"div",4),B.Tb(2,"strong"),B.Oc(3,"Tipologia domanda"),B.Sb(),B.Sb(),B.Tb(4,"div",4),B.Tb(5,"strong"),B.Oc(6),B.Sb(),B.Sb(),B.Tb(7,"div",4),B.Tb(8,"strong"),B.Oc(9,"Descrizione domanda"),B.Sb(),B.Sb(),B.Tb(10,"div",4),B.Oc(11),B.Sb(),B.Tb(12,"div",4),B.Tb(13,"strong"),B.Oc(14,"Anno di riferimento"),B.Sb(),B.Sb(),B.Tb(15,"div",4),B.Tb(16,"strong"),B.Oc(17),B.Sb(),B.Sb(),B.Tb(18,"div",4),B.Tb(19,"strong"),B.Oc(20,"Data scadenza presentazione domande"),B.Sb(),B.Sb(),B.Tb(21,"div",4),B.Oc(22),B.gc(23,"date"),B.Sb(),B.Tb(24,"div",4),B.Tb(25,"strong"),B.Oc(26,"Tipo istruttoria"),B.Sb(),B.Sb(),B.Tb(27,"div",4),B.Tb(28,"strong"),B.Oc(29),B.Sb(),B.Sb(),B.Tb(30,"div",4),B.Tb(31,"strong"),B.Oc(32,"Data scadenza presentazione domande con ritardo"),B.Sb(),B.Sb(),B.Tb(33,"div",4),B.Oc(34),B.gc(35,"date"),B.Sb(),B.Tb(36,"div",4),B.Tb(37,"strong"),B.Oc(38,"Data scadenza presentazione domande di ritiro parziale"),B.Sb(),B.Sb(),B.Tb(39,"div",4),B.Oc(40),B.gc(41,"date"),B.Sb(),B.Tb(42,"div",4),B.Tb(43,"strong"),B.Oc(44,"Data di ricevibilit\xe0"),B.Sb(),B.Sb(),B.Tb(45,"div",4),B.Oc(46),B.gc(47,"date"),B.Sb(),B.Tb(48,"div",4),B.Tb(49,"strong"),B.Oc(50,"Greening - Percentuale di incremento del premio"),B.Sb(),B.Sb(),B.Tb(51,"div",4),B.Oc(52),B.gc(53,"percent"),B.Sb(),B.Tb(54,"div",4),B.Tb(55,"strong"),B.Oc(56,"Giovane - Percentuale di incremento del premio"),B.Sb(),B.Sb(),B.Tb(57,"div",4),B.Oc(58),B.gc(59,"percent"),B.Sb(),B.Tb(60,"div",4),B.Tb(61,"strong"),B.Oc(62,"Giovane - Limite ai diritti all'aiuto attivabili"),B.Sb(),B.Sb(),B.Tb(63,"div",4),B.Oc(64),B.Sb(),B.Tb(65,"div",4),B.Tb(66,"strong"),B.Oc(67,"Riduzione lineare giovane (art.51, par.2, reg. 1307/2013)"),B.Sb(),B.Sb(),B.Tb(68,"div",4),B.Oc(69),B.gc(70,"percent"),B.Sb(),B.Tb(71,"div",4),B.Tb(72,"strong"),B.Oc(73," Riduzione lineare giovane (art.51, par.3, reg. 1307/2013)"),B.Sb(),B.Sb(),B.Tb(74,"div",4),B.Oc(75),B.gc(76,"percent"),B.Sb(),B.Tb(77,"div",4),B.Tb(78,"strong"),B.Oc(79,"Riduzione lineare massimale netto (art. 7, reg. 1307/2013)"),B.Sb(),B.Sb(),B.Tb(80,"div",4),B.Oc(81),B.gc(82,"percent"),B.Sb(),B.Tb(83,"div",4),B.Tb(84,"strong"),B.Oc(85,"Riduzione titoli"),B.Sb(),B.Sb(),B.Tb(86,"div",4),B.Oc(87),B.gc(88,"percent"),B.Sb(),B.Tb(89,"div",4),B.Tb(90,"strong"),B.Oc(91," Percentuale Disciplina Finanziaria"),B.Sb(),B.Sb(),B.Tb(92,"div",4),B.Oc(93),B.gc(94,"percent"),B.Sb(),B.Tb(95,"div",4),B.Tb(96,"strong"),B.Oc(97,"Percentuale pagamento"),B.Sb(),B.Sb(),B.Tb(98,"div",4),B.Oc(99),B.gc(100,"percent"),B.Sb(),B.Tb(101,"div",5),B.Tb(102,"button",6),B.bc("click",(function(){return B.Ec(t),B.fc().modifica()})),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=B.fc();B.Bb(6),B.Pc(t.getIstruttoriaCorrente().descrizionePac),B.Bb(5),B.Qc(" ",t.getIstruttoriaCorrente().descrizioneDomanda," "),B.Bb(6),B.Pc(t.getIstruttoriaCorrente().annoRiferimento),B.Bb(5),B.Qc(" ",B.ic(23,17,t.getIstruttoriaCorrente().dtScadenzaDomande,"dd/MM/yyyy")," "),B.Bb(7),B.Pc(t.getIstruttoriaCorrente().tipoIstruttoria),B.Bb(5),B.Qc(" ",B.ic(35,20,t.getIstruttoriaCorrente().dtScadenzaDomandeRitardo,"dd/MM/yyyy")," "),B.Bb(6),B.Qc(" ",B.ic(41,23,t.getIstruttoriaCorrente().dtScadenzaDomandeRitiroparz,"dd/MM/yyyy")," "),B.Bb(6),B.Qc(" ",B.ic(47,26,t.getIstruttoriaCorrente().dtRicevibilita,"dd/MM/yyyy")," "),B.Bb(6),B.Qc(" ",B.ic(53,29,t.getIstruttoriaCorrente().percIncrementoGreening,"0.0-4")," "),B.Bb(6),B.Qc(" ",B.ic(59,32,t.getIstruttoriaCorrente().percIncrementoGiovane,"0.0-4")," "),B.Bb(6),B.Qc(" ",t.getIstruttoriaCorrente().limiteGiovane," "),B.Bb(5),B.Qc(" ",B.ic(70,35,t.getIstruttoriaCorrente().percRiduzioneLineare1,"0.0-4")," "),B.Bb(6),B.Qc(" ",B.ic(76,38,t.getIstruttoriaCorrente().percRiduzioneLineare2,"0.0-4")," "),B.Bb(6),B.Qc(" ",B.ic(82,41,t.getIstruttoriaCorrente().percRiduzioneLineare3,"0.0-4")," "),B.Bb(6),B.Qc(" ",B.ic(88,44,t.getIstruttoriaCorrente().percRiduzioneTitoli,"0.0-4")," "),B.Bb(6),B.Qc(" ",B.ic(94,47,t.getIstruttoriaCorrente().percDisciplinaFinanziaria,"0.0-6")," "),B.Bb(6),B.Qc(" ",B.ic(100,50,t.getIstruttoriaCorrente().percPagamento,"0.0-4")," ")}}function Br(t,i){1&t&&(B.Tb(0,"div",24),B.Oc(1,"Numero non valido"),B.Sb())}function Nr(t,i){1&t&&(B.Tb(0,"div",24),B.Oc(1,"Numero non valido"),B.Sb())}function zr(t,i){1&t&&(B.Tb(0,"div",24),B.Oc(1,"Numero non valido"),B.Sb())}function Mr(t,i){1&t&&(B.Tb(0,"div",24),B.Oc(1,"Numero non valido"),B.Sb())}function Rr(t,i){1&t&&(B.Tb(0,"div",24),B.Oc(1,"Numero non valido"),B.Sb())}function yr(t,i){1&t&&(B.Tb(0,"div",24),B.Oc(1,"Numero non valido"),B.Sb())}function Er(t,i){1&t&&(B.Tb(0,"div",24),B.Oc(1,"Numero non valido"),B.Sb())}function Lr(t,i){1&t&&(B.Tb(0,"div",24),B.Oc(1,"Numero non valido"),B.Sb())}function wr(t,i){1&t&&(B.Tb(0,"div",24),B.Oc(1,"Numero non valido"),B.Sb())}function xr(t,i){if(1&t&&(B.Tb(0,"div",4),B.Ob(1,"input",25),B.Mc(2,wr,2,0,"div",13),B.Sb()),2&t){const t=B.fc(2);B.Bb(2),B.mc("ngIf",!t.updateForm.controls.percPagamento.valid)}}function _r(t,i){if(1&t&&(B.Tb(0,"div",4),B.Oc(1),B.Sb()),2&t){const t=B.fc(2);B.Bb(1),B.Qc(" ",100*t.getIstruttoriaCorrente().percPagamento,"% ")}}function kr(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div",3),B.Tb(1,"form",7),B.Tb(2,"div",3),B.Tb(3,"div",4),B.Tb(4,"strong"),B.Oc(5,"Tipologia domanda"),B.Sb(),B.Sb(),B.Tb(6,"div",4),B.Oc(7),B.Sb(),B.Tb(8,"div",4),B.Tb(9,"strong"),B.Oc(10,"Descrizione domanda"),B.Sb(),B.Sb(),B.Tb(11,"div",4),B.Oc(12),B.Sb(),B.Sb(),B.Tb(13,"div",3),B.Tb(14,"div",4),B.Tb(15,"strong"),B.Oc(16,"Anno di riferimento"),B.Sb(),B.Sb(),B.Tb(17,"div",4),B.Oc(18),B.Sb(),B.Tb(19,"div",4),B.Tb(20,"strong"),B.Oc(21,"Data scadenza presentazione domande"),B.Sb(),B.Sb(),B.Tb(22,"div",4),B.Ob(23,"p-calendar",8),B.Sb(),B.Sb(),B.Tb(24,"div",3),B.Tb(25,"div",4),B.Tb(26,"strong"),B.Oc(27,"Tipo istruttoria"),B.Sb(),B.Sb(),B.Tb(28,"div",4),B.Oc(29),B.Sb(),B.Tb(30,"div",4),B.Tb(31,"strong"),B.Oc(32,"Data scadenza presentazione domande con ritardo"),B.Sb(),B.Sb(),B.Tb(33,"div",4),B.Ob(34,"p-calendar",9),B.Sb(),B.Sb(),B.Tb(35,"div",3),B.Tb(36,"div",4),B.Tb(37,"strong"),B.Oc(38,"Data scadenza presentazione domande di ritiro parziale"),B.Sb(),B.Sb(),B.Tb(39,"div",4),B.Ob(40,"p-calendar",10),B.Sb(),B.Tb(41,"div",4),B.Tb(42,"strong"),B.Oc(43,"Data di ricevibilit\xe0"),B.Sb(),B.Sb(),B.Tb(44,"div",4),B.Ob(45,"p-calendar",11),B.Sb(),B.Sb(),B.Tb(46,"div",3),B.Tb(47,"div",4),B.Tb(48,"strong"),B.Oc(49,"Greening - Percentuale di incremento del premio"),B.Sb(),B.Sb(),B.Tb(50,"div",4),B.Ob(51,"input",12),B.Mc(52,Br,2,0,"div",13),B.Sb(),B.Tb(53,"div",4),B.Tb(54,"strong"),B.Oc(55,"Giovane - Percentuale di incremento del premio"),B.Sb(),B.Sb(),B.Tb(56,"div",4),B.Ob(57,"input",14),B.Mc(58,Nr,2,0,"div",13),B.Sb(),B.Sb(),B.Tb(59,"div",3),B.Tb(60,"div",4),B.Tb(61,"strong"),B.Oc(62,"Giovane - Limite ai diritti all'aiuto attivabili"),B.Sb(),B.Sb(),B.Tb(63,"div",4),B.Ob(64,"input",15),B.Mc(65,zr,2,0,"div",13),B.Sb(),B.Tb(66,"div",4),B.Tb(67,"strong"),B.Oc(68,"Riduzione lineare giovane (art.51, par.2, reg. 1307/2013)"),B.Sb(),B.Sb(),B.Tb(69,"div",4),B.Ob(70,"input",16),B.Mc(71,Mr,2,0,"div",13),B.Sb(),B.Sb(),B.Tb(72,"div",3),B.Tb(73,"div",4),B.Tb(74,"strong"),B.Oc(75,"Riduzione lineare giovane (art.51, par.3, reg. 1307/2013)"),B.Sb(),B.Sb(),B.Tb(76,"div",4),B.Ob(77,"input",17),B.Mc(78,Rr,2,0,"div",13),B.Sb(),B.Tb(79,"div",4),B.Tb(80,"strong"),B.Oc(81,"Riduzione lineare massimale netto (art. 7, reg. 1307/2013)"),B.Sb(),B.Sb(),B.Tb(82,"div",4),B.Ob(83,"input",18),B.Mc(84,yr,2,0,"div",13),B.Sb(),B.Sb(),B.Tb(85,"div"),B.Tb(86,"div",4),B.Tb(87,"strong"),B.Oc(88,"Riduzioni titoli"),B.Sb(),B.Sb(),B.Tb(89,"div",4),B.Ob(90,"input",19),B.Mc(91,Er,2,0,"div",13),B.Sb(),B.Tb(92,"div",4),B.Tb(93,"strong"),B.Oc(94,"Percentuale Disciplina Finanziaria"),B.Sb(),B.Sb(),B.Tb(95,"div",4),B.Ob(96,"input",20),B.Mc(97,Lr,2,0,"div",13),B.Sb(),B.Sb(),B.Tb(98,"div"),B.Tb(99,"div",4),B.Tb(100,"strong"),B.Oc(101,"Percentuale pagamento"),B.Sb(),B.Sb(),B.Mc(102,xr,3,1,"div",21),B.Mc(103,_r,2,1,"div",21),B.Sb(),B.Tb(104,"div",5),B.Tb(105,"button",22),B.bc("click",(function(){return B.Ec(t),B.fc().salva()})),B.Sb(),B.Tb(106,"button",23),B.bc("click",(function(){return B.Ec(t),B.fc().annullaModifica()})),B.Sb(),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=B.fc();B.Bb(1),B.mc("formGroup",t.updateForm),B.Bb(6),B.Qc(" ",t.getIstruttoriaCorrente().descrizionePac," "),B.Bb(5),B.Qc(" ",t.getIstruttoriaCorrente().descrizioneDomanda," "),B.Bb(6),B.Qc(" ",t.getIstruttoriaCorrente().annoRiferimento," "),B.Bb(5),B.mc("locale",t.it)("showIcon",!0),B.Bb(6),B.Qc(" ",t.getIstruttoriaCorrente().tipoIstruttoria," "),B.Bb(5),B.mc("locale",t.it)("showIcon",!0),B.Bb(6),B.mc("locale",t.it)("showIcon",!0),B.Bb(5),B.mc("locale",t.it)("showIcon",!0),B.Bb(6),B.mc("disabled",!0),B.Bb(1),B.mc("ngIf",!t.updateForm.controls.percIncrementoGreening.valid),B.Bb(6),B.mc("ngIf",!t.updateForm.controls.percIncrementoGiovane.valid),B.Bb(7),B.mc("ngIf",!t.updateForm.controls.limiteGiovane.valid),B.Bb(6),B.mc("ngIf",!t.updateForm.controls.percRiduzioneLineare1.valid),B.Bb(7),B.mc("ngIf",!t.updateForm.controls.percRiduzioneLineare2.valid),B.Bb(6),B.mc("ngIf",!t.updateForm.controls.percRiduzioneLineare3.valid),B.Bb(7),B.mc("ngIf",!t.updateForm.controls.percRiduzioneTitoli.valid),B.Bb(6),B.mc("ngIf",!t.updateForm.controls.percDisciplinaFinanziaria.valid),B.Bb(5),B.mc("ngIf","ANTICIPO"==t.getIstruttoriaCorrente().tipoIstruttoria),B.Bb(1),B.mc("ngIf","SALDO"==t.getIstruttoriaCorrente().tipoIstruttoria)}}let Ur=(()=>{class t{constructor(t,i,e,o,a,n,r){this.istruttoriaCorrente=t,this.fb=i,this.route=e,this.istruttoriaService=o,this.confirmationService=a,this.router=n,this.conf=r,this.aggiornaDomandeCounters=new B.n,this.controlloRicev=!1,this.showSostegno=!1,this.editable=!1}ngOnInit(){this.it={firstDayOfWeek:1,dayNames:["domenica","lunedi","martedi","mercoledi","giovedi","venerdi","sabato"],dayNamesShort:["dom","lun","mar","mer","gio","ven","sab"],dayNamesMin:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Sep","Ott","Nov","Dic"],today:"Oggi",clear:"Svuota"}}getIstruttoriaCorrente(){return this.istruttoriaCorrente.istruttoria}modifica(){this.confirmationService.confirm({message:"Attenzione! Sei davvero sicuro di voler modificare questi dati?",acceptLabel:"S\xec",rejectLabel:"No",rejectVisible:!0,accept:()=>{this.editable=!0,this.updateForm=this.fb.group({percIncrementoGreening:[(100*this.getIstruttoriaCorrente().percIncrementoGreening).toFixed(2),[y.G.required,y.G.pattern(/^\d{0,3}(\.\d{0,2})?$/)]],percIncrementoGiovane:[(100*this.getIstruttoriaCorrente().percIncrementoGiovane).toFixed(2),[y.G.required,y.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)]],limiteGiovane:[this.getIstruttoriaCorrente().limiteGiovane,+[y.G.required,y.G.pattern(/^-?\d{0,3}(\.?\d{0,4})$/)]],percRiduzioneLineare1:[(100*this.getIstruttoriaCorrente().percRiduzioneLineare1).toFixed(2),[y.G.required,y.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)]],percRiduzioneLineare2:[(100*this.getIstruttoriaCorrente().percRiduzioneLineare2).toFixed(2),[y.G.required,y.G.pattern(/^-?\d{0,3}\.?(\d{0,2})$/)]],percRiduzioneLineare3:[(100*this.getIstruttoriaCorrente().percRiduzioneLineare3).toFixed(2),[y.G.required,y.G.pattern(/^-?\d{0,3}\.?(\d{0,2})$/)]],percRiduzioneTitoli:[(100*this.getIstruttoriaCorrente().percRiduzioneTitoli).toFixed(2),[y.G.required,y.G.pattern(/^-?\d{0,3}\.?(\d{0,2})$/)]],percDisciplinaFinanziaria:[(100*this.getIstruttoriaCorrente().percDisciplinaFinanziaria).toFixed(6),[y.G.required,y.G.pattern(/^-?\d{0,5}(\.?\d{0,6})$/)]],dtRicevibilita:[new Date(this.getIstruttoriaCorrente().dtRicevibilita),y.G.required],dtScadenzaDomande:[new Date(this.getIstruttoriaCorrente().dtScadenzaDomande),y.G.required],dtScadenzaDomandeRitardo:[new Date(this.getIstruttoriaCorrente().dtScadenzaDomandeRitardo),y.G.required],dtScadenzaDomandeRitiroparz:[new Date(this.getIstruttoriaCorrente().dtScadenzaDomandeRitiroparz),y.G.required],percPagamento:[(100*this.getIstruttoriaCorrente().percPagamento).toFixed(2),[y.G.required,y.G.pattern(/^-?\d{0,3}\.?(\d{0,2})$/)]]})}})}annullaModifica(){this.editable=!1}salva(){const t=this.getIstruttoriaCorrente().id,i=this.updateForm.getRawValue(),e=new Dr(this.fixDati(i.percIncrementoGreening),this.fixDati(i.percIncrementoGiovane),Number(i.limiteGiovane),this.fixDati(i.percRiduzioneLineare1),this.fixDati(i.percRiduzioneLineare2),this.fixDati(i.percRiduzioneLineare3),this.fixDati(i.percRiduzioneTitoli),this.fixDati(i.percPagamento),Number(i.percDisciplinaFinanziaria)/100,i.dtRicevibilita,i.dtScadenzaDomande,i.dtScadenzaDomandeRitardo,i.dtScadenzaDomandeRitiroparz);""===i.percDisciplinaFinanziaria||""===i.limiteGiovane||""===i.percRiduzioneLineare1||""===i.percRiduzioneLineare2||""===i.percRiduzioneLineare3||""===i.percRiduzioneTitoli||""===i.dtRicevibilita||""===i.dtScadenzaDomande||""===i.dtScadenzaDomandeRitardo||""===i.dtScadenzaDomandeRitiroparz||""===i.percPagamento?this.confirmationService.confirm({message:"Attenzione! I valori inseriti non risultano corretti.",acceptLabel:"Annulla",rejectVisible:!1,accept:()=>{this.editable=!0}}):this.istruttoriaService.putIstruttoria(t,e).subscribe(i=>{this.aggiornaDomandeCounters.emit(t),this.editable=!1})}fixDati(t){return Number(Number(t/100).toFixed(4))}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(Ht.a),B.Nb(y.f),B.Nb(c.a),B.Nb(l.a),B.Nb(N.a),B.Nb(c.e),B.Nb(Jt.a))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-dettaglio-istruttoria-dati"]],outputs:{aggiornaDomandeCounters:"aggiornaDomandeCounters"},features:[B.Ab([N.a])],decls:4,vars:2,consts:[["header","Conferma","icon","pi pi-exclamation-triangle"],[1,"boxgrey","f18"],["class","ui-g",4,"ngIf"],[1,"ui-g"],[1,"ui-g-3"],[1,"ui-g-12","text-right"],["pButton","","type","button","label","Modifica",1,"btn-green",2,"min-height","42px","box-shadow","none",3,"click"],[3,"formGroup"],["formControlName","dtScadenzaDomande","dateFormat","dd/mm/yy",3,"locale","showIcon"],["formControlName","dtScadenzaDomandeRitardo","dateFormat","dd/mm/yy",3,"locale","showIcon"],["formControlName","dtScadenzaDomandeRitiroparz","dateFormat","dd/mm/yy",3,"locale","showIcon"],["formControlName","dtRicevibilita","dateFormat","dd/mm/yy",3,"locale","showIcon"],["type","text","appValidateInputNumber","","pInputText","","formControlName","percIncrementoGreening",3,"disabled"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],["type","text","appValidateInputNumber","","pInputText","","formControlName","percIncrementoGiovane"],["type","text","pInputText","","formControlName","limiteGiovane","maxlength","5"],["type","text","appValidateInputNumber","","pInputText","","formControlName","percRiduzioneLineare1"],["type","text","appValidateInputNumber","","pInputText","","formControlName","percRiduzioneLineare2"],["type","text","appValidateInputNumber","","pInputText","","formControlName","percRiduzioneLineare3"],["type","text","appValidateInputNumber","","pInputText","","formControlName","percRiduzioneTitoli"],["type","text","appValidateInputOtherNumber","","pInputText","","formControlName","percDisciplinaFinanziaria"],["class","ui-g-3",4,"ngIf"],["pButton","","type","button","label","Salva",1,"btn-green",2,"min-height","42px","box-shadow","none","margin-right","10px",3,"click"],["pButton","","type","button","label","Annulla",1,"btn-green",2,"min-height","42px","box-shadow","none",3,"click"],[1,"ui-message","ui-messages-error","ui-corner-all"],["type","text","appValidateInputNumber","","pInputText","","formControlName","percPagamento"]],template:function(t,i){1&t&&(B.Ob(0,"p-confirmDialog",0),B.Tb(1,"div",1),B.Mc(2,Pr,103,53,"div",2),B.Mc(3,kr,107,24,"div",2),B.Sb()),2&t&&(B.Bb(2),B.mc("ngIf",0==i.editable),B.Bb(1),B.mc("ngIf",1==i.editable))},directives:[Qa.a,o.t,L.b,y.I,y.t,y.k,Za.a,y.s,y.i,y.c,qa,Zo.a,y.n,ln],pipes:[o.f,o.C],styles:[""]}),t})();class Fr{}class Gr{}var Vr=e("a2Ts");function Zr(t,i){if(1&t&&(B.Tb(0,"div",4),B.Tb(1,"strong"),B.Oc(2),B.Sb(),B.Sb(),B.Tb(3,"div",5),B.Oc(4),B.gc(5,"number"),B.Sb()),2&t){const t=i.$implicit;B.Bb(2),B.Sc("",t.intervento.misura," - ",t.intervento.descrizioneBreve," - ",t.intervento.codiceAgea,""),B.Bb(2),B.Qc(" ",B.jc(5,4,t.valoreUnitarioIntervento,"1.2-2","it-IT")," ")}}function $r(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div",3),B.Tb(1,"div",4),B.Tb(2,"strong"),B.Oc(3,"Data apertura domanda integrativa"),B.Sb(),B.Sb(),B.Tb(4,"div",5),B.Oc(5),B.gc(6,"date"),B.Sb(),B.Tb(7,"div",4),B.Tb(8,"strong"),B.Oc(9,"Data chiusura domanda integrativa"),B.Sb(),B.Sb(),B.Tb(10,"div",5),B.Oc(11),B.gc(12,"date"),B.Sb(),B.Mc(13,Zr,6,8,"ng-template",6),B.Tb(14,"div",7),B.Tb(15,"button",8),B.bc("click",(function(){return B.Ec(t),B.fc().modifica()})),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=B.fc();B.Bb(5),B.Qc(" ",B.ic(6,3,t.premioAggregato.sostegnoDuDi.dtAperturaDomanda,"dd/MM/yyyy")," "),B.Bb(6),B.Qc("",B.ic(12,6,t.premioAggregato.sostegnoDuDi.dtChiusuraDomanda,"dd/MM/yyyy")," "),B.Bb(2),B.mc("ngForOf",t.premiIntervento)}}function Qr(t,i){1&t&&(B.Tb(0,"div",17),B.Oc(1," Numero non valido "),B.Sb())}function qr(t,i){if(1&t&&(B.Tb(0,"div"),B.Tb(1,"div",4),B.Tb(2,"strong"),B.Oc(3),B.Sb(),B.Sb(),B.Tb(4,"div",5),B.Ob(5,"input",15),B.Mc(6,Qr,2,0,"div",16),B.Sb(),B.Sb()),2&t){const t=i.$implicit,e=i.index,o=B.fc(2);B.Bb(3),B.Sc("",t.intervento.misura," - ",t.intervento.descrizioneBreve," - ",t.intervento.codiceAgea,""),B.Bb(2),B.mc("formControlName",e),B.Bb(1),B.mc("ngIf",!o.isValid(e))}}function Hr(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div",3),B.Tb(1,"div",4),B.Tb(2,"strong"),B.Oc(3,"Data apertura domanda integrativa"),B.Sb(),B.Sb(),B.Tb(4,"div",5),B.Tb(5,"p-calendar",9),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc().premioAggregato.sostegnoDuDi.dtAperturaDomanda=i})),B.Sb(),B.Sb(),B.Tb(6,"div",4),B.Tb(7,"strong"),B.Oc(8,"Data chiusura domanda integrativa"),B.Sb(),B.Sb(),B.Tb(9,"div",5),B.Tb(10,"p-calendar",9),B.bc("ngModelChange",(function(i){return B.Ec(t),B.fc().premioAggregato.sostegnoDuDi.dtChiusuraDomanda=i})),B.Sb(),B.Sb(),B.Tb(11,"form",10),B.Tb(12,"div",11),B.Mc(13,qr,7,5,"div",12),B.Sb(),B.Sb(),B.Tb(14,"div",7),B.Tb(15,"button",13),B.bc("click",(function(){return B.Ec(t),B.fc().salva()})),B.Sb(),B.Tb(16,"button",14),B.bc("click",(function(){return B.Ec(t),B.fc().annullaModifica()})),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=B.fc();B.Bb(5),B.mc("locale",t.it)("showIcon",!0)("ngModel",t.premioAggregato.sostegnoDuDi.dtAperturaDomanda),B.Bb(5),B.mc("locale",t.it)("showIcon",!0)("ngModel",t.premioAggregato.sostegnoDuDi.dtChiusuraDomanda),B.Bb(1),B.mc("formGroup",t.updateForm),B.Bb(2),B.mc("ngForOf",t.premiIntervento)}}let jr=(()=>{class t{constructor(t,i,e,o,a,n,r){this.istruttoriaCorrente=t,this.fb=i,this.route=e,this.istruttoriaService=o,this.confirmationService=a,this.router=n,this.conf=r,this.aggiornaDomandeCounters=new B.n,this.controlloRicev=!1,this.showSostegno=!1,this.premiIntervento=new Array,this.aggiornaPremioAggregato=new B.n,this.editable=!1}ngOnInit(){this.it={firstDayOfWeek:1,dayNames:["domenica","lunedi","martedi","mercoledi","giovedi","venerdi","sabato"],dayNamesShort:["dom","lun","mar","mer","gio","ven","sab"],dayNamesMin:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Sep","Ott","Nov","Dic"],today:"Oggi",clear:"Svuota"}}setSostegnoPremi(t){this.premiIntervento=t.interventoDuPremi,this.premioAggregato.sostegnoDuDi.dtAperturaDomanda=new Date(this.premioAggregato.sostegnoDuDi.dtAperturaDomanda),this.premioAggregato.sostegnoDuDi.dtChiusuraDomanda=new Date(this.premioAggregato.sostegnoDuDi.dtChiusuraDomanda)}get premi(){return this.updateForm.get("premi")}addFeature(t){this.premi.push(this.fb.control(t,[y.G.required,y.G.pattern(/^-?\d{0,9}(\.?\d{0,2})$/)]))}isValid(t){return this.updateForm.get("premi").controls[t].valid}modifica(){this.confirmationService.confirm({message:"Attenzione! Sei davvero sicuro di voler modificare questi dati?",acceptLabel:"S\xec",rejectLabel:"No",rejectVisible:!0,accept:()=>{this.editable=!0,this.updateForm=this.fb.group({premi:this.fb.array([this.fb.control(this.premioAggregato.interventoDuPremi[0].valoreUnitarioIntervento.toString(),y.G.required)])});for(let t=1;t<this.premioAggregato.interventoDuPremi.length;t++)this.addFeature(this.premioAggregato.interventoDuPremi[t].valoreUnitarioIntervento.toString())}})}annullaModifica(){this.editable=!1}salva(){let t=this.updateForm.get("premi"),i=new Gr,e=new Vr.a,o=new Array,a=0;if(b.a.isUndefinedOrNull(this.premioAggregato.sostegnoDuDi.dtAperturaDomanda)||b.a.isUndefinedOrNull(this.premioAggregato.sostegnoDuDi.dtChiusuraDomanda))return void this.throwError("Attenzione! I valori inseriti non risultano corretti.");if(this.premioAggregato.sostegnoDuDi.dtAperturaDomanda.getTime()>this.premioAggregato.sostegnoDuDi.dtChiusuraDomanda.getTime())return void this.throwError("Attenzione! La data di apertura domanda non pu\xf2 essere maggiore della data chiusura domanda.");let n=!0;t.controls.forEach(t=>{t.valid?isNaN(t.value)&&(n=!1):n=t.valid;let r=new Fr;r.valoreUnitarioIntervento=t.value,r.intervento=this.premioAggregato.interventoDuPremi[a].intervento,r.id=this.premioAggregato.interventoDuPremi[a].id,o.push(r),i.dtAperturaDomanda=this.premioAggregato.sostegnoDuDi.dtAperturaDomanda,i.dtChiusuraDomanda=this.premioAggregato.sostegnoDuDi.dtChiusuraDomanda,i.identificativoSostegno=g.a.ZOOTECNIA,e.interventoDuPremi=o,e.sostegnoDuDi=i,a++}),n?this.aggiornaPremioAggregato.emit(e):this.throwError("Attenzione! I valori inseriti non risultano corretti.")}throwError(t){this.confirmationService.confirm({message:t,acceptLabel:"Annulla",rejectVisible:!1,accept:()=>{this.editable=!0}})}ngOnChanges(t){t.premioAggregato.currentValue&&(this.setSostegnoPremi(this.premioAggregato),this.editable=!1)}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(Ht.a),B.Nb(y.f),B.Nb(c.a),B.Nb(l.a),B.Nb(N.a),B.Nb(c.e),B.Nb(Jt.a))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-dettaglio-istruttoria-dati-acz"]],inputs:{premioAggregato:"premioAggregato"},outputs:{aggiornaDomandeCounters:"aggiornaDomandeCounters",aggiornaPremioAggregato:"aggiornaPremioAggregato"},features:[B.Ab([N.a]),B.zb],decls:4,vars:2,consts:[["header","Conferma","icon","pi pi-exclamation-triangle"],[1,"boxgrey","f18"],["class","ui-g",4,"ngIf"],[1,"ui-g"],[1,"ui-g-4"],[1,"ui-g-2"],["ngFor","",3,"ngForOf"],[1,"ui-g-12","text-right"],["pButton","","type","button","label","Modifica",1,"btn-green",2,"min-height","42px","box-shadow","none",3,"click"],["dateFormat","dd/mm/yy",3,"locale","showIcon","ngModel","ngModelChange"],[1,"ui-g-12",3,"formGroup"],["formArrayName","premi"],[4,"ngFor","ngForOf"],["pButton","","type","button","label","Salva",1,"btn-green",2,"min-height","42px","box-shadow","none","margin-right","10px",3,"click"],["pButton","","type","button","label","Annulla",1,"btn-green",2,"min-height","42px","box-shadow","none",3,"click"],["type","text","pInputText","",3,"formControlName"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],[1,"ui-message","ui-messages-error","ui-corner-all"]],template:function(t,i){1&t&&(B.Ob(0,"p-confirmDialog",0),B.Tb(1,"div",1),B.Mc(2,$r,16,9,"div",2),B.Mc(3,Hr,17,8,"div",2),B.Sb()),2&t&&(B.Bb(2),B.mc("ngIf",0==i.editable),B.Bb(1),B.mc("ngIf",1==i.editable))},directives:[Qa.a,o.t,o.s,L.b,Za.a,y.s,y.v,y.I,y.t,y.k,y.e,y.c,Zo.a,y.i],pipes:[o.f,o.g],styles:[""]}),t})();var Kr=e("EOOO");function Yr(t,i){if(1&t&&(B.Tb(0,"p",25),B.Oc(1),B.Sb()),2&t){B.fc(2);const t=B.Bc(7);B.Bb(1),B.Qc(" ",t.errors.erroreNumero," ")}}function Jr(t,i){if(1&t&&(B.Tb(0,"div"),B.Mc(1,Yr,2,1,"p",24),B.Sb()),2&t){B.fc();const t=B.Bc(7);B.Bb(1),B.mc("ngIf",null==t.errors?null:t.errors.erroreNumero)}}function Wr(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div"),B.Tb(1,"div",16),B.Tb(2,"label",17),B.Oc(3),B.Sb(),B.Sb(),B.Tb(4,"div",18),B.Tb(5,"div",19),B.Tb(6,"input",20,21),B.bc("ngModelChange",(function(e){B.Ec(t);const o=i.$implicit,a=B.fc(3);return a.dettaglioDomandaAccoppiati[a.tipoDettaglio][o.id]=e})),B.Sb(),B.Tb(8,"span",22),B.Oc(9),B.Sb(),B.Sb(),B.Mc(10,Jr,2,1,"div",0),B.Sb(),B.Ob(11,"div",23),B.Sb()}if(2&t){const t=i.$implicit,e=B.Bc(7),o=B.fc(3);B.Bb(3),B.Qc(" ",t.label," "),B.Bb(3),B.nc("name",t.id),B.mc("ngModel",o.dettaglioDomandaAccoppiati[o.tipoDettaglio][t.id]),B.Bb(3),B.Qc(" ",t.target," "),B.Bb(1),B.mc("ngIf",e&&e.errors)}}function Xr(t,i){if(1&t&&(B.Tb(0,"div"),B.Tb(1,"div",14),B.Tb(2,"div",2),B.Tb(3,"h3"),B.Tb(4,"span"),B.Oc(5," Dati Superfici Determinate "),B.Sb(),B.Sb(),B.Mc(6,Wr,12,5,"div",15),B.Ob(7,"br"),B.Sb(),B.Sb(),B.Sb()),2&t){const t=B.fc(2);B.Bb(6),B.mc("ngForOf",t.dati.items)}}function tc(t,i){if(1&t&&(B.Tb(0,"p",25),B.Oc(1),B.Sb()),2&t){B.fc(2);const t=B.Bc(7);B.Bb(1),B.Qc(" ",t.errors.erroreNumero," ")}}function ic(t,i){if(1&t&&(B.Tb(0,"div"),B.Mc(1,tc,2,1,"p",24),B.Sb()),2&t){B.fc();const t=B.Bc(7);B.Bb(1),B.mc("ngIf",null==t.errors?null:t.errors.erroreNumero)}}function ec(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div"),B.Tb(1,"div",16),B.Tb(2,"label",17),B.Oc(3),B.Sb(),B.Sb(),B.Tb(4,"div",18),B.Tb(5,"div",19),B.Tb(6,"input",26,21),B.bc("ngModelChange",(function(e){B.Ec(t);const o=i.$implicit,a=B.fc(3);return a.dettaglioDomandaAccoppiati[a.tipoDettaglio][o.id]=e})),B.Sb(),B.Tb(8,"span",22),B.Oc(9),B.Sb(),B.Sb(),B.Mc(10,ic,2,1,"div",0),B.Sb(),B.Ob(11,"div",23),B.Sb()}if(2&t){const t=i.$implicit,e=B.Bc(7),o=B.fc(3);B.Bb(3),B.Qc(" ",t.label," "),B.Bb(3),B.nc("name",t.id),B.mc("ngModel",o.dettaglioDomandaAccoppiati[o.tipoDettaglio][t.id]),B.Bb(3),B.Qc(" ",t.target," "),B.Bb(1),B.mc("ngIf",e&&e.errors)}}function oc(t,i){if(1&t&&(B.Tb(0,"div"),B.Tb(1,"div",14),B.Tb(2,"div",2),B.Tb(3,"h3"),B.Tb(4,"span"),B.Oc(5," Dati Superfici Determinate "),B.Sb(),B.Sb(),B.Mc(6,ec,12,5,"div",15),B.Ob(7,"br"),B.Sb(),B.Sb(),B.Sb()),2&t){const t=B.fc(2);B.Bb(6),B.mc("ngForOf",t.dati.items)}}const ac=function(){return{marginTop:"70px"}};function nc(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div"),B.Tb(1,"div",1),B.Tb(2,"span"),B.Oc(3),B.gc(4,"async"),B.Sb(),B.Tb(5,"div",2),B.Tb(6,"div",3),B.Ob(7,"p-toast",4),B.Tb(8,"div",5),B.Tb(9,"h3"),B.Tb(10,"span"),B.Oc(11," Dati Controlli in Loco e Certificazione Antimafia "),B.Sb(),B.Sb(),B.Tb(12,"div",6),B.Tb(13,"p-checkbox",7),B.bc("ngModelChange",(function(i){B.Ec(t);const e=B.fc();return e.dettaglioDomandaAccoppiati[e.tipoDettaglio].controlloSigecoLoco=i})),B.Sb(),B.Ob(14,"br"),B.Tb(15,"p-checkbox",8),B.bc("ngModelChange",(function(i){B.Ec(t);const e=B.fc();return e.dettaglioDomandaAccoppiati[e.tipoDettaglio].controlloAntimafia=i})),B.Sb(),B.Sb(),B.Sb(),B.Mc(16,Xr,8,1,"div",0),B.Tb(17,"div"),B.Tb(18,"div",9),B.Ob(19,"br"),B.Tb(20,"button",10),B.bc("click",(function(){return B.Ec(t),B.fc().onSubmit()})),B.Oc(21,"SALVA"),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Tb(22,"div",11),B.Tb(23,"div",2),B.Tb(24,"div",3),B.Ob(25,"p-toast",4),B.Tb(26,"div",5),B.Tb(27,"h3"),B.Tb(28,"span"),B.Oc(29," Dati Controlli in Loco e Certificazione Antimafia "),B.Sb(),B.Sb(),B.Tb(30,"div",6),B.Tb(31,"p-checkbox",12),B.bc("ngModelChange",(function(i){B.Ec(t);const e=B.fc();return e.dettaglioDomandaAccoppiati[e.tipoDettaglio].controlloSigecoLoco=i})),B.Sb(),B.Ob(32,"br"),B.Tb(33,"p-checkbox",13),B.bc("ngModelChange",(function(i){B.Ec(t);const e=B.fc();return e.dettaglioDomandaAccoppiati[e.tipoDettaglio].controlloAntimafia=i})),B.Sb(),B.Sb(),B.Sb(),B.Mc(34,oc,8,1,"div",0),B.Ob(35,"div"),B.Sb(),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=i.ngIf,e=B.fc();B.Bb(1),B.mc("a4gHasPermission","MODIFICABILE")("annoCampagna",e.getIstruttoriaCorrente().annoRiferimento)("tipoIstruttoria",e.getIstruttoriaCorrente().tipoIstruttoria)("statoSostegno",t),B.Bb(2),B.Pc(B.hc(4,19,t)),B.Bb(4),B.Kc(B.rc(21,ac)),B.Bb(6),B.mc("ngModel",e.dettaglioDomandaAccoppiati[e.tipoDettaglio].controlloSigecoLoco),B.Bb(2),B.mc("ngModel",e.dettaglioDomandaAccoppiati[e.tipoDettaglio].controlloAntimafia),B.Bb(1),B.mc("ngIf","datiIstruttoriaACS"==e.tipoDettaglio),B.Bb(6),B.mc("a4gHasPermission","NON_MODIFICABILE")("statoSostegno",t)("tipoIstruttoria",e.getIstruttoriaCorrente().tipoIstruttoria)("annoCampagna",e.getIstruttoriaCorrente().annoRiferimento),B.Bb(3),B.Kc(B.rc(22,ac)),B.Bb(6),B.mc("ngModel",e.dettaglioDomandaAccoppiati[e.tipoDettaglio].controlloSigecoLoco),B.Bb(2),B.mc("ngModel",e.dettaglioDomandaAccoppiati[e.tipoDettaglio].controlloAntimafia),B.Bb(1),B.mc("ngIf","datiIstruttoriaACS"==e.tipoDettaglio)}}let rc=(()=>{class t{constructor(t,i,e,o,a){this.route=t,this.istruttoriaService=i,this.messageService=e,this.router=o,this.istruttoriaCorrente=a,this.dati=null,this.dettaglioDomandaAccoppiati=new Kr.k,this.statoSostegno$=new T.a}ngOnInit(){this.setSostegno(),this.setIdDomandaCorrente(),this.getDatiIstruttoria()}setSostegno(){this.selectedSostegno=this.router.url.split("/").filter(t=>t===Yt.a.accoppiatoZootecniaRichiesto).length>0?g.a.ZOOTECNIA:g.a.SUPERFICIE,this.selectedSostegno==g.a.ZOOTECNIA?(this.tipoSostegno=Yt.a.acz,this.dettaglioDomandaAccoppiati.datiIstruttoriaACZ=new Kr.j,this.tipoDettaglio="datiIstruttoriaACZ",this.service="putDettaglioDatiIstruttoriaACZ"):this.selectedSostegno==g.a.SUPERFICIE&&(this.tipoSostegno=Yt.a.acs,this.dettaglioDomandaAccoppiati.datiIstruttoriaACS=new Kr.i,this.tipoDettaglio="datiIstruttoriaACS",this.service="putDettaglioDatiIstruttoriaACS",this.setDatiDaInserire())}setDatiDaInserire(){this.dati={items:[{label:"ACS - Superficie determinata dall\u2019istruttore Soia",id:"superficieDeterminataSoiaM8",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Frumento",id:"superficieDeterminataFrumentoM9",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Proteaginose",id:"superficieDeterminataProteaginoseM10",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Leguminose",id:"superficieDeterminataLeguminoseM11",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Pomodoro",id:"superficieDeterminataPomodoroM14",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Olivo Standard",id:"superficieDeterminataOlivoStandardM15",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Olivo  7,5%",id:"superficieDeterminataOlivoPendenzaM16",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Olivo Qualit\xe0",id:"superficieDeterminataOlivoQualitaM17",target:"Ha"}]}}setIdDomandaCorrente(){this.route.params.subscribe(t=>{this.idDomandaCorrente=t.idDomanda})}getDatiIstruttoria(){this.istruttoriaService.getDettaglioDomandaAccoppiati(this.idDomandaCorrente.toString(),this.tipoSostegno,Yt.a.tabDatiIstruttoria).subscribe(t=>{t&&(console.log(t),this.statoSostegno$.next(t[0].statoLavorazioneSostegno),this.dettaglioDomandaAccoppiati.idDomanda=t[0].idDomanda,t[0][this.tipoDettaglio]&&(this.dettaglioDomandaAccoppiati[this.tipoDettaglio]=t[0][this.tipoDettaglio],console.log(Yt.a.tabControlliSostego+" "+this.selectedSostegno+":"),console.log(this.dettaglioDomandaAccoppiati)))},t=>{console.error(t),this.messageService.add(b.a.getToast("tst",b.b.error,b.a.erroreRecuperoDati))})}onSubmit(){console.log(this.dettaglioDomandaAccoppiati),this.istruttoriaService[this.service](this.idDomandaCorrente,this.dettaglioDomandaAccoppiati[this.tipoDettaglio]).subscribe(t=>{this.messageService.add(b.a.getToast("tst",b.b.success,b.a.OPERAZIONE_OK))},t=>{console.error(t),this.messageService.add(b.a.getToast("tst",b.b.error,b.a.ERRORE_SALVATAGGIO_DATI_ISTRUTTORIA))})}getIstruttoriaCorrente(){return this.istruttoriaCorrente.istruttoria}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(c.a),B.Nb(l.a),B.Nb(N.d),B.Nb(c.e),B.Nb(Ht.a))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-dati-istruttoria"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"boxgrey",2,"padding-top","50px","display","inline-block",3,"a4gHasPermission","annoCampagna","tipoIstruttoria","statoSostegno"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[2,"background","#fff","padding","30px","display","inline-block","width","100%","margin-bottom","30px"],[2,"font-size","15px"],["binary","true","label","Si certifica che sono stati effettuati i controlli amministrativi in loco",3,"ngModel","ngModelChange"],["binary","true","label","Si attesta che la certificazione antimafia \xe8 stata acquisita in maniera cartacea o che il pagamento viene effettuato su conduzione risolutiva legata all'esito degli accertamenti",3,"ngModel","ngModelChange"],[1,"ui-g-12","ui-md-2","searchbutton"],["pButton","","type","button","type","submit",1,"ui-button-success",3,"click"],[1,"boxgrey",2,"padding-top","50px","display","inline-block",3,"a4gHasPermission","statoSostegno","tipoIstruttoria","annoCampagna"],["disabled","","binary","true","label","Si certifica che sono stati effettuati i controlli amministrativi in loco",3,"ngModel","ngModelChange"],["disabled","","binary","true","label","Si attesta che la certificazione antimafia \xe8 stata acquisita in maniera cartacea o che il pagamento viene effettuato su conduzione risolutiva legata all'esito degli accertamenti",3,"ngModel","ngModelChange"],[2,"background","#fff","padding","30px","display","inline-block","width","100%"],[4,"ngFor","ngForOf"],[1,"ui-g-5"],[1,"labelricerca"],[1,"ui-g-3"],[1,"ui-inputgroup"],["type","number","step","0.0001","min","0","pInputText","","appValidaNumero4dec","",2,"width","100%",3,"name","ngModel","ngModelChange"],["input","ngModel"],[1,"ui-inputgroup-addon",2,"padding","10px 20px","background","#f0f0f0","border","1px solid #dedede"],[1,"ui-g-4"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],[1,"ui-message","ui-messages-error","ui-corner-all"],["disabled","","type","number","step","0.0001","min","0","pInputText","","appValidaNumero4dec","",2,"width","100%",3,"name","ngModel","ngModelChange"]],template:function(t,i){1&t&&(B.Mc(0,nc,36,23,"div",0),B.gc(1,"async")),2&t&&B.mc("ngIf",B.hc(1,1,i.statoSostegno$))},directives:[o.t,Hi.a,M.a,xi.a,y.s,y.v,L.b,o.s,y.y,y.c,Zo.a,ko],pipes:[o.b],styles:[""]}),t})();function cc(t,i){if(1&t&&(B.Tb(0,"th",13),B.Tb(1,"strong"),B.Oc(2),B.Sb(),B.Ob(3,"p-sortIcon",14),B.Sb()),2&t){const t=i.$implicit;B.mc("pSortableColumn",t.field)("pSortableColumnDisabled",null==t.field),B.Bb(2),B.Pc(t.header),B.Bb(1),B.mc("field",t.field)}}function sc(t,i){if(1&t&&(B.Tb(0,"tr"),B.Mc(1,cc,4,4,"th",12),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.mc("ngForOf",t)}}function lc(t,i){if(1&t&&(B.Tb(0,"td"),B.Oc(1),B.Sb()),2&t){const t=i.$implicit,e=B.fc().$implicit;B.Bb(1),B.Qc(" ",e[t.field]," ")}}function dc(t,i){if(1&t&&(B.Tb(0,"tr"),B.Mc(1,lc,2,1,"td",5),B.Sb()),2&t){const t=i.columns;B.Bb(1),B.mc("ngForOf",t)}}function bc(t,i){if(1&t&&(B.Tb(0,"div"),B.Tb(1,"p-accordion"),B.Tb(2,"p-accordionTab",7),B.Tb(3,"p-table",8,9),B.Mc(5,sc,2,1,"ng-template",10),B.Mc(6,dc,2,1,"ng-template",11),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t){const t=B.fc().$implicit,i=B.fc();B.Bb(2),B.nc("header",i.setHeader(t)),B.mc("selected",!0),B.Bb(1),B.mc("columns",i.cols)("value",i.dettaglioDomandaAccoppiati.datiParticellaACS[t])("autoLayout",!0)("paginator",!0)("rows",i.elementiPagina)("responsive",!0)}}function uc(t,i){if(1&t&&(B.Tb(0,"div"),B.Mc(1,bc,7,8,"div",6),B.Sb()),2&t){const t=i.$implicit,e=B.fc();B.Bb(1),B.mc("ngIf",e.dettaglioDomandaAccoppiati.datiParticellaACS[t]&&e.dettaglioDomandaAccoppiati.datiParticellaACS[t].length>0)}}function pc(t,i){1&t&&(B.Tb(0,"div"),B.Oc(1," Nessun controllo eseguito "),B.Sb())}const gc=function(){return{marginTop:"70px"}};let mc=(()=>{class t{constructor(t,i,e){this.messageService=t,this.route=i,this.istruttoriaService=e,this.elementiPagina=10,this.dettaglioDomandaAccoppiati=new Kr.k}ngOnInit(){this.dettaglioDomandaAccoppiati.datiParticellaACS=new Kr.d,this.setInterventi(),this.setCols(),this.setIdDomandaCorrente(),this.changePage()}setInterventi(){this.interventi=["m8","m9","m10","m11","m14","m15","m16","m17"]}setCols(){this.cols=[{field:"codComune",header:"Cod. Comune"},{field:"foglio",header:"Foglio"},{field:"particella",header:"Particella"},{field:"sub",header:"Sub"},{field:"codColtura",header:"Cod. Coltura"},{field:"descColtura",header:"Descrizione Coltura"},{field:"controlloRegioni",header:"Ctrl Regioni."},{field:"controlloColture",header:"Ctrl Colture."},{field:"controlloAnomCoord",header:"Anomalie Coor"},{field:"supImpegnata",header:"Sup Imp."},{field:"supRichiesta",header:"Sup Rich."},{field:"supControlliLoco",header:"Sup Controllo in loco"},{field:"supEleggibileGis",header:"Sup Eleggibile Gis"},{field:"supDeterminata",header:"Sup Determinata"}]}setIdDomandaCorrente(){this.route.params.subscribe(t=>{this.idDomandaCorrente=t.idDomanda})}changePage(){this.istruttoriaService.getDettaglioDomandaAccoppiati(this.idDomandaCorrente.toString(),Yt.a.acs,Yt.a.tabDatiParticella).subscribe(t=>{t&&(console.log(t),this.dettaglioDomandaAccoppiati.idDomanda=t[0].idDomanda,t[0].datiParticellaACS&&(this.dettaglioDomandaAccoppiati.datiParticellaACS=t[0].datiParticellaACS,this.interventi.forEach(t=>{this.dettaglioDomandaAccoppiati.datiParticellaACS[t].forEach(t=>{t.controlloRegioni=this.boolToString(1==t.controlloRegioni||0==t.controlloRegioni?t.controlloRegioni:null),t.controlloColture=this.boolToString(1==t.controlloColture||0==t.controlloColture?t.controlloColture:null),t.controlloAnomCoord=this.boolToString(1==t.controlloAnomCoord||0==t.controlloAnomCoord?!t.controlloAnomCoord:null)})})),console.log(Yt.a.tabDatiParticella+":"),console.log(this.dettaglioDomandaAccoppiati))},t=>{"NO_CALCOLO_ACS"==t.error.message?console.log("Non ci sono passi lavorazione ACS validi per la domanda id: "+this.idDomandaCorrente):(this.messageService.add(b.a.getToast("tst",b.b.error,b.a.erroreRecuperoDati)),console.log(t))})}setHeader(t){return this.propertyName=Yt.a[t],this.propertyName}boolToString(t){return null==t?"":!0===t?"SI":!1===t?"NO":void 0}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(N.d),B.Nb(c.a),B.Nb(l.a))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-dati-particella-acc"]],decls:7,vars:5,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[1,"accordion-wrapper","dettaglioaccordion"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"header","selected"],[3,"columns","value","autoLayout","paginator","rows","responsive"],["tab",""],["pTemplate","header"],["pTemplate","body"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"]],template:function(t,i){1&t&&(B.Tb(0,"div",0),B.Tb(1,"div",1),B.Tb(2,"div",2),B.Ob(3,"p-toast",3),B.Tb(4,"div",4),B.Mc(5,uc,2,1,"div",5),B.Sb(),B.Mc(6,pc,2,0,"div",6),B.Sb(),B.Sb(),B.Sb()),2&t&&(B.Bb(3),B.Kc(B.rc(4,gc)),B.Bb(2),B.mc("ngForOf",i.interventi),B.Bb(1),B.mc("ngIf",!i.dettaglioDomandaAccoppiati.idDomanda))},directives:[M.a,o.s,o.t,_i.a,_i.c,a.q,N.e,a.p,a.o],styles:[""]}),t})();const hc=function(t){return{width:t}};function Sc(t,i){if(1&t&&(B.Tb(0,"th",14),B.Tb(1,"strong"),B.Oc(2),B.Sb(),B.Sb()),2&t){const t=i.$implicit;B.mc("ngStyle",B.sc(2,hc,t.width)),B.Bb(2),B.Pc(t.header)}}function fc(t,i){if(1&t&&(B.Tb(0,"tr"),B.Mc(1,Sc,3,4,"th",13),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.mc("ngForOf",t)}}function Tc(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2),B.Sb(),B.Tb(3,"td"),B.Oc(4),B.Sb(),B.Sb()),2&t){const t=i.$implicit,e=B.fc(2);B.Bb(2),B.Qc(" ",e.setHeader(t.codice)," "),B.Bb(2),B.Qc(" ",t.valore," ")}}function vc(t,i){1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2," Nessun controllo eseguito "),B.Sb(),B.Sb()),2&t&&(B.Bb(1),B.Cb("colspan",10))}function Ic(t,i){if(1&t&&(B.Tb(0,"th",14),B.Tb(1,"strong"),B.Oc(2),B.Sb(),B.Sb()),2&t){const t=i.$implicit;B.mc("ngStyle",B.sc(2,hc,t.width)),B.Bb(2),B.Pc(t.header)}}function Oc(t,i){if(1&t&&(B.Tb(0,"tr"),B.Mc(1,Ic,3,4,"th",13),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.mc("ngForOf",t)}}function Cc(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2),B.Sb(),B.Tb(3,"td"),B.Oc(4),B.Sb(),B.Sb()),2&t){const t=B.fc().$implicit,i=B.fc(4);B.Bb(2),B.Qc(" ",i.setHeader(t.codice)," "),B.Bb(2),B.Qc(" ",t.valore," ")}}function Ac(t,i){1&t&&B.Mc(0,Cc,5,2,"tr",4),2&t&&B.mc("ngIf",i.$implicit.valore)}function Dc(t,i){1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2," Nessun controllo eseguito "),B.Sb(),B.Sb()),2&t&&(B.Bb(1),B.Cb("colspan",10))}function Pc(t,i){if(1&t&&(B.Tb(0,"th",14),B.Tb(1,"strong"),B.Oc(2),B.Sb(),B.Sb()),2&t){const t=i.$implicit;B.mc("ngStyle",B.sc(2,hc,t.width)),B.Bb(2),B.Pc(t.header)}}function Bc(t,i){if(1&t&&(B.Tb(0,"tr"),B.Mc(1,Pc,3,4,"th",13),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.mc("ngForOf",t)}}function Nc(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2),B.Sb(),B.Tb(3,"td"),B.Oc(4),B.Sb(),B.Sb()),2&t){const t=B.fc().$implicit,i=B.fc(4);B.Bb(2),B.Qc(" ",i.setHeader(t.codice)," "),B.Bb(2),B.Qc(" ",t.valore," ")}}function zc(t,i){1&t&&B.Mc(0,Nc,5,2,"tr",4),2&t&&B.mc("ngIf",i.$implicit.valore)}function Mc(t,i){1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2," Nessun controllo eseguito "),B.Sb(),B.Sb()),2&t&&(B.Bb(1),B.Cb("colspan",10))}function Rc(t,i){if(1&t&&(B.Tb(0,"div"),B.Tb(1,"p-accordion"),B.Tb(2,"p-accordionTab",15),B.Tb(3,"p-table",16,7),B.Mc(5,Oc,2,1,"ng-template",8),B.Mc(6,Ac,1,1,"ng-template",9),B.Mc(7,Dc,3,1,"ng-template",10),B.Sb(),B.Tb(8,"p-table",16,7),B.Mc(10,Bc,2,1,"ng-template",8),B.Mc(11,zc,1,1,"ng-template",9),B.Mc(12,Mc,3,1,"ng-template",10),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t){const t=B.fc().$implicit,i=B.fc(2);B.Bb(2),B.nc("header",i.setHeader(t)),B.mc("selected",!1),B.Bb(1),B.mc("columns",i.colsInput)("value",i.dettaglioDomandaAccoppiati[i.datiDomanda].dettaglioCalcolo[t].input)("responsive",!0),B.Bb(5),B.mc("columns",i.colsOutput)("value",i.dettaglioDomandaAccoppiati[i.datiDomanda].dettaglioCalcolo[t].output)("responsive",!0)}}function yc(t,i){if(1&t&&(B.Tb(0,"div"),B.Mc(1,Rc,13,8,"div",4),B.Sb()),2&t){const t=i.$implicit,e=B.fc(2);B.Bb(1),B.mc("ngIf",e.dettaglioDomandaAccoppiati[e.datiDomanda].dettaglioCalcolo[t]&&e.dettaglioDomandaAccoppiati[e.datiDomanda].dettaglioCalcolo[t].input&&e.dettaglioDomandaAccoppiati[e.datiDomanda].dettaglioCalcolo[t].input.length>0)}}function Ec(t,i){if(1&t&&(B.Tb(0,"th",14),B.Tb(1,"strong"),B.Oc(2),B.Sb(),B.Sb()),2&t){const t=i.$implicit;B.mc("ngStyle",B.sc(2,hc,t.width)),B.Bb(2),B.Pc(t.header)}}function Lc(t,i){if(1&t&&(B.Tb(0,"tr"),B.Mc(1,Ec,3,4,"th",13),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.mc("ngForOf",t)}}function wc(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2),B.Sb(),B.Tb(3,"td"),B.Oc(4),B.Sb(),B.Sb()),2&t){const t=B.fc().$implicit,i=B.fc(3);B.Bb(2),B.Qc(" ",i.setHeader(t.codice)," "),B.Bb(2),B.Qc(" ",t.valore," ")}}function xc(t,i){1&t&&B.Mc(0,wc,5,2,"tr",4),2&t&&B.mc("ngIf",i.$implicit.valore)}function _c(t,i){1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2," Nessun controllo eseguito "),B.Sb(),B.Sb()),2&t&&(B.Bb(1),B.Cb("colspan",10))}function kc(t,i){if(1&t&&(B.Tb(0,"th",14),B.Tb(1,"strong"),B.Oc(2),B.Sb(),B.Sb()),2&t){const t=i.$implicit;B.mc("ngStyle",B.sc(2,hc,t.width)),B.Bb(2),B.Pc(t.header)}}function Uc(t,i){if(1&t&&(B.Tb(0,"tr"),B.Mc(1,kc,3,4,"th",13),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.mc("ngForOf",t)}}function Fc(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2),B.Sb(),B.Tb(3,"td"),B.Oc(4),B.Sb(),B.Sb()),2&t){const t=B.fc().$implicit,i=B.fc(3);B.Bb(2),B.Qc(" ",i.setHeader(t.codice)," "),B.Bb(2),B.Qc(" ",t.valore," ")}}function Gc(t,i){1&t&&B.Mc(0,Fc,5,2,"tr",4),2&t&&B.mc("ngIf",i.$implicit.valore)}function Vc(t,i){1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2," Nessun controllo eseguito "),B.Sb(),B.Sb()),2&t&&(B.Bb(1),B.Cb("colspan",10))}function Zc(t,i){if(1&t&&(B.Tb(0,"div"),B.Tb(1,"h3"),B.Tb(2,"span"),B.Oc(3," Disciplina Finanziaria "),B.Sb(),B.Sb(),B.Tb(4,"div",11),B.Tb(5,"p-table",16,7),B.Mc(7,Lc,2,1,"ng-template",8),B.Mc(8,xc,1,1,"ng-template",9),B.Mc(9,_c,3,1,"ng-template",10),B.Sb(),B.Tb(10,"p-table",16,7),B.Mc(12,Uc,2,1,"ng-template",8),B.Mc(13,Gc,1,1,"ng-template",9),B.Mc(14,Vc,3,1,"ng-template",10),B.Sb(),B.Sb(),B.Sb()),2&t){const t=B.fc(2);B.Bb(5),B.mc("columns",t.colsInput)("value",t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input)("responsive",!0),B.Bb(5),B.mc("columns",t.colsOutput)("value",t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.output)("responsive",!0)}}function $c(t,i){if(1&t&&(B.Tb(0,"div"),B.Tb(1,"h3"),B.Tb(2,"span"),B.Oc(3," Sintesi Calcolo "),B.Sb(),B.Sb(),B.Tb(4,"div",5),B.Tb(5,"p-table",6,7),B.Mc(7,fc,2,1,"ng-template",8),B.Mc(8,Tc,5,2,"ng-template",9),B.Mc(9,vc,3,1,"ng-template",10),B.Sb(),B.Sb(),B.Ob(10,"br"),B.Ob(11,"br"),B.Tb(12,"h3"),B.Tb(13,"span"),B.Oc(14," Dettaglio Calcolo "),B.Sb(),B.Sb(),B.Tb(15,"div",11),B.Mc(16,yc,2,1,"div",12),B.Sb(),B.Ob(17,"br"),B.Ob(18,"br"),B.Mc(19,Zc,15,6,"div",4),B.Sb()),2&t){const t=B.fc();B.Bb(5),B.mc("columns",t.cols)("value",t.dettaglioDomandaAccoppiati[t.datiDomanda].sintesiCalcolo)("autoLayout",!0)("responsive",!0),B.Bb(11),B.mc("ngForOf",t.interventi),B.Bb(3),B.mc("ngIf",t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria&&t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input&&t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input.length>0)}}function Qc(t,i){1&t&&(B.Tb(0,"div"),B.Oc(1," Nessun controllo eseguito "),B.Sb())}const qc=function(){return{marginTop:"70px"}};let Hc=(()=>{class t{constructor(t,i,e,o){this.route=t,this.istruttoriaService=i,this.messageService=e,this.router=o,this.dettaglioDomandaAccoppiati=new Kr.k}ngOnInit(){this.setSostegno(),this.setIdDomandaCorrente(),this.setCols(),this.getDatiIstruttoria()}setSostegno(){this.selectedSostegno=this.router.url.split("/").filter(t=>t===Yt.a.accoppiatoZootecniaRichiesto).length>0?g.a.ZOOTECNIA:g.a.SUPERFICIE,this.selectedSostegno==g.a.ZOOTECNIA?(this.tipoSostegno=Yt.a.acz,this.datiDomanda="datiDomandaACZ",this.dettaglioDomandaAccoppiati[this.datiDomanda]=new Kr.b,this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo=new Kr.g,this.interventi=["int310","int311","int313","int315","int320","int321","int316","int318","int322"]):this.selectedSostegno==g.a.SUPERFICIE&&(this.tipoSostegno=Yt.a.acs,this.datiDomanda="datiDomandaACS",this.dettaglioDomandaAccoppiati[this.datiDomanda]=new Kr.a,this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo=new Kr.f,this.interventi=["m8","m9","m10","m11","m14","m15","m16","m17"])}setIdDomandaCorrente(){this.route.params.subscribe(t=>{this.idDomandaCorrente=t.idDomanda})}setCols(){this.cols=[{field:"codice",header:"Descrizione Controllo",width:"70%"},{field:"valore",header:"Valore",width:"30%"}],this.colsInput=[{field:"codice",header:"DATI IN INGRESSO",width:"70%"},{field:"valore",header:"",width:"30%"}],this.colsOutput=[{field:"codice",header:"DATI IN USCITA",width:"70%"},{field:"valore",header:"",width:"30%"}]}getDatiIstruttoria(){const t=Yt.a.tabDatiDomanda+","+Yt.a.datiDisciplinaFinanziaria;this.istruttoriaService.getDettaglioDomandaAccoppiati(this.idDomandaCorrente.toString(),this.tipoSostegno,t).subscribe(t=>{if(t){if(console.log(t),this.dettaglioDomandaAccoppiati.idDomanda=t[0].idDomanda,t[0][this.datiDomanda]){this.dettaglioDomandaAccoppiati[this.datiDomanda].sintesiCalcolo=[];for(let i in t[0][this.datiDomanda].sintesiCalcolo)this.dettaglioDomandaAccoppiati[this.datiDomanda].sintesiCalcolo.push({codice:i,valore:t[0][this.datiDomanda].sintesiCalcolo[i]});this.interventi.forEach(i=>{this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo[i]=[],this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo[i].input=[],this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo[i].output=[];for(let e in t[0][this.datiDomanda].dettaglioCalcolo[i])e.search("_INPUT")>-1?this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo[i].input.push({codice:e,valore:t[0][this.datiDomanda].dettaglioCalcolo[i][e]}):e.search("_OUTPUT")>-1&&this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo[i].output.push({codice:e,valore:t[0][this.datiDomanda].dettaglioCalcolo[i][e]})})}if(t[0].datiDisciplinaFinanziaria){this.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria=new Kr.c,this.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input=[],this.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.output=[];for(let i in t[0].datiDisciplinaFinanziaria)i.search("_INPUT")>-1?"0 euro"!=t[0].datiDisciplinaFinanziaria[i]&&this.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input.push({codice:i,valore:t[0].datiDisciplinaFinanziaria[i]}):i.search("_OUTPUT")>-1&&"0 euro"!=t[0].datiDisciplinaFinanziaria[i]&&this.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.output.push({codice:i,valore:t[0].datiDisciplinaFinanziaria[i]})}console.log(this.dettaglioDomandaAccoppiati[this.datiDomanda])}},t=>{"NO_CALCOLO_ACS"==t.error.message?console.log("Non ci sono passi lavorazione ACS validi per la domanda id: "+this.idDomandaCorrente):"NO_CALCOLO_ACZ"==t.error.message?console.log("Non ci sono passi lavorazione ACZ validi per la domanda id: "+this.idDomandaCorrente):(this.messageService.add(b.a.getToast("tst",b.b.error,b.a.erroreRecuperoDati)),console.log(t))})}setHeader(t){var i=t.indexOf("_INPUT"),e=t.indexOf("_OUTPUT");return i>-1?t=t.substring(0,i):e>-1&&(t=t.substring(0,e)),this.propertyName=Yt.a[t],this.propertyName}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(c.a),B.Nb(l.a),B.Nb(N.d),B.Nb(c.e))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-dati-domanda-acc"]],decls:6,vars:5,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[4,"ngIf"],[1,"table-responsive"],[3,"columns","value","autoLayout","responsive"],["tab",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],[4,"ngFor","ngForOf"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[3,"header","selected"],[3,"columns","value","responsive"]],template:function(t,i){1&t&&(B.Tb(0,"div",0),B.Tb(1,"div",1),B.Tb(2,"div",2),B.Ob(3,"p-toast",3),B.Mc(4,$c,20,6,"div",4),B.Mc(5,Qc,2,0,"div",4),B.Sb(),B.Sb(),B.Sb()),2&t&&(B.Bb(3),B.Kc(B.rc(4,qc)),B.Bb(1),B.mc("ngIf",i.dettaglioDomandaAccoppiati.idDomanda),B.Bb(1),B.mc("ngIf",!i.dettaglioDomandaAccoppiati.idDomanda))},directives:[M.a,o.t,a.q,N.e,o.s,o.w,_i.a,_i.c],styles:[""]}),t})();function jc(t,i){}function Kc(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Tb(2,"a",13),B.Ob(3,"i",14),B.Tb(4,"strong"),B.Oc(5,"Superficie Totale Richiesta (mq)"),B.Sb(),B.Sb(),B.Sb(),B.Tb(6,"td"),B.Tb(7,"strong"),B.Oc(8,"Superficie Totale Richiesta (mq)"),B.Sb(),B.Sb(),B.Tb(9,"td",15),B.Oc(10),B.Sb(),B.Sb()),2&t){const t=i.$implicit,e=i.expanded;B.Bb(2),B.mc("pRowToggler",t),B.Bb(1),B.mc("ngClass",e?"pi pi-chevron-down":"pi pi-chevron-right"),B.Bb(7),B.Pc(t.supRichiestaTotale)}}function Yc(t,i){if(1&t&&(B.Tb(0,"div",1),B.Tb(1,"b"),B.Oc(2,"Intervento Soia - Superficie Totale Richiesta:"),B.Sb(),B.Oc(3),B.Sb()),2&t){const t=B.fc().$implicit;B.Bb(3),B.Qc(" ",t.m8," ")}}function Jc(t,i){if(1&t&&(B.Tb(0,"div",1),B.Tb(1,"b"),B.Oc(2,"Intervento Frumento - Superficie Totale Richiesta:"),B.Sb(),B.Oc(3),B.Sb()),2&t){const t=B.fc().$implicit;B.Bb(3),B.Qc(" ",t.m9," ")}}function Wc(t,i){if(1&t&&(B.Tb(0,"div",1),B.Tb(1,"b"),B.Oc(2,"Intervento Proteaginose - Superficie Totale Richiesta:"),B.Sb(),B.Oc(3),B.Sb()),2&t){const t=B.fc().$implicit;B.Bb(3),B.Qc(" ",t.m10," ")}}function Xc(t,i){if(1&t&&(B.Tb(0,"div",1),B.Tb(1,"b"),B.Oc(2,"Intervento Leguminose - Superficie Totale Richiesta:"),B.Sb(),B.Oc(3),B.Sb()),2&t){const t=B.fc().$implicit;B.Bb(3),B.Qc(" ",t.m11," ")}}function ts(t,i){if(1&t&&(B.Tb(0,"div",1),B.Tb(1,"b"),B.Oc(2,"Intervento Pomodoro - Superficie Totale Richiesta:"),B.Sb(),B.Oc(3),B.Sb()),2&t){const t=B.fc().$implicit;B.Bb(3),B.Qc(" ",t.m14," ")}}function is(t,i){if(1&t&&(B.Tb(0,"div",1),B.Tb(1,"b"),B.Oc(2,"Intervento Olivi Standard - Superficie Totale Richiesta:"),B.Sb(),B.Oc(3),B.Sb()),2&t){const t=B.fc().$implicit;B.Bb(3),B.Qc(" ",t.m15," ")}}function es(t,i){if(1&t&&(B.Tb(0,"div",1),B.Tb(1,"b"),B.Oc(2,"Intervento Olivi 7.5% - Superficie Totale Richiesta:"),B.Sb(),B.Oc(3),B.Sb()),2&t){const t=B.fc().$implicit;B.Bb(3),B.Qc(" ",t.m16," ")}}function os(t,i){if(1&t&&(B.Tb(0,"div",1),B.Tb(1,"b"),B.Oc(2,"Intervento Olivi Qualit\xe0 - Superficie Totale Richiesta:"),B.Sb(),B.Oc(3),B.Sb()),2&t){const t=B.fc().$implicit;B.Bb(3),B.Qc(" ",t.m17," ")}}function as(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Tb(2,"div",16),B.Tb(3,"div",17),B.Tb(4,"div",18),B.Mc(5,Yc,4,1,"div",19),B.Mc(6,Jc,4,1,"div",19),B.Mc(7,Wc,4,1,"div",19),B.Mc(8,Xc,4,1,"div",19),B.Mc(9,ts,4,1,"div",19),B.Mc(10,is,4,1,"div",19),B.Mc(11,es,4,1,"div",19),B.Mc(12,os,4,1,"div",19),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t){const t=i.$implicit,e=i.columns;B.Bb(1),B.Cb("colspan",e.length+1),B.Bb(4),B.mc("ngIf",t.m8),B.Bb(1),B.mc("ngIf",t.m9),B.Bb(1),B.mc("ngIf",t.m10),B.Bb(1),B.mc("ngIf",t.m11),B.Bb(1),B.mc("ngIf",t.m14),B.Bb(1),B.mc("ngIf",t.m15),B.Bb(1),B.mc("ngIf",t.m16),B.Bb(1),B.mc("ngIf",t.m17)}}function ns(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2," Nessun controllo eseguito "),B.Sb(),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.Cb("colspan",t.length+1)}}function rs(t,i){if(1&t&&(B.Tb(0,"th",25),B.Tb(1,"strong"),B.Oc(2),B.Sb(),B.Ob(3,"p-sortIcon",26),B.Sb()),2&t){const t=i.$implicit;B.mc("pSortableColumn",t.field)("pSortableColumnDisabled",null==t.field),B.Bb(2),B.Pc(t.header),B.Bb(1),B.mc("field",t.field)}}function cs(t,i){if(1&t&&(B.Tb(0,"tr"),B.Mc(1,rs,4,4,"th",24),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.mc("ngForOf",t)}}function ss(t,i){if(1&t&&(B.Tb(0,"tr",27),B.Tb(1,"td"),B.Oc(2),B.Sb(),B.Tb(3,"td"),B.Oc(4),B.Sb(),B.Tb(5,"td"),B.Oc(6),B.Sb(),B.Tb(7,"td"),B.Oc(8),B.Sb(),B.Tb(9,"td"),B.Oc(10),B.Sb(),B.Tb(11,"td"),B.Oc(12),B.Sb(),B.Tb(13,"td"),B.Oc(14),B.Sb(),B.Tb(15,"td"),B.Oc(16),B.Sb(),B.Tb(17,"td"),B.Oc(18),B.Sb(),B.Tb(19,"td"),B.Oc(20),B.Sb(),B.Sb()),2&t){const t=i.$implicit,e=B.fc(3);B.mc("pSelectableRow",e.particella),B.Bb(2),B.Pc(t.datiCatastali.idParticella),B.Bb(2),B.Pc(t.datiCatastali.comune),B.Bb(2),B.Pc(t.datiCatastali.codNazionale),B.Bb(2),B.Pc(t.datiCatastali.foglio),B.Bb(2),B.Pc(t.datiCatastali.particella),B.Bb(2),B.Pc(t.datiCatastali.sub),B.Bb(2),B.Pc(t.riferimentiCartografici.codIsola),B.Bb(2),B.Pc(t.datiColtivazione.codColtura3),B.Bb(2),B.Pc(t.datiColtivazione.descrizioneColtura),B.Bb(2),B.Pc(t.supRichiestaNetta)}}function ls(t,i){1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2," Nessuna particella trovata "),B.Sb(),B.Sb()),2&t&&(B.Bb(1),B.Cb("colspan",10))}function ds(t,i){if(1&t&&(B.Tb(0,"div"),B.Tb(1,"p-accordion"),B.Tb(2,"p-accordionTab",21),B.Tb(3,"div",22),B.Tb(4,"p-table",23,6),B.Mc(6,cs,2,1,"ng-template",7),B.Mc(7,ss,21,11,"ng-template",8),B.Mc(8,ls,3,1,"ng-template",10),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t){const t=B.fc().$implicit,i=B.fc();B.Bb(2),B.nc("header",i.setHeader(t)),B.mc("selected",!0),B.Bb(2),B.mc("columns",i.cols)("value",i.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[t].superficiImpegnate)("autoLayout",!0)("paginator",!0)("rows",i.elementiPagina)("responsive",!0)}}function bs(t,i){if(1&t&&(B.Tb(0,"div"),B.Mc(1,ds,9,8,"div",20),B.Sb()),2&t){const t=i.$implicit,e=B.fc();B.Bb(1),B.mc("ngIf",e.dettaglioDomandaAccoppiati&&e.dettaglioDomandaAccoppiati.datiSuperficiImpegnate&&e.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[t])}}const us=function(){return{marginTop:"70px"}};let ps=(()=>{class t{constructor(t,i,e){this.messageService=t,this.route=i,this.istruttoriaService=e,this.elementiPagina=10,this.dettaglioDomandaAccoppiati=new Kr.k}ngOnInit(){this.setInterventi(),this.setCols(),this.setIdDomandaCorrente(),this.changePage()}setInterventi(){this.interventi=["m8","m9","m10","m11","m14","m15","m16","m17"]}setCols(){this.cols=[{field:"idParticella",header:"Id Particella"},{field:"comune",header:"Comune Catastale"},{field:"codNazionale",header:"Cod. Nazionale"},{field:"foglio",header:"Foglio"},{field:"particella",header:"Particella"},{field:"sub",header:"Sub"},{field:"codIsola",header:"Isola"},{field:"codiceColtura3",header:"Cod. Coltura"},{field:"descrizioneColtura",header:"Descr. Coltura"},{field:"supRichiestaNetta",header:"Sup Imp. Netta"}]}setIdDomandaCorrente(){this.route.params.subscribe(t=>{this.idDomandaCorrente=t.idDomanda})}changePage(){this.istruttoriaService.getDettaglioDomandaAccoppiati(this.idDomandaCorrente.toString(),Yt.a.acs,Yt.a.tabSuperficiImpegnate).subscribe(t=>{if(t){if(console.log(t),this.dettaglioDomandaAccoppiati.idDomanda=t[0].idDomanda,t[0].datiSuperficiImpegnate){this.dettaglioDomandaAccoppiati.datiSuperficiImpegnate=new Kr.l,this.dettaglioDomandaAccoppiati.datiSuperficiImpegnate.supRichiesta=t[0].datiSuperficiImpegnate.supRichiesta,this.dettaglioDomandaAccoppiati.datiSuperficiImpegnate.supRichiestaNetta=t[0].datiSuperficiImpegnate.supRichiestaNetta,this.interventi.forEach(i=>{t[0].datiSuperficiImpegnate[i]&&(this.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[i]=new Kr.e,this.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[i].supRichiesta=t[0].datiSuperficiImpegnate[i].supRichiesta,this.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[i].supRichiestaNetta=t[0].datiSuperficiImpegnate[i].supRichiestaNetta,this.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[i].superficiImpegnate=[],t[0].datiSuperficiImpegnate[i].superficiImpegnate.forEach(t=>{this.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[i].superficiImpegnate.push({datiCatastali:t.datiCatastali,datiColtivazione:t.datiColtivazione,riferimentiCartografici:t.riferimentiCartografici,supRichiesta:t.supRichiesta,supRichiestaNetta:t.supRichiestaNetta})}))}),this.superficiImpegnateSintesi=new Array(1),this.superficiImpegnateSintesi[0]=new Kr.m,this.superficiImpegnateSintesi[0].supRichiestaTotale=this.dettaglioDomandaAccoppiati.datiSuperficiImpegnate.supRichiesta;const i=this.superficiImpegnateSintesi[0];this.interventi.forEach(t=>{this.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[t]&&this.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[t].supRichiesta&&(i[t]=this.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[t].supRichiesta)}),this.superficiImpegnateSintesi[0]=i}console.log(Yt.a.tabSuperficiImpegnate+":"),console.log(this.dettaglioDomandaAccoppiati)}},t=>{"NO_CALCOLO_ACS"==t.error.message?console.log("Non ci sono passi lavorazione ACS validi per la domanda id: "+this.idDomandaCorrente):(this.messageService.add(b.a.getToast("tst",b.b.error,b.a.erroreRecuperoDati)),console.log(t))})}setHeader(t){return this.propertyName=Yt.a[t],this.propertyName}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(N.d),B.Nb(c.a),B.Nb(l.a))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-superfici-impegnate-acc"]],decls:16,vars:8,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[1,"table-responsive"],["dataKey","supRichiestaTotale",3,"columns","value","autoLayout","responsive"],["tab",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],[1,"accordion-wrapper","dettaglioaccordion"],[4,"ngFor","ngForOf"],[3,"pRowToggler"],[3,"ngClass"],[1,"text-right",2,"font-weight","bold"],[1,"ui-g","ui-fluid",2,"font-size","16px","padding","20px"],[1,"ui-g-12","ui-md-9"],[1,"ui-g"],["class","ui-g-12",4,"ngIf"],[4,"ngIf"],[3,"header","selected"],[1,"table-responsive",2,"margin-top","20px","display","block"],[3,"columns","value","autoLayout","paginator","rows","responsive"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"],[3,"pSelectableRow"]],template:function(t,i){1&t&&(B.Tb(0,"div",0),B.Tb(1,"div",1),B.Tb(2,"div",2),B.Ob(3,"p-toast",3),B.Tb(4,"h3"),B.Tb(5,"span"),B.Oc(6," Accoppiato Superficie "),B.Sb(),B.Sb(),B.Tb(7,"div",4),B.Tb(8,"p-table",5,6),B.Mc(10,jc,0,0,"ng-template",7),B.Mc(11,Kc,11,3,"ng-template",8),B.Mc(12,as,13,9,"ng-template",9),B.Mc(13,ns,3,1,"ng-template",10),B.Sb(),B.Sb(),B.Tb(14,"div",11),B.Mc(15,bs,2,1,"div",12),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t&&(B.Bb(3),B.Kc(B.rc(7,us)),B.Bb(5),B.mc("columns",i.cols)("value",i.superficiImpegnateSintesi)("autoLayout",!0)("responsive",!0),B.Bb(7),B.mc("ngForOf",i.interventi))},directives:[M.a,a.q,N.e,o.s,a.k,o.q,o.t,_i.a,_i.c,a.p,a.o,a.m],styles:[""]}),t})();const gs=["table"];function ms(t,i){if(1&t&&(B.Tb(0,"th",17),B.Oc(1),B.Ob(2,"p-sortIcon",18),B.Sb()),2&t){const t=i.$implicit;B.mc("pSortableColumn",t.field)("pSortableColumnDisabled",null==t.field),B.Bb(1),B.Qc(" ",t.header," "),B.Bb(1),B.mc("field",t.header)}}function hs(t,i){if(1&t&&(B.Tb(0,"tr"),B.Mc(1,ms,3,4,"th",16),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.mc("ngForOf",t)}}function Ss(t,i){if(1&t){const t=B.Ub();B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2),B.Sb(),B.Tb(3,"td"),B.Oc(4),B.Sb(),B.Tb(5,"td"),B.Oc(6),B.Sb(),B.Tb(7,"td"),B.Oc(8),B.Sb(),B.Tb(9,"td",19),B.Tb(10,"p-checkbox",20),B.bc("ngModelChange",(function(e){return B.Ec(t),i.$implicit.duplicato=e}))("click",(function(){B.Ec(t);const e=i.$implicit;return B.fc(3).updateCapo(e)})),B.Sb(),B.Sb(),B.Tb(11,"td",19),B.Tb(12,"p-checkbox",20),B.bc("ngModelChange",(function(e){return B.Ec(t),!(i.$implicit.controlloSuperato=e)}))("click",(function(){B.Ec(t);const e=i.$implicit;return B.fc(3).updateControlloSuperato(e)})),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=i.$implicit,e=B.fc(2).$implicit;B.Bb(2),B.Pc(t.codiceCapo),B.Bb(2),B.Pc(e.codiceSpecie),B.Bb(2),B.Pc(t.esito),B.Bb(2),B.Pc(t.messaggio),B.Bb(2),B.mc("ngModel",t.duplicato),B.Bb(2),B.mc("ngModel",!t.controlloSuperato)}}function fs(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2," Calcolo accoppiato zootecnia non ancora effettuato per la domanda. "),B.Sb(),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.Cb("colspan",t.length+1)}}function Ts(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div"),B.Tb(1,"p-accordion"),B.Tb(2,"p-accordionTab",7),B.Tb(3,"div",8),B.Tb(4,"i",9),B.Oc(5,"search"),B.Sb(),B.Tb(6,"input",10),B.bc("input",(function(i){return B.Ec(t),B.Bc(8).filterGlobal(i.target.value,"contains")})),B.Sb(),B.Sb(),B.Tb(7,"p-table",11,12),B.Mc(9,hs,2,1,"ng-template",13),B.Mc(10,Ss,13,6,"ng-template",14),B.Mc(11,fs,3,1,"ng-template",15),B.Sb(),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=B.fc().$implicit,i=B.fc();B.Bb(2),B.qc("header","",t.datiAllevamento.descrizioneAllevamento," - ",t.datiAllevamento.codiceAllevamento," - ",t.codiceIntervento," - Numero Capi: ",t.richiesteAllevamentoDuEsito.length,""),B.mc("selected",!1),B.Bb(5),B.mc("columns",i.cols)("value",t.richiesteAllevamentoDuEsito)("autoLayout",!0)("paginator",!0)("rows",i.elementiPagina)("responsive",!0)}}function vs(t,i){if(1&t&&(B.Tb(0,"div"),B.Mc(1,Ts,12,11,"div",6),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.mc("ngIf",t.richiesteAllevamentoDuEsito&&t.richiesteAllevamentoDuEsito.length>0)}}function Is(t,i){1&t&&(B.Tb(0,"div"),B.Oc(1," Nessun capo richiesto "),B.Sb())}const Os=function(){return{marginTop:"70px"}};let Cs=(()=>{class t{constructor(t,i,e,o){this.istruttoriaService=t,this.route=i,this.messageService=e,this.loaderService=o,this.allevamenti=[],this.cols=[],this.intestazioni=bn.a,this.elementiPagina=10,this.nessunCapoPresentato=!0}ngOnInit(){this.loaderService.setTimeout(48e4),this.setCols(),this.setIdDomanda(),this.changePage()}ngOnDestroy(){this.loaderService.resetTimeout()}setCols(){this.cols=[{field:"codiceCapo",header:this.intestazioni.marcaAuricolare},{field:"codiceSpecie",header:this.intestazioni.codiceSpecie},{field:"esito",header:this.intestazioni.ESITO_CONTROLLO},{field:"messaggio",header:this.intestazioni.messaggioEsito},{field:"duplicato",header:this.intestazioni.duplicato},{field:"controlloSuperato",header:this.intestazioni.controlloNonSuperato}]}setIdDomanda(){this.route.paramMap.subscribe(t=>{this.idDomanda=t.get(Yt.a.dettaglioDomandaParam)})}changePage(){this.istruttoriaService.getCapi(this.idDomanda,JSON.stringify({tipo:"RICHIESTO"})).subscribe(t=>{t&&(t.forEach(t=>{t.datiAllevamento=JSON.parse(t.datiAllevamento),t.datiDetentore=JSON.parse(t.datiDetentore),t.datiProprietario=JSON.parse(t.datiProprietario),this.allevamenti.push(t)}),this.allevamenti.forEach(t=>{let i=new Array;t.richiesteAllevamentoDuEsito.forEach(t=>{"PRESENTATA"==t.stato&&(t.esito=t.esito.split("_").join(" "),i.push(t),this.nessunCapoPresentato=!1)}),t.richiesteAllevamentoDuEsito=i}),this.allevamenti.sort((function(t,i){return t.codiceIntervento-i.codiceIntervento}))),console.log(this.allevamenti)},t=>{console.log(t),this.messageService.add(b.a.getToast("tst",b.b.error,b.a.erroreRecuperoDati))})}updateControlloSuperato(t){t.controlloSuperato=!t.controlloSuperato,this.updateCapo(t)}updateCapo(t){this.istruttoriaService.aggiornaCapo(this.idDomanda,t).subscribe(i=>{console.log(i),t=i},t=>{console.log(t)})}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(l.a),B.Nb(c.a),B.Nb(N.d),B.Nb(pn.a))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-capi-richiesti"]],viewQuery:function(t,i){var e;1&t&&B.Uc(gs,!0),2&t&&B.Ac(e=B.cc())&&(i.table=e.first)},decls:7,vars:5,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"header","selected"],[1,"globalfilter"],[1,"material-icons"],["type","text","pInputText","","size","50","placeholder","Ricerca...",2,"width","auto",3,"input"],["dataKey","codiceCapo",3,"columns","value","autoLayout","paginator","rows","responsive"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"],[2,"text-align","center"],["binary","true",3,"ngModel","ngModelChange","click"]],template:function(t,i){1&t&&(B.Tb(0,"div",0),B.Tb(1,"div",1),B.Tb(2,"div",2),B.Ob(3,"p-toast",3),B.Tb(4,"div",4),B.Mc(5,vs,2,1,"div",5),B.Mc(6,Is,2,0,"div",6),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t&&(B.Bb(3),B.Kc(B.rc(4,Os)),B.Bb(2),B.mc("ngForOf",i.allevamenti),B.Bb(1),B.mc("ngIf",0==i.allevamenti.length||i.nessunCapoPresentato))},directives:[M.a,o.s,o.t,_i.a,_i.c,Zo.a,a.q,N.e,a.p,a.o,xi.a,y.s,y.v],styles:[""]}),t})();const As=function(t){return{width:t}};function Ds(t,i){1&t&&B.Ob(0,"th",11),2&t&&B.mc("ngStyle",B.sc(1,As,i.$implicit.width))}function Ps(t,i){if(1&t&&(B.Tb(0,"tr"),B.Mc(1,Ds,1,3,"th",10),B.Sb()),2&t){const t=i.$implicit;B.Bb(1),B.mc("ngForOf",t)}}function Bs(t,i){if(1&t&&(B.Tb(0,"tr"),B.Tb(1,"td"),B.Oc(2),B.Sb(),B.Tb(3,"td",12),B.Oc(4),B.Sb(),B.Sb()),2&t){const t=i.$implicit;B.Bb(2),B.Pc(t.descrizione),B.Bb(2),B.Pc(t.valore)}}function Ns(t,i){if(1&t&&(B.Tb(0,"div",4),B.Tb(1,"p-accordion"),B.Tb(2,"p-accordionTab",5),B.gc(3,"fixDichiarazioni"),B.Tb(4,"div",6),B.Tb(5,"p-table",7),B.gc(6,"tipoFilter"),B.Mc(7,Ps,2,1,"ng-template",8),B.Mc(8,Bs,5,2,"ng-template",9),B.Sb(),B.Sb(),B.Sb(),B.Sb(),B.Sb()),2&t){const t=i.$implicit,e=B.fc();B.Bb(2),B.nc("header",B.hc(3,7,t)),B.mc("selected",!0),B.Bb(3),B.mc("columns",e.cols)("value",B.jc(6,9,e.dichiarazioni,"quadro",t))("autoLayout",!0)("paginator",!1)("responsive",!0)}}let zs=(()=>{class t{constructor(t,i,e,o){this.istruttoriaService=t,this.messageService=i,this.route=e,this.router=o}ngOnInit(){this.setSostegno(),this.setIdDomandaCorrente(),this.caricaDichiarazioni()}caricaDichiarazioni(){this.istruttoriaService.getDettaglioDomandaAccoppiati(this.idDomanda.toString(),this.tipoSostegno,Yt.a.tabDichiarazioni).subscribe(t=>{this.dichiarazioni=t[0].dichiarazioni,this.codiciTipo=this.dichiarazioni.map(t=>t.quadro).filter((t,i,e)=>e.indexOf(t)===i)})}setIdDomandaCorrente(){this.route.params.subscribe(t=>{this.idDomanda=t.idDomanda})}setSostegno(){this.selectedSostegno=this.router.url.split("/").filter(t=>t===Yt.a.accoppiatoZootecniaRichiesto).length>0?g.a.ZOOTECNIA:g.a.SUPERFICIE,this.selectedSostegno===g.a.ZOOTECNIA?this.tipoSostegno=Yt.a.acz:this.selectedSostegno===g.a.SUPERFICIE&&(this.tipoSostegno=Yt.a.acs)}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(l.a),B.Nb(N.d),B.Nb(c.a),B.Nb(c.e))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-dichiarazioni-acc"]],decls:4,vars:1,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["ngFor","",3,"ngForOf"],[1,"accordion-wrapper","dettaglioaccordion"],[3,"header","selected"],[1,"table-responsive","nobrd",2,"margin-top","30px"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","header"],["pTemplate","body"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"text-right",2,"font-weight","bold"]],template:function(t,i){1&t&&(B.Tb(0,"div",0),B.Tb(1,"div",1),B.Tb(2,"div",2),B.Mc(3,Ns,9,13,"ng-template",3),B.Sb(),B.Sb(),B.Sb()),2&t&&(B.Bb(3),B.mc("ngForOf",i.codiciTipo))},directives:[o.s,_i.a,_i.c,a.q,N.e,o.w],pipes:[ue.a,ue.b],styles:[""]}),t})();function Ms(t,i){if(1&t&&(B.Tb(0,"div",7),B.Tb(1,"strong"),B.Oc(2),B.Sb(),B.Sb(),B.Tb(3,"div",8),B.Oc(4),B.gc(5,"number"),B.Sb()),2&t){const t=i.$implicit;B.Bb(2),B.Sc("",t.intervento.misura," - ",t.intervento.descrizioneBreve," - ",t.intervento.codiceAgea,""),B.Bb(2),B.Qc(" ",B.jc(5,4,t.valoreUnitarioIntervento,"1.2-2","it-IT")," ")}}function Rs(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div",3),B.Mc(1,Ms,6,8,"ng-template",4),B.Tb(2,"div",5),B.Tb(3,"button",6),B.bc("click",(function(){return B.Ec(t),B.fc().modifica()})),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=B.fc();B.Bb(1),B.mc("ngForOf",t.premiIntervento)}}function ys(t,i){1&t&&(B.Tb(0,"div",16),B.Oc(1," Numero non valido "),B.Sb())}function Es(t,i){if(1&t&&(B.Tb(0,"div"),B.Tb(1,"div",7),B.Tb(2,"strong"),B.Oc(3),B.Sb(),B.Sb(),B.Tb(4,"div",8),B.Ob(5,"input",14),B.Mc(6,ys,2,0,"div",15),B.Sb(),B.Sb()),2&t){const t=i.$implicit,e=i.index,o=B.fc(2);B.Bb(3),B.Sc("",t.intervento.misura," - ",t.intervento.descrizioneBreve," - ",t.intervento.codiceAgea,""),B.Bb(2),B.mc("formControlName",e),B.Bb(1),B.mc("ngIf",!o.isValid(e))}}function Ls(t,i){if(1&t){const t=B.Ub();B.Tb(0,"div",3),B.Tb(1,"form",9),B.Tb(2,"div",10),B.Mc(3,Es,7,5,"div",11),B.Sb(),B.Sb(),B.Tb(4,"div",5),B.Tb(5,"button",12),B.bc("click",(function(){return B.Ec(t),B.fc().salva()})),B.Sb(),B.Tb(6,"button",13),B.bc("click",(function(){return B.Ec(t),B.fc().annullaModifica()})),B.Sb(),B.Sb(),B.Sb()}if(2&t){const t=B.fc();B.Bb(1),B.mc("formGroup",t.updateForm),B.Bb(2),B.mc("ngForOf",t.premiIntervento)}}let ws=(()=>{class t{constructor(t,i){this.fb=t,this.confirmationService=i,this.aggiornaDomandeCounters=new B.n,this.controlloRicev=!1,this.showSostegno=!1,this.premiIntervento=new Array,this.aggiornaPremioAggregatoACS=new B.n,this.editable=!1}ngOnInit(){}setSostegnoPremi(t){this.premiIntervento=t.interventoDuPremi}get premi(){return this.updateForm.get("premi")}addFeature(t){this.premi.push(this.fb.control(t,[y.G.required,y.G.pattern(/^-?\d{0,9}(\.?\d{0,2})$/)]))}isValid(t){return this.updateForm.get("premi").controls[t].valid}modifica(){this.confirmationService.confirm({message:"Attenzione! Sei davvero sicuro di voler modificare questi dati?",acceptLabel:"S\xec",rejectLabel:"No",rejectVisible:!0,accept:()=>{this.editable=!0,this.updateForm=this.fb.group({premi:this.fb.array([this.fb.control(this.premioAggregatoACS.interventoDuPremi[0].valoreUnitarioIntervento.toString(),y.G.required)])});for(let t=1;t<this.premioAggregatoACS.interventoDuPremi.length;t++)this.addFeature(this.premioAggregatoACS.interventoDuPremi[t].valoreUnitarioIntervento.toString())}})}annullaModifica(){this.editable=!1}salva(){let t=this.updateForm.get("premi"),i=new Vr.a,e=new Array,o=0,a=!0;t.controls.forEach(t=>{t.valid?isNaN(t.value)&&(a=!1):a=t.valid;let n=new Fr;n.valoreUnitarioIntervento=t.value,n.intervento=this.premioAggregatoACS.interventoDuPremi[o].intervento,n.id=this.premioAggregatoACS.interventoDuPremi[o].id,e.push(n),i.interventoDuPremi=e,o++}),a?this.aggiornaPremioAggregatoACS.emit(i):this.throwError("Attenzione! I valori inseriti non risultano corretti.")}throwError(t){this.confirmationService.confirm({message:t,acceptLabel:"Annulla",rejectVisible:!1,accept:()=>{this.editable=!0}})}ngOnChanges(t){t.premioAggregatoACS.currentValue&&(this.setSostegnoPremi(this.premioAggregatoACS),this.editable=!1)}}return t.\u0275fac=function(i){return new(i||t)(B.Nb(y.f),B.Nb(N.a))},t.\u0275cmp=B.Hb({type:t,selectors:[["app-dettaglio-istruttoria-dati-acs"]],inputs:{premioAggregatoACS:"premioAggregatoACS"},outputs:{aggiornaDomandeCounters:"aggiornaDomandeCounters",aggiornaPremioAggregatoACS:"aggiornaPremioAggregatoACS"},features:[B.Ab([N.a]),B.zb],decls:4,vars:2,consts:[["header","Conferma","icon","pi pi-exclamation-triangle"],[1,"boxgrey","f18"],["class","ui-g",4,"ngIf"],[1,"ui-g"],["ngFor","",3,"ngForOf"],[1,"ui-g-12","text-right"],["pButton","","type","button","label","Modifica",1,"btn-green",2,"min-height","42px","box-shadow","none",3,"click"],[1,"ui-g-4"],[1,"ui-g-2"],[1,"ui-g-12",3,"formGroup"],["formArrayName","premi"],[4,"ngFor","ngForOf"],["pButton","","type","button","label","Salva",1,"btn-green",2,"min-height","42px","box-shadow","none","margin-right","10px",3,"click"],["pButton","","type","button","label","Annulla",1,"btn-green",2,"min-height","42px","box-shadow","none",3,"click"],["type","text","pInputText","",3,"formControlName"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],[1,"ui-message","ui-messages-error","ui-corner-all"]],template:function(t,i){1&t&&(B.Ob(0,"p-confirmDialog",0),B.Tb(1,"div",1),B.Mc(2,Rs,4,1,"div",2),B.Mc(3,Ls,7,2,"div",2),B.Sb()),2&t&&(B.Bb(2),B.mc("ngIf",0==i.editable),B.Bb(1),B.mc("ngIf",1==i.editable))},directives:[Qa.a,o.t,o.s,L.b,y.I,y.t,y.k,y.e,y.c,Zo.a,y.s,y.i],pipes:[o.g],styles:[""]}),t})();var xs=e("kQyY"),_s=e("kPZZ"),ks=e("H6Hf"),Us=e("zUH4"),Fs=e("cH1L"),Gs=e("vxfF"),Vs=e("BGwN"),Zs=e("jA5t"),$s=e("SLJP"),Qs=e("d/lR"),qs=e("Ivbe"),Hs=e("+WeO"),js=e("K7SP"),Ks=e("dS4e"),Ys=e("IWUw"),Js=e("R/2S"),Ws=e("38Fb"),Xs=e("KwdP"),tl=e("x5p7"),il=e("FK/F"),el=e("AD9J"),ol=e("+7Pr"),al=e("Rt+w"),nl=e("O3Kt"),rl=e("KYTB"),cl=e("wcdC"),sl=e("+DHz"),ll=e("KkCm"),dl=e("V6/s"),bl=e("SnyB"),ul=e("Qfly"),pl=e("1v+U"),gl=e("NYM0"),ml=e("7sbD"),hl=e("ARHT"),Sl=e("a6xG"),fl=e("x3AQ"),Tl=e("FVER"),vl=e("jkBy"),Il=e("GdHY"),Ol=e("auzs"),Cl=e("1SOg"),Al=e("cIsh"),Dl=e("jTGf"),Pl=e("zKaa"),Bl=e("BYQQ"),Nl=e("4zPq"),zl=e("2c1J"),Ml=e("QiK6"),Rl=e("Pgx+"),yl=e("684u"),El=e("vMYJ");Object(o.K)(Oi.a,"it-IT",Ai.a);let Ll=(()=>{class t{}return t.\u0275mod=B.Lb({type:t}),t.\u0275inj=B.Kb({factory:function(i){return new(i||t)},providers:[ui.a,Vi,Va,Zi,pn.a,ue.b],imports:[[Zt.a,Qa.b,$a.b,Za.b,o.c,a.t,L.c,bi.b,y.m,Pi.n,Ot.b,R.b,xi.b,_i.b,n.b,x.b,y.C,Zo.b,ki.b,Vt,Ui.c,Ot.b,xs.b,qi.b]]}),t})();B.Hc(di,[o.q,o.r,o.s,o.t,o.A,o.w,o.x,o.y,o.z,o.u,o.v,y.I,y.x,y.H,y.c,y.y,y.B,y.a,y.E,y.F,y.A,y.s,y.t,y.D,y.o,y.n,y.z,y.b,y.d,y.v,y.w,y.u,_s.a,N.c,N.b,N.e,L.b,L.a,ks.a,c.j,c.f,c.h,c.g,c.k,Us.a,Ot.a,a.q,a.p,a.m,a.k,a.c,a.j,a.g,a.d,a.b,a.o,a.u,a.r,a.s,a.i,a.h,a.n,a.e,a.f,a.l,a.a,Fs.b,Gs.b,Gs.a,Gs.c,Gs.d,Zo.a,xi.a,Vs.a,Qa.a,M.a,n.a,Zs.a,bi.a,$s.a,Qs.a,qs.a,jn.a,Hs.a,js.a,Ks.a,Ys.a,Js.a,Ws.a,ki.a,Xs.a,tl.a,Ki.a,il.a,il.b,$a.a,_i.a,_i.c,R.a,el.a,ol.a,ji.a,gn.a,z.a,al.a,al.b,al.f,al.g,al.e,al.d,y.h,y.k,y.i,y.l,y.e,nl.a,rl.a,Hi.a,r.b,Za.a,cl.a,sl.a,ll.a,dl.a,qi.a,bl.a,x.a,ul.a,pl.a,Ui.b,Ui.a,Ui.d,gl.a,ml.a,hl.a,Sl.a,fl.a,Tl.a,vl.a,Il.a,Ol.a,Cl.a,Al.a,Dl.a,Pl.a,Bl.a,Nl.a,zl.a,Pi.l,Pi.o,Pi.k,Pi.j,Pi.f,Pi.g,Pi.e,Pi.h,Pi.i,Pi.b,Pi.a,Pi.d,Pi.c,Pi.m,Gt,xs.a,di,vi,wi,Fi,de,ye,_e,He,za,Xe,bo,xo,Ma,_o,ko,Uo,Ga,wa,qa,sn,dn,un,Sn,qn,Yn,Jn,Ar,rc,mc,Hc,ps,Ur,ln,jr,ws,Cs,zs],[o.b,o.G,o.p,o.k,o.E,o.g,o.C,o.F,o.d,o.f,o.i,o.j,o.l,z.d,ue.b,ue.a,Ml.a,Rl.a,yl.a,El.a]),B.Hc(qn,[o.q,o.r,o.s,o.t,o.A,o.w,o.x,o.y,o.z,o.u,o.v,y.I,y.x,y.H,y.c,y.y,y.B,y.a,y.E,y.F,y.A,y.s,y.t,y.D,y.o,y.n,y.z,y.b,y.d,y.v,y.w,y.u,_s.a,N.c,N.b,N.e,L.b,L.a,ks.a,c.j,c.f,c.h,c.g,c.k,Us.a,Ot.a,a.q,a.p,a.m,a.k,a.c,a.j,a.g,a.d,a.b,a.o,a.u,a.r,a.s,a.i,a.h,a.n,a.e,a.f,a.l,a.a,Fs.b,Gs.b,Gs.a,Gs.c,Gs.d,Zo.a,xi.a,Vs.a,Qa.a,M.a,n.a,Zs.a,bi.a,$s.a,Qs.a,qs.a,jn.a,Hs.a,js.a,Ks.a,Ys.a,Js.a,Ws.a,ki.a,Xs.a,tl.a,Ki.a,il.a,il.b,$a.a,_i.a,_i.c,R.a,el.a,ol.a,ji.a,gn.a,z.a,al.a,al.b,al.f,al.g,al.e,al.d,y.h,y.k,y.i,y.l,y.e,nl.a,rl.a,Hi.a,r.b,Za.a,cl.a,sl.a,ll.a,dl.a,qi.a,bl.a,x.a,ul.a,pl.a,Ui.b,Ui.a,Ui.d,gl.a,ml.a,hl.a,Sl.a,fl.a,Tl.a,vl.a,Il.a,Ol.a,Cl.a,Al.a,Dl.a,Pl.a,Bl.a,Nl.a,zl.a,Pi.l,Pi.o,Pi.k,Pi.j,Pi.f,Pi.g,Pi.e,Pi.h,Pi.i,Pi.b,Pi.a,Pi.d,Pi.c,Pi.m,Gt,xs.a,di,vi,wi,Fi,de,ye,_e,He,za,Xe,bo,xo,Ma,_o,ko,Uo,Ga,wa,qa,sn,dn,un,Sn,qn,Yn,Jn,Ar,rc,mc,Hc,ps,Ur,ln,jr,ws,Cs,zs],[o.b,o.G,o.p,o.k,o.E,o.g,o.C,o.F,o.d,o.f,o.i,o.j,o.l,z.d,ue.b,ue.a,Ml.a,Rl.a,yl.a,El.a]);let wl=(()=>{class t{}return t.\u0275mod=B.Lb({type:t}),t.\u0275inj=B.Kb({factory:function(i){return new(i||t)},imports:[[o.c,a.t,Ot.b,It,n.b,r.a,E.b,Vt,Zt.a,$t.SostegnoSharedModule,Qt.SuperficiModule,qt.ZootecniaModule,Ll]]}),t})()},ngA5:function(t,i,e){"use strict";e.d(i,"a",(function(){return a}));var o=e("qkoE");class a{constructor(t,i,e){this.order=t,this.counter=e,this.descrizioneSostegno=i}static ritornaSostegno(t){return t===o.a.SOSTEGNO_DISACCOPPIATO&&(t="richiestaDisaccoppiato"),t===o.a.SOSTEGNO_SUPERFICI&&(t="richiestaSuperfici"),t===o.a.SOSTEGNO_ZOOTECNIA&&(t="richiestaZootecnia"),t}}},oBRA:function(t,i,e){"use strict";e.d(i,"a",(function(){return a})),e.d(i,"c",(function(){return n})),e.d(i,"d",(function(){return r})),e.d(i,"b",(function(){return c}));var o=e("Urau");let a=(()=>{class t{constructor(t,i,e,o,a,n){this.codicePascolo=e,this.descPascolo=a,this.superficie=o,this.tipoPascolo=""===n||null==n?"PascoloAziendale":n,this.id=t,this.version=i}static checkCodicePascolo(t){let i;return this.testDentroProvincia.test(t)&&(i=n.name),this.testFuoriProvincia.test(t)&&(i=r.name),this.testPascoloAziendale.test(t)&&(i=c.name),i}static ArrPascoloDaoToArrPascolo(t){let i=[];if(t)for(let e of t)null==e.datiIstruttoriaPascoli&&(e.datiIstruttoriaPascoli=new o.a),"MALGA TN"===e.tipoPascolo&&i.push(new n(e.datiIstruttoriaPascoli.id,e.datiIstruttoriaPascoli.version,e.datiIstruttoriaPascoli.cuaaResponsabile,e.codicePascolo,e.datiIstruttoriaPascoli.superficieDeterminata,e.descPascolo)),"MALGA FUORI PROV"===e.tipoPascolo&&i.push(new r(e.datiIstruttoriaPascoli.id,e.datiIstruttoriaPascoli.version,e.datiIstruttoriaPascoli.esitoControlloMantenimento,e.datiIstruttoriaPascoli.cuaaResponsabile,e.codicePascolo,e.datiIstruttoriaPascoli.superficieDeterminata,e.descPascolo)),"AZIENDALE"===e.tipoPascolo&&i.push(new c(e.datiIstruttoriaPascoli.id,e.datiIstruttoriaPascoli.version,e.datiIstruttoriaPascoli.verificaDocumentazione,e.codicePascolo,e.datiIstruttoriaPascoli.superficieDeterminata,e.descPascolo));return i}}return t.testDentroProvincia=new RegExp(/^\d{0,3}TN\d{0,3}$/),t.testFuoriProvincia=new RegExp(/^\d{0,3}BZ\d{0,3}$/),t.testPascoloAziendale=new RegExp(/Aziendale/),t})();class n extends a{constructor(t,i,e,o,a,n,r){super(t,i,o,a,n,"PascoloDentroProvincia"),this.man4=e,this.tipoPascolo=""===r||null==r?"PascoloDentroProvincia":r}}class r extends n{constructor(t,i,e,o,a,n,r){super(t,i,o,a,n,r,"PascoloFuoriProvincia"),this.man5=e}}class c extends a{constructor(t,i,e,o,a,n){super(t,i,o,a,n),this.man3=e}}},qkoE:function(t,i,e){"use strict";e.d(i,"a",(function(){return o}));var o=function(t){return t.SOSTEGNO_DISACCOPPIATO="SOSTEGNO DISACCOPPIATO",t.SOSTEGNO_SUPERFICI="SOSTEGNO ACCOPPIATO SUPERFICI",t.SOSTEGNO_ZOOTECNIA="SOSTEGNO ACCOPPIATO ZOOTECNIA",t}({})},sdz4:function(t,i,e){"use strict";e.d(i,"a",(function(){return l}));var o=e("mrSG"),a=e("rNJQ"),n=e("tk/3"),r=e("HDdC"),c=e("fXoL"),s=e("dkQB");let l=(()=>{class t{constructor(t,i){this.http=t,this._configuration=i}countDomandeDU(t){return console.log("countDomandeDU"),this.http.get(this._configuration.UrlCountDomandeDU+t)}countDomandeDUPAC(t){return console.log("countDomandeDUPAC"),this.http.get(this._configuration.UrlCountDomandeDUPAC+t)}caricaAnniCampagna(){return console.log("caricaAnniCampagna"),this.http.get(this._configuration.UrlCaricaAnniCampagna)}getConfigurazioneIstruttoriaDisaccoppiato(t){return this.http.get(this._configuration.UrlDettaglioIstruttoria.replace("${annoCampagna}",String(t)))}getConfigurazioneIstruttoriaAcs(t){return this.http.get(this._configuration.UrlConfIstruttoriaAcs.replace("${annoCampagna}",String(t)))}getConfigurazioneIstruttoriaAcz(t){return this.http.get(this._configuration.UrlConfIstruttoriaAcz.replace("${annoCampagna}",String(t)))}setConfigurazioneIstruttoriaDisaccoppiato(t,i){const e=new n.f({"Content-Type":"application/json"});return this.http.post(this._configuration.UrlDettaglioIstruttoria.replace("${annoCampagna}",String(t)),i,{headers:e})}setConfigurazioneIstruttoriaAcs(t,i){const e=new n.f({"Content-Type":"application/json"});return this.http.post(this._configuration.UrlConfIstruttoriaAcs.replace("${annoCampagna}",String(t)),i,{headers:e})}setConfigurazioneIstruttoriaAcz(t,i){const e=new n.f({"Content-Type":"application/json"});return this.http.post(this._configuration.UrlConfIstruttoriaAcz.replace("${annoCampagna}",String(t)),i,{headers:e})}getConfigurazioneRicevibilita(t){return this.http.get(this._configuration.UrlConfRicevibilita.replace("${annoCampagna}",String(t)))}setConfigurazioneIstruttoriaRicevibilita(t,i){const e=new n.f({"Content-Type":"application/json"});return this.http.post(this._configuration.UrlConfRicevibilita.replace("${annoCampagna}",String(t)),i,{headers:e})}getConfigurazioneIstruttorie(t){return this.http.get(this._configuration.UrlConfIstruttorie.replace("${annoCampagna}",String(t)))}setConfigurazioneIstruttorie(t,i){const e=new n.f({"Content-Type":"application/json"});return this.http.post(this._configuration.UrlConfIstruttorie.replace("${annoCampagna}",String(t)),i,{headers:e})}}return t.\u0275fac=function(i){return new(i||t)(c.Xb(n.b),c.Xb(s.a))},t.\u0275prov=c.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),Object(o.b)([Object(a.a)(),Object(o.c)("design:type",Function),Object(o.c)("design:paramtypes",[]),Object(o.c)("design:returntype",r.a)],t.prototype,"caricaAnniCampagna",null),t})()},sfyY:function(t,i,e){"use strict";e.d(i,"a",(function(){return p}));var o=e("Tn7N"),a=e("69Tm"),n=e("MvQ6"),r=e("VrO5"),c=e("fXoL"),s=e("sYmb"),l=e("ofXK");function d(t,i){if(1&t&&(c.Tb(0,"div"),c.Oc(1),c.Sb()),2&t){const t=i.$implicit,e=c.fc(2);c.Bb(1),c.Qc(" ",e.getCountAvanzamentoProcessi(t)," ")}}function b(t,i){if(1&t&&(c.Tb(0,"div"),c.Mc(1,d,2,1,"div",4),c.Sb()),2&t){const t=c.fc();c.Bb(1),c.mc("ngForOf",t.processi)}}function u(t,i){if(1&t&&(c.Tb(0,"div"),c.Oc(1),c.Sb()),2&t){const t=c.fc();c.Bb(1),c.Qc(" ",t.label," ")}}let p=(()=>{class t{constructor(t,i,e){this.istruttoriaService=t,this.translateService=i,this.repeatingServiceCall=e,this.label=a.a.NESSUN_PROCESSO_DI_CONTROLLO,this.processi=[]}ngOnInit(){this.repeatingServiceCallSubscription=this.repeatingServiceCall.observable$.subscribe(t=>this.getProcessiDiControllo(t))}ngOnDestroy(){clearInterval(this.interval),this.repeatingServiceCall.stop(),this.repeatingServiceCallSubscription.unsubscribe()}getProcessiDiControllo(t){this.istruttoriaService.getProcessiDiControllo(null).subscribe(i=>{i&&(this.processi=[],i.forEach(t=>{this.processiDaControllare.includes(t.tipoProcesso)&&this.processi.push(t)})),i&&0!==this.processi.length||(console.log(t),t>0?this.repeatingServiceCall.stopAndRefresh():this.repeatingServiceCall.stop())},t=>{console.log(t)})}getCountAvanzamentoProcessi(t){const i=t.datiElaborazioneProcesso.parziale||"0";return o.a.procesioDiControlloIstruttoria(String(this.translateService.instant("PROCESSI."+t.tipoProcesso)),String(i),String(t.datiElaborazioneProcesso.totale||"0"))}}return t.\u0275fac=function(i){return new(i||t)(c.Nb(n.a),c.Nb(s.e),c.Nb(r.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-processi-di-controllo"]],inputs:{processiDaControllare:"processiDaControllare"},decls:7,vars:2,consts:[[1,"ui-grid-fixed"],[1,"layout-actionmenu"],[1,"messaggiprocesso","boxgrey_bottom","ui-g-9"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(c.Tb(0,"div",0),c.Tb(1,"div",1),c.Tb(2,"div",2),c.Tb(3,"h5"),c.Oc(4,"Processi di Controllo"),c.Sb(),c.Mc(5,b,2,1,"div",3),c.Mc(6,u,2,1,"div",3),c.Sb(),c.Sb(),c.Sb()),2&t&&(c.Bb(5),c.mc("ngIf",i.processi&&i.processi.length>0),c.Bb(1),c.mc("ngIf",!(i.processi&&i.processi.length>0)))},directives:[l.t,l.s],styles:[".boxgrey_bottom[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#0d5f3f;font-weight:700;font-size:18px;text-transform:uppercase;padding-bottom:10px;margin-bottom:15px}.boxgrey_bottom[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]{border-bottom:2px solid #0d5f3f}.messaggiprocesso[_ngcontent-%COMP%]{margin-top:20px}"]}),t})()},tZin:function(t,i,e){"use strict";e.r(i),e.d(i,"SostegnoSharedModule",(function(){return be}));var o=e("ofXK"),a=e("R69K"),n=e("sfyY"),r=e("fXoL"),c=e("tyNb"),s=e("b7oP");let l=(()=>{class t{constructor(t){this.route=t,this.funzioni=Array()}ngOnInit(){this.annoCampagna=this.route.snapshot.params.annoCampagna,this.funzioni=new Array({routerLink:"ricevibilita",label:"Ricevibilit\xe0"},{routerLink:"istruttoriaDisaccoppiato",label:"Istruttoria Disaccoppiato"},{routerLink:"istruttoriaAcz",label:"Istruttoria ACZ"},{routerLink:"istruttoriaAcs",label:"Istruttoria ACS"})}}return t.\u0275fac=function(i){return new(i||t)(r.Nb(c.a))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-configurazione-istruttoria"]],decls:10,vars:2,consts:[[1,"ui-g","ui-fluid"],[1,"tophome"],[1,"ui-grid-fixed"],[1,"ui-g-12"],[1,"funzioni-grid"],[3,"model"]],template:function(t,i){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"h4"),r.Oc(4),r.Sb(),r.Sb(),r.Sb(),r.Tb(5,"div",3),r.Tb(6,"div",2),r.Tb(7,"div",4),r.Ob(8,"p-tabMenu",5),r.Sb(),r.Ob(9,"router-outlet"),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Bb(4),r.Qc("CONFIGURAZIONE ISTRUTTORIA ",i.annoCampagna,""),r.Bb(4),r.mc("model",i.funzioni))},directives:[s.a,c.j],styles:[""]}),t})();class d{}var b=e("Tn7N"),u=e("3Pt+"),p=e("sdz4"),g=e("RtSl"),m=e("arS9"),h=e("A1Yd"),S=e("GLSp"),f=e("sYmb");function T(t,i){if(1&t){const t=r.Ub();r.Tb(0,"div",52),r.Ob(1,"i",53),r.Tb(2,"h3"),r.Oc(3),r.Sb(),r.Tb(4,"p"),r.Oc(5),r.Sb(),r.Sb(),r.Tb(6,"div",54),r.Tb(7,"div",55),r.Tb(8,"button",56),r.bc("click",(function(){return r.Ec(t),r.fc(2).confermaSalvataggio()})),r.Sb(),r.Sb(),r.Tb(9,"div",55),r.Tb(10,"button",57),r.bc("click",(function(){return r.Ec(t),r.fc(2).rejectSalvataggio()})),r.Sb(),r.Sb(),r.Sb()}if(2&t){const t=i.$implicit;r.Bb(3),r.Pc(t.summary),r.Bb(2),r.Pc(t.detail)}}function v(t,i){if(1&t){const t=r.Ub();r.Tb(0,"button",58),r.bc("click",(function(){return r.Ec(t),r.fc(2).modifica()})),r.Oc(1,"MODIFICA"),r.Sb()}}function I(t,i){if(1&t){const t=r.Ub();r.Tb(0,"button",59),r.bc("click",(function(){return r.Ec(t),r.fc(2).annulla()})),r.Oc(1,"ANNULLA"),r.Sb()}}function O(t,i){if(1&t){const t=r.Ub();r.Tb(0,"button",60),r.bc("click",(function(){return r.Ec(t),r.fc(2).salva()})),r.Oc(1,"SALVA"),r.Sb()}if(2&t){const t=r.fc(2);r.mc("disabled",!t.importiForm.valid)}}function C(t,i){if(1&t&&(r.Tb(0,"span"),r.Oc(1),r.Sb()),2&t){const t=r.fc(2);r.Bb(1),r.Pc(t.dettaglioIstruttoria.percentualeIncrementoGreening)}}function A(t,i){1&t&&r.Ob(0,"input",61)}function D(t,i){if(1&t&&(r.Tb(0,"span"),r.Oc(1),r.Sb()),2&t){const t=r.fc(2);r.Bb(1),r.Pc(t.dettaglioIstruttoria.percentualeIncrementoGiovane)}}function P(t,i){1&t&&r.Ob(0,"input",62)}function B(t,i){if(1&t&&(r.Tb(0,"span"),r.Oc(1),r.Sb()),2&t){const t=r.fc(2);r.Bb(1),r.Pc(t.dettaglioIstruttoria.limiteGiovane)}}function N(t,i){1&t&&r.Ob(0,"input",63)}function z(t,i){if(1&t&&(r.Tb(0,"span"),r.Oc(1),r.Sb()),2&t){const t=r.fc(2);r.Bb(1),r.Pc(t.dettaglioIstruttoria.percentualeRiduzioneLineareArt51Par2)}}function M(t,i){1&t&&r.Ob(0,"input",64)}function R(t,i){if(1&t&&(r.Tb(0,"span"),r.Oc(1),r.Sb()),2&t){const t=r.fc(2);r.Bb(1),r.Pc(t.dettaglioIstruttoria.percentualeRiduzioneLineareArt51Par3)}}function y(t,i){1&t&&r.Ob(0,"input",65)}function E(t,i){if(1&t&&(r.Tb(0,"span"),r.Oc(1),r.Sb()),2&t){const t=r.fc(2);r.Bb(1),r.Pc(t.dettaglioIstruttoria.percentualeRiduzioneLineareMassimaleNetto)}}function L(t,i){1&t&&r.Ob(0,"input",66)}function w(t,i){if(1&t&&(r.Tb(0,"span"),r.Oc(1),r.Sb()),2&t){const t=r.fc(2);r.Bb(1),r.Pc(t.dettaglioIstruttoria.percentualeRiduzioneTitoli)}}function x(t,i){1&t&&r.Ob(0,"input",67)}const _=function(){return{marginTop:"70px"}};function k(t,i){if(1&t&&(r.Tb(0,"form",1),r.Ob(1,"p-toast",2),r.Tb(2,"p-toast",3),r.Mc(3,T,11,2,"ng-template",4),r.Sb(),r.Tb(4,"div",5),r.Tb(5,"div",6),r.Tb(6,"span",7),r.Tb(7,"span",8),r.ec(),r.Tb(8,"svg",9),r.Tb(9,"g",10),r.Ob(10,"path",11),r.Ob(11,"path",12),r.Ob(12,"path",13),r.Ob(13,"path",14),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.dc(),r.Tb(14,"h3",15),r.Oc(15,"Configurazione Disaccoppiato"),r.Sb(),r.Mc(16,v,2,0,"button",16),r.Mc(17,I,2,0,"button",17),r.Mc(18,O,2,1,"button",18),r.Sb(),r.Ob(19,"hr",19),r.Tb(20,"h4",20),r.Oc(21),r.gc(22,"translate"),r.Sb(),r.Tb(23,"div",21),r.Tb(24,"div",22),r.Tb(25,"div",23),r.Tb(26,"div",24),r.Tb(27,"span",25),r.Tb(28,"div",26),r.Tb(29,"span",27),r.Tb(30,"span",8),r.ec(),r.Tb(31,"svg",28),r.Tb(32,"g",29),r.Ob(33,"rect",30),r.Tb(34,"g",31),r.Ob(35,"path",32),r.Ob(36,"path",33),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.dc(),r.Tb(37,"strong"),r.Oc(38),r.gc(39,"translate"),r.Sb(),r.Sb(),r.Tb(40,"div",34),r.Tb(41,"span"),r.Oc(42),r.gc(43,"translate"),r.Sb(),r.Sb(),r.Sb(),r.Tb(44,"span",35),r.Mc(45,C,2,1,"span",36),r.Mc(46,A,1,0,"input",37),r.Tb(47,"span",38),r.Oc(48,"%"),r.Sb(),r.Sb(),r.Sb(),r.Tb(49,"div",24),r.Tb(50,"span",25),r.Tb(51,"div",26),r.Tb(52,"span",27),r.Tb(53,"span",8),r.ec(),r.Tb(54,"svg",28),r.Tb(55,"g",29),r.Ob(56,"rect",30),r.Tb(57,"g",39),r.Ob(58,"path",40),r.Ob(59,"circle",41),r.Ob(60,"circle",42),r.Ob(61,"path",43),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.dc(),r.Tb(62,"strong"),r.Oc(63),r.gc(64,"translate"),r.Sb(),r.Sb(),r.Tb(65,"div",34),r.Oc(66),r.gc(67,"translate"),r.Sb(),r.Sb(),r.Tb(68,"span",35),r.Mc(69,D,2,1,"span",36),r.Mc(70,P,1,0,"input",44),r.Tb(71,"span",38),r.Oc(72,"%"),r.Sb(),r.Sb(),r.Sb(),r.Tb(73,"div",24),r.Tb(74,"span",25),r.Ob(75,"div",45),r.Tb(76,"div",34),r.Oc(77),r.gc(78,"translate"),r.Sb(),r.Sb(),r.Tb(79,"span",35),r.Mc(80,B,2,1,"span",36),r.Mc(81,N,1,0,"input",46),r.Tb(82,"span",38),r.Oc(83,"ha"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(84,"div",22),r.Tb(85,"div",23),r.Tb(86,"div",24),r.Tb(87,"span",47),r.Oc(88),r.gc(89,"translate"),r.Sb(),r.Tb(90,"span",35),r.Mc(91,z,2,1,"span",36),r.Mc(92,M,1,0,"input",48),r.Tb(93,"span",38),r.Oc(94,"%"),r.Sb(),r.Sb(),r.Sb(),r.Tb(95,"div",24),r.Tb(96,"span",47),r.Oc(97),r.gc(98,"translate"),r.Sb(),r.Tb(99,"span",35),r.Mc(100,R,2,1,"span",36),r.Mc(101,y,1,0,"input",49),r.Tb(102,"span",38),r.Oc(103,"%"),r.Sb(),r.Sb(),r.Sb(),r.Tb(104,"div",24),r.Tb(105,"span",47),r.Oc(106),r.gc(107,"translate"),r.Sb(),r.Tb(108,"span",35),r.Mc(109,E,2,1,"span",36),r.Mc(110,L,1,0,"input",50),r.Tb(111,"span",38),r.Oc(112,"%"),r.Sb(),r.Sb(),r.Sb(),r.Tb(113,"div",24),r.Tb(114,"span",47),r.Oc(115),r.gc(116,"translate"),r.Sb(),r.Tb(117,"span",35),r.Mc(118,w,2,1,"span",36),r.Mc(119,x,1,0,"input",51),r.Tb(120,"span",38),r.Oc(121,"%"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t){const t=r.fc();r.mc("formGroup",t.importiForm),r.Bb(1),r.Kc(r.rc(52,_)),r.Bb(1),r.mc("modal",!0)("baseZIndex",5e3),r.Bb(14),r.mc("ngIf",!t.edit),r.Bb(1),r.mc("ngIf",t.edit),r.Bb(1),r.mc("ngIf",t.edit),r.Bb(3),r.Pc(r.hc(22,32,"CONFIGURAZIONE_ISTRUTTORIA.interventiRichiesti")),r.Bb(17),r.Pc(r.hc(39,34,"CONFIGURAZIONE_ISTRUTTORIA.DISACCOPPIATO.greening")),r.Bb(4),r.Pc(r.hc(43,36,"CONFIGURAZIONE_ISTRUTTORIA.DISACCOPPIATO.percentualeIncrementoPremio")),r.Bb(3),r.mc("ngIf",!t.edit),r.Bb(1),r.mc("ngIf",t.edit),r.Bb(17),r.Pc(r.hc(64,38,"CONFIGURAZIONE_ISTRUTTORIA.DISACCOPPIATO.giovane")),r.Bb(3),r.Qc(" ",r.hc(67,40,"CONFIGURAZIONE_ISTRUTTORIA.DISACCOPPIATO.percentualeIncrementoPremio")," "),r.Bb(3),r.mc("ngIf",!t.edit),r.Bb(1),r.mc("ngIf",t.edit),r.Bb(7),r.Qc(" ",r.hc(78,42,"CONFIGURAZIONE_ISTRUTTORIA.DISACCOPPIATO.limiteDirittiAiuto")," "),r.Bb(3),r.mc("ngIf",!t.edit),r.Bb(1),r.mc("ngIf",t.edit),r.Bb(7),r.Qc(" ",r.hc(89,44,"CONFIGURAZIONE_ISTRUTTORIA.DISACCOPPIATO.riduzioneLineareGiovanePar2")," "),r.Bb(3),r.mc("ngIf",!t.edit),r.Bb(1),r.mc("ngIf",t.edit),r.Bb(5),r.Qc(" ",r.hc(98,46,"CONFIGURAZIONE_ISTRUTTORIA.DISACCOPPIATO.riduzioneLineareGiovanePar3")," "),r.Bb(3),r.mc("ngIf",!t.edit),r.Bb(1),r.mc("ngIf",t.edit),r.Bb(5),r.Qc(" ",r.hc(107,48,"CONFIGURAZIONE_ISTRUTTORIA.DISACCOPPIATO.riduzioneLineareMassimaleNetto")," "),r.Bb(3),r.mc("ngIf",!t.edit),r.Bb(1),r.mc("ngIf",t.edit),r.Bb(5),r.Qc(" ",r.hc(116,50,"CONFIGURAZIONE_ISTRUTTORIA.DISACCOPPIATO.riduzioneTitoli")," "),r.Bb(3),r.mc("ngIf",!t.edit),r.Bb(1),r.mc("ngIf",t.edit)}}let U=(()=>{class t{constructor(t,i,e,o){this.confIstruttoriaService=t,this.route=i,this.messageService=e,this.fb=o,this.dettaglioIstruttoria=new d,this.edit=!1}ngOnInit(){this.annoCampagna=this.route.snapshot.params.annoCampagna,this.getDettaglioIstruttoria()}getDettaglioIstruttoria(){this.confIstruttoriaService.getConfigurazioneIstruttoriaDisaccoppiato(this.annoCampagna).subscribe(t=>{null===t?this.dettaglioIstruttoria.campagna=this.annoCampagna:(this.dettaglioIstruttoria.id=t.id,this.dettaglioIstruttoria.campagna=t.campagna,this.multiply100(t),this.dettaglioIstruttoria.limiteGiovane=t.limiteGiovane),this.createForm()},t=>{this.messageService.add(b.a.getToast("tst",b.b.error,b.a.erroreRecuperoDati))})}createForm(){this.importiForm=new u.j({datiIstruttoria:new u.j({percentualeIncrementoGiovane:this.fb.control(this.dettaglioIstruttoria.percentualeIncrementoGiovane,[u.G.required,u.G.min(0),u.G.max(100),u.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)]),percentualeIncrementoGreening:this.fb.control(this.dettaglioIstruttoria.percentualeIncrementoGreening,[u.G.required,u.G.min(0),u.G.max(100),u.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)]),percentualeRiduzioneLineareArt51Par2:this.fb.control(this.dettaglioIstruttoria.percentualeRiduzioneLineareArt51Par2,[u.G.required,u.G.min(0),u.G.max(100),u.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)]),percentualeRiduzioneLineareArt51Par3:this.fb.control(this.dettaglioIstruttoria.percentualeRiduzioneLineareArt51Par3,[u.G.required,u.G.min(0),u.G.max(100),u.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)]),percentualeRiduzioneLineareMassimaleNetto:this.fb.control(this.dettaglioIstruttoria.percentualeRiduzioneLineareMassimaleNetto,[u.G.required,u.G.min(0),u.G.max(100),u.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)]),percentualeRiduzioneTitoli:this.fb.control(this.dettaglioIstruttoria.percentualeRiduzioneTitoli,[u.G.required,u.G.min(0),u.G.max(100),u.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)]),limiteGiovane:this.fb.control(this.dettaglioIstruttoria.limiteGiovane,[u.G.required,u.G.min(0),u.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)])})})}modifica(){this.edit=!0}annulla(){this.edit=!1,this.getDettaglioIstruttoria()}salva(){this.messageService.add({key:"checkSalvataggio",sticky:!0,severity:"warn",summary:"Operazione di Salvataggio",detail:"Sei sicuro di voler salvare?"})}confermaSalvataggio(){this.edit=!1,this.messageService.clear("checkSalvataggio"),this.dettaglioIstruttoria.limiteGiovane=this.importiForm.value.datiIstruttoria.limiteGiovane,this.dettaglioIstruttoria.percentualeIncrementoGiovane=this.importiForm.value.datiIstruttoria.percentualeIncrementoGiovane,this.dettaglioIstruttoria.percentualeIncrementoGreening=this.importiForm.value.datiIstruttoria.percentualeIncrementoGreening,this.dettaglioIstruttoria.percentualeRiduzioneLineareArt51Par2=this.importiForm.value.datiIstruttoria.percentualeRiduzioneLineareArt51Par2,this.dettaglioIstruttoria.percentualeRiduzioneLineareArt51Par3=this.importiForm.value.datiIstruttoria.percentualeRiduzioneLineareArt51Par3,this.dettaglioIstruttoria.percentualeRiduzioneLineareMassimaleNetto=this.importiForm.value.datiIstruttoria.percentualeRiduzioneLineareMassimaleNetto,this.dettaglioIstruttoria.percentualeRiduzioneTitoli=this.importiForm.value.datiIstruttoria.percentualeRiduzioneTitoli,this.setDettaglioIstruttoria(this.annoCampagna,this.dettaglioIstruttoria)}rejectSalvataggio(){this.messageService.clear("checkSalvataggio")}setDettaglioIstruttoria(t,i){this.divide100(i),this.confIstruttoriaService.setConfigurazioneIstruttoriaDisaccoppiato(t,i).subscribe(t=>{this.multiply100(i),this.messageService.add(b.a.getToast("tst",b.b.success,b.a.OPERAZIONE_OK))},t=>{this.messageService.add(b.a.getToast("tst",b.b.error,b.a.salvataggioDatiKo))})}divide100(t){this.dettaglioIstruttoria.percentualeIncrementoGiovane=t.percentualeIncrementoGiovane/100,this.dettaglioIstruttoria.percentualeIncrementoGreening=t.percentualeIncrementoGreening/100,this.dettaglioIstruttoria.percentualeRiduzioneLineareArt51Par2=t.percentualeRiduzioneLineareArt51Par2/100,this.dettaglioIstruttoria.percentualeRiduzioneLineareArt51Par3=t.percentualeRiduzioneLineareArt51Par3/100,this.dettaglioIstruttoria.percentualeRiduzioneLineareMassimaleNetto=t.percentualeRiduzioneLineareMassimaleNetto/100,this.dettaglioIstruttoria.percentualeRiduzioneTitoli=t.percentualeRiduzioneTitoli/100}multiply100(t){this.dettaglioIstruttoria.percentualeIncrementoGiovane=this.roundTo(t.percentualeIncrementoGiovane),this.dettaglioIstruttoria.percentualeIncrementoGreening=this.roundTo(t.percentualeIncrementoGreening),this.dettaglioIstruttoria.percentualeRiduzioneLineareArt51Par2=this.roundTo(t.percentualeRiduzioneLineareArt51Par2),this.dettaglioIstruttoria.percentualeRiduzioneLineareArt51Par3=this.roundTo(t.percentualeRiduzioneLineareArt51Par3),this.dettaglioIstruttoria.percentualeRiduzioneLineareMassimaleNetto=this.roundTo(t.percentualeRiduzioneLineareMassimaleNetto),this.dettaglioIstruttoria.percentualeRiduzioneTitoli=this.roundTo(t.percentualeRiduzioneTitoli)}roundTo(t){return Math.round(100*t*100)/100}}return t.\u0275fac=function(i){return new(i||t)(r.Nb(p.a),r.Nb(c.a),r.Nb(g.d),r.Nb(u.f))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-istruttoria-disaccoppiato"]],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],["key","tst"],["position","center","key","checkSalvataggio",3,"modal","baseZIndex"],["pTemplate","message"],["formGroupName","datiIstruttoria",1,"boxgrey"],[1,"d-flex","align-items-center"],[1,"icon","icon--p","icon--dark","icon--l","mr-3"],[1,"icon__img"],["xmlns","http://www.w3.org/2000/svg","width","32","height","27","viewBox","0 0 32 27"],["fill","#FFF","fill-rule","evenodd"],["d","M7.448 11C3.34 11 0 14.29 0 18.333c0 4.044 3.341 7.334 7.448 7.334s7.448-3.29 7.448-7.334c0-4.043-3.341-7.333-7.448-7.333zm0 12.833c-3.08 0-5.586-2.467-5.586-5.5 0-3.032 2.506-5.5 5.586-5.5 3.08 0 5.586 2.468 5.586 5.5 0 3.033-2.506 5.5-5.586 5.5z","transform","translate(.111 .556)"],["d","M7.448 15.583c-1.54 0-2.793 1.234-2.793 2.75 0 1.517 1.253 2.75 2.793 2.75 1.54 0 2.793-1.233 2.793-2.75 0-1.516-1.253-2.75-2.793-2.75zm0 3.667c-.513 0-.931-.411-.931-.917 0-.505.418-.916.93-.916.514 0 .932.411.932.916 0 .506-.418.917-.931.917z","transform","translate(.111 .556)"],["d","M29.916 16.071v-3.238c0-2.022-1.67-3.666-3.724-3.666H24.33V4.583c0-.505.418-.916.93-.916V1.833c-1.54 0-2.792 1.234-2.792 2.75v4.584H18.38l-2.234-7.334h1.542V0H2.793v1.833h1.862v5.851c-1.573.4-3.052 1.135-4.317 2.164l1.186 1.414C3.185 9.91 5.289 9.167 7.448 9.167c5.133 0 9.31 4.112 9.31 9.166v2.75h3.926c.445 2.598 2.745 4.584 5.508 4.584 3.08 0 5.586-2.468 5.586-5.5 0-1.626-.72-3.088-1.862-4.096zm-23.4-8.699V1.833h7.687l2.235 7.334h-2.822c-1.769-1.158-3.89-1.834-6.168-1.834-.312 0-.622.014-.931.04zM15.768 11h10.425c1.027 0 1.862.822 1.862 1.833v2.148c-.583-.203-1.21-.314-1.862-.314H17.98c-.492-1.366-1.25-2.609-2.214-3.667zm2.697 5.5h3.568c-.69.758-1.17 1.704-1.348 2.75H18.62v-.917c0-.624-.054-1.236-.156-1.833zm7.728 7.333c-2.054 0-3.724-1.644-3.724-3.666 0-2.022 1.67-3.667 3.724-3.667 2.053 0 3.724 1.645 3.724 3.667s-1.67 3.666-3.724 3.666z","transform","translate(.111 .556)"],["d","M27.123 20.167c0 .506-.417.916-.931.916s-.931-.41-.931-.916c0-.507.417-.917.93-.917.515 0 .932.41.932.917z","transform","translate(.111 .556)"],[1,"mr-auto","mb-0","pb-0"],["type","button","class","btn  btn-white  w-auto  fs-16  mb-0",3,"click",4,"ngIf"],["type","button","class","btn btn-green fs-16  mr-2",3,"click",4,"ngIf"],["type","button","class","btn btn-green fs-16",3,"disabled","click",4,"ngIf"],["size","6","color","green"],[1,"fs-16","fw-700","my-3"],[1,"row"],[1,"col-6"],[1,"row","row--edit"],[1,"col-12","d-flex","align-items-center"],[1,"mr-auto","w-75","row","align-items-center"],[1,"col-4"],[1,"icon","mr-2"],["xmlns","http://www.w3.org/2000/svg","width","44","height","44","viewBox","0 0 44 44"],["fill","none","fill-rule","evenodd"],["width","43","height","43","x",".5","y",".5","fill","#F7F7F7","stroke","#D8D8D8","rx","4"],["fill","#30373D"],["d","M21.66 11.52C21.66 5.263 15.5.312 15.238.104c-.174-.138-.421-.138-.596 0C14.38.312 8.22 5.264 8.22 11.52c0 5.742 5.184 10.38 6.24 11.267v5.053c0 .266.215.48.48.48s.48-.214.48-.48v-5.053c1.056-.887 6.24-5.525 6.24-11.267zm-6.24 9.975v-5.432l2.708-2.253c.203-.17.231-.473.061-.677-.17-.204-.472-.231-.676-.062l-2.093 1.743v-1.632l2.708-2.254c.203-.169.231-.472.061-.676-.17-.204-.472-.231-.676-.062l-2.093 1.744V9.822l2.708-2.254c.203-.169.231-.472.061-.676-.17-.204-.472-.231-.676-.062L15.42 8.574V4.8c0-.265-.215-.48-.48-.48s-.48.215-.48.48v3.774L12.367 6.83c-.203-.17-.506-.142-.676.062-.17.204-.142.507.062.677l2.707 2.253v2.112l-2.093-1.743c-.203-.17-.506-.142-.676.062-.17.204-.142.507.062.677l2.707 2.252v1.632l-2.093-1.743c-.203-.17-.506-.142-.676.062-.17.204-.142.507.062.677l2.707 2.252v5.432c-1.632-1.531-5.28-5.456-5.28-9.975 0-5.037 4.54-9.345 5.76-10.41 1.22 1.065 5.76 5.373 5.76 10.41 0 4.52-3.648 8.444-5.28 9.975zM11.58 25.44h-.48v-3.524c.002-.637-.251-1.248-.703-1.697l-4.04-4.043c-.562-.56-1.471-.56-2.033 0l-.424.426V11.52c0-.533-.222-1.042-.613-1.405-.39-.363-.914-.548-1.446-.51-1.024.1-1.799.969-1.78 1.997v6.856c-.001.597.221 1.173.623 1.615l4.176 4.593v.774h-.48c-.265 0-.48.215-.48.48v3.36c0 .266.215.48.48.48h7.2c.265 0 .48-.214.48-.48v-3.36c0-.265-.215-.48-.48-.48zM1.395 19.426c-.241-.264-.375-.61-.375-.968v-6.856c-.013-.523.37-.971.89-1.04.278-.02.551.083.749.28.18.18.282.424.281.678v5.843c0 .382.15.749.422 1.018l2.599 2.599c.188.182.488.18.673-.006.185-.185.187-.485.006-.673l-2.204-2.203c-.09-.09-.14-.211-.14-.338 0-.126.05-.248.14-.337l.567-.566c.187-.185.488-.185.675 0l4.04 4.041c.27.27.421.636.422 1.018v3.524H5.82v-1.145l-4.425-4.869zM11.1 28.8H4.86v-2.4h6.24v2.4zM28.04 9.605c-.532-.038-1.056.147-1.446.51-.39.363-.613.872-.614 1.405v5.082l-.424-.424c-.561-.56-1.47-.56-2.032 0l-4.04 4.041c-.452.449-.705 1.06-.704 1.697v3.524h-.48c-.265 0-.48.215-.48.48v3.36c0 .266.215.48.48.48h7.2c.265 0 .48-.214.48-.48v-3.36c0-.265-.215-.48-.48-.48h-.48v-.774l4.176-4.593c.402-.442.625-1.018.624-1.615v-6.856c.018-1.028-.757-1.897-1.78-1.997zM25.02 28.8h-6.24v-2.4h6.24v2.4zm3.84-10.342c0 .358-.133.704-.374.968l-4.426 4.869v1.145h-4.32v-3.524c.001-.382.153-.748.422-1.018l4.042-4.041c.187-.185.488-.185.675 0l.567.566c.185.186.185.487 0 .672L23.24 20.3c-.124.12-.175.299-.13.466.043.168.175.3.342.343.168.044.347-.006.467-.13l2.599-2.6c.27-.269.422-.635.421-1.017V11.52c0-.254.101-.499.282-.678.198-.197.47-.299.75-.28.518.069.901.517.888 1.04v6.856zM14.6 28.94c-.088.092-.138.213-.14.34.001.033.004.065.01.096.005.03.015.06.029.087.01.03.025.06.043.086.018.025.037.05.057.072.19.186.493.186.682 0l.058-.072c.018-.027.032-.056.043-.086.014-.027.023-.056.028-.087.006-.031.01-.063.01-.096.001-.195-.116-.371-.296-.446-.18-.075-.387-.033-.525.106z","transform","translate(7 7)"],["d","M5.82 27.84h1.92c.265 0 .48-.214.48-.48 0-.265-.215-.48-.48-.48H5.82c-.265 0-.48.215-.48.48 0 .266.215.48.48.48zM8.998 27.802c.058.025.12.038.182.038.195.001.372-.116.446-.296.075-.18.034-.387-.105-.524-.138-.137-.344-.176-.523-.101-.059.023-.113.057-.159.1-.087.093-.137.214-.139.341-.004.196.115.373.298.442zM19.73 12.384c-.005-.03-.014-.059-.028-.086-.01-.03-.025-.06-.043-.086l-.058-.072c-.192-.178-.49-.178-.682 0-.02.022-.04.046-.057.072-.018.026-.033.055-.043.086-.014.027-.024.056-.03.086-.005.032-.008.064-.009.096.002.127.052.25.14.341.09.089.213.139.34.14.128 0 .25-.05.341-.14.09-.09.14-.213.14-.34-.002-.033-.005-.065-.01-.097z","transform","translate(7 7)"],[1,"col-8"],[1,"ml-3","w-25","text-right","d-flex","align-items-center","justify-content-end"],[4,"ngIf"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeIncrementoGreening",4,"ngIf"],[1,"ml-1"],["fill","#30373D","transform","translate(8 8)"],["d","M19.542 18.543l-3.732-1.651v-.739c1.589-.916 2.79-2.417 3.304-4.203.312.012.61-.077.899-.257.443-.276.743-.726.802-1.204.059-.479-.09-.96-.406-1.318-.094-.105-.2-.194-.315-.272 2.388-.521 3.601-1.261 3.601-2.204 0-1.148-1.801-1.868-4.062-2.3V1.917c0-.192-.115-.366-.293-.44-4.542-1.909-8.582-1.904-12.348.014-.16.082-.261.246-.261.426V4.31c-2.48.42-4.54 1.157-4.54 2.385 0 .995 1.337 1.76 3.97 2.281-.054.044-.107.09-.156.141-.318.33-.484.764-.468 1.222.018.512.309 1.005.776 1.321.296.2.6.299.914.291.5 1.827 1.712 3.359 3.33 4.29 0 .005-.003.009-.003.014v.637l-3.732 1.65c-1.797.795-2.958 2.574-2.958 4.531v3.931c0 .264.214.478.477.478h17.681c.264 0 .478-.214.478-.478v-3.93c0-1.958-1.16-3.737-2.958-4.531zM7.716 8.129c-.002-.224.134-.422.336-.49.054-.016.11-.03.165-.047.143-.043.289-.078.433-.117-.324.274-.638.495-.934.654zm10.925.461c-3.153 1.744-6.515-.425-7.802-1.573 2.367-.348 4.79-.256 7.037.298.458.113.774.528.767 1.01l-.002.265zM7.687 2.213c3.347-1.614 6.948-1.606 10.99.023v1.998c-1.98-.298-4.155-.406-5.734-.406-1.452 0-3.41.092-5.256.338V2.213zm-4.54 4.482c0-.649 3.458-1.912 9.796-1.912 6.339 0 9.796 1.263 9.796 1.912 0 .187-.596.819-3.162 1.336-.11-.794-.68-1.449-1.472-1.644-2.568-.634-5.354-.696-8.042-.212h-.002l-.035.008c-.39.07-.776.15-1.16.244l-.106.029c-.327.082-.655.165-.977.264-.01.003-.018.008-.028.01-.013.005-.027.008-.04.012-.583.18-.976.737-.958 1.356v.018c-2.715-.488-3.61-1.161-3.61-1.421zm4.909 4.615c-.028-.134-.111-.25-.23-.318-.073-.042-.156-.064-.238-.064-.052 0-.103.009-.153.025-.184.063-.354.072-.587-.085-.212-.143-.348-.359-.356-.562-.007-.197.064-.384.2-.525.137-.141.32-.219.517-.219.129 0 .258-.055.348-.147.06-.063.102-.123.128-.23.849-.321 1.655-.992 2.3-1.658.966.938 3.364 2.69 6.106 2.69.928 0 1.896-.203 2.86-.705.064.03.133.05.204.05.206 0 .401.088.538.242.138.156.2.358.173.568-.023.194-.158.385-.359.51-.2.126-.371.145-.588.069-.129-.046-.272-.034-.392.033-.12.066-.205.181-.234.315-.466 2.137-2.045 3.882-4.121 4.555l-.213.069c-.584.19-1.208.197-1.753.022-2.114-.68-3.704-2.456-4.15-4.635zm3.857 5.544c.362.117.739.175 1.12.175.406 0 .816-.066 1.22-.197l.213-.069c.134-.043.259-.102.389-.153v2.51c0 .921-.75 1.672-1.673 1.672-.922 0-1.672-.75-1.672-1.673v-2.423c.134.052.264.114.403.158zm1.27 4.894c1.448 0 2.627-1.18 2.627-2.629v-1.182l2.39 1.057v4.187H8.164v-4.187l2.39-1.057v1.182c0 1.45 1.179 2.629 2.628 2.629zm-8.364 1.325c0-1.58.938-3.015 2.39-3.656v7.109h-2.39v-3.453zm3.345 1.064H18.2v2.39H8.164v-2.39zm13.38 2.39h-2.389V19.415c1.452.642 2.39 2.078 2.39 3.657v3.453z"],["cx","15.571","cy","10.996","r","1"],["cx","10.793","cy","10.996","r","1"],["d","M28.967 14.806c-.013-.231-.191-.413-.418-.442.464-.802.42-1.748.418-1.796-.014-.243-.208-.437-.45-.451-.038-.002-.64-.03-1.287.19.009-.08.023-.156.023-.237 0-1.19-1.011-2.109-1.054-2.147-.182-.163-.456-.163-.638 0-.043.038-1.054.958-1.054 2.147v.003c-.659-.224-1.274-.196-1.313-.195-.243.014-.437.208-.45.451-.003.049-.048 1.02.431 1.837-.234.023-.419.21-.432.446-.002.05-.047 1.02.432 1.838-.234.022-.419.21-.432.446-.002.049-.047 1.02.432 1.837-.233.023-.418.21-.432.446-.003.059-.069 1.447.785 2.302.56.56 1.345.723 1.84.77v4.753c0 .264.214.478.478.478.263 0 .477-.214.477-.478V22.31c.48-.037 1.295-.186 1.871-.762.841-.84.776-2.206.773-2.263-.013-.232-.191-.414-.418-.443.464-.802.42-1.748.418-1.796-.013-.231-.191-.414-.418-.443.464-.801.42-1.748.418-1.796zm-.986.535c-.049.33-.17.76-.462 1.053-.294.293-.723.414-1.053.463.049-.33.169-.76.462-1.053.293-.293.723-.414 1.053-.463zm-3.16.281c.304.305.426.752.475 1.092-.34-.048-.787-.171-1.092-.475-.304-.305-.427-.752-.476-1.092.34.049.789.172 1.092.475zm0 2.284c.304.304.426.751.475 1.091-.34-.049-.788-.172-1.092-.475-.304-.305-.427-.752-.476-1.092.34.05.789.172 1.092.476zm2.697.727c-.293.293-.722.413-1.052.462.05-.33.17-.76.462-1.053.293-.293.722-.413 1.053-.462-.05.33-.17.76-.463 1.053zm0-4.477c-.293.293-.722.413-1.052.462.048-.33.169-.76.462-1.053.293-.293.723-.413 1.053-.462-.05.33-.17.76-.463 1.053zm-1.638-3.158c.2.268.418.657.418 1.072 0 .414-.219.803-.418 1.071-.199-.268-.417-.657-.417-1.071 0-.415.218-.804.417-1.072zm-1.06 2.34c.305.305.427.753.476 1.093-.34-.05-.788-.172-1.092-.476-.304-.304-.427-.752-.476-1.092.34.05.789.172 1.092.476zm-.616 7.467c-.304-.305-.427-.752-.476-1.091.34.049.789.171 1.092.475.305.305.427.752.476 1.091-.34-.048-.788-.172-1.092-.475zm3.314.066c-.293.293-.722.414-1.052.463.05-.33.17-.76.462-1.053.293-.293.722-.413 1.052-.462-.049.33-.17.76-.462 1.052zM4.82 15.057v-1.911c0-.264-.215-.478-.478-.478-.264 0-.478.214-.478.478v1.911c0 .608-.381 1.125-.916 1.333v-3.005c0-.264-.214-.478-.478-.478s-.478.214-.478.478v3.03c-.575-.186-.996-.72-.996-1.358v-1.911c0-.264-.213-.478-.477-.478s-.478.214-.478.478v1.911c0 1.168.843 2.139 1.951 2.346v9.601c0 .264.214.478.478.478s.478-.214.478-.478v-9.617c1.069-.238 1.871-1.19 1.871-2.33z"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeIncrementoGiovane",4,"ngIf"],[1,"col-4","bg-white","position-relative",2,"top","-35px","height","10px"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","limiteGiovane",4,"ngIf"],[1,"mr-auto","w-75"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeRiduzioneLineareArt51Par2",4,"ngIf"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeRiduzioneLineareArt51Par3",4,"ngIf"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeRiduzioneLineareMassimaleNetto",4,"ngIf"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeRiduzioneTitoli",4,"ngIf"],[2,"text-align","center"],[1,"pi","pi-exclamation-triangle",2,"font-size","3em"],[1,"ui-g","ui-fluid"],[1,"ui-g-6"],["type","button","pButton","","label","Si",1,"ui-button-success",3,"click"],["type","button","pButton","","label","No",1,"ui-button-secondary",3,"click"],["type","button",1,"btn","btn-white","w-auto","fs-16","mb-0",3,"click"],["type","button",1,"btn","btn-green","fs-16","mr-2",3,"click"],["type","button",1,"btn","btn-green","fs-16",3,"disabled","click"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeIncrementoGreening"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeIncrementoGiovane"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","limiteGiovane"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeRiduzioneLineareArt51Par2"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeRiduzioneLineareArt51Par3"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeRiduzioneLineareMassimaleNetto"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeRiduzioneTitoli"]],template:function(t,i){1&t&&r.Mc(0,k,122,53,"form",0),2&t&&r.mc("ngIf",i.importiForm)},directives:[o.t,u.I,u.t,u.k,m.a,g.e,u.l,h.b,u.y,u.c,S.a,u.s,u.i],pipes:[f.d],styles:[".box[_ngcontent-%COMP%], .sample-layout[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#cce4f7;text-align:center;padding-top:1em;padding-bottom:1em;border-radius:4px}.box-stretched[_ngcontent-%COMP%]{height:100%}.sample-layout[_ngcontent-%COMP%]{margin:0}.sample-layout[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border:1px solid #fff}.vertical-container[_ngcontent-%COMP%]{margin:0;height:200px;background:#efefef;border-radius:4px}.nested-grid[_ngcontent-%COMP%]   .p-col-4[_ngcontent-%COMP%]{padding-bottom:1em}"]}),t})();e("a2Ts");var F=e("yWug");function G(t,i){1&t&&(r.Tb(0,"td",8),r.Ob(1,"i",16),r.Sb())}function V(t,i){if(1&t&&(r.Tb(0,"td",17),r.Oc(1),r.Sb()),2&t){const t=r.fc().rowIndex,i=r.fc(2);r.Bb(1),r.Qc(" ",i.interventiControllo[t].valoreUnitarioIntervento," ")}}function Z(t,i){if(1&t){const t=r.Ub();r.Tb(0,"td",18),r.Tb(1,"input",19),r.bc("keyup",(function(i){return r.Ec(t),r.fc(3).onKey(i)})),r.Sb(),r.Sb()}if(2&t){const t=r.fc().rowIndex,i=r.fc(2);r.Bb(1),r.nc("value",i.interventiControllo[t].valoreUnitarioIntervento)}}function $(t,i){if(1&t&&(r.Rb(0,5),r.Tb(1,"tr",6),r.Mc(2,G,2,0,"td",7),r.Tb(3,"td",8),r.Oc(4),r.Sb(),r.Tb(5,"td",9),r.Tb(6,"i",10),r.Ob(7,"img",11),r.Sb(),r.Sb(),r.Tb(8,"td",12),r.Tb(9,"strong"),r.Oc(10),r.Sb(),r.Sb(),r.Tb(11,"td",13),r.Oc(12),r.gc(13,"translate"),r.Sb(),r.Mc(14,V,2,1,"td",14),r.Mc(15,Z,2,1,"td",15),r.Sb(),r.Qb()),2&t){const t=i.rowIndex,e=r.fc(2);r.mc("formGroupName",t),r.Bb(1),r.mc("pReorderableRow",t),r.Bb(1),r.mc("ngIf",e.edit),r.Bb(2),r.Qc(" ",t+1," "),r.Bb(3),r.oc("src","assets/img/intervento-",e.interventiControllo[t].intervento.codiceAgea,".jpg",r.Gc),r.Bb(3),r.Pc(e.interventiControllo[t].intervento.codiceAgea),r.Bb(2),r.Qc(" ",r.hc(13,9,"CONFIGURAZIONE_ISTRUTTORIA.ZOOTECNIA."+e.interventiControllo[t].intervento.codiceAgea)," "),r.Bb(2),r.mc("ngIf",!e.edit),r.Bb(1),r.mc("ngIf",e.edit)}}function Q(t,i){if(1&t){const t=r.Ub();r.Tb(0,"form",1),r.Tb(1,"div",2),r.Tb(2,"p-table",3),r.bc("onRowReorder",(function(i){return r.Ec(t),r.fc().onRowReorder(i)})),r.Mc(3,$,16,11,"ng-template",4),r.Sb(),r.Sb(),r.Sb()}if(2&t){const t=r.fc();r.mc("formGroup",t.importiTabellaForm),r.Bb(2),r.mc("value",t.interventiControllo)("reorderableColumns",!0)}}let q=(()=>{class t{constructor(t){this.fb=t,this.formValid=new r.n,this.valoriFormValidi=!0}ngOnInit(){this.createForm(),this.riordinaValoriPriorit\u00e0(),this.aggiornaValoreImporti()}createForm(){this.importiTabellaForm=this.fb.group({importiControllo:this.fb.array(this.interventiControllo.map(t=>this.generateDatumFormGroup(t)))})}"riordinaValoriPriorit\xe0"(){let t=0;for(t=0;t<this.interventiControllo.length;t++)this.interventiControllo[t].priorita=t+1}generateDatumFormGroup(t){return this.fb.group({codiceAgea:this.fb.control(t.intervento.codiceAgea),priorita:this.fb.control(t.priorita),valoreUnitarioInterventoTabella:this.fb.control(t.valoreUnitarioIntervento,[u.G.required,u.G.min(0),u.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)])})}ordinaArrayPerPriorita(t){t.sort((function(t,i){var e=t.priorita,o=i.priorita;return e<o?-1:e>o?1:0}))}onRowReorder(t){this.ordinaPrioritaTabella()}onKey(t){this.aggiornaValoreImporti()}ordinaPrioritaTabella(){let t;t=this.interventiControllo;let i=0;for(i=0;i<this.interventiControllo.length;i++)this.interventoAggregato.interventoDuPremi.find(e=>e.intervento.codiceAgea===t[i].intervento.codiceAgea).priorita=i+1,t[i].priorita=i+1}aggiornaValoreImporti(){if(this.importiTabellaForm.invalid)this.valoriFormValidi=!1;else{this.valoriFormValidi=!0;let t=0;for(t=0;t<this.importiTabellaForm.value.importiControllo.length;t++)if("string"==typeof this.importiTabellaForm.value.importiControllo[t].valoreUnitarioInterventoTabella){let i=Number(this.importiTabellaForm.value.importiControllo[t].valoreUnitarioInterventoTabella),e=this.importiTabellaForm.value.importiControllo[t].codiceAgea;this.interventoAggregato.interventoDuPremi.find(t=>t.intervento.codiceAgea===e).valoreUnitarioIntervento=i}}this.formValid.emit(this.valoriFormValidi)}}return t.\u0275fac=function(i){return new(i||t)(r.Nb(u.f))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-tabella-interventi-acz"]],inputs:{interventiControllo:"interventiControllo",interventoAggregato:"interventoAggregato",edit:"edit",intestazioneTabella:"intestazioneTabella"},outputs:{formValid:"formValid"},decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],["formArrayName","importiControllo"],["sortField","priorita",1,"table--edit",3,"value","reorderableColumns","onRowReorder"],["pTemplate","body"],[3,"formGroupName"],[3,"pReorderableRow"],["width","3%",4,"ngIf"],["width","3%"],["width","7%"],[2,"display","flex","justify-content","center"],[3,"src"],["width","10%","align","center"],["width","67%"],["width","10%","align","right",4,"ngIf"],["width","10%",4,"ngIf"],["pReorderableRowHandle","",1,"pi","pi-bars",2,"display","flex","justify-content","center"],["width","10%","align","right"],["width","10%"],["type","text","pInputText","","formControlName","valoreUnitarioInterventoTabella",3,"value","keyup"]],template:function(t,i){1&t&&r.Mc(0,Q,4,3,"form",0),2&t&&r.mc("ngIf",i.importiTabellaForm)},directives:[o.t,u.I,u.t,u.k,u.e,F.q,g.e,u.l,F.h,F.i,u.c,S.a,u.s,u.i],pipes:[f.d],styles:[""]}),t})();function H(t,i){if(1&t){const t=r.Ub();r.Tb(0,"div",24),r.Ob(1,"i",25),r.Tb(2,"h3"),r.Oc(3),r.Sb(),r.Tb(4,"p"),r.Oc(5),r.Sb(),r.Sb(),r.Tb(6,"div",26),r.Tb(7,"div",27),r.Tb(8,"button",28),r.bc("click",(function(){return r.Ec(t),r.fc(2).confermaSalvataggio()})),r.Sb(),r.Sb(),r.Tb(9,"div",27),r.Tb(10,"button",29),r.bc("click",(function(){return r.Ec(t),r.fc(2).rejectSalvataggio()})),r.Sb(),r.Sb(),r.Sb()}if(2&t){const t=i.$implicit;r.Bb(3),r.Pc(t.summary),r.Bb(2),r.Pc(t.detail)}}function j(t,i){if(1&t){const t=r.Ub();r.Tb(0,"button",30),r.bc("click",(function(){return r.Ec(t),r.fc(2).modifica()})),r.Oc(1,"MODIFICA"),r.Sb()}}function K(t,i){if(1&t){const t=r.Ub();r.Tb(0,"button",31),r.bc("click",(function(){return r.Ec(t),r.fc(2).annulla()})),r.Oc(1,"ANNULLA"),r.Sb()}}function Y(t,i){if(1&t){const t=r.Ub();r.Tb(0,"button",32),r.bc("click",(function(){return r.Ec(t),r.fc(2).salva()})),r.Oc(1,"SALVA"),r.Sb()}if(2&t){const t=r.fc(2);r.mc("disabled",!t.form1Valid||!t.form2Valid||!t.form3Valid)}}const J=function(){return{marginTop:"70px"}};function W(t,i){if(1&t){const t=r.Ub();r.Tb(0,"form",1),r.bc("ngSubmit",(function(){return r.Ec(t),r.fc().onSubmit()})),r.Ob(1,"p-toast",2),r.Tb(2,"p-toast",3),r.Mc(3,H,11,2,"ng-template",4),r.Sb(),r.Tb(4,"div",5),r.Tb(5,"div",6),r.Tb(6,"span",7),r.Tb(7,"span",8),r.ec(),r.Tb(8,"svg",9),r.Tb(9,"g",10),r.Ob(10,"path",11),r.Ob(11,"circle",12),r.Ob(12,"circle",13),r.Ob(13,"circle",14),r.Ob(14,"circle",15),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.dc(),r.Tb(15,"h3",16),r.Oc(16,"Configurazione Accoppiato zootecnia"),r.Sb(),r.Mc(17,j,2,0,"button",17),r.Mc(18,K,2,0,"button",18),r.Mc(19,Y,2,1,"button",19),r.Sb(),r.Ob(20,"hr",20),r.Tb(21,"h4",21),r.Oc(22,"Vacche da latte"),r.Sb(),r.Tb(23,"app-tabella-interventi-acz",22),r.bc("formValid",(function(i){return r.Ec(t),r.fc().setValidForm1(i)})),r.Sb(),r.Ob(24,"hr",23),r.Tb(25,"h4",21),r.Oc(26,"Macellazione"),r.Sb(),r.Tb(27,"app-tabella-interventi-acz",22),r.bc("formValid",(function(i){return r.Ec(t),r.fc().setValidForm2(i)})),r.Sb(),r.Ob(28,"hr",23),r.Tb(29,"h4",21),r.Oc(30,"Ovi caprini"),r.Sb(),r.Tb(31,"app-tabella-interventi-acz",22),r.bc("formValid",(function(i){return r.Ec(t),r.fc().setValidForm3(i)})),r.Sb(),r.Sb(),r.Sb()}if(2&t){const t=r.fc();r.mc("formGroup",t.importiForm),r.Bb(1),r.Kc(r.rc(17,J)),r.Bb(1),r.mc("modal",!0)("baseZIndex",5e3),r.Bb(15),r.mc("ngIf",!t.edit),r.Bb(1),r.mc("ngIf",t.edit),r.Bb(1),r.mc("ngIf",t.edit),r.Bb(4),r.mc("interventiControllo",t.interventiVaccheDaLatte)("interventoAggregato",t.interventoAggregato)("edit",t.edit),r.Bb(4),r.mc("interventiControllo",t.interventiMacellazione)("interventoAggregato",t.interventoAggregato)("edit",t.edit),r.Bb(4),r.mc("interventiControllo",t.interventiOviCaprini)("interventoAggregato",t.interventoAggregato)("edit",t.edit)}}let X=(()=>{class t{constructor(t,i,e,o){this.messageService=t,this.route=i,this.confIstruttoriaService=e,this.fb=o,this.edit=!1,this.form1Valid=!0,this.form2Valid=!0,this.form3Valid=!0,this.valoriVaccheDaLatte=["310","311","313","322"],this.valoriMacellazione=["315","316","318"],this.valoriOviCaprini=["320","321"]}ngOnInit(){this.annoCampagna=this.route.snapshot.params.annoCampagna,this.caricaArrayDaServizio()}caricaArrayDaServizio(){this.confIstruttoriaService.getConfigurazioneIstruttoriaAcz(this.annoCampagna).subscribe(t=>{this.interventoAggregato=t,this.eliminaValoriNonUtili(),this.interventiVaccheDaLatte=this.caricaArrayVaccheDaLatte(),this.interventiMacellazione=this.caricaArrayMacellazione(),this.interventiOviCaprini=this.caricaArrayOviCaprini(),this.interventoAggregato.interventoDuPremi=[...this.interventiVaccheDaLatte,...this.interventiMacellazione,...this.interventiOviCaprini],this.ordinaPerPriorita(this.interventiVaccheDaLatte),this.ordinaPerPriorita(this.interventiMacellazione),this.ordinaPerPriorita(this.interventiOviCaprini),this.createForm()},t=>{this.messageService.add(b.a.getToast("tst",b.b.error,b.a.erroreRecuperoDati))})}caricaArrayVaccheDaLatte(){let t=[...this.interventoAggregato.interventoDuPremi],i=0;for(i=t.length-1;i>=0;i--)this.valoriVaccheDaLatte.includes(t[i].intervento.codiceAgea)||t.splice(i,1);return t}caricaArrayMacellazione(){let t=[...this.interventoAggregato.interventoDuPremi],i=0;for(i=t.length-1;i>=0;i--)this.valoriMacellazione.includes(t[i].intervento.codiceAgea)||t.splice(i,1);return t}caricaArrayOviCaprini(){let t=[...this.interventoAggregato.interventoDuPremi],i=0;for(i=t.length-1;i>=0;i--)this.valoriOviCaprini.includes(t[i].intervento.codiceAgea)||t.splice(i,1);return t}createForm(){this.importiForm=this.fb.group({importiOviCaprini:this.fb.array(this.interventiOviCaprini.map(t=>this.generateDatumFormGroup(t)))})}generateDatumFormGroup(t){return this.fb.group({codiceAgea:this.fb.control(t.intervento.codiceAgea),priorita:this.fb.control(t.priorita),valoreUnitarioIntervento:this.fb.control(t.valoreUnitarioIntervento,[u.G.required,u.G.min(0),u.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)])})}modifica(){this.edit=!0}annulla(){this.edit=!1,this.caricaArrayDaServizio()}salva(){this.messageService.add(this.form1Valid&&this.form2Valid&&this.form3Valid?{key:"checkSalvataggio",sticky:!0,severity:"warn",summary:"Operazione di Salvataggio",detail:"Sei sicuro di voler salvare?"}:b.a.getToast("tst",b.b.warn,"aaa"))}confermaSalvataggio(){this.edit=!1,this.messageService.clear("checkSalvataggio");let t=this.importiForm.controls.importiOviCaprini.value,i=0;for(i=0;i<t.length;i++)if("string"==typeof t[i].valoreUnitarioIntervento){let e=Number(t[i].valoreUnitarioIntervento);this.interventoAggregato.interventoDuPremi.find(e=>e.intervento.codiceAgea===t[i].codiceAgea).valoreUnitarioIntervento=e}this.confIstruttoriaService.setConfigurazioneIstruttoriaAcz(this.annoCampagna,this.interventoAggregato).subscribe(t=>{this.interventoAggregato=t,this.messageService.add(b.a.getToast("tst",b.b.success,b.a.OPERAZIONE_OK)),window.location.reload()},t=>{this.messageService.add(b.a.getToast("tst",b.b.error,b.a.salvataggioDatiKo))})}rejectSalvataggio(){this.messageService.clear("checkSalvataggio")}onSubmit(){console.log(this.importiForm.value),console.log(this.interventoAggregato),console.log(this.importiForm.valid)}ordinaPerPriorita(t){t.sort((function(t,i){var e=t.priorita,o=i.priorita;return e<o?-1:e>o?1:0}))}eliminaValoriNonUtili(){this.edit=!1;let t=this.interventoAggregato.interventoDuPremi,i=0;for(i=t.length-1;i>=0;i--){let e=t[i].intervento.codiceAgea;this.valoriVaccheDaLatte.includes(e)||this.valoriMacellazione.includes(e)||this.valoriOviCaprini.includes(e)||this.interventoAggregato.interventoDuPremi.splice(i,1)}}setValidForm1(t){this.form1Valid=t}setValidForm2(t){this.form2Valid=t}setValidForm3(t){this.form3Valid=t}}return t.\u0275fac=function(i){return new(i||t)(r.Nb(g.d),r.Nb(c.a),r.Nb(p.a),r.Nb(u.f))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-istruttoria-acz"]],decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],["key","tst"],["position","center","key","checkSalvataggio",3,"modal","baseZIndex"],["pTemplate","message"],[1,"boxgrey"],[1,"d-flex","align-items-center"],[1,"icon","icon--p","icon--dark","icon--l","mr-3"],[1,"icon__img"],["xmlns","http://www.w3.org/2000/svg","width","44","height","44","viewBox","0 0 44 44"],["fill","#FFF","fill-rule","evenodd","transform","translate(.333 .333)"],["d","M43.333 1.354V0h-2.539v1.354c0 3.194-2.34 5.85-5.396 6.348H7.935C4.88 7.205 2.54 4.548 2.54 1.354V0H0v1.354c0 2.86 1.346 5.413 3.438 7.057C1.398 9.468 0 11.598 0 14.049v3.894h3.893c1.603 0 3.067-.598 4.185-1.581L9.026 34.9c.242 4.728 4.14 8.432 8.876 8.432h7.53c4.735 0 8.633-3.704 8.875-8.432l.948-18.54c1.118.984 2.583 1.582 4.185 1.582h3.893v-3.894c0-2.451-1.398-4.581-3.437-5.638 2.091-1.644 3.437-4.196 3.437-7.057zM7.702 11.595c0 2.1-1.709 3.809-3.809 3.809H2.54v-1.355c0-2.1 1.709-3.808 3.809-3.808h1.354v1.354zm24.07 23.176c-.174 3.377-2.958 6.023-6.34 6.023h-7.53c-3.382 0-6.167-2.646-6.34-6.023l-.114-2.224c2.64-2.833 6.335-4.448 10.219-4.448 3.883 0 7.578 1.615 10.218 4.448l-.114 2.224zm.282-5.53c-2.917-2.364-6.576-3.681-10.387-3.681-3.812 0-7.47 1.317-10.388 3.68l-.972-19h22.719l-.972 19zm8.74-15.192v1.355H39.44c-2.1 0-3.808-1.709-3.808-3.809v-1.354h1.354c2.1 0 3.808 1.708 3.808 3.808z"],["cx","17.435","cy","36.563","r","1.693"],["cx","25.898","cy","36.563","r","1.693"],["cx","14.896","cy","19.128","r","1.693"],["cx","28.438","cy","19.128","r","1.693"],[1,"mr-auto","mb-0","pb-0"],["type","button","class","btn btn-white  w-auto  fs-16  mb-0",3,"click",4,"ngIf"],["type","button","class","btn  btn-green fs-16  mr-2",3,"click",4,"ngIf"],["type","button","class","btn btn-green fs-16",3,"disabled","click",4,"ngIf"],["size","6","color","green"],[1,"fs-16","fw-700","my-3"],[3,"interventiControllo","interventoAggregato","edit","formValid"],["size","6","color","green",1,"mt-5"],[2,"text-align","center"],[1,"pi","pi-exclamation-triangle",2,"font-size","3em"],[1,"ui-g","ui-fluid"],[1,"ui-g-6"],["type","button","type","submit","pButton","","label","Si",1,"ui-button-success",3,"click"],["type","button","pButton","","label","No",1,"ui-button-secondary",3,"click"],["type","button",1,"btn","btn-white","w-auto","fs-16","mb-0",3,"click"],["type","button",1,"btn","btn-green","fs-16","mr-2",3,"click"],["type","button",1,"btn","btn-green","fs-16",3,"disabled","click"]],template:function(t,i){1&t&&r.Mc(0,W,32,18,"form",0),2&t&&r.mc("ngIf",i.importiForm)},directives:[o.t,u.I,u.t,u.k,m.a,g.e,q,h.b],styles:[""]}),t})();function tt(t,i){if(1&t){const t=r.Ub();r.Tb(0,"div",18),r.Ob(1,"i",19),r.Tb(2,"h3"),r.Oc(3),r.Sb(),r.Tb(4,"p"),r.Oc(5),r.Sb(),r.Sb(),r.Tb(6,"div",20),r.Tb(7,"div",21),r.Tb(8,"button",22),r.bc("click",(function(){return r.Ec(t),r.fc(2).confermaSalvataggio()})),r.Sb(),r.Sb(),r.Tb(9,"div",21),r.Tb(10,"button",23),r.bc("click",(function(){return r.Ec(t),r.fc(2).rejectSalvataggio()})),r.Sb(),r.Sb(),r.Sb()}if(2&t){const t=i.$implicit;r.Bb(3),r.Pc(t.summary),r.Bb(2),r.Pc(t.detail)}}function it(t,i){if(1&t){const t=r.Ub();r.Tb(0,"button",24),r.bc("click",(function(){return r.Ec(t),r.fc(2).modifica()})),r.Oc(1,"MODIFICA"),r.Sb()}}function et(t,i){if(1&t){const t=r.Ub();r.Tb(0,"button",25),r.bc("click",(function(){return r.Ec(t),r.fc(2).annulla()})),r.Oc(1,"ANNULLA"),r.Sb()}}function ot(t,i){if(1&t){const t=r.Ub();r.Tb(0,"button",26),r.bc("click",(function(){return r.Ec(t),r.fc(2).salva()})),r.Oc(1,"SALVA"),r.Sb()}if(2&t){const t=r.fc(2);r.mc("disabled",!t.importiForm.valid)}}function at(t,i){if(1&t&&(r.Tb(0,"span"),r.Oc(1),r.Sb()),2&t){const t=r.fc().$implicit;r.Bb(1),r.Pc(t.value.valoreUnitarioIntervento)}}function nt(t,i){1&t&&r.Ob(0,"input",37)}function rt(t,i){if(1&t&&(r.Rb(0,27),r.Tb(1,"div",28),r.Tb(2,"div",29),r.Tb(3,"div",30),r.Tb(4,"div",31),r.Tb(5,"div",32),r.Ob(6,"img",33),r.Sb(),r.Tb(7,"div",32),r.Tb(8,"strong"),r.Oc(9),r.Sb(),r.Sb(),r.Tb(10,"div",28),r.Tb(11,"span"),r.Oc(12),r.gc(13,"translate"),r.Sb(),r.Sb(),r.Tb(14,"div",34),r.Mc(15,at,2,1,"span",35),r.Mc(16,nt,1,0,"input",36),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Qb()),2&t){const t=i.$implicit,e=i.index,o=r.fc(2);r.mc("formGroupName",e),r.Bb(6),r.oc("src","assets/img/intervento-",t.value.codiceAgea,".jpg",r.Gc),r.Bb(3),r.Pc(t.value.codiceAgea),r.Bb(3),r.Pc(r.hc(13,6,"CONFIGURAZIONE_ISTRUTTORIA.SUPERFICI."+t.value.codiceAgea)),r.Bb(3),r.mc("ngIf",!o.edit),r.Bb(1),r.mc("ngIf",o.edit)}}function ct(t,i){if(1&t){const t=r.Ub();r.Tb(0,"form",1),r.bc("ngSubmit",(function(){return r.Ec(t),r.fc().onSubmit()})),r.Tb(1,"p-toast",2),r.Mc(2,tt,11,2,"ng-template",3),r.Sb(),r.Tb(3,"div",4),r.Tb(4,"div",5),r.Tb(5,"span",6),r.Tb(6,"span",7),r.ec(),r.Tb(7,"svg",8),r.Ob(8,"path",9),r.Sb(),r.Sb(),r.Sb(),r.dc(),r.Tb(9,"h3",10),r.Oc(10,"Configurazione Accoppiato superfici"),r.Sb(),r.Mc(11,it,2,0,"button",11),r.Mc(12,et,2,0,"button",12),r.Mc(13,ot,2,1,"button",13),r.Sb(),r.Ob(14,"hr",14),r.Tb(15,"h4",15),r.Oc(16),r.gc(17,"translate"),r.Sb(),r.Tb(18,"div",16),r.Mc(19,rt,17,8,"ng-template",17),r.Sb(),r.Sb(),r.Sb()}if(2&t){const t=r.fc();r.mc("formGroup",t.importiForm),r.Bb(1),r.mc("modal",!0)("baseZIndex",5e3),r.Bb(10),r.mc("ngIf",!t.edit),r.Bb(1),r.mc("ngIf",t.edit),r.Bb(1),r.mc("ngIf",t.edit),r.Bb(3),r.Pc(r.hc(17,8,"CONFIGURAZIONE_ISTRUTTORIA.interventiRichiesti")),r.Bb(3),r.mc("ngForOf",null==t.importiForm.controls.importi?null:t.importiForm.controls.importi.controls)}}let st=(()=>{class t{constructor(t,i,e,o){this.messageService=t,this.route=i,this.confIstruttoriaService=e,this.fb=o,this.edit=!1}ngOnInit(){this.annoCampagna=this.route.snapshot.params.annoCampagna,this.confIstruttoriaService.getConfigurazioneIstruttoriaAcs(this.annoCampagna).subscribe(t=>{this.interventoAggregato=t,this.createForm()})}createForm(){this.importiForm=this.fb.group({importi:this.fb.array(this.interventoAggregato.interventoDuPremi.map(t=>this.generateDatumFormGroup(t)))})}generateDatumFormGroup(t){return this.fb.group({codiceAgea:this.fb.control(t.intervento.codiceAgea),valoreUnitarioIntervento:this.fb.control(t.valoreUnitarioIntervento,[u.G.required,u.G.min(0),u.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)])})}modifica(){this.edit=!0}annulla(){this.edit=!1,this.createForm()}salva(){console.log(this.interventoAggregato),console.log(this.importiForm),this.messageService.add({key:"checkSalvataggio",sticky:!0,severity:"warn",summary:"Operazione di Salvataggio",detail:"Sei sicuro di voler salvare?"})}confermaSalvataggio(){this.edit=!1;let t=this.importiForm.controls.importi.value,i=0;for(i=0;i<t.length;i++)if("string"==typeof t[i].valoreUnitarioIntervento){let e=Number(t[i].valoreUnitarioIntervento);this.interventoAggregato.interventoDuPremi.find(e=>e.intervento.codiceAgea===t[i].codiceAgea).valoreUnitarioIntervento=e}console.log(this.interventoAggregato),this.messageService.clear("checkSalvataggio"),this.confIstruttoriaService.setConfigurazioneIstruttoriaAcs(this.annoCampagna,this.interventoAggregato).subscribe(t=>{this.interventoAggregato=t})}rejectSalvataggio(){this.messageService.clear("checkSalvataggio")}}return t.\u0275fac=function(i){return new(i||t)(r.Nb(g.d),r.Nb(c.a),r.Nb(p.a),r.Nb(u.f))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-istruttoria-acs"]],decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],["position","center","key","checkSalvataggio",3,"modal","baseZIndex"],["pTemplate","message"],[1,"boxgrey"],[1,"d-flex","align-items-center"],[1,"icon","icon--p","icon--dark","icon--l","mr-3"],[1,"icon__img"],["xmlns","http://www.w3.org/2000/svg","width","48","height","35","viewBox","0 0 48 35"],["fill","#FFF","d","M47.167 17.539c0-.654-.396-1.248-1.008-1.516l-3.536-1.546 3.537-1.547c.611-.267 1.007-.862 1.007-1.515 0-.654-.396-1.248-1.008-1.516l-14.636-6.4-.036-.015L24.616.479c-.445-.194-.954-.194-1.398 0L1.673 9.899c-.611.268-1.006.862-1.006 1.516 0 .653.395 1.248 1.007 1.516l3.536 1.546-3.536 1.546c-.612.268-1.007.862-1.007 1.516 0 .653.395 1.248 1.007 1.516l3.638 1.59-3.639 1.591c-.611.268-1.006.863-1.006 1.516S1.062 25 1.674 25.268l21.544 9.42c.222.097.46.145.699.145.238 0 .476-.048.698-.145l21.545-9.42c.611-.268 1.007-.863 1.007-1.516 0-.654-.396-1.248-1.008-1.516l-3.637-1.59 3.638-1.591c.611-.268 1.007-.863 1.007-1.516zM16.929 6.138l3.704 1.62-3.98 1.74-3.65-1.643 3.926-1.717zm7.03 3.074l4.028 1.761-4.028 1.814-4.028-1.814 4.028-1.761zm10.914-1.339l-3.608 1.624-3.98-1.74 3.662-1.6 3.926 1.716zm-14.162 6.375l-4.617 2.079-4.203-1.838 4.745-2.075 4.075 1.834zm3.248 1.462l4.528 2.038-4.57 1.999-4.528-1.98 4.57-2.057zm7.822.598l-4.575-2.06 4.076-1.834 4.703 2.057-4.204 1.837zm7.53-3.292l-4.751-2.078 3.608-1.625 4.805 2.102-3.662 1.6zM23.917 3.082l3.703 1.62-3.66 1.6-3.704-1.619 3.66-1.6zM9.707 9.295l3.651 1.643-4.794 2.096-3.704-1.62 4.848-2.119zm33.266 14.457l-19.056 8.332L4.86 23.752 8.638 22.1l14.581 6.375c.222.097.46.146.698.145.238 0 .476-.048.698-.145l14.58-6.375 3.778 1.652zm-19.056 2.12L4.86 17.538l3.676-1.608 14.682 6.42c.222.097.46.145.699.145.238 0 .476-.048.698-.145l14.682-6.42 3.676 1.608-19.056 8.332z"],[1,"mr-auto","mb-0","pb-0"],["type","button","class","btn  btn-white  w-auto  fs-16  mb-0",3,"click",4,"ngIf"],["type","button","class","btn btn-green fs-16  mr-2",3,"click",4,"ngIf"],["type","submit","class","btn btn-green fs-16",3,"disabled","click",4,"ngIf"],["size","6","color","green"],[1,"fs-16","fw-700","my-3"],["formArrayName","importi",1,"row","row--cols"],["ngFor","",3,"ngForOf"],[2,"text-align","center"],[1,"pi","pi-exclamation-triangle",2,"font-size","3em"],[1,"ui-g","ui-fluid"],[1,"ui-g-6"],["type","button","pButton","","label","Si",1,"ui-button-success",3,"click"],["type","button","pButton","","label","No",1,"ui-button-secondary",3,"click"],["type","button",1,"btn","btn-white","w-auto","fs-16","mb-0",3,"click"],["type","button",1,"btn","btn-green","fs-16","mr-2",3,"click"],["type","submit",1,"btn","btn-green","fs-16",3,"disabled","click"],[3,"formGroupName"],[1,"col-6"],[1,"row","row--edit"],[1,"col-12"],[1,"row","align-items-center"],[1,"col-2"],[3,"src"],[1,"col-2","text-right"],[4,"ngIf"],["type","text","pInputText","","formControlName","valoreUnitarioIntervento",4,"ngIf"],["type","text","pInputText","","formControlName","valoreUnitarioIntervento"]],template:function(t,i){1&t&&r.Mc(0,ct,20,10,"form",0),2&t&&r.mc("ngIf",i.importiForm)},directives:[o.t,u.I,u.t,u.k,m.a,g.e,u.e,o.s,h.b,u.l,u.c,S.a,u.s,u.i],pipes:[f.d],styles:[".box[_ngcontent-%COMP%], .sample-layout[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#cce4f7;text-align:center;padding-top:1em;padding-bottom:1em;border-radius:4px}.box-stretched[_ngcontent-%COMP%]{height:100%}.sample-layout[_ngcontent-%COMP%]{margin:0}.sample-layout[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border:1px solid #fff}.vertical-container[_ngcontent-%COMP%]{margin:0;height:200px;background:#efefef;border-radius:4px}.nested-grid[_ngcontent-%COMP%]   .p-col-4[_ngcontent-%COMP%]{padding-bottom:1em}"]}),t})();class lt{}var dt=e("eM/+"),bt=e("Vufj"),ut=e("MvQ6"),pt=e("ayH+"),gt=e("XEYE"),mt=e("dkQB"),ht=e("qkoE"),St=e("ngA5");class ft{}function Tt(t,i){if(1&t&&(r.Tb(0,"div",4),r.Ob(1,"app-stato-domande-ricevibilita",5),r.Sb()),2&t){const t=i.$implicit;r.Bb(1),r.mc("riepilogoStatoDomande",t)("dettaglioIstruttoria",t)}}function vt(t,i){if(1&t){const t=r.Ub();r.Tb(0,"div",29),r.Ob(1,"i",30),r.Tb(2,"h3"),r.Oc(3),r.Sb(),r.Tb(4,"p"),r.Oc(5),r.Sb(),r.Sb(),r.Tb(6,"div",31),r.Tb(7,"div",32),r.Tb(8,"button",33),r.bc("click",(function(){return r.Ec(t),r.fc(2).confermaSalvataggio()})),r.Sb(),r.Sb(),r.Tb(9,"div",32),r.Tb(10,"button",34),r.bc("click",(function(){return r.Ec(t),r.fc(2).rejectSalvataggio()})),r.Sb(),r.Sb(),r.Sb()}if(2&t){const t=i.$implicit;r.Bb(3),r.Pc(t.summary),r.Bb(2),r.Pc(t.detail)}}function It(t,i){if(1&t){const t=r.Ub();r.Tb(0,"button",35),r.bc("click",(function(){return r.Ec(t),r.fc(2).annulla()})),r.Oc(1,"ANNULLA"),r.Sb()}}function Ot(t,i){if(1&t){const t=r.Ub();r.Tb(0,"button",36),r.bc("click",(function(){return r.Ec(t),r.fc(2).salva()})),r.Oc(1,"SALVA"),r.Sb()}if(2&t){const t=r.fc(2);r.mc("disabled",!t.dateForm.valid)}}function Ct(t,i){if(1&t){const t=r.Ub();r.Tb(0,"button",37),r.bc("click",(function(){return r.Ec(t),r.fc(2).modifica()})),r.Oc(1,"MODIFICA"),r.Sb()}}function At(t,i){if(1&t&&(r.Tb(0,"span"),r.Oc(1),r.gc(2,"percent"),r.Sb()),2&t){const t=r.fc(2);r.Bb(1),r.Pc(r.ic(2,1,t.confIstruttoria.percentualeDisciplinaFinanziaria,"0.0-6"))}}function Dt(t,i){1&t&&r.Ob(0,"input",38)}function Pt(t,i){if(1&t&&(r.Tb(0,"span"),r.Oc(1),r.gc(2,"percent"),r.Sb()),2&t){const t=r.fc(2);r.Bb(1),r.Pc(r.ic(2,1,t.confIstruttoria.percentualePagamento,"0.0-2"))}}function Bt(t,i){if(1&t&&r.Ob(0,"input",39),2&t){const t=r.fc(2);r.mc("readonly",t.disabledPercentualePagamento)}}const Nt=function(){return{marginTop:"70px"}};function zt(t,i){if(1&t){const t=r.Ub();r.Tb(0,"form",6),r.Ob(1,"p-toast",7),r.Tb(2,"p-toast",8),r.Mc(3,vt,11,2,"ng-template",9),r.Sb(),r.Tb(4,"div",10),r.Tb(5,"div",11),r.Tb(6,"h3",12),r.Oc(7,"Scadenziario per ricevibilit\xe0"),r.Sb(),r.Mc(8,It,2,0,"button",13),r.Mc(9,Ot,2,1,"button",14),r.Mc(10,Ct,2,0,"button",15),r.Sb(),r.Tb(11,"div",16),r.Tb(12,"div",17),r.Tb(13,"span",18),r.Oc(14),r.Sb(),r.Tb(15,"p-calendar",19),r.bc("disabledChange",(function(i){return r.Ec(t),!(r.fc().edit=i)})),r.Sb(),r.Sb(),r.Tb(16,"div",17),r.Tb(17,"span",18),r.Oc(18),r.Sb(),r.Tb(19,"p-calendar",20),r.bc("disabledChange",(function(i){return r.Ec(t),!(r.fc().edit=i)})),r.Sb(),r.Sb(),r.Tb(20,"div",17),r.Tb(21,"span",18),r.Oc(22),r.Sb(),r.Tb(23,"p-calendar",21),r.bc("disabledChange",(function(i){return r.Ec(t),!(r.fc().edit=i)})),r.Sb(),r.Sb(),r.Tb(24,"div",17),r.Tb(25,"span",18),r.Oc(26),r.Sb(),r.Tb(27,"p-calendar",22),r.bc("disabledChange",(function(i){return r.Ec(t),!(r.fc().edit=i)})),r.Sb(),r.Sb(),r.Tb(28,"div",17),r.Tb(29,"span",18),r.Oc(30),r.Sb(),r.Tb(31,"p-calendar",23),r.bc("disabledChange",(function(i){return r.Ec(t),!(r.fc().edit=i)})),r.Sb(),r.Sb(),r.Tb(32,"div",17),r.Tb(33,"span",18),r.Oc(34),r.Sb(),r.Tb(35,"p-calendar",24),r.bc("disabledChange",(function(i){return r.Ec(t),!(r.fc().edit=i)})),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(36,"div",10),r.Tb(37,"h3"),r.Oc(38,"Liquidazione"),r.Sb(),r.Tb(39,"div",16),r.Tb(40,"div",17),r.Tb(41,"span",18),r.Oc(42),r.Sb(),r.Tb(43,"span",25),r.Mc(44,At,3,4,"span",26),r.Mc(45,Dt,1,0,"input",27),r.Sb(),r.Sb(),r.Tb(46,"div",17),r.Tb(47,"span",18),r.Oc(48),r.Sb(),r.Tb(49,"span",25),r.Mc(50,Pt,3,4,"span",26),r.Mc(51,Bt,1,1,"input",28),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()}if(2&t){const t=r.fc();r.mc("formGroup",t.dateForm),r.Bb(1),r.Kc(r.rc(32,Nt)),r.Bb(1),r.mc("modal",!0)("baseZIndex",5e3),r.Bb(6),r.mc("ngIf",t.edit),r.Bb(1),r.mc("ngIf",t.edit),r.Bb(1),r.mc("ngIf",!t.edit),r.Bb(4),r.Pc(t.labels[3]),r.Bb(1),r.mc("locale",t.language)("disabled",!t.edit),r.Bb(3),r.Pc(t.labels[1]),r.Bb(1),r.mc("locale",t.language)("disabled",!t.edit),r.Bb(3),r.Pc(t.labels[6]),r.Bb(1),r.mc("locale",t.language)("disabled",!t.edit),r.Bb(3),r.Pc(t.labels[7]),r.Bb(1),r.mc("locale",t.language)("disabled",!t.edit),r.Bb(3),r.Pc(t.labels[0]),r.Bb(1),r.mc("locale",t.language)("disabled",!t.edit),r.Bb(3),r.Pc(t.labels[2]),r.Bb(1),r.mc("locale",t.language)("disabled",!t.edit),r.Bb(7),r.Pc(t.labels[4]),r.Bb(2),r.mc("ngIf",!t.edit),r.Bb(1),r.mc("ngIf",t.edit),r.Bb(3),r.Pc(t.labels[5]),r.Bb(2),r.mc("ngIf",!t.edit),r.Bb(1),r.mc("ngIf",t.edit)}}let Mt=(()=>{class t{constructor(t,i,e,o,a,n,r,c,s){this.messageService=t,this.route=i,this.confIstruttoriaService=e,this.fb=o,this.istruttoriaCorrente=a,this.istruttoriaService=n,this.datePipe=r,this.router=c,this.conf=s,this.labels=["Scadenza presentazione domande di ritiro parziale","Scadenza presentazione domande iniziali con ritardo","Data di ricevibilit\xe0","Scadenza presentazione domande iniziali","Percentuale Disciplina Finanziaria","Percentuale pagamento","Scadenza presentazione domande di modifica","Scadenza presentazione domande di modifica con ritardo"],this.date=new lt,this.language=dt.a.itCalendar(),this.edit=!1,this.confIstruttoria=new ft,this.disabledPercentualePagamento=!1,this.showProgressbarRicevibilita=!1,this.disableAvviaRicevibilita=!1,this.disableOkRicevibilita=!1,this.valueProgressbarRicevibilita=0,this.controlloRicev=!1,this.showSostegno=!1,this.showProgressbarIstruttoria=!1,this.disableAvviaIstruttoria=!1,this.disableOkIstruttoria=!1,this.valueProgressbarIstruttoria=0,this.editable=!1}ngOnInit(){this.annoCampagna=this.route.snapshot.params.annoCampagna,this.compareDates(),this.getConfigurazioneIstruttorie(),this.listaRiepilogoStati=new Array,this.listaRiepilogoStati.push(new pt.a(1,gt.a.PROTOCOLLATA,0)),this.listaRiepilogoStati.push(new pt.a(2,gt.a.RICEVIBILE,0)),this.listaRiepilogoStati.push(new pt.a(3,gt.a.NON_RICEVIBILE,0)),this.listaRiepilogoStati.push(new pt.a(4,gt.a.IN_ISTRUTTORIA,0)),this.listaRiepilogoSostegno=new Array,this.listaRiepilogoSostegno.push(new St.a(1,ht.a.SOSTEGNO_DISACCOPPIATO,0)),this.listaRiepilogoSostegno.push(new St.a(2,ht.a.SOSTEGNO_SUPERFICI,0)),this.listaRiepilogoSostegno.push(new St.a(3,ht.a.SOSTEGNO_ZOOTECNIA,0)),this.production=this.conf.production,this.listaRiepilogoStati.sort((t,i)=>t.order>i.order?1:t.order<i.order?-1:0),this.listaRiepilogoSostegno.sort((t,i)=>t.order>i.order?1:t.order<i.order?-1:0),this.subIstruttoria=this.route.params.subscribe(t=>{this.getIstruttoria(t.idIstruttoria)}),this.subProcessi=this.route.params.subscribe(t=>{this.getListaProcessiAttiviIstruttoria(t.idIstruttoria)})}compareDates(){var t,i;t=new Date,(i=new Date).setFullYear(this.annoCampagna,10,30),t>i&&(this.disabledPercentualePagamento=!0)}getConfigurazioneIstruttorie(){this.confIstruttoriaService.getConfigurazioneIstruttorie(this.annoCampagna).subscribe(t=>{if(null===t){let t=this.annoCampagna+"-12-31T00:00:00";this.confIstruttoria.campagna=this.annoCampagna,this.confIstruttoria.dtScadenzaDomandeIniziali=new Date(t),this.confIstruttoria.percentualeDisciplinaFinanziaria=0,this.confIstruttoria.percentualePagamento=0,this.confIstruttoria.dtScadenzaDomandeModifica=new Date(t)}else this.confIstruttoria.id=t.id,this.confIstruttoria.campagna=t.campagna,this.confIstruttoria.dtScadenzaDomandeIniziali=new Date(t.dtScadenzaDomandeIniziali),this.confIstruttoria.percentualeDisciplinaFinanziaria=t.percentualeDisciplinaFinanziaria,this.confIstruttoria.percentualePagamento=t.percentualePagamento,this.confIstruttoria.dtScadenzaDomandeModifica=new Date(t.dtScadenzaDomandeModifica);this.getConfigurazioneRicevibilitaAndSetForm()},t=>{this.messageService.add(b.a.getToast("tst",b.b.error,b.a.erroreRecuperoDati))})}getConfigurazioneRicevibilitaAndSetForm(){this.confIstruttoriaService.getConfigurazioneRicevibilita(this.annoCampagna).subscribe(t=>{if(null===t){let t=this.annoCampagna+"-12-31T00:00:00";this.date.campagna=this.annoCampagna,this.date.dataRicevibilita=new Date(t),this.date.dataScadenzaDomandaInizialeInRitardo=new Date(t),this.date.dataScadenzaDomandaRitiroParziale=new Date(t),this.date.dataScadenzaDomandaModificaInRitardo=new Date(t)}else this.date.id=t.id,this.date.campagna=t.campagna,this.date.dataRicevibilita=new Date(t.dataRicevibilita),this.date.dataScadenzaDomandaInizialeInRitardo=new Date(t.dataScadenzaDomandaInizialeInRitardo),this.date.dataScadenzaDomandaRitiroParziale=new Date(t.dataScadenzaDomandaRitiroParziale),this.date.dataScadenzaDomandaModificaInRitardo=new Date(t.dataScadenzaDomandaModificaInRitardo);this.dateForm=this.fb.group({dataRicevibilita:this.fb.control(this.date.dataRicevibilita,[u.G.required]),dataScadenzaDomandaInizialeInRitardo:this.fb.control(this.date.dataScadenzaDomandaInizialeInRitardo,[u.G.required]),dataScadenzaDomandaRitiroParziale:this.fb.control(this.date.dataScadenzaDomandaRitiroParziale,[u.G.required]),dtScadenzaDomandeIniziali:this.fb.control(this.confIstruttoria.dtScadenzaDomandeIniziali,[u.G.required]),percentualeDisciplinaFinanziaria:this.fb.control((100*this.confIstruttoria.percentualeDisciplinaFinanziaria).toFixed(6),[u.G.required,u.G.min(0),u.G.max(100),u.G.pattern(/^-?\d{0,3}(\.?\d{0,6})$/)]),percentualePagamento:this.fb.control(100*this.confIstruttoria.percentualePagamento,[u.G.required,u.G.min(0),u.G.max(100),u.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)]),dataScadenzaDomandaModificaInRitardo:this.fb.control(this.date.dataScadenzaDomandaModificaInRitardo,[u.G.required]),dtScadenzaDomandeModifica:this.fb.control(this.confIstruttoria.dtScadenzaDomandeModifica,[u.G.required])}),console.log(t)})}modifica(){this.edit=!0}annulla(){this.edit=!1}salva(){this.messageService.add({key:"checkSalvataggio",sticky:!0,severity:"warn",summary:"Operazione di Salvataggio",detail:"Sei sicuro di voler salvare?"})}confermaSalvataggio(){this.edit=!1,this.date.dataRicevibilita=new Date(this.datePipe.transform(this.dateForm.controls.dataRicevibilita.value,"yyyy-MM-dd")),this.date.dataScadenzaDomandaInizialeInRitardo=new Date(this.datePipe.transform(this.dateForm.controls.dataScadenzaDomandaInizialeInRitardo.value,"yyyy-MM-dd")),this.date.dataScadenzaDomandaRitiroParziale=new Date(this.datePipe.transform(this.dateForm.controls.dataScadenzaDomandaRitiroParziale.value,"yyyy-MM-dd")),this.confIstruttoria.dtScadenzaDomandeIniziali=new Date(this.datePipe.transform(this.dateForm.controls.dtScadenzaDomandeIniziali.value,"yyyy-MM-dd")),this.confIstruttoria.percentualePagamento=this.dateForm.controls.percentualePagamento.value/100,this.confIstruttoria.percentualeDisciplinaFinanziaria=Number(this.dateForm.controls.percentualeDisciplinaFinanziaria.value)/100,this.date.dataScadenzaDomandaModificaInRitardo=new Date(this.datePipe.transform(this.dateForm.controls.dataScadenzaDomandaModificaInRitardo.value,"yyyy-MM-dd")),this.confIstruttoria.dtScadenzaDomandeModifica=new Date(this.datePipe.transform(this.dateForm.controls.dtScadenzaDomandeModifica.value,"yyyy-MM-dd")),this.setConfigurazioneIstruttorie(this.annoCampagna,this.confIstruttoria),console.log(this.date),this.confIstruttoriaService.setConfigurazioneIstruttoriaRicevibilita(this.annoCampagna,this.date).subscribe(t=>{this.date=t},t=>{this.messageService.add(b.a.getToast("tst",b.b.error,b.a.salvataggioDatiKo))}),this.messageService.clear("checkSalvataggio")}setConfigurazioneIstruttorie(t,i){this.confIstruttoriaService.setConfigurazioneIstruttorie(t,i).subscribe(t=>{this.confIstruttoria=t,this.messageService.add(b.a.getToast("tst",b.b.success,b.a.OPERAZIONE_OK))},t=>{this.messageService.add(b.a.getToast("tst",b.b.error,b.a.salvataggioDatiKo))})}rejectSalvataggio(){this.messageService.clear("checkSalvataggio")}ngOnDestroy(){this.subIstruttoria.unsubscribe(),this.subProcessi.unsubscribe(),clearInterval(this.interval)}addDomandePerStato(t,i){this.listaRiepilogoStati.map(e=>{e.stato===t&&(e.counter=i)}),0===i&&t===gt.a.RICEVIBILE&&(this.disableAvviaIstruttoria=!0)}addDomandePerSostegno(t,i){this.listaRiepilogoSostegno.map(e=>{e.descrizioneSostegno===t&&(e.counter=i)})}getIstruttoria(t){this.countDomandeProtocollate(gt.a.PROTOCOLLATA),this.countDomandePerStato(gt.a.RICEVIBILE),this.countDomandePerStato(gt.a.NON_RICEVIBILE),this.countDomandePerStato(gt.a.IN_ISTRUTTORIA)}aggiornaDomandeCounters(t){this.getIstruttoria(Number.parseInt(t.toString()))}countDomandeDU(t){this.istruttoriaCorrente.istruttoria=t;const i=encodeURIComponent(JSON.stringify(this.istruttoriaCorrente.istruttoria));this.istruttoriaService.countDomandeDU(i).subscribe(t=>this.listaRiepilogoStati.map(i=>{i.stato===gt.a.PROTOCOLLATA&&(i.counter=t)}))}getIstruttoriaCorrente(){return this.istruttoriaCorrente.istruttoria}countDomandePerStato(t){this.istruttoriaService.countDomandeStatoPAC("statoDomanda="+t+"&annoCampagna="+this.annoCampagna).subscribe(i=>{this.addDomandePerStato(t,i)})}countDomandeProtocollate(t){this.confIstruttoriaService.countDomandeDUPAC("annoRiferimento="+this.annoCampagna).subscribe(i=>{this.addDomandePerStato(t,i)})}countDomandeSostegno(t,i){const e=St.a.ritornaSostegno(t),o=encodeURIComponent('{ "idDatiSettore": "'+i+'", "statoDomanda": "'+gt.a.IN_ISTRUTTORIA+'" , "sostegno": "'+e+'"}');this.istruttoriaService.countDomandeFiltered(o).subscribe(i=>this.addDomandePerSostegno(t,i))}avviaProcessoIstruttoria(t){}getListaProcessiAttiviIstruttoria(t){this.istruttoriaService.getListaProcessiAttivi(encodeURIComponent('{ "idIstruttoria": '+t+" }")).subscribe(t=>{this.listaProcessiAttivi=t,null!=this.listaProcessiAttivi?this.listaProcessiAttivi.map(t=>{"RICEV_AGS"===t.idTipoProcesso&&(this.disableAvviaRicevibilita=!0,this.showProgressbarRicevibilita=!0,this.valueProgressbarRicevibilita=t.percentualeAvanzamento,this.disableOkRicevibilita=!0),"AVV_IST"===t.idTipoProcesso&&(this.disableAvviaIstruttoria=!0,this.showProgressbarIstruttoria=!0,this.valueProgressbarIstruttoria=t.percentualeAvanzamento,this.disableOkIstruttoria=!0)}):this.listaProcessiAttivi=new Array})}getPercentualeAvanzamentoProcesso(t){let i=100;return null!=this.listaProcessiAttivi&&this.listaProcessiAttivi.length>0&&this.listaProcessiAttivi.map(e=>{e.idTipoProcesso===t&&(i=e.percentualeAvanzamento)}),i}collassaDivProgressBar(t){"RICEV_AGS"===t?this.showProgressbarRicevibilita=!1:"AVV_IST"===t&&(this.showProgressbarIstruttoria=!1)}goListaDomande(t){}refresh(){window.location.reload()}handleError(t){console.log("Error "+t+" msg "+t.error+" error.code "+t.status)}}return t.\u0275fac=function(i){return new(i||t)(r.Nb(g.d),r.Nb(c.a),r.Nb(p.a),r.Nb(u.f),r.Nb(bt.a),r.Nb(ut.a),r.Nb(o.f),r.Nb(c.e),r.Nb(mt.a))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-ricevibilita"]],features:[r.Ab([o.f])],decls:4,vars:2,consts:[[1,""],[1,"ui-g"],["class","ui-g-3",4,"ngFor","ngForOf"],[3,"formGroup",4,"ngIf"],[1,"ui-g-3"],[3,"riepilogoStatoDomande","dettaglioIstruttoria"],[3,"formGroup"],["key","tst"],["position","center","key","checkSalvataggio",3,"modal","baseZIndex"],["pTemplate","message"],[1,"boxgrey",2,"display","inline-block"],[1,"d-flex","align-items-center","mb-3"],[1,"mr-auto","mb-0","pb-0"],["type","button","class","btn  btn-green  fs-16  mr-2",3,"click",4,"ngIf"],["type","button","class","btn  btn-green  fs-16",3,"disabled","click",4,"ngIf"],["type","button","class","btn  btn-white  mb-0  fs-16  w-auto",3,"click",4,"ngIf"],[1,"row","row--edit"],[1,"col-6","d-flex","align-items-center"],[1,"mr-auto","w-75"],["formControlName","dtScadenzaDomandeIniziali","dateFormat","dd/mm/yy",1,"ml-3","w-25",3,"locale","disabled","disabledChange"],["formControlName","dataScadenzaDomandaInizialeInRitardo","dateFormat","dd/mm/yy",1,"ml-3","w-25",3,"locale","disabled","disabledChange"],["formControlName","dtScadenzaDomandeModifica","dateFormat","dd/mm/yy",1,"ml-3","w-25",3,"locale","disabled","disabledChange"],["formControlName","dataScadenzaDomandaModificaInRitardo","dateFormat","dd/mm/yy",1,"ml-3","w-25",3,"locale","disabled","disabledChange"],["formControlName","dataScadenzaDomandaRitiroParziale","dateFormat","dd/mm/yy",1,"ml-3","w-25",3,"locale","disabled","disabledChange"],["formControlName","dataRicevibilita","dateFormat","dd/mm/yy",1,"ml-3","w-25",3,"locale","disabled","disabledChange"],[1,"ml-3","w-25","text-right"],[4,"ngIf"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeDisciplinaFinanziaria",4,"ngIf"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualePagamento",3,"readonly",4,"ngIf"],[2,"text-align","center"],[1,"pi","pi-exclamation-triangle",2,"font-size","3em"],[1,"ui-g","ui-fluid"],[1,"ui-g-6"],["type","button","pButton","","label","Si",1,"ui-button-success",3,"click"],["type","button","pButton","","label","No",1,"ui-button-secondary",3,"click"],["type","button",1,"btn","btn-green","fs-16","mr-2",3,"click"],["type","button",1,"btn","btn-green","fs-16",3,"disabled","click"],["type","button",1,"btn","btn-white","mb-0","fs-16","w-auto",3,"click"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeDisciplinaFinanziaria"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualePagamento",3,"readonly"]],template:function(t,i){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Mc(2,Tt,2,2,"div",2),r.Sb(),r.Sb(),r.Mc(3,zt,52,33,"form",3)),2&t&&(r.Bb(2),r.mc("ngForOf",i.listaRiepilogoStati),r.Bb(1),r.mc("ngIf",i.dateForm))},styles:[".btn-green[_ngcontent-%COMP%]{min-height:42px}"]}),t})();var Rt=e("6b9K"),yt=e("1G5W"),Et=e("XNiG");class Lt{clean(){for(var t in this)null==this[t]&&delete this[t]}}class wt{}function xt(t,i){if(1&t&&(r.Tb(0,"th",15),r.Tb(1,"strong"),r.Oc(2),r.Sb(),r.Ob(3,"p-sortIcon",16),r.Sb()),2&t){const t=i.$implicit;r.mc("pSortableColumn",t.field)("pSortableColumnDisabled",null==t.field),r.Bb(2),r.Qc(" ",t.header," "),r.Bb(1),r.mc("field",t.field)}}function _t(t,i){if(1&t&&(r.Tb(0,"tr"),r.Mc(1,xt,4,4,"th",14),r.Sb()),2&t){const t=r.fc();r.Bb(1),r.mc("ngForOf",t.cols)}}function kt(t,i){if(1&t&&(r.Tb(0,"tr"),r.Tb(1,"td"),r.Oc(2),r.Sb(),r.Tb(3,"td"),r.Oc(4),r.Sb(),r.Tb(5,"td"),r.Oc(6),r.Sb(),r.Tb(7,"td"),r.Oc(8),r.Sb(),r.Tb(9,"td"),r.Oc(10),r.gc(11,"date"),r.Sb(),r.Tb(12,"td"),r.Oc(13),r.Sb(),r.Tb(14,"td"),r.Oc(15),r.gc(16,"slice"),r.Sb(),r.Tb(17,"td"),r.Oc(18),r.Sb(),r.Sb()),2&t){const t=i.$implicit;r.Bb(2),r.Pc(t.cuaaIntestatario),r.Bb(2),r.Pc(t.ragioneSociale),r.Bb(2),r.Pc(t.numeroDomanda),r.Bb(2),r.Pc(t.descModuloDomanda),r.Bb(2),r.Pc(r.ic(11,8,t.dtPresentazione,"dd/MM/yyyy")),r.Bb(3),r.Pc(t.numDomandaRettificata),r.Bb(2),r.Pc(r.jc(16,11,t.dtProtocollazOriginaria,0,10)),r.Bb(3),r.Pc(t.descEnteCompilatore)}}function Ut(t,i){if(1&t&&(r.Tb(0,"tr"),r.Tb(1,"td"),r.Oc(2),r.gc(3,"translate"),r.Sb(),r.Sb()),2&t){const t=r.fc();r.Bb(1),r.Cb("colspan",t.cols.length),r.Bb(1),r.Qc(" ",r.hc(3,2,"DOMANDA_UNICA_RISULTATI.nessunaDomandaTrovata")," ")}}let Ft=(()=>{class t{constructor(t,i,e){this.route=t,this.istruttoriaService=i,this.messageService=e,this.paginazione=Rt.a.of(0,10,"id","ASC"),this.paginaDomande=new wt,this.componentDestroyed$=new Et.a}ngOnInit(){this.setCols(),this.setTitleAndState(),this.initDefaultFilter()}setCols(){this.cols=[{field:"cuaaIntestatario",header:"CUAA"},{field:"ragioneSociale",header:"Ragione sociale"},{field:"numeroDomanda",header:"Numero Domanda"},{field:"descModuloDomanda",header:"Modulo"},{field:"dtPresentazione",header:"Data pres."},{field:"numDomandaRettificata",header:"Numero Domanda rett."},{field:"dtProtocollazOriginaria",header:"Data pres. iniz."},{field:"descEnteCompilatore",header:"Ente"}]}setTitleAndState(){switch(this.route.snapshot.params.statoDomanda){case"ricevibili":this.title="Domande Ricevibili",this.statoDomanda=gt.a.RICEVIBILE;break;case"nonRicevibili":this.title="Domande Non Ricevibili",this.statoDomanda=gt.a.NON_RICEVIBILE;break;case"inIstruttoria":this.title="Domande In Istruttoria",this.statoDomanda=gt.a.IN_ISTRUTTORIA}}initDefaultFilter(){this.domandaUnicaFilter=new Lt,this.domandaUnicaFilter.annoCampagna=this.route.snapshot.params.annoCampagna,this.domandaUnicaFilter.statoDomanda=this.statoDomanda}loadData(t){t&&(this.paginazione.pagina=Math.floor(t.first/this.paginazione.numeroElementiPagina),null!=t.sortField?(this.paginazione.proprieta=t.sortField,this.paginazione.ordine=this.istruttoriaService.getOrdine(t.sortOrder)):(this.paginazione.proprieta="id",this.paginazione.ordine="ASC")),this.getElencoDomande(this.domandaUnicaFilter,this.paginazione)}getElencoDomande(t,i){this.istruttoriaService.getElencoDomande(t,i).pipe(Object(yt.a)(this.componentDestroyed$)).subscribe(t=>{this.paginaDomande=t},t=>{this.messageService.add(b.a.getToast("tst",b.b.error,b.a.erroreRecuperoDati))})}ngOnDestroy(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}}return t.\u0275fac=function(i){return new(i||t)(r.Nb(c.a),r.Nb(ut.a),r.Nb(g.d))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-elenco-domande"]],decls:42,vars:17,consts:[[1,"ui-g","ui-fluid"],[1,"tophome","riepilogo"],[1,"ui-grid-fixed"],[1,"subhome"],[1,"ui-g"],[1,"ui-md-3"],[1,"ui-g-12"],[1,"richiesta-title",2,"padding","10px 0"],["margin-top","30px",1,"table-responsive"],[3,"columns","value","lazy","paginator","rows","totalRecords","onLazyLoad"],["table",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"]],template:function(t,i){1&t&&(r.Tb(0,"div"),r.Tb(1,"div",0),r.Tb(2,"div",1),r.Tb(3,"div",2),r.Tb(4,"h4"),r.Oc(5,"ISTRUTTORIA"),r.Sb(),r.Tb(6,"div",3),r.Tb(7,"div",4),r.Tb(8,"div",5),r.Tb(9,"strong"),r.Oc(10,"PAC"),r.Sb(),r.Ob(11,"br"),r.Oc(12),r.gc(13,"translate"),r.Sb(),r.Tb(14,"div",5),r.Tb(15,"strong"),r.Oc(16,"Tipologia Domanda"),r.Sb(),r.Ob(17,"br"),r.Oc(18),r.gc(19,"translate"),r.Sb(),r.Tb(20,"div",5),r.Tb(21,"strong"),r.Oc(22,"Anno di riferimento"),r.Sb(),r.Ob(23,"br"),r.Oc(24),r.Sb(),r.Tb(25,"div",5),r.Tb(26,"strong"),r.Oc(27,"Stato"),r.Sb(),r.Ob(28,"br"),r.Oc(29),r.gc(30,"translate"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(31,"div",0),r.Tb(32,"div",2),r.Tb(33,"div",6),r.Tb(34,"legend",7),r.Oc(35),r.Sb(),r.Tb(36,"div",8),r.Tb(37,"p-table",9,10),r.bc("onLazyLoad",(function(t){return i.loadData(t)})),r.Mc(39,_t,2,1,"ng-template",11),r.Mc(40,kt,19,15,"ng-template",12),r.Mc(41,Ut,4,4,"ng-template",13),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Bb(12),r.Qc("",r.hc(13,11,"ISTRUTTORIA_PAC.INTESTAZIONE")," "),r.Bb(6),r.Qc("",r.hc(19,13,"ISTRUTTORIA_PAC.DOMANDA_UNICA")," "),r.Bb(6),r.Qc("",i.domandaUnicaFilter.annoCampagna," "),r.Bb(5),r.Qc("",r.hc(30,15,"StatoDomandaEnum."+i.statoDomanda)," "),r.Bb(6),r.Qc(" ",i.title," "),r.Bb(2),r.mc("columns",i.cols)("value",i.paginaDomande.risultati)("lazy",!0)("paginator",!0)("rows",i.paginazione.numeroElementiPagina)("totalRecords",i.paginaDomande.count))},directives:[F.q,g.e,o.s,F.p,F.o],pipes:[f.d,o.f,o.E],styles:[""]}),t})();const Gt=[{path:"",data:{mybreadcrumb:""},component:l,children:[{path:"",redirectTo:"ricevibilita",pathMatch:"full"},{path:"ricevibilita",component:Mt},{path:"istruttoriaDisaccoppiato",component:U},{path:"istruttoriaAcz",component:X},{path:"istruttoriaAcs",component:st}]},{path:"ricevibilita/domande/:statoDomanda",component:Ft,data:{mybreadcrumb:"Domande"}}];let Vt=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(i){return new(i||t)},imports:[[o.c,c.i.forChild(Gt)]]}),t})();var Zt=e("TW8+"),$t=e("pxLX");function Qt(t,i){if(1&t){const t=r.Ub();r.Tb(0,"button",9),r.bc("click",(function(){r.Ec(t);const i=r.fc(2);return i.goListaDomande(i.riepilogoStatoDomande.stato)})),r.Sb()}}function qt(t,i){if(1&t&&(r.Tb(0,"div",3),r.Mc(1,Qt,1,0,"button",8),r.Sb()),2&t){const t=r.fc();r.Bb(1),r.mc("ngIf","PROTOCOLLATA"!=t.riepilogoStatoDomande.stato)}}function Ht(t,i){if(1&t){const t=r.Ub();r.Tb(0,"button",10),r.bc("click",(function(){return r.Ec(t),r.fc().avviaRicevibilita()})),r.Sb()}if(2&t){const t=r.fc();r.mc("disabled",t.dettaglioIstruttoria.disableAvviaRicevibilita)}}function jt(t,i){if(1&t){const t=r.Ub();r.Tb(0,"button",11),r.bc("click",(function(){return r.Ec(t),r.fc().avviaProcessoIstruttoria("AVV_IST")})),r.Sb()}if(2&t){const t=r.fc();r.mc("disabled",t.dettaglioIstruttoria.disableAvviaIstruttoria)}}let Kt=(()=>{class t{constructor(t,i,e,o){this.router=t,this.route=i,this.istruttoriaService=e,this.messageService=o,this.displayInIstruttoriaDialog=!1}ngOnInit(){this.annoCampagna=this.route.snapshot.params.annoCampagna}onIstruttoriaDialogClose(t){this.displayInIstruttoriaDialog=t}displayDialog(){this.displayInIstruttoriaDialog=!0}goListaDomande(t){t===gt.a.RICEVIBILE?this.router.navigate(["./"+Zt.a.domandeRicevibli],{relativeTo:this.route}):t===gt.a.NON_RICEVIBILE?this.router.navigate(["./"+Zt.a.domandeNonRicevibili],{relativeTo:this.route}):t===gt.a.IN_ISTRUTTORIA&&this.router.navigate(["./"+Zt.a.domandeInIstruttoria],{relativeTo:this.route})}avviaRicevibilita(){this.istruttoriaService.avviaProcessoRicevibilitaDU(this.annoCampagna).subscribe(t=>{this.messageService.add(b.a.getToast("tst",b.b.success,b.a.processoRicevibilitaOk))},t=>{this.messageService.add(b.a.getToast("tst",b.b.error,b.a.BRIAMPRT003))})}avviaProcessoIstruttoria(){this.istruttoriaService.avviaProcessoIstruttoriaDU(this.annoCampagna).subscribe(t=>{this.messageService.add(b.a.getToast("tst",b.b.success,b.a.processoAvvioIstruttoriaOk))},t=>{this.messageService.add(b.a.getToast("tst",b.b.error,b.a.BRIAMPRT003))})}}return t.\u0275fac=function(i){return new(i||t)(r.Nb(c.e),r.Nb(c.a),r.Nb(ut.a),r.Nb(g.d))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-stato-domande-ricevibilita"]],inputs:{riepilogoStatoDomande:"riepilogoStatoDomande",dettaglioIstruttoria:"dettaglioIstruttoria"},decls:17,vars:8,consts:[[1,"card-domande"],["id","sfondo-p-card"],[1,"dimensioni-icona","icon-ricevibilita",3,"src"],[1,"label-font"],[1,"size-numero-domande","label-font"],["class","label-font",4,"ngIf"],["pButton","","type","button","class","btn-green  btn-ricevibilita  fs-16","label","AVVIA RICEVIBILITA",3,"disabled","click",4,"ngIf"],["pButton","","type","button","class","btn-green  btn-ricevibilita  fs-16","label","AVVIA ISTRUTTORIA",3,"disabled","click",4,"ngIf"],["pButton","","type","button","label","VISUALIZZA","class","btn-white  btn-ricevibilita  fs-16","id","visualizza-domande",3,"click",4,"ngIf"],["pButton","","type","button","label","VISUALIZZA","id","visualizza-domande",1,"btn-white","btn-ricevibilita","fs-16",3,"click"],["pButton","","type","button","label","AVVIA RICEVIBILITA",1,"btn-green","btn-ricevibilita","fs-16",3,"disabled","click"],["pButton","","type","button","label","AVVIA ISTRUTTORIA",1,"btn-green","btn-ricevibilita","fs-16",3,"disabled","click"]],template:function(t,i){1&t&&(r.Tb(0,"div",0),r.Tb(1,"p-card",1),r.Tb(2,"p-header"),r.Tb(3,"div"),r.Ob(4,"img",2),r.Tb(5,"label",3),r.Oc(6),r.gc(7,"translate"),r.Sb(),r.Sb(),r.Sb(),r.Tb(8,"div"),r.Tb(9,"label",4),r.Oc(10),r.Sb(),r.Sb(),r.Tb(11,"p-footer"),r.Mc(12,qt,2,1,"div",5),r.Tb(13,"div"),r.Mc(14,Ht,1,1,"button",6),r.Mc(15,jt,1,1,"button",7),r.Ob(16,"br"),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Bb(4),r.oc("src","assets/img/img-",i.riepilogoStatoDomande.stato,".jpg",r.Gc),r.Bb(2),r.Qc(" ",r.hc(7,6,"StatoDomandaEnum."+i.riepilogoStatoDomande.stato),""),r.Bb(4),r.Pc(i.riepilogoStatoDomande.counter),r.Bb(2),r.mc("ngIf",i.riepilogoStatoDomande.counter>0),r.Bb(2),r.mc("ngIf","PROTOCOLLATA"==i.riepilogoStatoDomande.stato),r.Bb(1),r.mc("ngIf","RICEVIBILE"==i.riepilogoStatoDomande.stato))},directives:[$t.a,g.c,g.b,o.t,h.b],pipes:[f.d],styles:[".btn-ricevibilita[_ngcontent-%COMP%]{max-width:198px;margin-left:auto;margin-right:auto}.icon-ricevibilita[_ngcontent-%COMP%]{min-height:50px;-o-object-fit:contain;object-fit:contain}"]}),t})();var Yt=e("A+aF"),Jt=e("kPZZ"),Wt=e("H6Hf"),Xt=e("zUH4"),ti=e("cH1L"),ii=e("vxfF"),ei=e("R5y+"),oi=e("BGwN"),ai=e("3u2U"),ni=e("jA5t"),ri=e("wS7k"),ci=e("SLJP"),si=e("d/lR"),li=e("Ivbe"),di=e("c8LR"),bi=e("+WeO"),ui=e("K7SP"),pi=e("dS4e"),gi=e("IWUw"),mi=e("R/2S"),hi=e("38Fb"),Si=e("T8KO"),fi=e("KwdP"),Ti=e("x5p7"),vi=e("KDHY"),Ii=e("FK/F"),Oi=e("3Kf3"),Ci=e("yhG/"),Ai=e("1SSY"),Di=e("AD9J"),Pi=e("+7Pr"),Bi=e("D0mR"),Ni=e("QceE"),zi=e("Rt+w"),Mi=e("O3Kt"),Ri=e("KYTB"),yi=e("8ioI"),Ei=e("P028"),Li=e("DYOT"),wi=e("wcdC"),xi=e("+DHz"),_i=e("KkCm"),ki=e("V6/s"),Ui=e("MM/6"),Fi=e("SnyB"),Gi=e("Qfly"),Vi=e("1v+U"),Zi=e("rgW5"),$i=e("NYM0"),Qi=e("7sbD"),qi=e("ARHT"),Hi=e("a6xG"),ji=e("x3AQ"),Ki=e("FVER"),Yi=e("jkBy"),Ji=e("GdHY"),Wi=e("auzs"),Xi=e("1SOg"),te=e("cIsh"),ie=e("jTGf"),ee=e("zKaa"),oe=e("BYQQ"),ae=e("4zPq"),ne=e("2c1J"),re=e("B4vn"),ce=e("QiK6"),se=e("Pgx+"),le=e("684u"),de=e("vMYJ");let be=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(i){return new(i||t)},imports:[[o.c,a.a,Vt,Yt.b],Yt.b]}),t})();r.Hc(Mt,[o.q,o.r,o.s,o.t,o.A,o.w,o.x,o.y,o.z,o.u,o.v,u.I,u.x,u.H,u.c,u.y,u.B,u.a,u.E,u.F,u.A,u.s,u.t,u.D,u.o,u.n,u.z,u.b,u.d,u.v,u.w,u.u,Jt.a,g.c,g.b,g.e,h.b,h.a,Wt.a,c.j,c.f,c.h,c.g,c.k,Xt.a,s.a,F.q,F.p,F.m,F.k,F.c,F.j,F.g,F.d,F.b,F.o,F.u,F.r,F.s,F.i,F.h,F.n,F.e,F.f,F.l,F.a,ti.b,ii.b,ii.a,ii.c,ii.d,S.a,ei.a,oi.a,ai.a,m.a,$t.a,ni.a,ri.a,ci.a,si.a,li.a,di.a,bi.a,ui.a,pi.a,gi.a,mi.a,hi.a,Si.a,fi.a,Ti.a,vi.a,Ii.a,Ii.b,Oi.a,Ci.a,Ci.c,Ai.a,Di.a,Pi.a,Bi.a,Ni.a,f.a,zi.a,zi.b,zi.f,zi.g,zi.e,zi.d,u.h,u.k,u.i,u.l,u.e,Mi.a,Ri.a,yi.a,Ei.b,Li.a,wi.a,xi.a,_i.a,ki.a,Ui.a,Fi.a,Yt.a,Gi.a,Vi.a,Zi.b,Zi.a,Zi.d,$i.a,Qi.a,qi.a,Hi.a,ji.a,Ki.a,Yi.a,Ji.a,Wi.a,Xi.a,te.a,ie.a,ee.a,oe.a,ae.a,ne.a,n.a,l,Mt,Kt,U,X,st,Ft,q],[o.b,o.G,o.p,o.k,o.E,o.g,o.C,o.F,o.d,o.f,o.i,o.j,o.l,f.d,re.b,re.a,ce.a,se.a,le.a,de.a])}}]);