(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{eMq4:function(i,e,t){"use strict";t.r(e),t.d(e,"RicercaUtentiModule",(function(){return Ki}));var o=t("R69K"),n=t("rgW5"),c=t("A+aF"),s=t("SnyB"),r=t("GLSp"),a=t("BGwN"),l=t("tyNb"),b=t("ofXK"),d=t("JEAp"),p=t("XNiG"),f=t("cp0P"),u=t("EY2u"),m=t("1G5W"),g=t("JIr8"),h=t("Tn7N");class T{}var S=t("/vOn"),v=t("fXoL"),O=t("69Tm"),U=t("bYf8"),B=t("3Pt+"),C=t("GFTO"),P=t("Vh/Q"),z=t("eIep"),A=t("RtSl"),I=t("sYmb"),E=t("kPZZ"),F=t("A1Yd"),M=t("R5y+"),y=t("AD9J"),D=t("yhG/");const R=function(){return{width:"100%"}};function N(i,e){if(1&i){const i=v.Ub();v.Tb(0,"p-tree",34),v.bc("selectionChange",(function(e){return v.Ec(i),v.fc(6).selectedSediNodes=e})),v.Sb()}if(2&i){const i=v.fc(6);v.Kc(v.rc(4,R)),v.mc("value",i.entiCaaTreeNode)("selection",i.selectedSediNodes)}}function G(i,e){if(1&i&&(v.Tb(0,"div",32),v.Mc(1,N,1,5,"p-tree",33),v.Sb()),2&i){const i=v.fc(5);v.Bb(1),v.mc("ngIf",i.entiCaaTreeNode)}}function x(i,e){if(1&i){const i=v.Ub();v.Tb(0,"div"),v.Tb(1,"div",27),v.Tb(2,"p-checkbox",28),v.bc("onChange",(function(e){v.Ec(i);const t=v.fc().$implicit;return v.fc(3).enableDisableProfileInput(t.id,e.checked)})),v.Sb(),v.Tb(3,"span"),v.Tb(4,"p-checkbox",28,29),v.bc("onChange",(function(e){v.Ec(i);const t=v.fc().$implicit;return v.fc(3).disableInput(t,e.checked)})),v.gc(6,"translate"),v.Sb(),v.Ob(7,"i",30),v.Sb(),v.Sb(),v.Mc(8,G,2,1,"div",31),v.Sb()}if(2&i){const i=v.Bc(5),e=v.fc().$implicit,t=v.fc(3);v.Bb(2),v.mc("label",e.descrizione)("formControl",t.profiloUtenteFormGroup.controls[e.id]),v.Bb(2),v.nc("label",v.hc(6,6,"sospendi")),v.mc("formControl",t.profiloUtenteFormGroup.controls["disabled-"+e.id]),v.Bb(3),v.mc("className",i.checked?"pi pi-lock":"pi pi-unlock"),v.Bb(1),v.mc("ngIf",t.profiloUtenteFormGroup.controls[e.id].value&&!t.profiloUtenteFormGroup.controls["disabled-"+e.id].value)}}function w(i,e){if(1&i&&(v.Tb(0,"div"),v.Tb(1,"span"),v.Tb(2,"b"),v.Oc(3),v.Sb(),v.Oc(4),v.Sb(),v.Sb()),2&i){const i=e.$implicit,t=v.fc(6);v.Bb(3),v.Pc(t.labels.cuaaSigla),v.Bb(1),v.Qc(" ",i.cuaa,"")}}function _(i,e){if(1&i&&(v.Tb(0,"div"),v.Mc(1,w,5,2,"div",15),v.Sb()),2&i){const i=v.fc(5);v.Bb(1),v.mc("ngForOf",i.datiUtente.aziende)}}function $(i,e){if(1&i&&(v.Rb(0),v.Oc(1),v.Qb()),2&i){const i=e.$implicit;v.Bb(1),v.Rc(" ",i.denominazioneAzienda," - ",i.comune,", ")}}function k(i,e){if(1&i&&(v.Tb(0,"div",38),v.Tb(1,"strong"),v.Oc(2),v.gc(3,"translate"),v.Sb(),v.Ob(4,"br"),v.Mc(5,$,2,2,"ng-container",15),v.Sb()),2&i){const i=v.fc(5);v.Bb(2),v.Qc("",v.hc(3,2,"gestioneUtenze.distributori")," "),v.Bb(3),v.mc("ngForOf",i.datiUtente.distributori)}}function j(i,e){if(1&i){const i=v.Ub();v.Tb(0,"div",27),v.Tb(1,"p-checkbox",35),v.bc("onChange",(function(e){v.Ec(i);const t=v.fc().$implicit;return v.fc(3).enableDisableProfileInput(t.id,e.checked)})),v.Sb(),v.Tb(2,"span"),v.Tb(3,"p-checkbox",28,29),v.bc("onChange",(function(e){v.Ec(i);const t=v.fc().$implicit;return v.fc(3).disableInput(t,e.checked)})),v.gc(5,"translate"),v.Sb(),v.Ob(6,"i",30),v.Sb(),v.Sb(),v.Mc(7,_,2,1,"div",36),v.Mc(8,k,6,4,"div",37)}if(2&i){const i=v.Bc(4),e=v.fc().$implicit,t=v.fc(3);v.Bb(1),v.mc("formControl",t.profiloUtenteFormGroup.controls[e.id])("label",e.descrizione),v.Bb(2),v.nc("label",v.hc(5,7,"sospendi")),v.mc("formControl",t.profiloUtenteFormGroup.controls["disabled-"+e.id]),v.Bb(3),v.mc("className",i.checked?"pi pi-lock":"pi pi-unlock"),v.Bb(1),v.mc("ngIf",t.profiloUtenteFormGroup.controls[e.id].value&&"azienda"==e.identificativo),v.Bb(1),v.mc("ngIf",t.profiloUtenteFormGroup.controls[e.id].value&&"operatore_distributore"==e.identificativo)}}function Q(i,e){if(1&i&&(v.Tb(0,"div"),v.Mc(1,x,9,8,"div",25),v.Mc(2,j,9,9,"ng-template",null,26,v.Nc),v.Sb()),2&i){const i=e.$implicit,t=v.Bc(3);v.Bb(1),v.mc("ngIf","caa"==i.identificativo)("ngIfElse",t)}}function L(i,e){if(1&i&&(v.Tb(0,"div"),v.Mc(1,Q,4,2,"div",15),v.Sb()),2&i){const i=e.$implicit;v.Bb(1),v.mc("ngForOf",i.profili)}}function V(i,e){if(1&i){const i=v.Ub();v.Tb(0,"div"),v.Tb(1,"span"),v.Tb(2,"p-checkbox",35),v.bc("onChange",(function(t){v.Ec(i);const o=e.$implicit,n=v.fc().$implicit;return v.fc(2).enableDisableProfileInputByControlsList(o.id,n.profili,t.checked)})),v.Sb(),v.Sb(),v.Sb()}if(2&i){const i=e.$implicit,t=v.fc(3);v.Bb(2),v.mc("formControl",t.profiloUtenteFormGroup.controls[i.id])("label",i.descrizione)}}function q(i,e){if(1&i){const i=v.Ub();v.Tb(0,"p-accordion"),v.Tb(1,"p-accordionTab",39),v.Tb(2,"div",40),v.Tb(3,"span"),v.Tb(4,"p-checkbox",28,29),v.bc("onChange",(function(t){v.Ec(i);const o=e.$implicit;return v.fc(2).disableInputList(o.profili,t.checked,"disabled-MultiProfileInput")})),v.gc(6,"translate"),v.Sb(),v.Ob(7,"i",30),v.Sb(),v.Sb(),v.Tb(8,"div"),v.Mc(9,V,3,2,"div",15),v.Sb(),v.Sb(),v.Sb()}if(2&i){const i=e.$implicit,t=v.Bc(5),o=v.fc(2);v.Bb(1),v.mc("header",o.labels[i.responsabilita])("selected",!1),v.Bb(3),v.nc("label",v.hc(6,6,"sospendi")),v.mc("formControl",o.profiloUtenteFormGroup.controls["disabled-MultiProfileInput"]),v.Bb(3),v.mc("className",t.checked?"pi pi-lock":"pi pi-unlock"),v.Bb(2),v.mc("ngForOf",i.profili)}}function K(i,e){if(1&i&&v.Ob(0,"p-accordionTab",42),2&i){const i=v.fc().$implicit;v.mc("header",i.profili[0].descrizione)("selected",!1)("disabled",!0)}}function Z(i,e){if(1&i&&(v.Tb(0,"p-accordion"),v.Mc(1,K,1,3,"p-accordionTab",41),v.Sb()),2&i){const i=e.$implicit;v.Bb(1),v.mc("ngForOf",i.profili)}}function J(i,e){if(1&i&&(v.Tb(0,"div",8),v.Tb(1,"h4",9),v.Ob(2,"i",17),v.Tb(3,"span"),v.Oc(4),v.gc(5,"translate"),v.Sb(),v.Sb(),v.Tb(6,"div",11),v.Tb(7,"div",43),v.Tb(8,"div",44),v.Ob(9,"p-radioButton",45),v.gc(10,"translate"),v.Sb(),v.Tb(11,"div",44),v.Ob(12,"p-radioButton",46),v.gc(13,"translate"),v.Sb(),v.Tb(14,"div",44),v.Ob(15,"p-radioButton",47),v.gc(16,"translate"),v.Sb(),v.Sb(),v.Sb(),v.Sb()),2&i){const i=v.fc(2);v.Bb(4),v.Qc("",v.hc(5,7,"RICERCA_UTENTE.motivazioneAttivita")," *"),v.Bb(5),v.nc("label",v.hc(10,9,"gestioneUtenze.ALTRO")),v.mc("formControl",i.profiloUtenteFormGroup.controls.motivazioneDisattivazione),v.Bb(3),v.nc("label",v.hc(13,11,"gestioneUtenze.PENSIONAMENTO")),v.mc("formControl",i.profiloUtenteFormGroup.controls.motivazioneDisattivazione),v.Bb(3),v.nc("label",v.hc(16,13,"gestioneUtenze.FINE_RAPPORTO")),v.mc("formControl",i.profiloUtenteFormGroup.controls.motivazioneDisattivazione)}}const W=function(){return{overflow:"auto","max-height":"750px"}};function H(i,e){if(1&i){const i=v.Ub();v.Tb(0,"div",1),v.Tb(1,"p-dialog",2,3),v.bc("visibleChange",(function(e){return v.Ec(i),v.fc().display=e})),v.Tb(3,"form",4),v.Tb(4,"div",5),v.Tb(5,"strong",6),v.Oc(6),v.Sb(),v.Tb(7,"span",7),v.Oc(8),v.Sb(),v.Tb(9,"span"),v.Oc(10),v.Sb(),v.Sb(),v.Tb(11,"div",8),v.Tb(12,"h4",9),v.Ob(13,"i",10),v.Tb(14,"span"),v.Oc(15),v.Sb(),v.Sb(),v.Tb(16,"div",11),v.Tb(17,"p-panel"),v.Tb(18,"p-header",12),v.Ob(19,"img",13),v.Tb(20,"span",14),v.Oc(21),v.Sb(),v.Sb(),v.Mc(22,L,2,1,"div",15),v.Mc(23,q,10,8,"p-accordion",15),v.Mc(24,Z,2,1,"p-accordion",15),v.Sb(),v.Sb(),v.Sb(),v.Mc(25,J,17,15,"div",16),v.Tb(26,"div",8),v.Tb(27,"h4",9),v.Ob(28,"i",17),v.Tb(29,"span"),v.Oc(30),v.gc(31,"translate"),v.Sb(),v.Sb(),v.Tb(32,"div",11),v.Ob(33,"textarea",18),v.Sb(),v.Sb(),v.Ob(34,"hr",19),v.Tb(35,"div",20),v.Tb(36,"div",21),v.Tb(37,"button",22),v.bc("click",(function(){return v.Ec(i),v.fc().onClose()})),v.Sb(),v.Sb(),v.Tb(38,"div",21),v.Tb(39,"div",23),v.Tb(40,"button",24),v.bc("click",(function(){return v.Ec(i),v.fc().onSave()})),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Sb()}if(2&i){const i=v.fc();v.Bb(1),v.mc("visible",i.display)("focusOnShow",!1)("contentStyle",v.rc(20,W)),v.Bb(2),v.mc("formGroup",i.profiloUtenteFormGroup),v.Bb(3),v.Pc(i.datiUtente.nome+" "+i.datiUtente.cognome),v.Bb(2),v.Pc(i.labels.codiceFiscale.toLowerCase()),v.Bb(2),v.Pc(i.datiUtente.codiceFiscale),v.Bb(5),v.Pc(i.labels.configurazioneProfili),v.Bb(6),v.Pc(i.labels.nuovoSistemaInformativoAgricoltura),v.Bb(1),v.mc("ngForOf",i.responsabilitaPresentationSingleProfile),v.Bb(1),v.mc("ngForOf",i.responsabilitaPresentationMultiProfile),v.Bb(1),v.mc("ngForOf",i.responsabilitaPresentationSingleProfileNoRuoli),v.Bb(1),v.mc("ngIf",i.isDisplayMotivation()),v.Bb(5),v.Pc(v.hc(31,18,"RICERCA_UTENTE.variazioniRichiesta")),v.Bb(3),v.mc("rows",3)("formControl",i.profiloUtenteFormGroup.controls.variazioniRichiesta),v.Bb(4),v.mc("label",i.labels.ANNULLA),v.Bb(3),v.mc("label",i.labels.salva)}}class Y{}let X=(()=>{class i{constructor(i,e,t,o){this.gestioneUtenzeService=i,this.utentiService=e,this.messageService=t,this.translateService=o,this.display=!1,this.displayChange=new v.n,this.componentDestroyed$=new p.a,this.isDisplayMotivazioneDisattivazione=!1,this.labels=O.a;let n={variazioniRichiesta:new B.g("",B.G.required),"disabled-MultiProfileInput":new B.g({value:!1,disabled:!1})};this.profiloUtenteFormGroup=new B.j(n)}handleUfficiCaaOB(i){this.entiCaaTreeNode=C.a.getTreeNodes(i)}handleProfiliOB(i){let e=new Map;for(let t of i)e.has(t.responsabilita)?e.get(t.responsabilita).push(t):e.set(t.responsabilita,[t]);this.responsabilitaPresentationSingleProfileNoRuoli=[],this.responsabilitaPresentationSingleProfile=[],this.responsabilitaPresentationMultiProfile=[];for(let t of Array.from(e.keys()).sort()){let i=new Y,o=e.get(t).sort();i.responsabilita=t,i.profili=o,1===o.length?o[0].haRuoli?this.responsabilitaPresentationSingleProfile.push(i):this.responsabilitaPresentationSingleProfileNoRuoli.push(i):this.responsabilitaPresentationMultiProfile.push(i)}this.responsabilitaPresentationSingleProfileNoRuoli.sort((i,e)=>i.responsabilita>e.responsabilita?1:-1),this.responsabilitaPresentationSingleProfile.sort((i,e)=>i.profili[0]>e.profili[0]?1:-1),this.responsabilitaPresentationMultiProfile.sort((i,e)=>i.responsabilita>e.responsabilita?1:-1);for(let t of this.responsabilitaPresentationSingleProfile){let i=t.profili[0];this.profiloUtenteFormGroup.controls[i.id]=new B.g(!1),this.profiloUtenteFormGroup.controls["disabled-"+i.id]=new B.g({value:!1,disabled:!0})}for(let t of this.responsabilitaPresentationMultiProfile)t.profili.forEach(i=>{this.profiloUtenteFormGroup.controls[i.id]=new B.g(!1),this.profiloUtenteFormGroup.controls["disabled-"+i.id]=new B.g({value:!1,disabled:!0})})}isExistDisabledProfiles(){let i=!1;for(let e in this.profiloUtenteFormGroup.controls)if(e.startsWith("disabled-")&&this.profiloUtenteFormGroup.controls[e].value){console.log("found enabled 'disable button' for input: "+e),i=!0;break}return i}disableInput(i,e){e?(this.profiloUtenteFormGroup.controls[i.id].disable(),this.profiloUtenteFormGroup.controls["disabled-"+i.id].setValue(!0),this.profiloUtenteFormGroup.controls["disabled-"+i.id].enable(),this.isDisplayMotivazioneDisattivazione||(this.isDisplayMotivazioneDisattivazione=!0,this.profiloUtenteFormGroup.addControl("motivazioneDisattivazione",new B.g(null,B.G.required)))):(this.profiloUtenteFormGroup.controls[i.id].enable(),this.profiloUtenteFormGroup.controls["disabled-"+i.id].setValue(!1),this.profiloUtenteFormGroup.controls["disabled-"+i.id].enable(),this.isExistDisabledProfiles()||(this.isDisplayMotivazioneDisattivazione=!1,this.profiloUtenteFormGroup.removeControl("motivazioneDisattivazione")))}disableInputList(i,e,t){t&&(this.profiloUtenteFormGroup.controls[t].setValue(e),e&&this.profiloUtenteFormGroup.controls[t].enable());let o=!1;for(let n of i)t&&!o&&this.profiloUtenteFormGroup.controls[n.id].value&&(this.profiloUtenteFormGroup.controls[t].enable(),o=!0),this.disableInput(n,e);o||this.profiloUtenteFormGroup.controls[t].disable()}enableDisableProfileInput(i,e){e?this.profiloUtenteFormGroup.controls["disabled-"+i].enable():this.profiloUtenteFormGroup.controls["disabled-"+i].disable()}enableDisableProfileInputByControlsList(i,e,t){t?this.profiloUtenteFormGroup.controls["disabled-"+i].enable():this.profiloUtenteFormGroup.controls["disabled-"+i].disable(),e.some(i=>this.profiloUtenteFormGroup.controls[i.id].value)?this.profiloUtenteFormGroup.controls["disabled-MultiProfileInput"].enable():this.profiloUtenteFormGroup.controls["disabled-MultiProfileInput"].disable()}getProfiloCaaFormControl(){let i=this.responsabilitaPresentationSingleProfile.map(i=>i.profili).find(i=>!!i.find(i=>"caa"===i.identificativo));return i&&i.length>0?i[0]:null}popolaDatiDomanda(){this.profiloUtenteFormGroup.reset();let i=this.datiUtente.sedi,e=void 0;for(let t of this.datiUtente.profili){let o=this.profiloUtenteFormGroup.controls[t.id];o?(o.setValue(!0),this.disableInput(t,t.disabled),"caa"===t.identificativo?(this.selectedSediNodes=C.a.selectEntiSedi(this.entiCaaTreeNode,i.map(i=>i.id)),this.profiloUtenteFormGroup.controls[t.id].setValue(this.selectedSediNodes.length>0)):this.responsabilitaPresentationMultiProfile.some(i=>i.profili.some(i=>i.id===t.id))&&(void 0===e&&(e=[],this.responsabilitaPresentationMultiProfile.forEach(i=>i.profili.forEach(i=>{let t=this.datiUtente.profili.find(e=>e.id===i.id);t&&e.push(t)}))),t.disabled&&this.disableInputList(e,!0,"disabled-MultiProfileInput"))):console.log("[WARN] id controllo mancante: "+t.id)}this.profiloUtenteFormGroup.controls.motivazioneDisattivazione&&this.profiloUtenteFormGroup.controls.motivazioneDisattivazione.setValue(this.datiUtente.motivazioneDisattivazione)}isDisplayMotivation(){return this.profiloUtenteFormGroup.controls.motivazioneDisattivazione&&this.isDisplayMotivazioneDisattivazione}ngOnInit(){}onClose(){this.display=!1,this.displayChange.emit(!1)}onOpenOnUserID(i){this.gestioneUtenzeService.getDatiUtenteByCodiceFiscale(i).pipe(Object(z.a)(i=>(this.datiUtente=i,Object(f.a)([this.utentiService.getUfficiCaa().pipe(Object(g.a)(i=>{})),this.utentiService.getProfiliUtente().pipe(Object(g.a)(i=>{}))]))),Object(m.a)(this.componentDestroyed$)).subscribe(i=>{this.handleUfficiCaaOB(i[0]),this.handleProfiliOB(i[1]),this.popolaDatiDomanda(),this.display=!0,this.displayChange.emit(!0)})}isProfileSelected(i){return this.profiloUtenteFormGroup.controls[i].value}isProfileDisabled(i){return this.profiloUtenteFormGroup.controls["disabled-"+i].value}onSave(){if(!this.datiUtente.id)return void this.messageService.add(h.a.getToast("tst",h.b.error,h.a.changeStatusKo));if(!this.profiloUtenteFormGroup.valid)return void this.messageService.add(h.a.getToast("tst",h.b.warn,h.a.inputRequiredInvalid));let i=this.getProfiloCaaFormControl();if(i&&this.profiloUtenteFormGroup.controls[i.id]&&this.profiloUtenteFormGroup.controls[i.id].value&&0===this.selectedSediNodes.length)return void this.messageService.add(h.a.getToast("tst",h.b.warn,this.translateService.instant("RICHIESTE_ACCESSO.seProfiloCaaAlmeno1Sede")));let e=new U.b;e.profili=[],e.profiliDaDisattivare=[],e.sedi=[];let t=this.responsabilitaPresentationMultiProfile.concat(this.responsabilitaPresentationSingleProfile);for(let o of t)o.profili.forEach(i=>{let t=i.id;this.isProfileSelected(t)&&(this.isProfileDisabled(t)?e.profiliDaDisattivare.push(t):e.profili.push(t))});this.selectedSediNodes&&this.selectedSediNodes.forEach((i,t)=>{i.data&&e.sedi.push(i.data.id)}),e.variazioneRichiesta=this.profiloUtenteFormGroup.controls.variazioniRichiesta.value,e.motivazioneDisattivazione=this.profiloUtenteFormGroup.controls.motivazioneDisattivazione?this.profiloUtenteFormGroup.controls.motivazioneDisattivazione.value:null,this.utentiService.postIstruttoriaProfiloUtenteByUtente(this.datiUtente.id,e).subscribe(i=>{this.messageService.add(h.a.getToast("tst",h.b.success,h.a.OPERAZIONE_OK)),this.onClose()},i=>{this.messageService.add(h.a.getToast("tst",h.b.error,h.a.changeStatusKo))})}ngOnDestroy(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}}return i.\u0275fac=function(e){return new(e||i)(v.Nb(P.a),v.Nb(S.a),v.Nb(A.d),v.Nb(I.e))},i.\u0275cmp=v.Hb({type:i,selectors:[["modifica-configurazione-utente-dialog"]],outputs:{displayChange:"displayChange"},decls:1,vars:1,consts:[["id","confirm",4,"ngIf"],["id","confirm"],["width","900","modal","true","appendTo","body","closable","true","closeOnEscape","true",3,"visible","focusOnShow","contentStyle","visibleChange"],["dialog",""],[3,"formGroup"],[1,"d-flex","align-items-center","p-3","bg-success","text-white"],[1,"mr-3"],[1,"mr-1"],[1,"popup-box"],[1,"popup-box__head"],[1,"pi","pi-cog"],[1,"popup-box__body"],[1,"d-flex","align-items-center"],["src","assets/layout/images/misure_strutturali.png","alt","x"],[1,"ui-panel-title"],[4,"ngFor","ngForOf"],["class","popup-box",4,"ngIf"],[1,"pi","pi-plus-circle"],["autoResize","autoResize","required","",2,"width","100%",3,"rows","formControl"],[1,"my-3"],[1,"row"],[1,"col-6"],["pButton","","type","button",1,"annulla","btn--text",3,"label","click"],[1,"next-button"],["pButton","","type","button",1,"salva",3,"label","click"],[4,"ngIf","ngIfElse"],["selezionaProfilo",""],[1,"checkbox--top-level","profile-checkbox"],["binary","false",3,"label","formControl","onChange"],["isSuspended",""],[3,"className"],["style","margin-bottom: .5em",4,"ngIf"],[2,"margin-bottom",".5em"],["class","profile-checkbox","selectionMode","checkbox",3,"value","selection","style","selectionChange",4,"ngIf"],["selectionMode","checkbox",1,"profile-checkbox",3,"value","selection","selectionChange"],["binary","false",3,"formControl","label","onChange"],[4,"ngIf"],["class","pl-2",4,"ngIf"],[1,"pl-2"],[3,"header","selected"],[1,"multiprofile-disable-button"],[3,"header","selected","disabled",4,"ngFor","ngForOf"],[3,"header","selected","disabled"],[1,"ui-g"],[1,"ui-g-4"],["name","motivazioneDisattivazioneGruppo","value","ALTRO",3,"label","formControl"],["name","motivazioneDisattivazioneGruppo","value","PENSIONAMENTO",3,"label","formControl"],["name","motivazioneDisattivazioneGruppo","value","FINE_RAPPORTO",3,"label","formControl"]],template:function(i,e){1&i&&v.Mc(0,H,41,21,"div",0),2&i&&v.mc("ngIf",e.datiUtente)},directives:[b.t,c.a,B.I,B.t,B.k,E.a,A.c,b.s,B.c,B.D,B.s,B.h,F.b,M.a,y.a,D.a,D.c,a.a],pipes:[I.d],styles:[".dialog-config[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #dedede;border-top:0}.ng-dirty.ng-invalid[_ngcontent-%COMP%]{border-color:red}.profile-checkbox[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex:auto;justify-content:space-between}.multiprofile-disable-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex:auto;justify-content:flex-end}"]}),i})();var ii=t("arS9"),ei=t("O3Kt"),ti=t("KYTB"),oi=t("+WeO");const ni=["configurazioneUtenteDialog"];function ci(i,e){if(1&i&&(v.Tb(0,"p",35),v.Oc(1),v.Sb()),2&i){v.fc(2);const i=v.Bc(23);v.Bb(1),v.Qc(" ",i.errors.nomeErrato," ")}}function si(i,e){if(1&i&&(v.Tb(0,"div"),v.Mc(1,ci,2,1,"p",34),v.Sb()),2&i){v.fc();const i=v.Bc(23);v.Bb(1),v.mc("ngIf",null==i.errors?null:i.errors.nomeErrato)}}function ri(i,e){if(1&i&&(v.Tb(0,"p",35),v.Oc(1),v.Sb()),2&i){v.fc(2);const i=v.Bc(30);v.Bb(1),v.Qc(" ",i.errors.cognomeErrato," ")}}function ai(i,e){if(1&i&&(v.Tb(0,"div"),v.Mc(1,ri,2,1,"p",34),v.Sb()),2&i){v.fc();const i=v.Bc(30);v.Bb(1),v.mc("ngIf",null==i.errors?null:i.errors.cognomeErrato)}}function li(i,e){if(1&i&&(v.Tb(0,"p",35),v.Oc(1),v.Sb()),2&i){v.fc(2);const i=v.Bc(37);v.Bb(1),v.Qc(" ",i.errors.cfErrato," ")}}function bi(i,e){if(1&i&&(v.Tb(0,"div"),v.Mc(1,li,2,1,"p",34),v.Sb()),2&i){v.fc();const i=v.Bc(37);v.Bb(1),v.mc("ngIf",null==i.errors?null:i.errors.cfErrato)}}function di(i,e){if(1&i&&(v.Tb(0,"div",44),v.Tb(1,"strong"),v.Oc(2),v.gc(3,"translate"),v.Sb(),v.Oc(4),v.Sb()),2&i){const i=v.fc().$implicit;v.Bb(2),v.Pc(v.hc(3,2,"SRT")),v.Bb(2),v.Qc(" ",i.profili.ruoloSrt," ")}}function pi(i,e){1&i&&(v.Tb(0,"div",44),v.Oc(1),v.gc(2,"translate"),v.Sb()),2&i&&(v.Bb(1),v.Qc(" ",v.hc(2,1,"RICERCA_UTENTE.NON_TROVATO_SRT")," "))}function fi(i,e){if(1&i&&(v.Tb(0,"span"),v.Oc(1),v.Sb()),2&i){const i=v.fc().$implicit;v.Bb(1),v.Pc(i.descrizione)}}function ui(i,e){if(1&i&&(v.Tb(0,"del"),v.Oc(1),v.Sb()),2&i){const i=v.fc().$implicit;v.Bb(1),v.Pc(i.descrizione)}}function mi(i,e){1&i&&(v.Tb(0,"i",47),v.Oc(1," lock "),v.Sb())}function gi(i,e){if(1&i&&(v.Tb(0,"div",44),v.Tb(1,"strong"),v.Oc(2,"A4G "),v.Sb(),v.Mc(3,fi,2,1,"span",17),v.Mc(4,ui,2,1,"del",17),v.Mc(5,mi,2,0,"i",46),v.Sb()),2&i){const i=e.$implicit;v.Bb(3),v.mc("ngIf",!i.disabled),v.Bb(1),v.mc("ngIf",i.disabled),v.Bb(1),v.mc("ngIf",i.disabled)}}function hi(i,e){if(1&i&&(v.Tb(0,"div"),v.Mc(1,gi,6,3,"div",45),v.Sb()),2&i){const i=v.fc().$implicit;v.Bb(1),v.mc("ngForOf",i.profili.profiliA4g)}}function Ti(i,e){1&i&&(v.Tb(0,"div"),v.Tb(1,"div",44),v.Oc(2),v.gc(3,"translate"),v.Sb(),v.Sb()),2&i&&(v.Bb(2),v.Qc(" ",v.hc(3,1,"RICERCA_UTENTE.NON_TROVATO_A4G"),""))}function Si(i,e){if(1&i&&(v.Tb(0,"div",44),v.Tb(1,"strong"),v.Oc(2,"AGS"),v.Sb(),v.Oc(3),v.Sb()),2&i){const i=e.$implicit;v.Bb(3),v.Qc(" ",i,"")}}function vi(i,e){if(1&i&&(v.Tb(0,"div"),v.Mc(1,Si,4,1,"div",45),v.Sb()),2&i){const i=v.fc().$implicit;v.Bb(1),v.mc("ngForOf",i.profili.profiliAgs)}}function Oi(i,e){1&i&&(v.Tb(0,"div"),v.Tb(1,"div",44),v.Oc(2),v.gc(3,"translate"),v.Sb(),v.Sb()),2&i&&(v.Bb(2),v.Qc(" ",v.hc(3,1,"RICERCA_UTENTE.NON_TROVATO_AGS"),""))}function Ui(i,e){if(1&i){const i=v.Ub();v.Tb(0,"p-accordionTab",36),v.Tb(1,"p-header"),v.Tb(2,"div"),v.Oc(3),v.gc(4,"translate"),v.Tb(5,"strong",37),v.Oc(6),v.Sb(),v.Sb(),v.Tb(7,"div",38),v.Tb(8,"p-button",39),v.bc("click",(function(t){v.Ec(i);const o=e.$implicit,n=v.fc();return t.preventDefault(),n.vaiAlloStorico(o)})),v.gc(9,"translate"),v.Sb(),v.Tb(10,"p-button",40),v.bc("click",(function(t){v.Ec(i);const o=e.$implicit,n=v.fc();return t.stopPropagation(),n.openConfigura(!!o.profili.profiliA4g,o.cf)})),v.gc(11,"translate"),v.Sb(),v.Sb(),v.Sb(),v.Tb(12,"div",41),v.Tb(13,"div",26),v.Mc(14,di,5,4,"div",42),v.Mc(15,pi,3,3,"ng-template",null,43,v.Nc),v.Sb(),v.Tb(17,"div",26),v.Mc(18,hi,2,1,"div",17),v.Mc(19,Ti,4,3,"div",17),v.Sb(),v.Tb(20,"div",26),v.Mc(21,vi,2,1,"div",17),v.Mc(22,Oi,4,3,"div",17),v.Sb(),v.Sb(),v.Sb()}if(2&i){const i=e.$implicit,t=v.Bc(16);v.mc("selected",!1),v.Bb(3),v.Rc("",v.hc(4,14,"CODICE_FISCALE"),": ",i.cf," "),v.Bb(3),v.Pc(i.profili.denominazione),v.Bb(2),v.nc("label",v.hc(9,16,"RICERCA_UTENTE.STORICO")),v.mc("disabled",!i.profili.profiliA4g),v.Bb(2),v.nc("label",v.hc(11,18,"RICERCA_UTENTE.dettaglioUtente")),v.mc("disabled",!i.profili.profiliA4g),v.Bb(4),v.mc("ngIf",i.profili.ruoloSrt)("ngIfElse",t),v.Bb(4),v.mc("ngIf",i.profili.profiliA4g),v.Bb(1),v.mc("ngIf",!(i.profili.profiliA4g&&i.profili.profiliA4g.length>0)),v.Bb(2),v.mc("ngIf",i.profili.profiliAgs&&i.profili.profiliAgs.length>0),v.Bb(1),v.mc("ngIf",!(i.profili.profiliAgs&&i.profili.profiliAgs.length>0))}}const Bi=function(){return{marginTop:"70px"}},Ci=function(i){return{"is-invalid":i}};class Pi{addA4gProfile(i,e){this.profiliA4g||(this.profiliA4g=new Array),this.profiliA4g.some(e=>e.descrizione===i)||this.profiliA4g.push({descrizione:i,disabled:e})}addAgsProfile(i){this.profiliAgs||(this.profiliAgs=[]),this.profiliAgs.includes(i)||this.profiliAgs.push(i)}}class zi{}let Ai=(()=>{class i{constructor(i,e,t,o){this.utentiService=i,this.route=e,this.messages=t,this.router=o,this.componentDestroyed$=new p.a,this.utenti=[]}ngOnInit(){this.datiUtente=new T,this.route.queryParams.pipe(Object(m.a)(this.componentDestroyed$)).subscribe(i=>{let e=i["ricerca-nome"],t=i["ricerca-cognome"],o=i["ricerca-cf"];(e||t||o)&&(this.nome=e,this.cognome=t,this.codiceFiscale=o,this.eseguiRicerca(e,t,o))})}eseguiRicerca(i,e,t){this.utenti=[],this.datiUtente.nome=i,this.datiUtente.cognome=e,this.datiUtente.codiceFiscale=t,Object(f.a)([this.utentiService.getProfiliSrt(this.datiUtente).pipe(Object(g.a)(i=>(this.messages.add(h.a.getToast("tst",h.b.error,h.a.erroreRecuperoDatiSrt)),Object(u.b)()))),this.utentiService.getProfiliAgs(this.datiUtente).pipe(Object(g.a)(i=>(this.messages.add(h.a.getToast("tst",h.b.error,h.a.erroreRecuperoDatiAgs)),Object(u.b)()))),this.utentiService.getProfiliA4g(this.datiUtente).pipe(Object(g.a)(i=>(this.messages.add(h.a.getToast("tst",h.b.error,h.a.erroreRecuperoDatiA4g)),Object(u.b)())))]).pipe(Object(m.a)(this.componentDestroyed$)).subscribe(i=>{let e=this.getProfilesArray(i[0]),t=this.getProfilesArray(i[1]),o=this.getProfilesArray(i[2]);this.creaUtenteCompleto(e,t,o)},i=>{console.log(i)})}onSubmit(i){let e={};this.nome&&(e["ricerca-nome"]=this.nome),this.cognome&&(e["ricerca-cognome"]=this.cognome),this.codiceFiscale&&(e["ricerca-cf"]=this.codiceFiscale),console.log("onSubmit routre navigaate"),this.router.navigate(["./"],{relativeTo:this.route,queryParams:e})}getProfilesArray(i){let e=[];return i&&i.forEach(i=>{e.push(i)}),e}openConfigura(i,e){return i&&this.configurazioneUtenteDialog.onOpenOnUserID(e),!1}onDialogClose(i){}creaUtenteCompleto(i,e,t){let o=new Map;if(i&&i.forEach(i=>{if(i){let e=o[this.toUpperCaseAndTrim(i.codiceFiscale)];e?e.ruoloSrt=e.ruoloSrt+", "+i.ruolo:(e=new Pi,e.denominazione=this.toUpperCaseAndTrim(i.nome)+" "+this.toUpperCaseAndTrim(i.cognome),e.ruoloSrt=i.ruolo,o[this.toUpperCaseAndTrim(i.codiceFiscale)]=e)}}),e&&e.forEach(i=>{if(i){let e=o[this.toUpperCaseAndTrim(i.cf)];e?e.addAgsProfile(i.utenza):(e=new Pi,e.denominazione=this.toUpperCaseAndTrim(i.nome)+" "+this.toUpperCaseAndTrim(i.cognome),e.addAgsProfile(i.utenza),o[this.toUpperCaseAndTrim(i.cf)]=e)}}),t&&t.forEach(i=>{if(i){let e=o[this.toUpperCaseAndTrim(i.codiceFiscale)];e?(i.profili.forEach(i=>{"UTENZA_TECNICA"!=i.responsabilita&&e.addA4gProfile(i.descrizione,i.disabled)}),e.id=i.id):(e=new Pi,e.id=i.id,e.denominazione=this.toUpperCaseAndTrim(i.nome)+" "+this.toUpperCaseAndTrim(i.cognome),o[this.toUpperCaseAndTrim(i.codiceFiscale)]=e,i.profili.forEach(i=>{"UTENZA_TECNICA"!=i.responsabilita&&e.addA4gProfile(i.descrizione,i.disabled)}))}}),0===Object.keys(o).length)this.messages.add(h.a.getToast("tst",h.b.warn,h.a.utenteNonTrovato));else{let i=[];Object.keys(o).map((function(e){let t=new zi;return t.cf=e,t.profili=o[e],i.push(t),i})),i.sort((function(i,e){return i.profili.denominazione>e.profili.denominazione?1:i.profili.denominazione<e.profili.denominazione?-1:i.cf>e.cf?1:i.cf<e.cf?-1:0})),this.utenti=i}}downloadUtentiA4gCsv(){this.utentiService.getEsportaUtentiA4gCsv().pipe(Object(m.a)(this.componentDestroyed$)).subscribe(i=>{d.saveAs(i.body,"utentiA4g.csv")},i=>{this.messages.add(h.a.getToast("tst",h.b.error,h.a.ERRORE_STAMPA_UTENTI_A4G))})}toUpperCaseAndTrim(i){return i?i.toUpperCase().trim():""}ngOnDestroy(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}vaiAlloStorico(i){this.router.navigate(["./ricercaUtenti/:idUtenza/storicoUtenza".replace(":idUtenza",i.profili.id)],{relativeTo:this.route.parent.parent})}}return i.\u0275fac=function(e){return new(e||i)(v.Nb(S.a),v.Nb(l.a),v.Nb(A.d),v.Nb(l.e))},i.\u0275cmp=v.Hb({type:i,selectors:[["app-ricerca-utenti"]],viewQuery:function(i,e){var t;1&i&&v.Jc(ni,!0),2&i&&v.Ac(t=v.cc())&&(e.configurazioneUtenteDialog=t.first)},decls:65,vars:39,consts:[["key","tst",3,"baseZIndex"],[3,"displayChange"],["configurazioneUtenteDialog",""],[1,"ui-g","ui-fluid","page-ricerca-utenti"],[1,"tophome"],[1,"ui-grid-fixed"],[1,"row","align-items-stretch"],[1,"col","d-inline-flex","justify-content-between","align-items-center"],[1,"btn-border-light"],["pButton","","icon","pi pi-arrow-down","iconPos","right",1,"border","h-100",3,"label","click"],[1,"ui-grid-fixed","boxgrey-user","mt-5"],[3,"ngSubmit"],["f","ngForm"],[1,"col-3","d-inline-flex","align-items-center"],[1,"mb-0","mr-2"],["type","text","name","nome","appValidaNome","","pInputText","",3,"ngModel","ngClass","ngModelChange"],["nomeInput","ngModel"],[4,"ngIf"],["type","text","name","cognome","appValidaCognome","","pInputText","",3,"ngModel","ngClass","ngModelChange"],["cognomeInput","ngModel"],["type","text","name","codiceFiscale","appValidaCf","","pInputText","",3,"ngModel","ngClass","ngModelChange"],["cfInput","ngModel"],[1,"col-3"],[1,"next-button","sm","h-100","command-button"],["pButton","","icon","ui-icon-search","type","submit",1,"h-100",3,"label","disabled"],[1,"ui-g-12","boxlanding","row","w-auto","p-0"],[1,"col-4"],[1,"card"],[1,"topcard"],["alt","logo","src","assets/layout/images/misure_strutturali.png"],["alt","logo","src","assets/layout/images/nuovo_sistema.png"],["alt","logo","src","assets/layout/images/sistema_informativo.png"],[1,"ui-g-12","p-0"],[3,"selected",4,"ngFor","ngForOf"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],[1,"ui-message","ui-messages-error","ui-corner-all"],[3,"selected"],[1,"ml-3"],[1,"ml-auto","d-flex","align-items-center"],["icon","pi pi-replay","iconPos","left",1,"ui-button-secondary","ml-4","command-button",3,"disabled","label","click"],["icon","pi pi-cog","iconPos","left",1,"ml-4","command-button",3,"disabled","label","click"],[1,"row","mb-5"],["class","box-user-role",4,"ngIf","ngIfElse"],["noSrt",""],[1,"box-user-role"],["class","box-user-role",4,"ngFor","ngForOf"],["class","material-icons","style","font-size: 120%;",4,"ngIf"],[1,"material-icons",2,"font-size","120%"]],template:function(i,e){if(1&i){const i=v.Ub();v.Ob(0,"p-toast",0),v.Tb(1,"modifica-configurazione-utente-dialog",1,2),v.bc("displayChange",(function(i){return e.onDialogClose(i)})),v.Sb(),v.Tb(3,"div",3),v.Tb(4,"div",4),v.Tb(5,"div",5),v.Tb(6,"div",6),v.Tb(7,"div",7),v.Tb(8,"h4"),v.Oc(9),v.gc(10,"translate"),v.Sb(),v.Tb(11,"div",8),v.Tb(12,"button",9),v.bc("click",(function(){return e.downloadUtentiA4gCsv()})),v.gc(13,"translate"),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Tb(14,"div",10),v.Tb(15,"form",11,12),v.bc("ngSubmit",(function(){v.Ec(i);const t=v.Bc(16);return e.onSubmit(t)})),v.Tb(17,"div",6),v.Tb(18,"div",13),v.Tb(19,"label",14),v.Oc(20),v.gc(21,"translate"),v.Sb(),v.Tb(22,"input",15,16),v.bc("ngModelChange",(function(i){return e.nome=i})),v.Sb(),v.Mc(24,si,2,1,"div",17),v.Sb(),v.Tb(25,"div",13),v.Tb(26,"label",14),v.Oc(27),v.gc(28,"translate"),v.Sb(),v.Tb(29,"input",18,19),v.bc("ngModelChange",(function(i){return e.cognome=i})),v.Sb(),v.Mc(31,ai,2,1,"div",17),v.Sb(),v.Tb(32,"div",13),v.Tb(33,"label",14),v.Oc(34),v.gc(35,"translate"),v.Sb(),v.Tb(36,"input",20,21),v.bc("ngModelChange",(function(i){return e.codiceFiscale=i})),v.Sb(),v.Mc(38,bi,2,1,"div",17),v.Sb(),v.Tb(39,"div",22),v.Tb(40,"div",23),v.Ob(41,"button",24),v.gc(42,"translate"),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Tb(43,"div",25),v.Tb(44,"div",26),v.Tb(45,"div",27),v.Tb(46,"div",28),v.Ob(47,"img",29),v.Tb(48,"h4"),v.Oc(49,"SRTrento - Misure strutturali"),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Tb(50,"div",26),v.Tb(51,"div",27),v.Tb(52,"div",28),v.Ob(53,"img",30),v.Tb(54,"h4"),v.Oc(55,"A4G - Nuovo Sistema Informativo Agricoltura"),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Tb(56,"div",26),v.Tb(57,"div",27),v.Tb(58,"div",28),v.Ob(59,"img",31),v.Tb(60,"h4"),v.Oc(61,"SIAP - Sistema Informativo Agricoltura"),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Sb(),v.Tb(62,"div",32),v.Tb(63,"p-accordion"),v.Mc(64,Ui,23,20,"p-accordionTab",33),v.Sb(),v.Sb(),v.Sb(),v.Sb()}if(2&i){const i=v.Bc(16),t=v.Bc(23),o=v.Bc(30),n=v.Bc(37);v.Kc(v.rc(32,Bi)),v.mc("baseZIndex",5e4),v.Bb(9),v.Pc(v.hc(10,20,"RICERCA_UTENTE.RICERCA_UTENTI")),v.Bb(3),v.nc("label",v.hc(13,22,"RICERCA_UTENTE.ESPORTA_UTENTI")),v.Bb(8),v.Pc(v.hc(21,24,"Nome")),v.Bb(2),v.mc("ngModel",e.nome)("ngClass",v.sc(33,Ci,t.invalid)),v.Bb(2),v.mc("ngIf",t.errors),v.Bb(3),v.Pc(v.hc(28,26,"Cognome")),v.Bb(2),v.mc("ngModel",e.cognome)("ngClass",v.sc(35,Ci,o.invalid)),v.Bb(2),v.mc("ngIf",o.errors),v.Bb(3),v.Pc(v.hc(35,28,"CF")),v.Bb(2),v.mc("ngModel",e.codiceFiscale)("ngClass",v.sc(37,Ci,n.invalid)),v.Bb(2),v.mc("ngIf",n.errors),v.Bb(3),v.nc("label",v.hc(42,30,"RICERCA_UTENTE.CERCA_UTENTE")),v.mc("disabled",!i.valid||!e.nome&&!e.cognome&&!e.codiceFiscale),v.Bb(23),v.mc("ngForOf",e.utenti)}},directives:[ii.a,X,F.b,B.I,B.t,B.u,B.c,ei.a,r.a,B.s,B.v,b.q,b.t,ti.a,oi.a,D.a,b.s,D.c,A.c,F.a],pipes:[I.d],styles:[""]}),i})();var Ii=t("eZS7"),Ei=t("yWug");function Fi(i,e){if(1&i&&(v.Tb(0,"tr"),v.Tb(1,"th",14),v.Oc(2),v.Sb(),v.Tb(3,"th",14),v.Oc(4),v.Sb(),v.Tb(5,"th",15),v.Oc(6),v.Sb(),v.Tb(7,"th",15),v.Oc(8),v.Sb(),v.Tb(9,"th",16),v.Oc(10),v.Sb(),v.Sb()),2&i){const i=v.fc(2);v.Bb(2),v.Pc(i.intestazioni.data),v.Bb(2),v.Pc(i.intestazioni.OPE),v.Bb(2),v.Pc(i.intestazioni.PROF),v.Bb(2),v.Pc(i.intestazioni.SEDI_CUAA_DIST),v.Bb(2),v.Pc(i.intestazioni.VAR_RICH_MOT_DISATT)}}function Mi(i,e){1&i&&(v.Tb(0,"i",20),v.Oc(1," lock "),v.Sb())}function yi(i,e){if(1&i&&(v.Tb(0,"li"),v.Tb(1,"span",18),v.Oc(2),v.Mc(3,Mi,2,0,"i",19),v.Sb(),v.Sb()),2&i){const i=e.$implicit;v.Bb(1),v.mc("ngClass",i.disabled?"disabled":"enabled"),v.Bb(1),v.Qc("",i.descrizione," "),v.Bb(1),v.mc("ngIf",i.disabled)}}function Di(i,e){if(1&i&&(v.Rb(0),v.Tb(1,"ul"),v.Mc(2,yi,4,3,"li",17),v.Sb(),v.Qb()),2&i){const i=v.fc().$implicit;v.Bb(2),v.mc("ngForOf",i.profili)}}function Ri(i,e){if(1&i&&(v.Tb(0,"li"),v.Tb(1,"span"),v.Oc(2),v.Sb(),v.Sb()),2&i){const i=e.$implicit;v.Bb(2),v.Pc(i.descrizione)}}function Ni(i,e){if(1&i&&(v.Rb(0),v.Tb(1,"span"),v.Oc(2),v.Sb(),v.Tb(3,"ul"),v.Mc(4,Ri,3,1,"li",17),v.Sb(),v.Qb()),2&i){const i=v.fc().$implicit,e=v.fc(2);v.Bb(2),v.Pc(e.intestazioni.SEDI),v.Bb(2),v.mc("ngForOf",i.sedi)}}function Gi(i,e){if(1&i&&(v.Tb(0,"li"),v.Tb(1,"span"),v.Oc(2),v.Sb(),v.Sb()),2&i){const i=e.$implicit;v.Bb(2),v.Pc(i.cuaa)}}function xi(i,e){if(1&i&&(v.Rb(0),v.Tb(1,"span"),v.Oc(2),v.Sb(),v.Tb(3,"ul"),v.Mc(4,Gi,3,1,"li",17),v.Sb(),v.Qb()),2&i){const i=v.fc().$implicit,e=v.fc(2);v.Bb(2),v.Pc(e.intestazioni.CUAA),v.Bb(2),v.mc("ngForOf",i.aziende)}}function wi(i,e){if(1&i&&(v.Tb(0,"li"),v.Tb(1,"span"),v.Oc(2),v.Sb(),v.Sb()),2&i){const i=e.$implicit;v.Bb(2),v.Pc(i.denominazioneAzienda)}}function _i(i,e){if(1&i&&(v.Rb(0),v.Tb(1,"span"),v.Oc(2),v.Sb(),v.Tb(3,"ul"),v.Mc(4,wi,3,1,"li",17),v.Sb(),v.Qb()),2&i){const i=v.fc().$implicit,e=v.fc(2);v.Bb(2),v.Pc(e.intestazioni.DIST),v.Bb(2),v.mc("ngForOf",i.distributori)}}function $i(i,e){if(1&i&&(v.Tb(0,"div"),v.Ob(1,"br"),v.Oc(2),v.Sb()),2&i){const i=v.fc().$implicit,e=v.fc(2);v.Bb(2),v.Qc("",e.motiviDisattivazione[i.motivazioneDisattivazione]," ")}}function ki(i,e){if(1&i&&(v.Tb(0,"tr"),v.Tb(1,"td"),v.Oc(2),v.gc(3,"date"),v.Sb(),v.Tb(4,"td"),v.Oc(5),v.Sb(),v.Tb(6,"td"),v.Mc(7,Di,3,1,"ng-container",9),v.Sb(),v.Tb(8,"td"),v.Mc(9,Ni,5,2,"ng-container",9),v.Mc(10,xi,5,2,"ng-container",9),v.Mc(11,_i,5,2,"ng-container",9),v.Sb(),v.Tb(12,"td"),v.Tb(13,"div"),v.Oc(14),v.Sb(),v.Mc(15,$i,3,1,"div",9),v.Sb(),v.Sb()),2&i){const i=e.$implicit,t=v.fc(2);v.Bb(2),v.Pc(v.ic(3,9,i.dataTermineIstruttoria,t.DATE_FORMAT)),v.Bb(3),v.Rc("",i.istruttore.nome," ",i.istruttore.cognome,""),v.Bb(2),v.mc("ngIf",i.profili&&i.profili.length>0),v.Bb(2),v.mc("ngIf",i.sedi&&i.sedi.length>0),v.Bb(1),v.mc("ngIf",i.aziende&&i.aziende.length>0),v.Bb(1),v.mc("ngIf",i.distributori&&i.distributori.length>0),v.Bb(3),v.Pc(i.variazioneRichiesta),v.Bb(1),v.mc("ngIf",i.motivazioneDisattivazione)}}function ji(i,e){if(1&i&&(v.Tb(0,"tr"),v.Tb(1,"td"),v.Oc(2),v.Sb(),v.Sb()),2&i){const i=v.fc(2);v.Bb(1),v.Cb("colspan",5),v.Bb(1),v.Qc(" ",i.intestazioni.noStoricoContent," ")}}function Qi(i,e){if(1&i&&(v.Tb(0,"div"),v.Tb(1,"p-table",10),v.Mc(2,Fi,11,5,"ng-template",11),v.Mc(3,ki,16,12,"ng-template",12),v.Mc(4,ji,3,2,"ng-template",13),v.Sb(),v.Sb()),2&i){const i=v.fc();v.Bb(1),v.mc("value",i.istruttorie)("autoLayout",!0)("responsive",!0)}}const Li=[{path:"",component:Ai,pathMatch:"full"},{path:":idUtenza/storicoUtenza",component:(()=>{class i{constructor(i,e){this.route=i,this.gestioneUtenzeService=e,this.componentDestroyed$=new p.a,this.intestazioni=O.a,this.DATE_FORMAT=Ii.a.PATTERN_DATE_2,this.motiviDisattivazione={ALTRO:"Altro",PENSIONAMENTO:"Pensionamento",FINE_RAPPORTO:"Fine rapporto"}}ngOnInit(){this.callServices()}ngOnDestroy(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}callServices(){this.route.paramMap.pipe(Object(z.a)(i=>(this.idUtente=i.get("idUtenza"),this.gestioneUtenzeService.getStorico(this.idUtente))),Object(m.a)(this.componentDestroyed$)).subscribe(i=>{this.istruttorie=i.istruttorie,this.utente=i.utente})}}return i.\u0275fac=function(e){return new(e||i)(v.Nb(l.a),v.Nb(P.a))},i.\u0275cmp=v.Hb({type:i,selectors:[["app-storico-utenza"]],decls:16,vars:7,consts:[[1,"ui-g","ui-fluid","page-ricerca-utenti"],[1,"tophome"],[1,"ui-grid-fixed"],[1,"ui-g"],[1,"ui-g-2"],[1,"ui-g-6"],[1,"ui-g-4"],[1,"ui-grid-fixed","boxgrey"],[1,"mb-3"],[4,"ngIf"],[1,"table--gestione-utenze",3,"value","autoLayout","responsive"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[2,"width","15%"],[2,"width","25%"],[2,"width","20%"],[4,"ngFor","ngForOf"],[3,"ngClass"],["class","material-icons ng-star-inserted icon-disabled",4,"ngIf"],[1,"material-icons","ng-star-inserted","icon-disabled"]],template:function(i,e){1&i&&(v.Tb(0,"div",0),v.Tb(1,"div",1),v.Tb(2,"div",2),v.Tb(3,"div",3),v.Tb(4,"div",4),v.Tb(5,"h4"),v.Oc(6),v.Sb(),v.Sb(),v.Tb(7,"div",5),v.Tb(8,"h6"),v.Oc(9),v.Sb(),v.Sb(),v.Ob(10,"div",6),v.Sb(),v.Sb(),v.Sb(),v.Tb(11,"div",7),v.Tb(12,"h3",8),v.Oc(13),v.gc(14,"translate"),v.Sb(),v.Mc(15,Qi,5,3,"div",9),v.Sb(),v.Sb()),2&i&&(v.Bb(6),v.Rc("",null==e.utente?null:e.utente.nome," ",null==e.utente?null:e.utente.cognome," "),v.Bb(3),v.Qc("codice fiscale ",null==e.utente?null:e.utente.codiceFiscale," "),v.Bb(4),v.Pc(v.hc(14,5,"STORICO_UTENZA")),v.Bb(2),v.mc("ngIf",e.istruttorie))},directives:[b.t,Ei.q,A.e,b.s,b.q],pipes:[I.d,b.f],styles:[".ui-g-6[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:18px;letter-spacing:-.2px;padding:27px 0;margin:0}.disabled[_ngcontent-%COMP%]{text-decoration:line-through}.variazione[_ngcontent-%COMP%]{text-align:justify}.icon-disabled[_ngcontent-%COMP%]{font-size:120%}"]}),i})(),data:{mybreadcrumb:O.a.STORICO_UTENZE}}];let Vi=(()=>{class i{}return i.\u0275mod=v.Lb({type:i}),i.\u0275inj=v.Kb({factory:function(e){return new(e||i)},imports:[[b.c,l.i.forChild(Li)]]}),i})();var qi=t("sqTO");let Ki=(()=>{class i{}return i.\u0275mod=v.Lb({type:i}),i.\u0275inj=v.Kb({factory:function(e){return new(e||i)},imports:[[o.a,n.c,c.b,s.b,r.b,Vi,qi.GestioneUtenzeModule,a.b]]}),i})()}}]);