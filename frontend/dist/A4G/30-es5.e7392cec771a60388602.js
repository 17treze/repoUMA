function _createForOfIteratorHelper(t,i){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=_unsupportedIterableToArray(t))||i&&t&&"number"==typeof t.length){e&&(t=e);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,c=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return r=t.done,t},e:function(t){c=!0,n=t},f:function(){try{r||null==e.return||e.return()}finally{if(c)throw n}}}}function _unsupportedIterableToArray(t,i){if(t){if("string"==typeof t)return _arrayLikeToArray(t,i);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(t,i):void 0}}function _arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var e=0,a=new Array(i);e<i;e++)a[e]=t[e];return a}function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,i){for(var e=0;e<i.length;e++){var a=i[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,i,e){return i&&_defineProperties(t.prototype,i),e&&_defineProperties(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{lzML:function(t,i,e){"use strict";e.r(i),e.d(i,"SostegnoDettaglioDisaccoppiatoModule",(function(){return ra}));var a=e("ofXK"),o=e("R69K"),n=e("bcH1"),r=e("cJRl"),c=e("tyNb"),l=e("3iu/"),s=e("TW8+"),b=e("RIRQ"),d=e("8k9x"),u=e("iU1L"),p=e("FucP"),f=e("ngg1"),g=e("KMZK"),m=e("fXoL"),S=e("b7oP"),v=e("A1Yd"),h=e("sfyY"),T=e("sYmb");function I(t,i){if(1&t){var e=m.Ub();m.Tb(0,"button",13),m.bc("click",(function(){return m.Ec(e),m.fc().avviaProcessoControlloLiquidabilita()})),m.Oc(1),m.gc(2,"translate"),m.Sb()}2&t&&(m.Bb(1),m.Qc(" ",m.hc(2,1,"DOMANDA_UNICA_RISULTATI.avviaControlliLiquidabilita")," "))}function C(t,i){if(1&t){var e=m.Ub();m.Tb(0,"button",13),m.bc("click",(function(){return m.Ec(e),m.fc().avviaProcessoCalcoloDisaccoppiato()})),m.Oc(1),m.gc(2,"translate"),m.Sb()}2&t&&(m.Bb(1),m.Qc(" ",m.hc(2,1,"DOMANDA_UNICA_RISULTATI.avviaCalcoloDisaccoppiato")," "))}function P(t,i){if(1&t){var e=m.Ub();m.Tb(0,"button",14),m.bc("click",(function(){return m.Ec(e),m.fc().avviaProcessoNonAmmissibilita()})),m.Oc(1),m.gc(2,"translate"),m.Sb()}2&t&&(m.Bb(1),m.Qc(" ",m.hc(2,1,"DOMANDA_UNICA_RISULTATI.nonAmmissibile")," "))}function D(t,i){if(1&t&&m.Ob(0,"app-processi-di-controllo",15),2&t){var e=m.fc();m.mc("processiDaControllare",e.processiDaControllare)}}var O,B=((O=function(){function t(i,e){_classCallCheck(this,t),this.sostegnoService=i,this.route=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.menu2=new Array({routerLink:s.a.superficiImpegnate,label:"Superfici Impegnate"},{routerLink:s.a.dichiarazioni,label:"Dichiarazioni"},{routerLink:s.a.informazioniDomanda,label:"Informazioni di domanda"},{routerLink:s.a.controlliSostegno,label:"Controlli di sostegno"},{routerLink:s.a.datiDomanda,label:"Esiti di domanda"},{routerLink:s.a.datiPerPascolo,label:"Esiti per pascolo"},{routerLink:s.a.esitiParticelle,label:"Esiti su particelle"},{routerLink:s.a.datiIstruttoria,label:"Inserimento dati Istruttoria"}),this.istruttoriaDUCorrente.stato==b.a.PAGAMENTO_AUTORIZZATO&&this.menu2.push({routerLink:s.a.datiLiquidazione,label:"Dati di Liquidazione"}),this.istruttoriaSostegno=u.a[this.istruttoriaDUCorrente.sostegno],this.processiDaControllare=this.sostegnoService.caricaProcessiDaControllare(this.istruttoriaDUCorrente),this.keyIstruttoria=this.istruttoriaDUCorrente.tipo,this.tipoIstruttoria=f.a[this.keyIstruttoria]}},{key:"isEnableCalcoloDisaccoppiato",value:function(){return g.a.anticipiAttivi(this.tipoIstruttoria,this.istruttoriaDUCorrente.domanda.campagna)&&this.istruttoriaDUCorrente.sostegno===u.a.DISACCOPPIATO&&(this.istruttoriaDUCorrente.stato===b.a.CONTROLLI_CALCOLO_KO||this.istruttoriaDUCorrente.stato===b.a.CONTROLLI_CALCOLO_OK)}},{key:"isEnableProcessoAmmissibilita",value:function(){return g.a.anticipiAttivi(this.tipoIstruttoria,this.istruttoriaDUCorrente.domanda.campagna)&&this.istruttoriaDUCorrente.sostegno===u.a.DISACCOPPIATO&&this.istruttoriaDUCorrente.stato===b.a.CONTROLLI_CALCOLO_KO}},{key:"isEnableControlliLiquidabilita",value:function(){return g.a.anticipiAttivi(this.tipoIstruttoria,this.istruttoriaDUCorrente.domanda.campagna)&&this.istruttoriaDUCorrente.sostegno===u.a.DISACCOPPIATO&&this.istruttoriaDUCorrente.stato===b.a.CONTROLLI_CALCOLO_OK}},{key:"avviaProcessoControlloLiquidabilita",value:function(){this.sostegnoService.eseguiProcessoIstruttoria(this.istruttoriaDUCorrente.id,d.a.CONTROLLO_LIQUIDABILITA_ISTRUTTORIA,this.processiDaControllare,this.istruttoriaDUCorrente.domanda.campagna,this.istruttoriaSostegno)}},{key:"avviaProcessoCalcoloDisaccoppiato",value:function(){this.sostegnoService.eseguiProcessoIstruttoria(this.istruttoriaDUCorrente.id,d.a.CALCOLO_DISACCOPPIATO_ISTRUTTORIA,this.processiDaControllare,this.istruttoriaDUCorrente.domanda.campagna,this.istruttoriaSostegno)}},{key:"avviaProcessoNonAmmissibilita",value:function(){this.sostegnoService.eseguiProcessoIstruttoria(this.istruttoriaDUCorrente.id,d.a.NON_AMMISSIBILITA,this.processiDaControllare,this.istruttoriaDUCorrente.domanda.campagna,this.istruttoriaSostegno)}}]),t}()).\u0275fac=function(t){return new(t||O)(m.Nb(p.a),m.Nb(c.a))},O.\u0275cmp=m.Hb({type:O,selectors:[["app-disaccoppiato"]],decls:16,vars:5,consts:[[1,"ui-g","ui-fluid"],[1,"ui-g-12",2,"padding-bottom","0px !important"],[1,"ui-grid-fixed"],[1,"funzioni-grid","tabsmall",2,"margin-bottom","0px !important","margin-top","40px !important"],[3,"model"],[2,"width","100%"],[1,"ui-g-9"],[1,"layout-actionmenu"],[1,"ui-g"],[1,"ui-g-12","searchbutton"],["pButton","","type","button","class","ui-button-success results_text_button",3,"click",4,"ngIf"],["pButton","","pButton","","type","button","class","ui-button-success results_text_button",3,"click",4,"ngIf"],[3,"processiDaControllare",4,"ngIf"],["pButton","","type","button",1,"ui-button-success","results_text_button",3,"click"],["pButton","","pButton","","type","button",1,"ui-button-success","results_text_button",3,"click"],[3,"processiDaControllare"]],template:function(t,i){1&t&&(m.Tb(0,"div",0),m.Tb(1,"div",1),m.Tb(2,"div",2),m.Tb(3,"div",3),m.Ob(4,"p-tabMenu",4),m.Sb(),m.Sb(),m.Sb(),m.Tb(5,"div",5),m.Ob(6,"router-outlet"),m.Sb(),m.Sb(),m.Tb(7,"div",6),m.Tb(8,"div",7),m.Tb(9,"div",8),m.Tb(10,"div",9),m.Mc(11,I,3,3,"button",10),m.Mc(12,C,3,3,"button",10),m.Mc(13,P,3,3,"button",11),m.Sb(),m.Sb(),m.Sb(),m.Sb(),m.Tb(14,"div",1),m.Mc(15,D,1,1,"app-processi-di-controllo",12),m.Sb()),2&t&&(m.Bb(4),m.mc("model",i.menu2),m.Bb(7),m.mc("ngIf",i.isEnableControlliLiquidabilita()),m.Bb(1),m.mc("ngIf",i.isEnableCalcoloDisaccoppiato()),m.Bb(1),m.mc("ngIf",i.isEnableProcessoAmmissibilita()),m.Bb(2),m.mc("ngIf",i.processiDaControllare))},directives:[S.a,c.j,a.t,v.b,h.a],pipes:[T.d],styles:[""]}),O),M=e("4AYi"),y=e("5Z9/"),A=e("yhG/"),z=e("yWug"),N=e("RtSl"),w=e("B4vn");function k(t,i){if(1&t&&(m.Tb(0,"strong"),m.Oc(1),m.Sb()),2&t){var e=m.fc(3).$implicit;m.Bb(1),m.Pc(e.descrizione2)}}var E=function(t){return{width:t}};function x(t,i){if(1&t&&(m.Tb(0,"th",14),m.Mc(1,k,2,1,"strong",4),m.Sb()),2&t){var e=i.$implicit;m.mc("ngStyle",m.sc(2,E,e.width)),m.Bb(1),m.mc("ngIf",e.header)}}function U(t,i){if(1&t&&(m.Tb(0,"tr"),m.Mc(1,x,2,4,"th",13),m.Sb()),2&t){var e=i.$implicit;m.Bb(1),m.mc("ngForOf",e)}}function L(t,i){if(1&t&&(m.Tb(0,"tr"),m.Tb(1,"td",15),m.Oc(2),m.Sb(),m.Sb()),2&t){var e=i.$implicit;m.Bb(2),m.Pc(e.valore)}}function R(t,i){1&t&&(m.Tb(0,"tr"),m.Tb(1,"td"),m.Oc(2," Controllo non eseguito "),m.Sb(),m.Sb()),2&t&&(m.Bb(1),m.Cb("colspan",10))}function _(t,i){if(1&t&&(m.Tb(0,"div",8),m.Tb(1,"p-table",9),m.gc(2,"tipoFilter"),m.gc(3,"tipoFilter"),m.Mc(4,U,2,1,"ng-template",10),m.Mc(5,L,3,1,"ng-template",11),m.Mc(6,R,3,1,"ng-template",12),m.Sb(),m.Sb()),2&t){var e=i.$implicit,a=m.fc().$implicit,o=m.fc(2);m.Bb(1),m.mc("columns",o.cols)("value",m.jc(2,5,m.jc(3,9,o.controlli,"codice1",a.codice1),"codice2",e.codice2))("autoLayout",!0)("paginator",!1)("responsive",!0)}}function $(t,i){if(1&t&&(m.Tb(0,"p-accordion"),m.Tb(1,"p-accordionTab",7),m.Mc(2,_,7,13,"ng-template",6),m.gc(3,"tipoFilter"),m.Sb(),m.Sb()),2&t){var e=i.$implicit,a=m.fc(2);m.Bb(1),m.nc("header",e.descrizione1),m.mc("selected",!0),m.Bb(1),m.mc("ngForOf",m.jc(3,3,a.passiLavorazione,"codice1",e.codice1))}}function F(t,i){if(1&t&&(m.Tb(0,"div",5),m.Mc(1,$,4,7,"ng-template",6),m.Sb()),2&t){var e=m.fc();m.Bb(1),m.mc("ngForOf",e.tipiControllo)}}function G(t,i){1&t&&(m.Tb(0,"div"),m.Oc(1),m.gc(2,"translate"),m.Sb()),2&t&&(m.Bb(1),m.Qc(" ",m.hc(2,1,"CONTROLLI_SOSTEGNO.nessunControlloEseguito")," "))}var q,H=((q=function(){function t(i,e){_classCallCheck(this,t),this.route=i,this.istruttoriaService=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.cols=[{field:"b",header:"",width:"100%"}],this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.caricaDatiDettaglio()}},{key:"caricaDatiDettaglio",value:function(){var t=this;this.istruttoriaService.getControlliSostegnoIstruttoriaDU(this.istruttoriaDUCorrente.id.toString()).subscribe((function(i){if(i){t.controlli=i;var e=t.controlli.map((function(t){var i=new M.a;return i.codice2=t.codice2,i.descrizione2=t.descrizione2,i.codice1=t.codice1,i.descrizione1=t.descrizione1,i.bold=0,i}));t.passiLavorazione=t.mapDistinct(e);var a=t.controlli.map((function(t){var i=new M.a;return i.codice1=t.codice1,i.descrizione1=t.descrizione1,i.bold=0,i}));t.tipiControllo=t.mapDistinct(a),console.log("this.tipiControllo "+t.tipiControllo.length)}}))}},{key:"mapDistinct",value:function(t){var i=new Array;return t.forEach((function(t){var e=!1;i.forEach((function(i){t.codice2===i.codice2&&t.codice1===i.codice1&&(e=!0)})),e||i.push(t)})),console.log("def "+i.length),console.log(i),i}}]),t}()).\u0275fac=function(t){return new(t||q)(m.Nb(c.a),m.Nb(y.a))},q.\u0275cmp=m.Hb({type:q,selectors:[["app-controlli-sostegno"]],decls:5,vars:2,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["class","accordion-wrapper dettaglioaccordion",4,"ngIf"],[4,"ngIf"],[1,"accordion-wrapper","dettaglioaccordion"],["ngFor","",3,"ngForOf"],[3,"header","selected"],[1,"table-responsive","nobrd",2,"margin-top","30px"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[2,"font-weight","bold"]],template:function(t,i){1&t&&(m.Tb(0,"div",0),m.Tb(1,"div",1),m.Tb(2,"div",2),m.Mc(3,F,2,1,"div",3),m.Mc(4,G,3,3,"div",4),m.Sb(),m.Sb(),m.Sb()),2&t&&(m.Bb(3),m.mc("ngIf",i.tipiControllo&&i.passiLavorazione),m.Bb(1),m.mc("ngIf",!i.istruttoriaDUCorrente.dataUltimoCalcolo&&!i.tipiControllo&&!i.passiLavorazione))},directives:[a.t,a.s,A.a,A.c,z.q,N.e,a.w],pipes:[w.b,T.d],styles:[""]}),q),j=e("Tn7N"),Q=function t(){_classCallCheck(this,t)},K=function t(){_classCallCheck(this,t)},V=e("6b9K"),Y=e("arS9"),Z=["tableSup"];function J(t,i){if(1&t&&(m.Tb(0,"div"),m.Oc(1),m.Sb()),2&t){var e=m.fc();m.Bb(1),m.Pc(e.listaParticelleTable.supImpegnataLorda)}}function X(t,i){if(1&t&&(m.Tb(0,"div"),m.Oc(1),m.Sb()),2&t){var e=m.fc();m.Bb(1),m.Pc(e.listaParticelleTable.supImpegnataNetta)}}function W(t,i){if(1&t&&(m.Tb(0,"th",17),m.Tb(1,"strong"),m.Oc(2),m.Sb(),m.Ob(3,"p-sortIcon",18),m.Sb()),2&t){var e=i.$implicit;m.mc("pSortableColumn",e.field)("pSortableColumnDisabled",null==e.field),m.Bb(2),m.Pc(e.header),m.Bb(1),m.mc("field",e.field)}}function tt(t,i){if(1&t&&(m.Tb(0,"tr"),m.Mc(1,W,4,4,"th",16),m.Sb()),2&t){var e=i.$implicit;m.Bb(1),m.mc("ngForOf",e)}}function it(t,i){if(1&t&&(m.Tb(0,"tr",19),m.Tb(1,"td"),m.Oc(2),m.Sb(),m.Tb(3,"td"),m.Oc(4),m.Sb(),m.Tb(5,"td"),m.Oc(6),m.Sb(),m.Tb(7,"td"),m.Oc(8),m.Sb(),m.Tb(9,"td"),m.Oc(10),m.Sb(),m.Tb(11,"td"),m.Oc(12),m.Sb(),m.Tb(13,"td"),m.Oc(14),m.Sb(),m.Tb(15,"td"),m.Oc(16),m.Sb(),m.Tb(17,"td"),m.Oc(18),m.Sb(),m.Tb(19,"td"),m.Oc(20),m.Sb(),m.Tb(21,"td"),m.Oc(22),m.Sb(),m.Sb()),2&t){var e=i.$implicit;m.mc("pSelectableRow",e),m.Bb(2),m.Pc(e.infoCatastali.idParticella),m.Bb(2),m.Pc(e.infoCatastali.comune),m.Bb(2),m.Pc(e.infoCatastali.codNazionale),m.Bb(2),m.Pc(e.infoCatastali.foglio),m.Bb(2),m.Pc(e.infoCatastali.particella),m.Bb(2),m.Pc(e.infoCatastali.sub),m.Bb(2),m.Pc(e.riferimentiCartografici.codIsola),m.Bb(2),m.Pc(e.infoColtivazione.codColtura3),m.Bb(2),m.Pc(e.infoColtivazione.descrizioneColtura),m.Bb(2),m.Pc(e.supRichiesta),m.Bb(2),m.Pc(e.supRichiestaNetta)}}function et(t,i){1&t&&(m.Tb(0,"tr"),m.Tb(1,"td"),m.Oc(2," Nessuna particella trovata "),m.Sb(),m.Sb()),2&t&&(m.Bb(1),m.Cb("colspan",11))}var at,ot=function(){return{marginTop:"70px"}},nt=((at=function(){function t(i,e,a){_classCallCheck(this,t),this.route=i,this.istruttoriaService=e,this.messageService=a,this.listaParticelleTable=new K,this.numeroPagina=1,this.elementiPerPagina=10,this.first=!0}return _createClass(t,[{key:"ngOnInit",value:function(){this.initializeObject(),this.setCols(),this.getIdDomanda(),this.getDettaglio(this.tableSup)}},{key:"initializeObject",value:function(){this.listaParticelleTable=new K,this.listaParticelleTable.paginaSuperfici=new Q,this.listaParticelleTable.paginaSuperfici.risultati=new Array}},{key:"setCols",value:function(){this.cols=[{field:"idParticella",header:"Id Particella"},{field:"comune",header:"Comune Catastale"},{field:"codNazionale",header:"Cod. Nazionale"},{field:"foglio",header:"Foglio"},{field:"particella",header:"Particella"},{field:"sub",header:"Sub"},{field:"codIsola",header:"Isola"},{field:"codiceColtura3",header:"Cod. Coltura"},{field:"descrizioneColtura",header:"Descr. Coltura"},{field:"supRichiesta",header:"Sup. Imp. Lorda"},{field:"supRichiestaNetta",header:"Sup Imp. Netta"}]}},{key:"getIdDomanda",value:function(){this.idDomanda=this.route.snapshot.data.domandaIstruttoria.domanda.id}},{key:"getDettaglio",value:function(t){var i=this;this.idDomanda&&(this.numeroPagina=Math.floor(t.first/this.elementiPerPagina),this.paginazione=null!=t&&null!=t.sortField?V.a.of(this.numeroPagina,this.elementiPerPagina,t.sortField,this.istruttoriaService.getOrdine(t.sortOrder)):V.a.of(this.numeroPagina,this.elementiPerPagina,"id","ASC"),this.istruttoriaService.getSuperficiImpegnateDU(this.idDomanda.toString(),this.paginazione).subscribe((function(t){t&&(i.listaParticelleTable=t)}),(function(t){i.messageService.add(j.a.getToast("tst",j.b.error,j.a.erroreRecuperoDati))})))}},{key:"changePage",value:function(t){this.first?this.first=!1:this.getDettaglio(t)}}]),t}()).\u0275fac=function(t){return new(t||at)(m.Nb(c.a),m.Nb(y.a),m.Nb(N.d))},at.\u0275cmp=m.Hb({type:at,selectors:[["app-superfici-impegnate"]],viewQuery:function(t,i){var e;1&t&&m.Jc(Z,!0),2&t&&m.Ac(e=m.cc())&&(i.tableSup=e.first)},decls:27,vars:12,consts:[["key","tst"],[1,"ui-g","ui-fluid"],[1,"boxgrey",2,"padding-top","50px"],[1,"ui-g-12"],[1,"ui-grid-fixed"],[2,"display","inline-block","width","100%"],[1,"ui-g-6","box",2,"padding-left","0px"],[1,"square-boxsmall"],[4,"ngIf"],[1,"ui-g-6",2,"padding-right","0px"],[1,"table-responsive",2,"margin-top","20px","display","block"],[3,"columns","value","autoLayout","totalRecords","paginator","rows","lazy","onLazyLoad"],["tableSup",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"],[3,"pSelectableRow"]],template:function(t,i){1&t&&(m.Ob(0,"p-toast",0),m.Tb(1,"div",1),m.Tb(2,"div",2),m.Tb(3,"div",3),m.Tb(4,"div",4),m.Tb(5,"div"),m.Tb(6,"h3"),m.Oc(7,"Premio base"),m.Sb(),m.Sb(),m.Tb(8,"div",5),m.Tb(9,"div",6),m.Tb(10,"div",7),m.Tb(11,"strong"),m.Oc(12,"Sup. Imp. Lorda (mq)"),m.Sb(),m.Ob(13,"br"),m.Mc(14,J,2,1,"div",8),m.Sb(),m.Sb(),m.Tb(15,"div",9),m.Tb(16,"div",7),m.Tb(17,"strong"),m.Oc(18,"Sup. Imp. Netta (mq)"),m.Sb(),m.Ob(19,"br"),m.Mc(20,X,2,1,"div",8),m.Sb(),m.Sb(),m.Sb(),m.Tb(21,"div",10),m.Tb(22,"p-table",11,12),m.bc("onLazyLoad",(function(t){return i.changePage(t)})),m.Mc(24,tt,2,1,"ng-template",13),m.Mc(25,it,23,12,"ng-template",14),m.Mc(26,et,3,1,"ng-template",15),m.Sb(),m.Sb(),m.Sb(),m.Sb(),m.Sb(),m.Sb()),2&t&&(m.Kc(m.rc(11,ot)),m.Bb(14),m.mc("ngIf",i.listaParticelleTable),m.Bb(6),m.mc("ngIf",i.listaParticelleTable),m.Bb(2),m.mc("columns",i.cols)("value",i.listaParticelleTable.paginaSuperfici.risultati)("autoLayout",!0)("totalRecords",i.listaParticelleTable.paginaSuperfici.count)("paginator",!0)("rows",i.elementiPerPagina)("lazy",!0))},directives:[Y.a,a.t,z.q,N.e,a.s,z.p,z.o,z.m],styles:[""]}),at),rt=function(t){return{width:t}};function ct(t,i){1&t&&m.Ob(0,"th",12),2&t&&m.mc("ngStyle",m.sc(1,rt,i.$implicit.width))}function lt(t,i){if(1&t&&(m.Tb(0,"tr"),m.Mc(1,ct,1,3,"th",11),m.Sb()),2&t){var e=i.$implicit;m.Bb(1),m.mc("ngForOf",e)}}function st(t,i){if(1&t&&(m.Tb(0,"tr"),m.Tb(1,"td"),m.Oc(2),m.Sb(),m.Tb(3,"td",13),m.Oc(4),m.Sb(),m.Sb()),2&t){var e=i.$implicit;m.Bb(2),m.Pc(e.descrizione),m.Bb(2),m.Pc(e.valore)}}function bt(t,i){if(1&t&&(m.Tb(0,"div",5),m.Tb(1,"p-accordion"),m.Tb(2,"p-accordionTab",6),m.gc(3,"translate"),m.Tb(4,"div",7),m.Tb(5,"p-table",8),m.gc(6,"tipoFilter"),m.Mc(7,lt,2,1,"ng-template",9),m.Mc(8,st,5,2,"ng-template",10),m.Sb(),m.Sb(),m.Sb(),m.Sb(),m.Sb()),2&t){var e=i.$implicit,a=m.fc();m.Bb(2),m.nc("header",m.hc(3,7,"DOMANDA_UNICA_DETTAGLI."+e)),m.mc("selected",!0),m.Bb(3),m.mc("columns",a.cols)("value",m.jc(6,9,a.dichiarazioni,"quadro",e))("autoLayout",!0)("paginator",!1)("responsive",!0)}}var dt,ut=function(){return{marginTop:"70px"}},pt=((dt=function(){function t(i,e,a){_classCallCheck(this,t),this.route=i,this.istruttoriaService=e,this.messageService=a}return _createClass(t,[{key:"ngOnInit",value:function(){this.setCols(),this.getIdDomanda(),this.getDettaglio()}},{key:"setCols",value:function(){this.cols=[{field:"a",header:"",width:"90%"},{field:"b",header:"",width:"10%"}]}},{key:"getIdDomanda",value:function(){this.idDomanda=this.route.snapshot.data.domandaIstruttoria.domanda.id}},{key:"getDettaglio",value:function(){var t=this;this.idDomanda&&this.istruttoriaService.getDichiarazioniDU(this.idDomanda.toString()).subscribe((function(i){t.dichiarazioni=i,t.codiciTipo=t.dichiarazioni.map((function(t){return t.quadro})).filter((function(t,i,e){return e.indexOf(t)===i}))}),(function(i){t.messageService.add(j.a.getToast("tst",j.b.error,j.a.erroreRecuperoDati))}))}}]),t}()).\u0275fac=function(t){return new(t||dt)(m.Nb(c.a),m.Nb(y.a),m.Nb(N.d))},dt.\u0275cmp=m.Hb({type:dt,selectors:[["app-dichiarazioni"]],decls:5,vars:4,consts:[["key","tst"],[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["ngFor","",3,"ngForOf"],[1,"accordion-wrapper","dettaglioaccordion"],[3,"header","selected"],[1,"table-responsive","nobrd",2,"margin-top","30px"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","header"],["pTemplate","body"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"text-right",2,"font-weight","bold"]],template:function(t,i){1&t&&(m.Ob(0,"p-toast",0),m.Tb(1,"div",1),m.Tb(2,"div",2),m.Tb(3,"div",3),m.Mc(4,bt,9,13,"ng-template",4),m.Sb(),m.Sb(),m.Sb()),2&t&&(m.Kc(m.rc(3,ut)),m.Bb(4),m.mc("ngForOf",i.codiciTipo))},directives:[Y.a,a.s,A.a,A.c,z.q,N.e,a.w],pipes:[T.d,w.b],styles:[""]}),dt),ft=e("Lsrs"),gt=function(t){return{width:t}};function mt(t,i){1&t&&m.Ob(0,"th",10),2&t&&m.mc("ngStyle",m.sc(1,gt,i.$implicit.width))}function St(t,i){if(1&t&&(m.Tb(0,"tr"),m.Mc(1,mt,1,3,"th",9),m.Sb()),2&t){var e=i.$implicit;m.Bb(1),m.mc("ngForOf",e)}}function vt(t,i){if(1&t&&(m.Tb(0,"tr"),m.Tb(1,"td"),m.Oc(2),m.Sb(),m.Tb(3,"td",11),m.Oc(4),m.Sb(),m.Sb()),2&t){var e=i.$implicit;m.Bb(2),m.Pc(e.mkey),m.Bb(2),m.Pc(e.mvalue)}}var ht,Tt=function(){return{marginTop:"70px"}},It=((ht=function(){function t(i,e,a){_classCallCheck(this,t),this.route=i,this.istruttoriaService=e,this.messageService=a,this.dati=new Array}return _createClass(t,[{key:"ngOnInit",value:function(){this.setCols(),this.getIdDomanda(),this.getDettaglio()}},{key:"setCols",value:function(){this.cols=[{field:"a",header:"",width:"80%"},{field:"b",header:"",width:"20%"}]}},{key:"getIdDomanda",value:function(){this.idDomanda=this.route.snapshot.data.domandaIstruttoria.domanda.id}},{key:"getDettaglio",value:function(){var t=this;this.idDomanda&&this.istruttoriaService.getInformazioniDU(this.idDomanda.toString()).subscribe((function(i){t.getUserPresentation(i)}),(function(i){t.messageService.add(j.a.getToast("tst",j.b.error,j.a.erroreRecuperoDati))}))}},{key:"getUserPresentation",value:function(t){var i=[];Object.keys(t).map((function(e){var a=new ft.a;return a.mkey=e.toUpperCase(),a.mvalue=!0===t[e]?"SI":!1===t[e]?"NO":t[e],null===t[e]&&(a.mvalue="NON RICHIESTO"),i.push(a),i})),this.dati=i}}]),t}()).\u0275fac=function(t){return new(t||ht)(m.Nb(c.a),m.Nb(y.a),m.Nb(N.d))},ht.\u0275cmp=m.Hb({type:ht,selectors:[["app-informazioni-domanda"]],decls:12,vars:8,consts:[["key","tst"],[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],[1,"dettaglioaccordion",2,"background","#fff"],[1,"table-responsive","nobrd",2,"margin-top","30px"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","header"],["pTemplate","body"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"text-right",2,"font-weight","bold"]],template:function(t,i){1&t&&(m.Ob(0,"p-toast",0),m.Tb(1,"div",1),m.Tb(2,"div",2),m.Tb(3,"div",3),m.Tb(4,"div",4),m.Tb(5,"h3"),m.Tb(6,"span"),m.Oc(7,"Indicatore"),m.Sb(),m.Sb(),m.Tb(8,"div",5),m.Tb(9,"p-table",6),m.Mc(10,St,2,1,"ng-template",7),m.Mc(11,vt,5,2,"ng-template",8),m.Sb(),m.Sb(),m.Sb(),m.Sb(),m.Sb(),m.Sb()),2&t&&(m.Kc(m.rc(7,Tt)),m.Bb(9),m.mc("columns",i.cols)("value",i.dati)("autoLayout",!0)("paginator",!1)("responsive",!0))},directives:[Y.a,z.q,N.e,a.s,a.w],styles:[""]}),ht),Ct=e("M/UB"),Pt=function(t){return{width:t}};function Dt(t,i){1&t&&m.Ob(0,"th",13),2&t&&m.mc("ngStyle",m.sc(1,Pt,i.$implicit.width))}function Ot(t,i){if(1&t&&(m.Tb(0,"tr",11),m.Mc(1,Dt,1,3,"th",12),m.Sb()),2&t){var e=i.$implicit;m.Bb(1),m.mc("ngForOf",e)}}function Bt(t,i){if(1&t&&m.Ob(0,"p-treeTableToggler",18),2&t){var e=m.fc(2).$implicit;m.mc("rowNode",e)}}function Mt(t,i){if(1&t&&(m.Tb(0,"a"),m.Oc(1),m.Sb()),2&t){var e=m.fc().$implicit,a=m.fc().rowData;m.Bb(1),m.Pc(a[e.field])}}function yt(t,i){if(1&t&&(m.Tb(0,"strong"),m.Oc(1),m.Sb()),2&t){var e=m.fc().$implicit,a=m.fc().rowData;m.Bb(1),m.Pc(a[e.field])}}function At(t,i){if(1&t&&(m.Tb(0,"td"),m.Mc(1,Bt,1,1,"p-treeTableToggler",15),m.Tb(2,"span",16),m.Mc(3,Mt,2,1,"a",17),m.Mc(4,yt,2,1,"strong",17),m.Sb(),m.Sb()),2&t){var e=i.index,a=m.fc().rowData;m.Bb(1),m.mc("ngIf",0==e),m.Bb(2),m.mc("ngIf",0==a.bold),m.Bb(1),m.mc("ngIf",1==a.bold)}}function zt(t,i){if(1&t&&(m.Tb(0,"tr"),m.Mc(1,At,5,3,"td",14),m.Sb()),2&t){var e=i.columns;m.Bb(1),m.mc("ngForOf",e)}}function Nt(t,i){if(1&t&&(m.Tb(0,"p-treeTable",8),m.Mc(1,Ot,2,1,"ng-template",9),m.Mc(2,zt,2,1,"ng-template",10),m.Sb()),2&t){var e=m.fc();m.mc("value",e.dataSintesi)("columns",e.cols)}}function wt(t,i){if(1&t&&(m.Tb(0,"strong"),m.Oc(1),m.Sb()),2&t){var e=m.fc(3).$implicit;m.Bb(1),m.Pc(e.descrizione2)}}function kt(t,i){if(1&t&&(m.Tb(0,"th",26),m.Mc(1,wt,2,1,"strong",17),m.Sb()),2&t){var e=i.$implicit;m.mc("ngStyle",m.sc(2,Pt,e.width)),m.Bb(1),m.mc("ngIf",e.header)}}function Et(t,i){if(1&t&&(m.Tb(0,"tr"),m.Mc(1,kt,2,4,"th",25),m.Sb()),2&t){var e=i.$implicit;m.Bb(1),m.mc("ngForOf",e)}}function xt(t,i){if(1&t&&(m.Tb(0,"tr"),m.Tb(1,"td"),m.Oc(2),m.Sb(),m.Tb(3,"td"),m.Oc(4),m.Sb(),m.Sb()),2&t){var e=i.$implicit;m.Bb(2),m.Pc(e.controlloDescrizione),m.Bb(2),m.Pc(e.valore)}}function Ut(t,i){1&t&&(m.Tb(0,"tr"),m.Tb(1,"td"),m.Oc(2," Controllo non eseguito "),m.Sb(),m.Sb()),2&t&&(m.Bb(1),m.Cb("colspan",10))}function Lt(t,i){if(1&t&&(m.Tb(0,"div",22),m.Tb(1,"p-table",23),m.gc(2,"tipoFilter"),m.gc(3,"tipoFilter"),m.Mc(4,Et,2,1,"ng-template",9),m.Mc(5,xt,5,2,"ng-template",10),m.Mc(6,Ut,3,1,"ng-template",24),m.Sb(),m.Sb()),2&t){var e=i.$implicit,a=m.fc(3).$implicit,o=m.fc(2);m.Bb(1),m.mc("columns",o.cols)("value",m.jc(2,5,m.jc(3,9,o.controlli,"codice1",a.codice1),"codice2",e.codice2))("autoLayout",!0)("paginator",!1)("responsive",!0)}}function Rt(t,i){if(1&t&&(m.Mc(0,Lt,7,13,"ng-template",20),m.gc(1,"tipoFilter")),2&t){var e=m.fc(2).$implicit,a=m.fc(2);m.mc("ngForOf",m.jc(1,1,a.tabelle,"codice1",e.codice1))}}function _t(t,i){if(1&t&&(m.Tb(0,"div"),m.Tb(1,"p-accordion"),m.Tb(2,"p-accordionTab",21),m.Mc(3,Rt,2,5,void 0,17),m.Sb(),m.Sb(),m.Sb()),2&t){var e=m.fc().$implicit,a=m.fc(2);m.Bb(2),m.oc("header","Calcolo  ",e.descrizione1,""),m.mc("selected",!1),m.Bb(1),m.mc("ngIf",a.tabelle)}}function $t(t,i){1&t&&m.Mc(0,_t,4,3,"div",17),2&t&&m.mc("ngIf","Anomalie mantenimento"!=i.$implicit.descrizione1)}function Ft(t,i){if(1&t&&(m.Tb(0,"div",19),m.Mc(1,$t,1,1,"ng-template",20),m.Sb()),2&t){var e=m.fc();m.Bb(1),m.mc("ngForOf",e.tipiControllo)}}var Gt,qt=((Gt=function(){function t(i,e){_classCallCheck(this,t),this.route=i,this.istruttoriaService=e,this.sintesi="SINTESI"}return _createClass(t,[{key:"ngOnInit",value:function(){this.cols=[{field:"controlloDescrizione",header:"b",width:"70%"},{field:"valore",header:"ss",width:"30%"}],this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.caricaDatiDettaglio()}},{key:"caricaDatiDettaglio",value:function(){var t=this;this.istruttoriaService.getDatiDomandaIstruttoriaDU(this.istruttoriaDUCorrente.id.toString()).subscribe((function(i){if(i){t.controlli=i.sort((function(t,i){return t.ordineControllo<i.ordineControllo?-1:1})).sort((function(t,i){return t.ordine1<i.ordine1?-1:1}));var e=t.controlli.filter((function(i){return i.codice1!==t.sintesi})).map((function(t){var i=new M.a;return i.codice1=t.codice1,i.descrizione1=t.descrizione1,i.bold=0,i.ordineControllo=0,i}));t.tipiControllo=t.mapDistinct(e);var a=t.controlli.map((function(t){var i=new M.a;return i.codice2=t.codice2,i.descrizione2=t.descrizione2,i.codice1=t.codice1,i.descrizione1=t.descrizione1,i.bold=0,i.ordineControllo=0,i}));t.tabelle=t.mapDistinct(a);var o=t.controlli.filter((function(i){return i.codice1===t.sintesi&&i.codice2===i.controllo})).map((function(i){return t.controlloToTreeNode(i,t.controlli.filter((function(e){return e.codice1===t.sintesi&&e.codice2===i.controllo&&e.controllo!==i.controllo})).map((function(i){return t.controlloToTreeNode(i,null)})))}));t.dataSintesi=o}}))}},{key:"mapDistinct",value:function(t){var i=new Array;return t.forEach((function(t){var e=!1;i.forEach((function(i){t.codice2===i.codice2&&t.codice1===i.codice1&&(e=!0)})),e||i.push(t)})),i}},{key:"controlloToTreeNode",value:function(t,i){return t.bold=i?1:0,{label:t.controllo.toString(),data:t,children:i}}}]),t}()).\u0275fac=function(t){return new(t||Gt)(m.Nb(c.a),m.Nb(y.a))},Gt.\u0275cmp=m.Hb({type:Gt,selectors:[["app-dati-domanda"]],decls:17,vars:2,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],[1,"ui-g-4"],[1,"table-responsive"],[3,"value","columns",4,"ngIf"],[1,"ui-g-8"],["class","accordion-wrapper dettaglioaccordionmultiple",4,"ngIf"],[3,"value","columns"],["pTemplate","header"],["pTemplate","body"],[2,"display","none"],["height","0","span","0",3,"ngStyle",4,"ngFor","ngForOf"],["height","0","span","0",3,"ngStyle"],[4,"ngFor","ngForOf"],[3,"rowNode",4,"ngIf"],[2,"vertical-align","middle"],[4,"ngIf"],[3,"rowNode"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],["ngFor","",3,"ngForOf"],[3,"header","selected"],[1,"table-responsive",2,"margin-top","30px"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","emptymessage"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"]],template:function(t,i){1&t&&(m.Tb(0,"div",0),m.Tb(1,"div",1),m.Tb(2,"div",2),m.Tb(3,"div",3),m.Tb(4,"div"),m.Tb(5,"h3"),m.Tb(6,"span"),m.Oc(7,"Sintesi Calcolo"),m.Sb(),m.Sb(),m.Sb(),m.Tb(8,"div",4),m.Mc(9,Nt,3,2,"p-treeTable",5),m.Sb(),m.Sb(),m.Tb(10,"div",6),m.Tb(11,"div"),m.Tb(12,"div"),m.Tb(13,"h3"),m.Tb(14,"span"),m.Oc(15,"Dettaglio Calcolo cia"),m.Sb(),m.Sb(),m.Sb(),m.Mc(16,Ft,2,1,"div",7),m.Sb(),m.Sb(),m.Sb(),m.Sb(),m.Sb()),2&t&&(m.Bb(9),m.mc("ngIf",i.dataSintesi),m.Bb(7),m.mc("ngIf",i.tipiControllo))},directives:[a.t,Ct.l,N.e,a.s,a.w,Ct.o,A.a,A.c,z.q],pipes:[w.b],styles:[""]}),Gt),Ht=e("Lf7B"),jt=e("XNiG"),Qt=e("LRne"),Kt=e("cp0P"),Vt=e("1G5W"),Yt=e("lJxs"),Zt=e("dkQB"),Jt=e("JEAp"),Xt=e("eZS7"),Wt=["tableEle"],ti=["tableGreening"],ii=["tableMan"];function ei(t,i){if(1&t&&m.Ob(0,"p-sortIcon",21),2&t){var e=m.fc().$implicit;m.mc("field",e.field)}}function ai(t,i){if(1&t&&(m.Tb(0,"th",19),m.Tb(1,"strong"),m.Oc(2),m.Sb(),m.Mc(3,ei,1,1,"p-sortIcon",20),m.Sb()),2&t){var e=i.$implicit;m.mc("pSortableColumn",e.field)("pSortableColumnDisabled",null==e.field||"descrizioneColtura"===e.field),m.Bb(2),m.Pc(e.header),m.Bb(1),m.mc("ngIf","descrizioneColtura"!==e.field)}}function oi(t,i){if(1&t&&(m.Tb(0,"tr"),m.Ob(1,"th",17),m.Mc(2,ai,4,4,"th",18),m.Sb()),2&t){var e=i.$implicit;m.Bb(2),m.mc("ngForOf",e)}}function ni(t,i){if(1&t){var e=m.Ub();m.Tb(0,"tr"),m.Tb(1,"td"),m.Tb(2,"a",22),m.Tb(3,"i",23),m.bc("onClick",(function(){m.Ec(e);var t=i.expanded,a=i.$implicit;return m.fc(2).onRowExpanded(t,a.id)})),m.Sb(),m.Sb(),m.Sb(),m.Tb(4,"td"),m.Oc(5),m.Sb(),m.Tb(6,"td"),m.Oc(7),m.Sb(),m.Tb(8,"td"),m.Oc(9),m.Sb(),m.Tb(10,"td"),m.Oc(11),m.Sb(),m.Tb(12,"td"),m.Oc(13),m.Sb(),m.Tb(14,"td"),m.Oc(15),m.Sb(),m.Tb(16,"td"),m.Oc(17),m.Sb(),m.Tb(18,"td"),m.Oc(19),m.Sb(),m.Tb(20,"td"),m.Oc(21),m.Sb(),m.Tb(22,"td"),m.Oc(23),m.Sb(),m.Tb(24,"td"),m.Oc(25),m.Sb(),m.Tb(26,"td"),m.Oc(27),m.Sb(),m.Tb(28,"td"),m.Oc(29),m.Sb(),m.Tb(30,"td"),m.Oc(31),m.Sb(),m.Sb()}if(2&t){var a=i.expanded,o=i.$implicit;m.Bb(2),m.mc("pRowToggler",o),m.Bb(1),m.mc("ngClass",a?"pi pi-chevron-down":"pi pi-chevron-right"),m.Bb(2),m.Pc(o.codNazionale),m.Bb(2),m.Pc(o.foglio),m.Bb(2),m.Pc(o.particella),m.Bb(2),m.Pc(o.sub),m.Bb(2),m.Pc(o.codColtura),m.Bb(2),m.Pc(o.descrizioneColtura),m.Bb(2),m.Pc(o.supImpegnata),m.Bb(2),m.Pc(o.supEleggibile),m.Bb(2),m.Pc(o.supSigeco),m.Bb(2),m.Pc(o.anomalieMantenimento),m.Bb(2),m.Pc(o.anomalieCoordinamento),m.Bb(2),m.Pc(o.superficieAnomalieCoordinamento),m.Bb(2),m.Pc(o.supDeterminata),m.Bb(2),m.Pc(o.supScostamento)}}function ri(t,i){if(1&t&&(m.Tb(0,"span"),m.Tb(1,"a",31),m.Oc(2),m.Sb(),m.Sb()),2&t){var e=m.fc().$implicit;m.Bb(1),m.nc("href",e.link,m.Gc),m.Bb(1),m.Pc(e.value)}}function ci(t,i){if(1&t&&m.Oc(0),2&t){var e=m.fc().$implicit;m.Qc(" ",e.value," ")}}function li(t,i){if(1&t&&(m.Tb(0,"span",28),m.Mc(1,ri,3,2,"span",29),m.Mc(2,ci,1,1,"ng-template",null,30,m.Nc),m.Sb()),2&t){var e=i.$implicit,a=m.Bc(3);m.Bb(1),m.mc("ngIf",e.link)("ngIfElse",a)}}function si(t,i){if(1&t&&(m.Tb(0,"div"),m.Mc(1,li,4,2,"span",27),m.Sb()),2&t){var e=i.ngIf;m.Bb(1),m.mc("ngForOf",e)}}function bi(t,i){if(1&t&&(m.Tb(0,"tr"),m.Tb(1,"td"),m.Tb(2,"div",24),m.Tb(3,"div",25),m.Oc(4," Parcelle domanda grafica: "),m.Sb(),m.Tb(5,"div",26),m.Mc(6,si,2,1,"div",7),m.gc(7,"async"),m.Sb(),m.Sb(),m.Sb(),m.Sb()),2&t){var e=i.$implicit,a=i.columns,o=m.fc(2);m.Bb(1),m.Cb("colspan",a.length+1),m.Bb(5),m.mc("ngIf",m.hc(7,2,o.getParcelleValues(e)))}}function di(t,i){1&t&&(m.Tb(0,"tr"),m.Tb(1,"td"),m.Oc(2," Calcolo disaccoppiato non ancora effettuato per la domanda. "),m.Sb(),m.Sb()),2&t&&(m.Bb(1),m.Cb("colspan",12))}function ui(t,i){if(1&t){var e=m.Ub();m.Tb(0,"p-table",11,12),m.bc("onLazyLoad",(function(t){return m.Ec(e),m.fc().changePageEleggibilita(t)})),m.Mc(2,oi,3,1,"ng-template",13),m.Mc(3,ni,32,16,"ng-template",14),m.Mc(4,bi,8,4,"ng-template",15),m.Mc(5,di,3,1,"ng-template",16),m.Sb()}if(2&t){var a=m.fc();m.mc("columns",a.cols)("value",a.listaDettaglioParticelleTable.risultati)("autoLayout",!0)("totalRecords",a.listaDettaglioParticelleTable.elementiTotali)("paginator",!0)("rows",a.elementiPerPagina)("lazy",!0)}}function pi(t,i){if(1&t){var e=m.Ub();m.Tb(0,"div"),m.Tb(1,"button",32),m.bc("click",(function(){return m.Ec(e),m.fc().downloadCsv(1)})),m.Oc(2),m.gc(3,"translate"),m.Sb(),m.Sb()}if(2&t){var a=m.fc();m.Bb(1),m.mc("disabled",a.listaDettaglioParticelleTable.elementiTotali<=0),m.Bb(1),m.Qc(" ",m.hc(3,2,"SCARICA_DATI")," ")}}function fi(t,i){if(1&t&&m.Ob(0,"p-sortIcon",21),2&t){var e=m.fc().$implicit;m.mc("field",e.field)}}function gi(t,i){if(1&t&&(m.Tb(0,"th",19),m.Tb(1,"strong"),m.Oc(2),m.Sb(),m.Mc(3,fi,1,1,"p-sortIcon",20),m.Sb()),2&t){var e=i.$implicit;m.mc("pSortableColumn",e.field)("pSortableColumnDisabled",null==e.field||"descrizioneColtura"===e.field),m.Bb(2),m.Pc(e.header),m.Bb(1),m.mc("ngIf","descrizioneColtura"!==e.field)}}function mi(t,i){if(1&t&&(m.Tb(0,"tr"),m.Mc(1,gi,4,4,"th",18),m.Sb()),2&t){var e=i.$implicit;m.Bb(1),m.mc("ngForOf",e)}}function Si(t,i){if(1&t&&(m.Tb(0,"tr",35),m.Tb(1,"td"),m.Oc(2),m.Sb(),m.Tb(3,"td"),m.Oc(4),m.Sb(),m.Tb(5,"td"),m.Oc(6),m.Sb(),m.Tb(7,"td"),m.Oc(8),m.Sb(),m.Tb(9,"td"),m.Oc(10),m.Sb(),m.Tb(11,"td"),m.Oc(12),m.Sb(),m.Tb(13,"td"),m.Oc(14),m.Sb(),m.Tb(15,"td"),m.Oc(16),m.Sb(),m.Tb(17,"td"),m.Oc(18),m.Sb(),m.Tb(19,"td"),m.Oc(20),m.Sb(),m.Tb(21,"td"),m.Oc(22),m.Sb(),m.Tb(23,"td"),m.Oc(24),m.Sb(),m.Sb()),2&t){var e=i.$implicit;m.mc("pSelectableRow",e),m.Bb(2),m.Pc(e.codNazionale),m.Bb(2),m.Pc(e.foglio),m.Bb(2),m.Pc(e.particella),m.Bb(2),m.Pc(e.sub),m.Bb(2),m.Pc(e.codColtura),m.Bb(2),m.Pc(e.descrizioneColtura),m.Bb(2),m.Pc(e.supDeterminata),m.Bb(2),m.Pc(e.tipoColtura),m.Bb(2),m.Pc(e.tipoSeminativo),m.Bb(2),m.Pc(e.colturaPrincipale),m.Bb(2),m.Pc(e.secondaColtura),m.Bb(2),m.Pc(e.azotoFissatrice)}}function vi(t,i){1&t&&(m.Tb(0,"tr"),m.Tb(1,"td"),m.Oc(2," Calcolo disaccoppiato non ancora effettuato per la domanda. "),m.Sb(),m.Sb()),2&t&&(m.Bb(1),m.Cb("colspan",12))}function hi(t,i){if(1&t){var e=m.Ub();m.Tb(0,"p-table",33,34),m.bc("onLazyLoad",(function(t){return m.Ec(e),m.fc().changePageGreening(t)})),m.Mc(2,mi,2,1,"ng-template",13),m.Mc(3,Si,25,13,"ng-template",14),m.Mc(4,vi,3,1,"ng-template",16),m.Sb()}if(2&t){var a=m.fc();m.mc("columns",a.colsGreening)("value",a.listaDettaglioParticelleTableGreening.risultati)("autoLayout",!0)("totalRecords",a.listaDettaglioParticelleTableGreening.elementiTotali)("paginator",!0)("rows",a.elementiPerPagina)("lazy",!0)}}function Ti(t,i){if(1&t){var e=m.Ub();m.Tb(0,"div"),m.Tb(1,"button",32),m.bc("click",(function(){return m.Ec(e),m.fc().downloadCsv(2)})),m.Oc(2),m.gc(3,"translate"),m.Sb(),m.Sb()}if(2&t){var a=m.fc();m.Bb(1),m.mc("disabled",a.listaDettaglioParticelleTableGreening.elementiTotali<=0),m.Bb(1),m.Qc(" ",m.hc(3,2,"SCARICA_DATI")," ")}}function Ii(t,i){if(1&t&&m.Ob(0,"p-sortIcon",21),2&t){var e=m.fc().$implicit;m.mc("field",e.field)}}function Ci(t,i){if(1&t&&(m.Tb(0,"th",19),m.Tb(1,"strong"),m.Oc(2),m.Sb(),m.Mc(3,Ii,1,1,"p-sortIcon",20),m.Sb()),2&t){var e=i.$implicit;m.mc("pSortableColumn",e.field)("pSortableColumnDisabled",null==e.field||"descrizioneColtura"===e.field),m.Bb(2),m.Pc(e.header),m.Bb(1),m.mc("ngIf","descrizioneColtura"!==e.field)}}function Pi(t,i){if(1&t&&(m.Tb(0,"tr"),m.Mc(1,Ci,4,4,"th",18),m.Sb()),2&t){var e=i.$implicit;m.Bb(1),m.mc("ngForOf",e)}}function Di(t,i){if(1&t&&(m.Tb(0,"tr",35),m.Tb(1,"td"),m.Oc(2),m.Sb(),m.Tb(3,"td"),m.Oc(4),m.Sb(),m.Tb(5,"td"),m.Oc(6),m.Sb(),m.Tb(7,"td"),m.Oc(8),m.Sb(),m.Tb(9,"td"),m.Oc(10),m.Sb(),m.Tb(11,"td"),m.Oc(12),m.Sb(),m.Tb(13,"td"),m.Oc(14),m.Sb(),m.Tb(15,"td"),m.Oc(16),m.Sb(),m.Tb(17,"td"),m.Oc(18),m.Sb(),m.Tb(19,"td"),m.Oc(20),m.Sb(),m.Tb(21,"td"),m.Oc(22),m.Sb(),m.Sb()),2&t){var e=i.$implicit;m.mc("pSelectableRow",e),m.Bb(2),m.Pc(e.codNazionale),m.Bb(2),m.Pc(e.foglio),m.Bb(2),m.Pc(e.particella),m.Bb(2),m.Pc(e.sub),m.Bb(2),m.Pc(e.codColtura),m.Bb(2),m.Pc(e.descrizioneColtura),m.Bb(2),m.Pc(e.pascolo),m.Bb(2),m.Pc(e.supImpegnata),m.Bb(2),m.Pc(e.supEleggibile),m.Bb(2),m.Pc(e.supSigeco),m.Bb(2),m.Pc(e.anomalieMantenimento)}}function Oi(t,i){1&t&&(m.Tb(0,"tr"),m.Tb(1,"td"),m.Oc(2," Non risultano presenti in domanda particelle afferenti a pascoli. "),m.Sb(),m.Sb()),2&t&&(m.Bb(1),m.Cb("colspan",11))}function Bi(t,i){1&t&&(m.Tb(0,"tr"),m.Tb(1,"td"),m.Oc(2," Calcolo disaccoppiato non ancora effettuato per la domanda. "),m.Sb(),m.Sb()),2&t&&(m.Bb(1),m.Cb("colspan",11))}function Mi(t,i){if(1&t&&(m.Mc(0,Oi,3,1,"tr",7),m.Mc(1,Bi,3,1,"tr",7)),2&t){var e=m.fc(2);m.mc("ngIf",(null==e.listaDettaglioParticelleTable.risultati?null:e.listaDettaglioParticelleTable.risultati.length)>0),m.Bb(1),m.mc("ngIf",0===(null==e.listaDettaglioParticelleTable.risultati?null:e.listaDettaglioParticelleTable.risultati.length))}}function yi(t,i){if(1&t){var e=m.Ub();m.Tb(0,"p-table",33,36),m.bc("onLazyLoad",(function(t){return m.Ec(e),m.fc().changePageMantenimento(t)})),m.Mc(2,Pi,2,1,"ng-template",13),m.Mc(3,Di,23,12,"ng-template",14),m.Mc(4,Mi,2,2,"ng-template",16),m.Sb()}if(2&t){var a=m.fc();m.mc("columns",a.colsMantenimento)("value",a.listaDettaglioParticelleTableMantenimento.risultati)("autoLayout",!0)("totalRecords",a.listaDettaglioParticelleTableMantenimento.elementiTotali)("paginator",!0)("rows",a.elementiPerPagina)("lazy",!0)}}function Ai(t,i){if(1&t){var e=m.Ub();m.Tb(0,"div"),m.Tb(1,"button",32),m.bc("click",(function(){return m.Ec(e),m.fc().downloadCsv(3)})),m.Oc(2),m.gc(3,"translate"),m.Sb(),m.Sb()}if(2&t){var a=m.fc();m.Bb(1),m.mc("disabled",a.listaDettaglioParticelleTableMantenimento.elementiTotali<=0),m.Bb(1),m.Qc(" ",m.hc(3,2,"SCARICA_DATI")," ")}}var zi,Ni=function(){return{marginTop:"70px"}},wi=function t(){_classCallCheck(this,t)},ki=((zi=function(){function t(i,e,a,o){_classCallCheck(this,t),this.route=i,this.istruttoriaDettaglioService=e,this.messageService=a,this.configuration=o,this.numeroPagina=1,this.elementiPerPagina=10,this.listaDettaglioParticelleTable=new Ht.b,this.listaDettaglioParticelleTableGreening=new Ht.b,this.listaDettaglioParticelleTableMantenimento=new Ht.b,this.numeroPaginaGreen=1,this.first=0,this.componentDestroyed$=new jt.a,this.parcelleResults=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.setCols(),this.getIdIstruttoria(),this.getDettaglio(),this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria}},{key:"setCols",value:function(){this.cols=[{field:"codNazionale",header:"Cod. Comune"},{field:"foglio",header:"Foglio"},{field:"particella",header:"Particella"},{field:"sub",header:"Sub"},{field:"codiceColtura3",header:"Cod. Coltura"},{field:"descrizioneColtura",header:"Descrizione Coltura",sortable:!1},{field:"superficieImpegnata",header:"Sup Imp."},{field:"superficieEleggibile",header:"Sup Elegg."},{field:"superficieSigeco",header:"Sup Controllo in loco"},{field:"anomalieMantenimento",header:"Anomalie Man"},{field:"anomalieCoordinamento",header:"Anomalie Coor"},{field:"supAnCoord",header:"Sup An. Coord."},{field:"superficieDeterminata",header:"Sup Determinata"},{field:"superficieScostamento",header:"Sup Scostamento"}],this.colsGreening=[{field:"codNazionale",header:"Cod. Comune"},{field:"foglio",header:"Foglio"},{field:"particella",header:"Particella"},{field:"sub",header:"Sub"},{field:"codiceColtura3",header:"Cod. Coltura"},{field:"descrizioneColtura",header:"Descrizione Coltura",sortable:!1},{field:"superficieDeterminata",header:"Sup Determinata"},{field:"tipoColtura",header:"Tipo di Coltura"},{field:"tipoSeminativo",header:"Tipo di Seminativo"},{field:"colturaPrincipale",header:"Coltura Principale"},{field:"secondaColtura",header:"Seconda Coltura"},{field:"azotoFissatrice",header:"Azoto Fissatrice"}],this.colsMantenimento=[{field:"codNazionale",header:"Cod. Comune"},{field:"foglio",header:"Foglio"},{field:"particella",header:"Particella"},{field:"sub",header:"Sub"},{field:"codiceColtura3",header:"Cod. Coltura"},{field:"descrizioneColtura",header:"Descrizione Coltura",sortable:!1},{field:"pascolo",header:"Pascolo"},{field:"superficieImpegnata",header:"Sup. imp. netta"},{field:"superficieEleggibile",header:"Sup. eleggibile"},{field:"superficieSigeco",header:"Sup. controllo in loco"},{field:"anomalieMantenimento",header:"Anomalie MAN"}]}},{key:"getIdIstruttoria",value:function(){this.idIstruttoria=this.route.snapshot.data.domandaIstruttoria.id}},{key:"getDettaglio",value:function(){this.changePage1(this.tableEle,0),this.first=this.first+1}},{key:"changePage1",value:function(t,i){var e=this,a=1;switch(t&&(a=t.first),this.numeroPagina=Math.floor(a/this.elementiPerPagina),this.paginazione=null!=t&&null!=t.sortField?V.a.of(this.numeroPagina,this.elementiPerPagina,t.sortField,this.istruttoriaDettaglioService.getOrdine(t.sortOrder)):V.a.of(this.numeroPagina,this.elementiPerPagina,"id","ASC"),i){case 0:this.istruttoriaDettaglioService.getDatiParticellaIsNotPascoloDU(this.idIstruttoria.toString(),this.paginazione).pipe(Object(Vt.a)(this.componentDestroyed$)).subscribe((function(t){if(null!=t){console.log("Dettaglio Particelle trovate");var i=e.caricaParticelle(t);e.listaDettaglioParticelleTable.elementiTotali=t.elementiTotali,e.listaDettaglioParticelleTable.risultati=i,e.listaDettaglioParticelleTableGreening.elementiTotali=t.elementiTotali,e.listaDettaglioParticelleTableGreening.risultati=i}}),(function(t){e.messageService.add(j.a.getToast("tst",j.b.error,j.a.erroreRecuperoDati))}));break;case 1:this.istruttoriaDettaglioService.getDatiParticellaIsNotPascoloDU(this.idIstruttoria.toString(),this.paginazione).pipe(Object(Vt.a)(this.componentDestroyed$)).subscribe((function(t){if(null!=t){console.log("Dettaglio Particelle trovate");var i=e.caricaParticelle(t);e.listaDettaglioParticelleTable.elementiTotali=t.elementiTotali,e.listaDettaglioParticelleTable.risultati=i}}),(function(t){e.messageService.add(j.a.getToast("tst",j.b.error,j.a.erroreRecuperoDatiEleggibilita))}));break;case 2:this.istruttoriaDettaglioService.getDatiParticellaIsNotPascoloDU(this.idIstruttoria.toString(),this.paginazione).pipe(Object(Vt.a)(this.componentDestroyed$)).subscribe((function(t){if(null!=t){console.log("Dettaglio Particelle trovate");var i=e.caricaParticelle(t);e.listaDettaglioParticelleTableGreening.elementiTotali=t.elementiTotali,e.listaDettaglioParticelleTableGreening.risultati=i}}),(function(t){e.messageService.add(j.a.getToast("tst",j.b.error,j.a.erroreRecuperoDatiGreening))}));break;case 3:this.istruttoriaDettaglioService.getDatiParticellaIsPascoloDU(this.idIstruttoria.toString(),this.paginazione,!0).pipe(Object(Vt.a)(this.componentDestroyed$)).subscribe((function(t){if(null!=t){console.log("Dettaglio Particelle trovate");var i=e.caricaParticelle(t);e.listaDettaglioParticelleTableMantenimento.elementiTotali=t.elementiTotali,e.listaDettaglioParticelleTableMantenimento.risultati=i}}),(function(t){e.messageService.add(j.a.getToast("tst",j.b.error,j.a.erroreRecuperoDatiMantenimento))}))}}},{key:"changePage",value:function(t,i){null!=this.idIstruttoria&&3===this.first?this.changePage1(t,i):this.first=this.first+1}},{key:"changePageEleggibilita",value:function(t){console.log("Recupero dettaglio particella changePageEleggibilita"),this.changePage(t,1)}},{key:"changePageGreening",value:function(t){console.log("Recupero dettaglio particella changePageGreening"),this.changePage(t,2)}},{key:"changePageMantenimento",value:function(t){console.log("Recupero dettaglio particella changePageMantenimento"),this.changePage(t,3)}},{key:"caricaParticelle",value:function(t){var i=this,e=new Array;return t.risultati.forEach((function(t){var a=new Ht.a;a.id=t.infoCatastali.idParticella,a.comuneCatastale=t.infoCatastali.comune,a.codNazionale=t.infoCatastali.codNazionale,a.foglio=t.infoCatastali.foglio,a.particella=t.infoCatastali.particella,a.sub=t.infoCatastali.sub,a.codColtura=t.codiceColtura3,a.descrizioneColtura=t.descrizioneColtura,a.supImpegnata=t.variabiliCalcoloParticella.superficieImpegnata,a.supEleggibile=t.variabiliCalcoloParticella.superficieEleggibile,a.supSigeco=t.variabiliCalcoloParticella.superficieSigeco,a.supDeterminata=t.variabiliCalcoloParticella.superficieDeterminata,a.anomalieMantenimento=i.boolToString(t.variabiliCalcoloParticella.anomalieMantenimento),a.anomalieCoordinamento=i.boolToString(t.variabiliCalcoloParticella.anomalieCoordinamento),a.tipoColtura=t.variabiliCalcoloParticella.tipoColtura,a.tipoSeminativo=t.variabiliCalcoloParticella.tipoSeminativo,a.colturaPrincipale=i.boolToString(t.variabiliCalcoloParticella.colturaPrincipale),a.secondaColtura=i.boolToString(t.variabiliCalcoloParticella.secondaColtura),a.azotoFissatrice=i.boolToString(t.variabiliCalcoloParticella.azotoFissatrice),a.pascolo=t.variabiliCalcoloParticella.pascolo,a.supScostamento=t.variabiliCalcoloParticella.superficieScostamento,a.superficieAnomalieCoordinamento=t.variabiliCalcoloParticella.superficieAnomalieCoordinamento,e.push(a)})),console.log(e),e}},{key:"boolToString",value:function(t){return null==t?"":!0===t?"SI":!1===t?"NO":void 0}},{key:"onRowExpanded",value:function(t,i){console.log("isExpanded: ".concat(t,", dettaglioParticellaId: ").concat(i))}},{key:"getParcelleValues",value:function(t){var i=this,e=this.istruttoriaDUCorrente.domanda.numeroDomanda,a=this.istruttoriaDUCorrente.domanda.id,o=t.id,n=t.codColtura;return this.parcelleResults[o]&&this.parcelleResults[o][n]?Object(Qt.a)(this.parcelleResults[o][n]):Object(Kt.a)([this.istruttoriaDettaglioService.getIstruttoriaGraficaDomandaUnica(e,this.istruttoriaDUCorrente.domanda.cuaaIntestatario),this.istruttoriaDettaglioService.findIdParcelleByDomandaParticellaIntervento(a,o,n)]).pipe(Object(Yt.a)((function(t){var a,r=t[0],c=t[1],l=[],s=_createForOfIteratorHelper(c);try{for(s.s();!(a=s.n()).done;){var b=a.value;l=l.concat(b.idParcelle.filter((function(t){return!l.includes(t)})))}}catch(d){s.e(d)}finally{s.f()}return l.forEach((function(t){var a=new wi;if(r){var c=Xt.a.convertToPatternDate(r.dataRiferimento,"DD/MM/YYYY"),l=Xt.a.convertToPatternDate(r.dataIstruttoriaGrafica,"DD/MM/YYYY");a.link=i.configuration.siap_basepath+"?azione=domandaGrafica&cuaa=".concat(r.cuaa,"&abilitaEditing=NO&atto=").concat(e,"&decoTipoDocu=1950&op=IT25&anno=")+r.anno+"&flagAcc=0&flagPartCata=0&flagParc=1&ufficio=6&dataRife="+c+"&tipoVisu=3&dataIstr=".concat(l,"&idParcAgri=").concat(t)}else a.link=null;a.value=t,i.parcelleResults[o]||(i.parcelleResults[o]=[]),i.parcelleResults[o][n]||(i.parcelleResults[o][n]=[]),i.parcelleResults[o][n].push(a)})),i.parcelleResults[o][n]})))}},{key:"downloadCsv",value:function(t){var i=this,e="";1==t&&(e="_DATI_ELEGGIBILITA"),2==t&&(e="_DATI_GREENING"),3==t&&(e="_DATI_MANTENIMENTO");var a=new Date,o=a.getMonth()<10?"0"+(a.getMonth()+1).toString():a.getMonth().toString(),n=a.getDate()<10?"0"+a.getDate().toString():a.getDate().toString(),r=a.getHours()<10?"0"+a.getHours().toString():a.getHours().toString(),c=a.getMinutes()<10?"0"+a.getMinutes().toString():a.getMinutes().toString(),l=a.getSeconds()<10?"0"+a.getSeconds().toString():a.getSeconds().toString(),s=this.istruttoriaDUCorrente.domanda.cuaaIntestatario+"_"+this.istruttoriaDUCorrente.sostegno+"_"+this.istruttoriaDUCorrente.domanda.campagna+"_"+this.istruttoriaDUCorrente.tipo+e+"_"+a.getFullYear().toString()+o+n+"_"+r+c+l+".csv";t>=1&&t<=3&&this.istruttoriaDettaglioService.getDCSVDatiParticelleDati(this.idIstruttoria,t).subscribe((function(t){var i=new Blob([t],{type:"text/plain;charset=utf-8"});Jt.saveAs(i,s)}),(function(t){i.messageService.add(j.a.getToast("tst",j.b.error,t.message))}))}},{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}}]),t}()).\u0275fac=function(t){return new(t||zi)(m.Nb(c.a),m.Nb(y.a),m.Nb(N.d),m.Nb(Zt.a))},zi.\u0275cmp=m.Hb({type:zi,selectors:[["app-esiti-particelle"]],viewQuery:function(t,i){var e;1&t&&(m.Uc(Wt,!0),m.Uc(ti,!0),m.Uc(ii,!0)),2&t&&(m.Ac(e=m.cc())&&(i.tableEle=e.first),m.Ac(e=m.cc())&&(i.tableGreening=e.first),m.Ac(e=m.cc())&&(i.tableMan=e.first))},decls:19,vars:12,consts:[["key","tst"],[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],[1,"accordion-wrapper","dettaglioaccordion"],["header","Dati eleggibilit\xe0",3,"selected"],["dataKey","id",3,"columns","value","autoLayout","totalRecords","paginator","rows","lazy","onLazyLoad",4,"ngIf"],[4,"ngIf"],["header","Dati greening",3,"selected"],[3,"columns","value","autoLayout","totalRecords","paginator","rows","lazy","onLazyLoad",4,"ngIf"],["header","Dati mantenimento",3,"selected"],["dataKey","id",3,"columns","value","autoLayout","totalRecords","paginator","rows","lazy","onLazyLoad"],["tableEle",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],[2,"width","3em"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field",4,"ngIf"],[3,"field"],["href","#",3,"pRowToggler"],[3,"ngClass","onClick"],[1,"ui-g","ui-fluid",2,"font-size","16px","padding","20px"],[1,"ui-g-12","ui-md-3",2,"text-align","center"],[1,"ui-g-12","ui-md-9"],["class","mr-5",4,"ngFor","ngForOf"],[1,"mr-5"],[4,"ngIf","ngIfElse"],["noLink",""],["target","_blank",3,"href"],["pButton","","type","button",1,"ui-button-success",2,"width","300px",3,"disabled","click"],[3,"columns","value","autoLayout","totalRecords","paginator","rows","lazy","onLazyLoad"],["tableGreening",""],[3,"pSelectableRow"],["tableMan",""]],template:function(t,i){1&t&&(m.Ob(0,"p-toast",0),m.Tb(1,"div",1),m.Tb(2,"div",2),m.Tb(3,"div",3),m.Tb(4,"div",4),m.Tb(5,"p-accordion"),m.Tb(6,"p-accordionTab",5),m.Mc(7,ui,6,7,"p-table",6),m.Mc(8,pi,4,4,"div",7),m.Sb(),m.Sb(),m.Sb(),m.Tb(9,"div",4),m.Tb(10,"p-accordion"),m.Tb(11,"p-accordionTab",8),m.Mc(12,hi,5,7,"p-table",9),m.Mc(13,Ti,4,4,"div",7),m.Sb(),m.Sb(),m.Sb(),m.Tb(14,"div",4),m.Tb(15,"p-accordion"),m.Tb(16,"p-accordionTab",10),m.Mc(17,yi,5,7,"p-table",9),m.Mc(18,Ai,4,4,"div",7),m.Sb(),m.Sb(),m.Sb(),m.Sb(),m.Sb(),m.Sb()),2&t&&(m.Kc(m.rc(11,Ni)),m.Bb(6),m.mc("selected",!0),m.Bb(1),m.mc("ngIf",i.listaDettaglioParticelleTable),m.Bb(1),m.mc("ngIf",i.listaDettaglioParticelleTable),m.Bb(3),m.mc("selected",!0),m.Bb(1),m.mc("ngIf",i.listaDettaglioParticelleTableGreening),m.Bb(1),m.mc("ngIf",i.listaDettaglioParticelleTableGreening),m.Bb(3),m.mc("selected",!0),m.Bb(1),m.mc("ngIf",i.listaDettaglioParticelleTableMantenimento),m.Bb(1),m.mc("ngIf",i.listaDettaglioParticelleTableMantenimento))},directives:[Y.a,A.a,A.c,a.t,z.q,N.e,a.s,z.p,z.o,z.k,a.q,v.b,z.m],pipes:[a.b,T.d],styles:[""]}),zi),Ei=e("sdz4"),xi=e("3Pt+"),Ui=e("kKjl"),Li=e("oBRA"),Ri=e("Urau"),_i=e("8ioI"),$i=e("R5y+"),Fi=e("GLSp"),Gi=e("1SSY");function qi(t,i){if(1&t){var e=m.Ub();m.Tb(0,"div",14),m.Tb(1,"p-checkbox",36),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc(3).datiIstruttoriaDaInserire.annulloRiduzione=t})),m.Sb(),m.Sb()}if(2&t){var a=m.fc(3);m.Bb(1),m.mc("ngModel",a.datiIstruttoriaDaInserire.annulloRiduzione)}}function Hi(t,i){if(1&t&&(m.Tb(0,"p",38),m.Oc(1),m.Sb()),2&t){m.fc(2);var e=m.Bc(12);m.Bb(1),m.Qc(" ",e.errors.erroreNumero," ")}}function ji(t,i){if(1&t&&(m.Tb(0,"div"),m.Mc(1,Hi,2,1,"p",37),m.Sb()),2&t){m.fc();var e=m.Bc(12);m.Bb(1),m.mc("ngIf",null==e.errors?null:e.errors.erroreNumero)}}function Qi(t,i){if(1&t&&(m.Tb(0,"p",38),m.Oc(1),m.Sb()),2&t){m.fc(2);var e=m.Bc(21);m.Bb(1),m.Qc(" ",e.errors.erroreNumero," ")}}function Ki(t,i){if(1&t&&(m.Tb(0,"div"),m.Mc(1,Qi,2,1,"p",37),m.Sb()),2&t){m.fc();var e=m.Bc(21);m.Bb(1),m.mc("ngIf",null==e.errors?null:e.errors.erroreNumero)}}function Vi(t,i){if(1&t&&(m.Tb(0,"p",38),m.Oc(1),m.Sb()),2&t){m.fc(2);var e=m.Bc(31);m.Bb(1),m.Qc(" ",e.errors.erroreNumero," ")}}function Yi(t,i){if(1&t&&(m.Tb(0,"div"),m.Mc(1,Vi,2,1,"p",37),m.Sb()),2&t){m.fc();var e=m.Bc(31);m.Bb(1),m.mc("ngIf",null==e.errors?null:e.errors.erroreNumero)}}function Zi(t,i){if(1&t&&(m.Tb(0,"p",38),m.Oc(1),m.Sb()),2&t){m.fc(2);var e=m.Bc(41);m.Bb(1),m.Qc(" ",e.errors.erroreNumero," ")}}function Ji(t,i){if(1&t&&(m.Tb(0,"div"),m.Mc(1,Zi,2,1,"p",37),m.Sb()),2&t){m.fc();var e=m.Bc(41);m.Bb(1),m.mc("ngIf",null==e.errors?null:e.errors.erroreNumero)}}function Xi(t,i){if(1&t&&(m.Tb(0,"p",38),m.Oc(1),m.Sb()),2&t){m.fc(2);var e=m.Bc(51);m.Bb(1),m.Qc(" ",e.errors.erroreNumero," ")}}function Wi(t,i){if(1&t&&(m.Tb(0,"div"),m.Mc(1,Xi,2,1,"p",37),m.Sb()),2&t){m.fc();var e=m.Bc(51);m.Bb(1),m.mc("ngIf",null==e.errors?null:e.errors.erroreNumero)}}function te(t,i){if(1&t){var e=m.Ub();m.Tb(0,"form",12,13),m.bc("ngSubmit",(function(){m.Ec(e);var t=m.Bc(1);return m.fc(2).onSubmit(t)})),m.Tb(2,"div",14),m.Tb(3,"p-checkbox",15),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc(2).datiIstruttoriaDaInserire.controlloAntimafia=t})),m.Sb(),m.Sb(),m.Tb(4,"div",14),m.Tb(5,"p-checkbox",16),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc(2).datiIstruttoriaDaInserire.domAnnoPrecNonLiquidabile=t})),m.Sb(),m.Sb(),m.Mc(6,qi,2,1,"div",17),m.Ob(7,"br"),m.Tb(8,"div",14),m.Tb(9,"p-checkbox",18),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc(2).datiIstruttoriaDaInserire.bpsSanzioniAnnoPrecedente=t}))("onChange",(function(t){return m.Ec(e),m.fc(2).cleanBpsImportoSanzioniAnnoPrecedente(t)})),m.Sb(),m.Sb(),m.Tb(10,"div",19),m.Tb(11,"input",20,21),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc(2).datiIstruttoriaDaInserire.bpsImportoSanzioniAnnoPrecedente=t})),m.Sb(),m.Tb(13,"span",22),m.Oc(14,"Euro"),m.Sb(),m.Sb(),m.Mc(15,ji,2,1,"div",0),m.Ob(16,"br"),m.Tb(17,"div",14),m.Tb(18,"p-checkbox",23),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc(2).datiIstruttoriaDaInserire.gioSanzioniAnnoPrecedente=t}))("onChange",(function(t){return m.Ec(e),m.fc(2).cleanGioImportoSanzioniAnnoPrecedente(t)})),m.Sb(),m.Sb(),m.Tb(19,"div",19),m.Tb(20,"input",24,25),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc(2).datiIstruttoriaDaInserire.gioImportoSanzioniAnnoPrecedente=t})),m.Sb(),m.Tb(22,"span",22),m.Oc(23,"Euro"),m.Sb(),m.Sb(),m.Mc(24,Ki,2,1,"div",0),m.Ob(25,"br"),m.Tb(26,"div"),m.Tb(27,"label",26),m.Oc(28,"BPS - Superficie determinata dall'istruttore"),m.Sb(),m.Sb(),m.Tb(29,"div",19),m.Tb(30,"input",27,28),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc(2).datiIstruttoriaDaInserire.bPSSuperficie=t})),m.Sb(),m.Tb(32,"span",22),m.Oc(33,"Ha"),m.Sb(),m.Sb(),m.Mc(34,Yi,2,1,"div",0),m.Ob(35,"br"),m.Tb(36,"div"),m.Tb(37,"label",26),m.Oc(38,"Greening - Superficie non ammissibile mancato rispetto Inverdimento Istruttore"),m.Sb(),m.Sb(),m.Tb(39,"div",19),m.Tb(40,"input",29,30),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc(2).datiIstruttoriaDaInserire.greeningSuperficie=t})),m.Sb(),m.Tb(42,"span",22),m.Oc(43,"Ha"),m.Sb(),m.Sb(),m.Mc(44,Ji,2,1,"div",0),m.Ob(45,"br"),m.Tb(46,"div"),m.Tb(47,"label",26),m.Oc(48,"Importo Salari Azienda"),m.Sb(),m.Sb(),m.Tb(49,"div",19),m.Tb(50,"input",31,32),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc(2).datiIstruttoriaDaInserire.importoSalari=t})),m.Sb(),m.Tb(52,"span",22),m.Oc(53,"Euro"),m.Sb(),m.Sb(),m.Mc(54,Wi,2,1,"div",0),m.Ob(55,"br"),m.Tb(56,"div"),m.Tb(57,"label",26),m.Oc(58,"Note"),m.Sb(),m.Sb(),m.Tb(59,"div",19),m.Tb(60,"textarea",33),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc(2).datiIstruttoriaDaInserire.noteIstruttore=t})),m.Sb(),m.Sb(),m.Ob(61,"br"),m.Tb(62,"div"),m.Tb(63,"div",34),m.Tb(64,"button",35),m.Oc(65,"SALVA"),m.Sb(),m.Sb(),m.Sb(),m.Sb()}if(2&t){var a=m.Bc(1),o=m.Bc(12),n=m.Bc(21),r=m.Bc(31),c=m.Bc(41),l=m.Bc(51),s=m.fc(2);m.Bb(3),m.mc("ngModel",s.datiIstruttoriaDaInserire.controlloAntimafia),m.Bb(2),m.mc("ngModel",s.datiIstruttoriaDaInserire.domAnnoPrecNonLiquidabile),m.Bb(1),m.mc("ngIf",s.showCheckboxAnnulloRitardoPresentazione),m.Bb(3),m.mc("ngModel",s.datiIstruttoriaDaInserire.bpsSanzioniAnnoPrecedente),m.Bb(2),m.mc("ngModel",s.datiIstruttoriaDaInserire.bpsImportoSanzioniAnnoPrecedente)("disabled",!s.datiIstruttoriaDaInserire.bpsSanzioniAnnoPrecedente),m.Bb(4),m.mc("ngIf",o&&o.errors),m.Bb(3),m.mc("ngModel",s.datiIstruttoriaDaInserire.gioSanzioniAnnoPrecedente),m.Bb(2),m.mc("ngModel",s.datiIstruttoriaDaInserire.gioImportoSanzioniAnnoPrecedente)("disabled",!s.datiIstruttoriaDaInserire.gioSanzioniAnnoPrecedente),m.Bb(4),m.mc("ngIf",n&&n.errors),m.Bb(6),m.mc("ngModel",s.datiIstruttoriaDaInserire.bPSSuperficie),m.Bb(4),m.mc("ngIf",r&&r.errors),m.Bb(6),m.mc("ngModel",s.datiIstruttoriaDaInserire.greeningSuperficie),m.Bb(4),m.mc("ngIf",c&&c.errors),m.Bb(6),m.mc("ngModel",s.datiIstruttoriaDaInserire.importoSalari),m.Bb(4),m.mc("ngIf",l&&l.errors),m.Bb(6),m.mc("ngModel",s.datiIstruttoriaDaInserire.noteIstruttore),m.Bb(4),m.mc("disabled",!a.valid)}}function ie(t,i){1&t&&(m.Tb(0,"div"),m.Tb(1,"p",38),m.Oc(2," Numero non valido "),m.Sb(),m.Sb())}function ee(t,i){if(1&t){var e=m.Ub();m.Tb(0,"div"),m.Tb(1,"div"),m.Tb(2,"label",26),m.Oc(3,"Pascolo - Verifica documentazione di trasporto (MAN3)"),m.Sb(),m.Sb(),m.Tb(4,"div",45),m.Tb(5,"p-dropdown",47),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc().$implicit.man3=t})),m.Sb(),m.Sb(),m.Sb()}if(2&t){var a=m.fc(),o=a.index,n=a.$implicit,r=m.fc(3);m.Bb(5),m.nc("formControlName",o+"man3"),m.mc("options",r.scelteMAN3)("ngModel",n.man3)}}function ae(t,i){1&t&&(m.Tb(0,"div"),m.Tb(1,"p",38),m.Oc(2," CUAA non valido "),m.Sb(),m.Sb())}function oe(t,i){if(1&t){var e=m.Ub();m.Tb(0,"div"),m.Tb(1,"div"),m.Tb(2,"label",26),m.Oc(3,"Pascolo - CUAA del responsabile del pascolo (MAN4)"),m.Sb(),m.Sb(),m.Tb(4,"div",45),m.Tb(5,"input",46),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc().$implicit.man4=t})),m.Sb(),m.Sb(),m.Mc(6,ae,3,0,"div",0),m.Sb()}if(2&t){var a=m.fc(),o=a.index,n=a.$implicit,r=m.fc(3);m.Bb(5),m.nc("formControlName",o+"man4"),m.mc("ngModel",n.man4),m.Bb(1),m.mc("ngIf",!r.formPascoli.controls[o+"man4"].valid)}}function ne(t,i){if(1&t){var e=m.Ub();m.Tb(0,"div"),m.Tb(1,"div"),m.Tb(2,"label",26),m.Oc(3,"Pascolo - Esito del controllo del mantenimento delle superfici per i pascoli fuori provincia (MAN5)"),m.Sb(),m.Sb(),m.Tb(4,"div",45),m.Tb(5,"p-dropdown",47),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc().$implicit.man5=t})),m.Sb(),m.Sb(),m.Sb()}if(2&t){var a=m.fc(),o=a.index,n=a.$implicit,r=m.fc(3);m.Bb(5),m.nc("formControlName",o+"man5"),m.mc("options",r.scelteMAN5)("ngModel",n.man5)}}function re(t,i){if(1&t){var e=m.Ub();m.Tb(0,"p-accordionTab",44),m.Tb(1,"div"),m.Tb(2,"div"),m.Tb(3,"label",26),m.Oc(4,"Pascolo - Superfice determinata dall'istruttore"),m.Sb(),m.Sb(),m.Tb(5,"div",45),m.Tb(6,"input",46),m.bc("ngModelChange",(function(t){return m.Ec(e),i.$implicit.superficie=t})),m.Sb(),m.Tb(7,"span",22),m.Oc(8,"Ha"),m.Sb(),m.Sb(),m.Mc(9,ie,3,0,"div",0),m.Sb(),m.Mc(10,ee,6,3,"div",0),m.Mc(11,oe,7,3,"div",0),m.Mc(12,ne,6,3,"div",0),m.Sb()}if(2&t){var a=i.$implicit,o=i.index,n=m.fc(3);m.nc("header",a.descPascolo),m.Bb(6),m.nc("formControlName",o+"superficie"),m.mc("ngModel",a.superficie),m.Bb(3),m.mc("ngIf",!n.formPascoli.controls[o+"superficie"].valid),m.Bb(1),m.mc("ngIf",a.hasOwnProperty("man3")),m.Bb(1),m.mc("ngIf",a.hasOwnProperty("man4")),m.Bb(1),m.mc("ngIf",a.hasOwnProperty("man5"))}}function ce(t,i){if(1&t){var e=m.Ub();m.Tb(0,"button",48),m.bc("click",(function(){return m.Ec(e),m.fc(3).salvaDatiIstruttoria()})),m.Oc(1,"SALVA"),m.Sb()}}function le(t,i){if(1&t&&(m.Tb(0,"div",39),m.Tb(1,"div"),m.Tb(2,"h3"),m.Tb(3,"span"),m.Oc(4,"Dati istruttoria pascoli"),m.Sb(),m.Sb(),m.Tb(5,"form",40),m.Tb(6,"div",41),m.Tb(7,"p-accordion"),m.Mc(8,re,13,7,"p-accordionTab",42),m.Sb(),m.Sb(),m.Tb(9,"div",34),m.Mc(10,ce,2,0,"button",43),m.Sb(),m.Sb(),m.Sb(),m.Sb()),2&t){var e=m.fc(2);m.Bb(5),m.mc("formGroup",e.formPascoli),m.Bb(3),m.mc("ngForOf",e.arrayPascoli),m.Bb(2),m.mc("ngIf",e.arrayPascoli.length>0)}}function se(t,i){if(1&t){var e=m.Ub();m.Tb(0,"div",14),m.Tb(1,"p-checkbox",59),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc(3).datiIstruttoriaDaInserire.annulloRiduzione=t})),m.Sb(),m.Sb()}if(2&t){var a=m.fc(3);m.Bb(1),m.mc("ngModel",a.datiIstruttoriaDaInserire.annulloRiduzione)}}function be(t,i){if(1&t&&(m.Tb(0,"p",38),m.Oc(1),m.Sb()),2&t){m.fc(2);var e=m.Bc(12);m.Bb(1),m.Qc(" ",e.errors.erroreNumero," ")}}function de(t,i){if(1&t&&(m.Tb(0,"div"),m.Mc(1,be,2,1,"p",37),m.Sb()),2&t){m.fc();var e=m.Bc(12);m.Bb(1),m.mc("ngIf",null==e.errors?null:e.errors.erroreNumero)}}function ue(t,i){if(1&t&&(m.Tb(0,"p",38),m.Oc(1),m.Sb()),2&t){m.fc(2);var e=m.Bc(21);m.Bb(1),m.Qc(" ",e.errors.erroreNumero," ")}}function pe(t,i){if(1&t&&(m.Tb(0,"div"),m.Mc(1,ue,2,1,"p",37),m.Sb()),2&t){m.fc();var e=m.Bc(21);m.Bb(1),m.mc("ngIf",null==e.errors?null:e.errors.erroreNumero)}}function fe(t,i){if(1&t&&(m.Tb(0,"p",38),m.Oc(1),m.Sb()),2&t){m.fc(2);var e=m.Bc(31);m.Bb(1),m.Qc(" ",e.errors.erroreNumero," ")}}function ge(t,i){if(1&t&&(m.Tb(0,"div"),m.Mc(1,fe,2,1,"p",37),m.Sb()),2&t){m.fc();var e=m.Bc(31);m.Bb(1),m.mc("ngIf",null==e.errors?null:e.errors.erroreNumero)}}function me(t,i){if(1&t&&(m.Tb(0,"p",38),m.Oc(1),m.Sb()),2&t){m.fc(2);var e=m.Bc(41);m.Bb(1),m.Qc(" ",e.errors.erroreNumero," ")}}function Se(t,i){if(1&t&&(m.Tb(0,"div"),m.Mc(1,me,2,1,"p",37),m.Sb()),2&t){m.fc();var e=m.Bc(41);m.Bb(1),m.mc("ngIf",null==e.errors?null:e.errors.erroreNumero)}}function ve(t,i){if(1&t&&(m.Tb(0,"p",38),m.Oc(1),m.Sb()),2&t){m.fc(2);var e=m.Bc(51);m.Bb(1),m.Qc(" ",e.errors.erroreNumero," ")}}function he(t,i){if(1&t&&(m.Tb(0,"div"),m.Mc(1,ve,2,1,"p",37),m.Sb()),2&t){m.fc();var e=m.Bc(51);m.Bb(1),m.mc("ngIf",null==e.errors?null:e.errors.erroreNumero)}}function Te(t,i){if(1&t){var e=m.Ub();m.Tb(0,"form",12,13),m.bc("ngSubmit",(function(){m.Ec(e);var t=m.Bc(1);return m.fc(2).onSubmit(t)})),m.Tb(2,"div",14),m.Tb(3,"p-checkbox",49),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc(2).datiIstruttoriaDaInserire.controlloAntimafia=t})),m.Sb(),m.Sb(),m.Tb(4,"div",14),m.Tb(5,"p-checkbox",50),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc(2).datiIstruttoriaDaInserire.domAnnoPrecNonLiquidabile=t})),m.Sb(),m.Sb(),m.Mc(6,se,2,1,"div",17),m.Ob(7,"br"),m.Tb(8,"div",14),m.Tb(9,"p-checkbox",51),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc(2).datiIstruttoriaDaInserire.bpsSanzioniAnnoPrecedente=t}))("onChange",(function(t){return m.Ec(e),m.fc(2).cleanBpsImportoSanzioniAnnoPrecedente(t)})),m.Sb(),m.Sb(),m.Tb(10,"div",19),m.Tb(11,"input",52,21),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc(2).datiIstruttoriaDaInserire.bpsImportoSanzioniAnnoPrecedente=t})),m.Sb(),m.Tb(13,"span",22),m.Oc(14,"Euro"),m.Sb(),m.Sb(),m.Mc(15,de,2,1,"div",0),m.Ob(16,"br"),m.Tb(17,"div",14),m.Tb(18,"p-checkbox",53),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc(2).datiIstruttoriaDaInserire.gioSanzioniAnnoPrecedente=t}))("onChange",(function(t){return m.Ec(e),m.fc(2).cleanGioImportoSanzioniAnnoPrecedente(t)})),m.Sb(),m.Sb(),m.Tb(19,"div",19),m.Tb(20,"input",54,25),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc(2).datiIstruttoriaDaInserire.gioImportoSanzioniAnnoPrecedente=t})),m.Sb(),m.Tb(22,"span",22),m.Oc(23,"Euro"),m.Sb(),m.Sb(),m.Mc(24,pe,2,1,"div",0),m.Ob(25,"br"),m.Tb(26,"div"),m.Tb(27,"label",26),m.Oc(28,"BPS - Superficie determinata dall'istruttore"),m.Sb(),m.Sb(),m.Tb(29,"div",19),m.Tb(30,"input",55,28),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc(2).datiIstruttoriaDaInserire.bPSSuperficie=t})),m.Sb(),m.Tb(32,"span",22),m.Oc(33,"Ha"),m.Sb(),m.Sb(),m.Mc(34,ge,2,1,"div",0),m.Ob(35,"br"),m.Tb(36,"div"),m.Tb(37,"label",26),m.Oc(38,"Greening - Superficie non ammissibile mancato rispetto Inverdimento Istruttore"),m.Sb(),m.Sb(),m.Tb(39,"div",19),m.Tb(40,"input",56,30),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc(2).datiIstruttoriaDaInserire.greeningSuperficie=t})),m.Sb(),m.Tb(42,"span",22),m.Oc(43,"Ha"),m.Sb(),m.Sb(),m.Mc(44,Se,2,1,"div",0),m.Ob(45,"br"),m.Tb(46,"div"),m.Tb(47,"label",26),m.Oc(48,"Importo Salari Azienda"),m.Sb(),m.Sb(),m.Tb(49,"div",19),m.Tb(50,"input",57,32),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc(2).datiIstruttoriaDaInserire.importoSalari=t})),m.Sb(),m.Tb(52,"span",22),m.Oc(53,"Euro"),m.Sb(),m.Sb(),m.Mc(54,he,2,1,"div",0),m.Ob(55,"br"),m.Tb(56,"div"),m.Tb(57,"label",26),m.Oc(58,"Note"),m.Sb(),m.Sb(),m.Tb(59,"div",19),m.Tb(60,"textarea",58),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc(2).datiIstruttoriaDaInserire.noteIstruttore=t})),m.Sb(),m.Sb(),m.Ob(61,"br"),m.Tb(62,"div"),m.Ob(63,"div",34),m.Sb(),m.Sb()}if(2&t){var a=m.Bc(12),o=m.Bc(21),n=m.Bc(31),r=m.Bc(41),c=m.Bc(51),l=m.fc(2);m.Bb(3),m.mc("ngModel",l.datiIstruttoriaDaInserire.controlloAntimafia),m.Bb(2),m.mc("ngModel",l.datiIstruttoriaDaInserire.domAnnoPrecNonLiquidabile),m.Bb(1),m.mc("ngIf",l.showCheckboxAnnulloRitardoPresentazione),m.Bb(3),m.mc("ngModel",l.datiIstruttoriaDaInserire.bpsSanzioniAnnoPrecedente),m.Bb(2),m.mc("ngModel",l.datiIstruttoriaDaInserire.bpsImportoSanzioniAnnoPrecedente)("disabled",!l.datiIstruttoriaDaInserire.bpsSanzioniAnnoPrecedente),m.Bb(4),m.mc("ngIf",a&&a.errors),m.Bb(3),m.mc("ngModel",l.datiIstruttoriaDaInserire.gioSanzioniAnnoPrecedente),m.Bb(2),m.mc("ngModel",l.datiIstruttoriaDaInserire.gioImportoSanzioniAnnoPrecedente)("disabled",!l.datiIstruttoriaDaInserire.gioSanzioniAnnoPrecedente),m.Bb(4),m.mc("ngIf",o&&o.errors),m.Bb(6),m.mc("ngModel",l.datiIstruttoriaDaInserire.bPSSuperficie),m.Bb(4),m.mc("ngIf",n&&n.errors),m.Bb(6),m.mc("ngModel",l.datiIstruttoriaDaInserire.greeningSuperficie),m.Bb(4),m.mc("ngIf",r&&r.errors),m.Bb(6),m.mc("ngModel",l.datiIstruttoriaDaInserire.importoSalari),m.Bb(4),m.mc("ngIf",c&&c.errors),m.Bb(6),m.mc("ngModel",l.datiIstruttoriaDaInserire.noteIstruttore)}}function Ie(t,i){1&t&&(m.Tb(0,"div"),m.Tb(1,"p",38),m.Oc(2," Numero non valido "),m.Sb(),m.Sb())}function Ce(t,i){if(1&t){var e=m.Ub();m.Tb(0,"div"),m.Tb(1,"div"),m.Tb(2,"label",26),m.Oc(3,"Pascolo - Verifica documentazione di trasporto (MAN3)"),m.Sb(),m.Sb(),m.Tb(4,"div",45),m.Tb(5,"p-dropdown",47),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc().$implicit.man3=t})),m.Sb(),m.Sb(),m.Sb()}if(2&t){var a=m.fc(),o=a.index,n=a.$implicit,r=m.fc(3);m.Bb(5),m.nc("formControlName",o+"man3"),m.mc("options",r.scelteMAN3)("ngModel",n.man3)}}function Pe(t,i){1&t&&(m.Tb(0,"div"),m.Tb(1,"p",38),m.Oc(2," CUAA non valido "),m.Sb(),m.Sb())}function De(t,i){if(1&t){var e=m.Ub();m.Tb(0,"div"),m.Tb(1,"div"),m.Tb(2,"label",26),m.Oc(3,"Pascolo - CUAA del responsabile del pascolo (MAN4)"),m.Sb(),m.Sb(),m.Tb(4,"div",45),m.Tb(5,"input",60),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc().$implicit.man4=t})),m.Sb(),m.Sb(),m.Mc(6,Pe,3,0,"div",0),m.Sb()}if(2&t){var a=m.fc(),o=a.index,n=a.$implicit,r=m.fc(3);m.Bb(5),m.nc("formControlName",o+"man4"),m.mc("ngModel",n.man4),m.Bb(1),m.mc("ngIf",!r.formPascoli.controls[o+"man4"].valid)}}function Oe(t,i){if(1&t){var e=m.Ub();m.Tb(0,"div"),m.Tb(1,"div"),m.Tb(2,"label",26),m.Oc(3,"Pascolo - Esito del controllo del mantenimento delle superfici per i pascoli fuori provincia (MAN5)"),m.Sb(),m.Sb(),m.Tb(4,"div",45),m.Tb(5,"p-dropdown",47),m.bc("ngModelChange",(function(t){return m.Ec(e),m.fc().$implicit.man5=t})),m.Sb(),m.Sb(),m.Sb()}if(2&t){var a=m.fc(),o=a.index,n=a.$implicit,r=m.fc(3);m.Bb(5),m.nc("formControlName",o+"man5"),m.mc("options",r.scelteMAN5)("ngModel",n.man5)}}function Be(t,i){if(1&t){var e=m.Ub();m.Tb(0,"p-accordionTab",44),m.Tb(1,"div"),m.Tb(2,"div"),m.Tb(3,"label",26),m.Oc(4,"Pascolo - Superfice determinata dall'istruttore"),m.Sb(),m.Sb(),m.Tb(5,"div",45),m.Tb(6,"input",60),m.bc("ngModelChange",(function(t){return m.Ec(e),i.$implicit.superficie=t})),m.Sb(),m.Tb(7,"span",22),m.Oc(8,"Ha"),m.Sb(),m.Sb(),m.Mc(9,Ie,3,0,"div",0),m.Sb(),m.Mc(10,Ce,6,3,"div",0),m.Mc(11,De,7,3,"div",0),m.Mc(12,Oe,6,3,"div",0),m.Sb()}if(2&t){var a=i.$implicit,o=i.index,n=m.fc(3);m.nc("header",a.descPascolo),m.Bb(6),m.nc("formControlName",o+"superficie"),m.mc("ngModel",a.superficie),m.Bb(3),m.mc("ngIf",!n.formPascoli.controls[o+"superficie"].valid),m.Bb(1),m.mc("ngIf",a.hasOwnProperty("man3")),m.Bb(1),m.mc("ngIf",a.hasOwnProperty("man4")),m.Bb(1),m.mc("ngIf",a.hasOwnProperty("man5"))}}function Me(t,i){if(1&t&&(m.Tb(0,"div",39),m.Tb(1,"div"),m.Tb(2,"h3"),m.Tb(3,"span"),m.Oc(4,"Dati istruttoria pascoli"),m.Sb(),m.Sb(),m.Tb(5,"form",40),m.Tb(6,"div",41),m.Tb(7,"p-accordion"),m.Mc(8,Be,13,7,"p-accordionTab",42),m.Sb(),m.Sb(),m.Sb(),m.Sb(),m.Sb()),2&t){var e=m.fc(2);m.Bb(5),m.mc("formGroup",e.formPascoli),m.Bb(3),m.mc("ngForOf",e.arrayPascoli)}}var ye=function(){return{marginTop:"70px"}};function Ae(t,i){if(1&t&&(m.Tb(0,"div"),m.Ob(1,"p-toast",1),m.Tb(2,"div",2),m.Tb(3,"div",3),m.Tb(4,"div",4),m.Tb(5,"div",5),m.Tb(6,"div",6),m.Tb(7,"div"),m.Tb(8,"h3"),m.Tb(9,"span"),m.Oc(10,"Dati istruttoria"),m.Sb(),m.Sb(),m.Sb(),m.Mc(11,te,66,19,"form",7),m.Sb(),m.Sb(),m.Sb(),m.Tb(12,"div",8),m.Tb(13,"div",5),m.Mc(14,le,11,3,"div",9),m.Sb(),m.Sb(),m.Sb(),m.Sb(),m.Tb(15,"div",10),m.Tb(16,"div",3),m.Tb(17,"div",4),m.Tb(18,"div",5),m.Tb(19,"div",6),m.Tb(20,"h3"),m.Tb(21,"span"),m.Oc(22,"Dati istruttoria"),m.Sb(),m.Sb(),m.Mc(23,Te,64,18,"form",7),m.Sb(),m.Sb(),m.Sb(),m.Sb(),m.Tb(24,"div",11),m.Tb(25,"div",5),m.Mc(26,Me,9,2,"div",9),m.Sb(),m.Sb(),m.Sb(),m.Sb()),2&t){var e=m.fc();m.Bb(1),m.Kc(m.rc(22,ye)),m.Bb(1),m.mc("a4gHasPermission","MODIFICABILE")("annoCampagna",e.getAnnoRiferimento())("statoSostegno",e.istruttoriaDUCorrente.stato)("tipoIstruttoria",e.istruttoriaDUCorrente.tipo),m.Bb(9),m.mc("ngIf",e.datiIstruttoriaDaInserire),m.Bb(1),m.mc("a4gHasPermission","MODIFICABILE")("annoCampagna",e.getAnnoRiferimento())("statoSostegno",e.istruttoriaDUCorrente.stato)("tipoIstruttoria",e.istruttoriaDUCorrente.tipo),m.Bb(2),m.mc("ngIf",e.arrayPascoli.length>0),m.Bb(1),m.mc("a4gHasPermission","NON_MODIFICABILE")("statoSostegno",e.istruttoriaDUCorrente.stato)("tipoIstruttoria",e.istruttoriaDUCorrente.tipo)("annoCampagna",e.getAnnoRiferimento()),m.Bb(8),m.mc("ngIf",e.datiIstruttoriaDaInserire),m.Bb(1),m.mc("a4gHasPermission","NON_MODIFICABILE")("statoSostegno",e.istruttoriaDUCorrente.stato)("tipoIstruttoria",e.istruttoriaDUCorrente.tipo)("annoCampagna",e.getAnnoRiferimento()),m.Bb(2),m.mc("ngIf",e.arrayPascoli.length>0)}}var ze,Ne=((ze=function(){function t(i,e,a,o,n){_classCallCheck(this,t),this.route=i,this.istruttoriaDettaglioService=e,this.messageService=a,this.fb=o,this.confService=n,this.arrayPascoli=[],this.showCheckboxAnnulloRitardoPresentazione=!1,this.scelteMAN3=[{label:"",value:""},{label:"Presente",value:"PRESENTE"},{label:"Incompleta",value:"INCOMPLETA"},{label:"Assente",value:"ASSENTE"}],this.scelteMAN5=[{label:"",value:""},{label:"Positivo",value:"POSITIVO"},{label:"Negativo",value:"NEGATIVO"}]}return _createClass(t,[{key:"ngOnInit",value:function(){this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.caricaDatiDettaglio(),this.caricaDatiDettaglioPascoli(),this.controllaRitardo()}},{key:"caricaDatiDettaglioPascoli",value:function(){var t=this,i={};this.istruttoriaDettaglioService.getDatiIstruttoriaDUDatiPascolo(this.istruttoriaDUCorrente.id.toString()).subscribe((function(e){for(var a in console.log(e),t.arrayPascoli=Li.a.ArrPascoloDaoToArrPascolo(e),t.arrayPascoli){var o=t.arrayPascoli[a];i[a+"codicePascolo"]=[o.codicePascolo],i[a+"superficie"]=[o.superficie,xi.G.pattern(/^\d*(\.?\d*)$/)],o instanceof Li.c&&(i[a+"man4"]=[o.man4,xi.G.pattern(/^[a-zA-Z0-9]{16}|^[a-zA-Z0-9]{11}$/)]),o instanceof Li.d&&(i[a+"man4"]=[o.man4],i[a+"man5"]=[o.man5]),o instanceof Li.b&&(i[a+"man3"]=[o.man3])}t.formPascoli=t.fb.group(i)}))}},{key:"caricaDatiDettaglio",value:function(){var t=this;this.istruttoriaDettaglioService.getDatiIstruttoriaDU(this.istruttoriaDUCorrente.id.toString()).subscribe((function(i){t.datiIstruttoriaDaInserire=i||new Ui.a}))}},{key:"onSubmit",value:function(t){var i=this;console.log("Submit"),console.log(this.datiIstruttoriaDaInserire),this.istruttoriaDettaglioService.saveOrUpdateDatiIstruttoriaDU(this.istruttoriaDUCorrente.id.toString(),this.datiIstruttoriaDaInserire).subscribe((function(t){i.datiIstruttoriaDaInserire=t,console.log("Salvataggio dati Istruttoria avvenuto con successo"),i.messageService.add(j.a.getToast("tst",j.b.success,j.a.OPERAZIONE_OK))}),(function(t){console.error("Errore in salvataggio dati Istruttoria: "+t),console.error(t),j.a.handleError(i.messageService,t,j.a.ERRORE_SALVATAGGIO_DATI_ISTRUTTORIA)}))}},{key:"consume",value:function(){this.cleanup()}},{key:"cleanup",value:function(){this._serviceSubscription.unsubscribe()}},{key:"salvaDatiIstruttoria",value:function(){var t=this;if(this.formPascoli.valid){this.formPascoli.getRawValue();var i,e=new Array,a=_createForOfIteratorHelper(this.arrayPascoli);try{for(a.s();!(i=a.n()).done;){var o=i.value;"PascoloDentroProvincia"===o.tipoPascolo&&e.push(new Ri.a("","",o.descPascolo,o.superficie,o.man4,o.id,o.version)),"PascoloFuoriProvincia"===o.tipoPascolo&&e.push(new Ri.a(o.man5,"",o.descPascolo,o.superficie,o.man4,o.id,o.version)),"PascoloAziendale"===o.tipoPascolo&&e.push(new Ri.a("",o.man3,o.descPascolo,o.superficie,"",o.id,o.version))}}catch(n){a.e(n)}finally{a.f()}this.istruttoriaDettaglioService.saveDatiIstruttoriaPascoli(this.istruttoriaDUCorrente.id,e).subscribe((function(i){t.caricaDatiDettaglioPascoli()}))}}},{key:"cleanBpsImportoSanzioniAnnoPrecedente",value:function(t){console.log(t),!1===t&&(this.datiIstruttoriaDaInserire.bpsImportoSanzioniAnnoPrecedente=null)}},{key:"cleanGioImportoSanzioniAnnoPrecedente",value:function(t){!1===t&&(this.datiIstruttoriaDaInserire.gioImportoSanzioniAnnoPrecedente=null)}},{key:"getIstruttoriaCorrente",value:function(){return this.istruttoriaCorrente}},{key:"getAnnoRiferimento",value:function(){return this.istruttoriaDUCorrente.domanda.campagna}},{key:"controllaRitardo",value:function(){var t=this;this.confService.getConfigurazioneIstruttorie(this.istruttoriaDUCorrente.domanda.campagna).subscribe((function(i){String(t.istruttoriaDUCorrente.domanda.codModuloDomanda).includes("BPS_ART_15")&&t.istruttoriaDUCorrente.domanda.dtPresentazione>i.dtScadenzaDomandeIniziali&&(t.showCheckboxAnnulloRitardoPresentazione=!0)}))}}]),t}()).\u0275fac=function(t){return new(t||ze)(m.Nb(c.a),m.Nb(y.a),m.Nb(N.d),m.Nb(xi.f),m.Nb(Ei.a))},ze.\u0275cmp=m.Hb({type:ze,selectors:[["app-inserimento-dati-istruttoria"]],decls:1,vars:1,consts:[[4,"ngIf"],["key","tst"],[3,"a4gHasPermission","annoCampagna","statoSostegno","tipoIstruttoria"],[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],[2,"background","#fff","padding","30px","display","inline-block","width","100%"],["class","ui-g-12",3,"ngSubmit",4,"ngIf"],[1,"boxgrey",2,"padding-top","50px","display","inline-block",3,"a4gHasPermission","annoCampagna","statoSostegno","tipoIstruttoria"],["class","boxgrey",4,"ngIf"],[3,"a4gHasPermission","statoSostegno","tipoIstruttoria","annoCampagna"],[1,"boxgrey",2,"padding-top","50px","display","inline-block",3,"a4gHasPermission","statoSostegno","tipoIstruttoria","annoCampagna"],[1,"ui-g-12",3,"ngSubmit"],["f","ngForm"],[2,"font-size","15px","font-weight","normal !important"],["name","controlloAntimafia","binary","true","label","Si attesta che la certificazione antimafia \xe8 stata acquisita in maniera cartacea o che il pagamento viene effettuato su conduzione risolutiva legata all'esito degli accertamenti",3,"ngModel","ngModelChange"],["name","domAnnoPrecNonLiquidabile","binary","true","label","Si attesta che la domanda unica dell'anno precedente dell'azienda non \xe8 liquidabile",3,"ngModel","ngModelChange"],["style","font-size: 15px; font-weight: normal !important;",4,"ngIf"],["name","bpsSanzioniAnnoPrecedente","binary","true","label","Si attesta che l'azienda \xe8 stata soggetta, negli anni precedenti, a sanzioni per il premio di base e che nella domanda dell'anno precedente \xe8 stata scontata una sanzione, da recuperare quest'anno, di importo:",3,"ngModel","ngModelChange","onChange"],[1,"ui-inputgroup","input-width"],["type","text","name","bpsImportoSanzioniAnnoPrecedente","pInputText","","appValidaNumero2dec","","required","",2,"width","80%",3,"ngModel","disabled","ngModelChange"],["bpsImportoSanzioniAnnoPrecedenteInput","ngModel"],[1,"ui-inputgroup-addon",2,"padding","10px 20px","background","#f0f0f0","border","1px solid #dedede"],["name","gioSanzioniAnnoPrecedente","binary","true","label","Si attesta che l'azienda \xe8 stata soggetta, negli anni precedenti, a sanzioni per il premio giovane e che nella domanda dell'anno precedente \xe8 stata scontata una sanzione, da recuperare quest'anno, di importo:",3,"ngModel","ngModelChange","onChange"],["type","text","name","gioImportoSanzioniAnnoPrecedente","pInputText","","appValidaNumero2dec","","required","",2,"width","80%",3,"ngModel","disabled","ngModelChange"],["gioImportoSanzioniAnnoPrecedenteInput","ngModel"],[1,"labelricerca"],["type","text","name","bPSSuperficie","pInputText","","appValidaNumero4dec","",2,"width","80%",3,"ngModel","ngModelChange"],["bPSSuperficieInput","ngModel"],["type","text","name","greeningSuperficie","pInputText","","appValidaNumero4dec","",2,"width","80%",3,"ngModel","ngModelChange"],["greeningInput","ngModel"],["type","text","name","importoSalari","pInputText","","appValidaNumero2dec","",2,"width","80%",3,"ngModel","ngModelChange"],["importoSalariInput","ngModel"],["name","noteIstruttore","rows","5","cols","30","pInputTextarea","","autoResize","autoResize",2,"width","100%",3,"ngModel","ngModelChange"],[1,"ui-g-12","ui-md-2","searchbutton"],["pButton","","type","button","type","submit",1,"ui-button-success",3,"disabled"],["name","annulloRiduzione","binary","true","label","Si attesta che la domanda di modifica presentata in ritardo non introduce nuovi impegni e dunque non si applicano le riduzioni per ritardata presentazione",3,"ngModel","ngModelChange"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],[1,"ui-message","ui-messages-error","ui-corner-all"],[1,"boxgrey"],[3,"formGroup"],[1,"accordion-wrapper","dettaglioaccordion","mlp"],[3,"header",4,"ngFor","ngForOf"],["pButton","","type","button","class","ui-button-success","type","submit",3,"click",4,"ngIf"],[3,"header"],[1,"ui-inputgroup"],["type","text","pInputText","",2,"width","100%",3,"ngModel","formControlName","ngModelChange"],[3,"options","ngModel","formControlName","ngModelChange"],["pButton","","type","button","type","submit",1,"ui-button-success",3,"click"],["disabled","","name","controlloAntimafia","binary","true","label","Si attesta che la certificazione antimafia \xe8 stata acquisita in maniera cartacea o che il pagamento viene effettuato su conduzione risolutiva legata all'esito degli accertamenti",3,"ngModel","ngModelChange"],["disabled","","name","domAnnoPrecNonLiquidabile","binary","true","label","Si attesta che la domanda unica dell'anno precedente dell'azienda non \xe8 liquidabile",3,"ngModel","ngModelChange"],["disabled","","name","bpsSanzioniAnnoPrecedente","binary","true","label","Si attesta che l'azienda \xe8 stata soggetta, negli anni precedenti, a sanzioni per il premio di base e che nella domanda dell'anno precedente \xe8 stata scontata una sanzione, da recuperare quest'anno, di importo:",3,"ngModel","ngModelChange","onChange"],["disabled","","type","text","name","bpsImportoSanzioniAnnoPrecedente","pInputText","","appValidaNumero2dec","","required","",2,"width","80%",3,"ngModel","disabled","ngModelChange"],["disabled","","name","gioSanzioniAnnoPrecedente","binary","true","label","Si attesta che l'azienda \xe8 stata soggetta, negli anni precedenti, a sanzioni per il premio giovane e che nella domanda dell'anno precedente \xe8 stata scontata una sanzione, da recuperare quest'anno, di importo:",3,"ngModel","ngModelChange","onChange"],["disabled","","type","text","name","gioImportoSanzioniAnnoPrecedente","pInputText","","appValidaNumero2dec","","required","",2,"width","80%",3,"ngModel","disabled","ngModelChange"],["disabled","","type","text","name","bPSSuperficie","pInputText","","appValidaNumero4dec","",2,"width","80%",3,"ngModel","ngModelChange"],["disabled","","type","text","name","greeningSuperficie","pInputText","","appValidaNumero4dec","",2,"width","80%",3,"ngModel","ngModelChange"],["disabled","","type","text","name","importoSalari","pInputText","","appValidaNumero2dec","",2,"width","80%",3,"ngModel","ngModelChange"],["disabled","","name","noteIstruttore","rows","5","cols","30","pInputTextarea","","autoResize","autoResize",2,"width","100%",3,"ngModel","ngModelChange"],["disabled","","name","annulloRiduzione","binary","true","label","Si attesta che la domanda di modifica presentata in ritardo non introduce nuovi impegni e dunque non si applicano le riduzioni per ritardata presentazione",3,"ngModel","ngModelChange"],["type","text","pInputText","","disabled","",2,"width","100%",3,"ngModel","formControlName","ngModelChange"]],template:function(t,i){1&t&&m.Mc(0,Ae,27,23,"div",0),2&t&&m.mc("ngIf",i.istruttoriaDUCorrente)},directives:[a.t,Y.a,_i.a,xi.I,xi.t,xi.u,$i.a,xi.s,xi.v,xi.c,Fi.a,xi.D,v.b,xi.k,A.a,a.s,A.c,xi.i,Gi.a],styles:[".input-width[_ngcontent-%COMP%]{width:80%}"]}),ze),we=e("MvQ6");function ke(t,i){1&t&&m.Ob(0,"div",8)}function Ee(t,i){if(1&t){var e=m.Ub();m.Tb(0,"div",9),m.Tb(1,"button",10),m.bc("click",(function(){return m.Ec(e),m.fc().aggiornaDatiBDN()})),m.Oc(2,"Aggiorna dati BDN"),m.Sb(),m.Sb()}}function xe(t,i){1&t&&(m.Tb(0,"div",11),m.Oc(1),m.gc(2,"translate"),m.Sb()),2&t&&(m.Bb(1),m.Qc(" ",m.hc(2,1,"SOSTEGNO.DETTAGLIO.NESSUN_DATO_PASCOLO")," "))}function Ue(t,i){if(1&t&&(m.Tb(0,"p-accordionTab",20),m.Oc(1),m.Sb()),2&t){var e=m.fc().$implicit;m.nc("header",e.descrizione1),m.mc("selected",!0)("disabled",!0),m.Bb(1),m.Qc(" ",null==e?null:e.valore," ")}}function Le(t,i){if(1&t&&(m.Tb(0,"div"),m.Mc(1,Ue,2,4,"p-accordionTab",19),m.Sb()),2&t){var e=i.$implicit;m.Bb(1),m.mc("ngIf",null!=e)}}function Re(t,i){if(1&t&&(m.Tb(0,"strong"),m.Oc(1),m.Sb()),2&t){var e=m.fc().$implicit;m.Bb(1),m.Pc(e.header)}}var _e=function(t){return{width:t}};function $e(t,i){if(1&t&&(m.Tb(0,"th",22),m.Mc(1,Re,2,1,"strong",23),m.Sb()),2&t){var e=i.$implicit;m.mc("ngStyle",m.sc(2,_e,e.width)),m.Bb(1),m.mc("ngIf",e.header)}}function Fe(t,i){if(1&t&&(m.Tb(0,"tr"),m.Mc(1,$e,2,4,"th",21),m.Ob(2,"th"),m.Sb()),2&t){var e=i.$implicit;m.Bb(1),m.mc("ngForOf",e)}}function Ge(t,i){if(1&t&&(m.Tb(0,"tr"),m.Tb(1,"td"),m.Oc(2),m.Sb(),m.Tb(3,"td"),m.Oc(4),m.Sb(),m.Sb()),2&t){var e=i.$implicit;m.Bb(2),m.Pc(e.valString.split("**")[0]),m.Bb(2),m.Pc(e.valString.split("**")[1])}}function qe(t,i){if(1&t&&m.Mc(0,Ge,5,2,"tr",15),2&t){var e=m.fc().$implicit;m.mc("ngForOf",e.datiInput)}}function He(t,i){if(1&t&&(m.Tb(0,"strong"),m.Oc(1),m.Sb()),2&t){var e=m.fc().$implicit;m.Bb(1),m.Pc(e.header)}}function je(t,i){if(1&t&&(m.Tb(0,"th",22),m.Mc(1,He,2,1,"strong",23),m.Sb()),2&t){var e=i.$implicit;m.mc("ngStyle",m.sc(2,_e,e.width)),m.Bb(1),m.mc("ngIf",e.header)}}function Qe(t,i){if(1&t&&(m.Tb(0,"tr"),m.Mc(1,je,2,4,"th",21),m.Ob(2,"th"),m.Sb()),2&t){var e=i.$implicit;m.Bb(1),m.mc("ngForOf",e)}}function Ke(t,i){if(1&t&&(m.Tb(0,"tr"),m.Tb(1,"td"),m.Oc(2),m.Sb(),m.Tb(3,"td"),m.Oc(4),m.Sb(),m.Sb()),2&t){var e=i.$implicit;m.Bb(2),m.Pc(e.valString.split("**")[0]),m.Bb(2),m.Pc(e.valString.split("**")[1])}}function Ve(t,i){if(1&t&&m.Mc(0,Ke,5,2,"tr",15),2&t){var e=m.fc().$implicit;m.mc("ngForOf",e.datiOutput)}}function Ye(t,i){if(1&t&&(m.Tb(0,"p-accordionTab",14),m.Mc(1,Le,2,1,"div",15),m.Tb(2,"p-table",16),m.Mc(3,Fe,3,1,"ng-template",17),m.Mc(4,qe,1,1,"ng-template",18),m.Sb(),m.Tb(5,"p-table",16),m.Mc(6,Qe,3,1,"ng-template",17),m.Mc(7,Ve,1,1,"ng-template",18),m.Sb(),m.Sb()),2&t){var e=i.$implicit,a=i.index,o=m.fc(2);m.nc("header",o.arrayPascoli[a].descPascolo),m.Bb(1),m.mc("ngForOf",e.listaEsitiPascolo),m.Bb(1),m.mc("columns",o.cols)("value",o.dati)("autoLayout",!0)("paginator",!1)("responsive",!0),m.Bb(3),m.mc("columns",o.cols2)("value",o.dati)("autoLayout",!0)("paginator",!1)("responsive",!0)}}function Ze(t,i){if(1&t&&(m.Tb(0,"div",12),m.Tb(1,"p-accordion"),m.Mc(2,Ye,8,12,"p-accordionTab",13),m.Sb(),m.Sb()),2&t){var e=m.fc();m.Bb(2),m.mc("ngForOf",e.arrayPascoli)}}var Je,Xe,We,ta=function(){return{marginTop:"70px"}},ia=((Je=function(){function t(i,e,a,o){_classCallCheck(this,t),this.istruttoriaDettaglioService=i,this.istruttoriaService=e,this.messageService=a,this.route=o,this.componentDestroyed$=new jt.a,this.cols=[{header:"Dati in entrata",width:"70%"}],this.cols2=[{header:"Dati in uscita",width:"70%"}],this.cols3=[{header:"Anomalie",width:"70%"}],this.arrayPascoli=null,this.dati=[{}]}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}},{key:"ngOnInit",value:function(){var t=this;this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria;var i=this.istruttoriaDUCorrente.id;i&&this.istruttoriaDettaglioService.getDatiperPascoloByIdIstruttoriaConEsitoMantenimento(i).pipe(Object(Vt.a)(this.componentDestroyed$)).subscribe((function(i){i&&i.sort((function(t,i){return t.descPascolo<i.descPascolo?-1:1}));var e,a=_createForOfIteratorHelper(i);try{for(a.s();!(e=a.n()).done;){var o=e.value;o.listaEsitiPascolo&&o.listaEsitiPascolo.sort((function(t,i){return t.ordineControllo<i.ordineControllo?-1:1})).sort((function(t,i){return t.ordine1<i.ordine1?-1:1}))}}catch(n){a.e(n)}finally{a.f()}t.arrayPascoli=i}))}},{key:"aggiornaDatiBDN",value:function(){var t=this;this.istruttoriaDUCorrente&&this.istruttoriaDUCorrente.domanda&&this.istruttoriaDUCorrente.domanda.cuaaIntestatario?this.istruttoriaService.aggiornaDatiBDN(this.istruttoriaDUCorrente.domanda.campagna,this.istruttoriaDUCorrente.domanda.cuaaIntestatario).subscribe((function(i){var e;e=i?j.a.aggiornamentoDatiBDN_OK:j.a.aggiornamentoDatiBDN_KO,t.messageService.add(j.a.getToast("tst",j.b.success,e))}),(function(i){console.log(i.error.message),t.messageService.add(j.a.getToast("tst",j.b.error,j.a.aggiornamentoDatiBDN_Errore))})):this.messageService.add(j.a.getToast("tst",j.b.error,"CUAA non presente"))}}]),t}()).\u0275fac=function(t){return new(t||Je)(m.Nb(y.a),m.Nb(we.a),m.Nb(N.d),m.Nb(c.a))},Je.\u0275cmp=m.Hb({type:Je,selectors:[["app-dati-pascolo"]],decls:8,vars:7,consts:[["key","tst"],[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["class","ui-g-10",4,"ngIf"],["class","ui-g-3 ui-md-2 searchbutton",4,"ngIf"],["class","ng-star-inserted",4,"ngIf"],["class","accordion-wrapper dettaglioaccordion mlp",4,"ngIf"],[1,"ui-g-10"],[1,"ui-g-3","ui-md-2","searchbutton"],["pButton","","type","button",1,"ui-button-success",3,"click"],[1,"ng-star-inserted"],[1,"accordion-wrapper","dettaglioaccordion","mlp"],[3,"header",4,"ngFor","ngForOf"],[3,"header"],[4,"ngFor","ngForOf"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","header"],["pTemplate","body"],[3,"header","selected","disabled",4,"ngIf"],[3,"header","selected","disabled"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[4,"ngIf"]],template:function(t,i){1&t&&(m.Ob(0,"p-toast",0),m.Tb(1,"div",1),m.Tb(2,"div",2),m.Tb(3,"div",3),m.Mc(4,ke,1,0,"div",4),m.Mc(5,Ee,3,0,"div",5),m.Mc(6,xe,3,3,"div",6),m.Mc(7,Ze,3,1,"div",7),m.Sb(),m.Sb(),m.Sb()),2&t&&(m.Kc(m.rc(6,ta)),m.Bb(4),m.mc("ngIf",null!=i.arrayPascoli),m.Bb(1),m.mc("ngIf",null!=i.arrayPascoli),m.Bb(1),m.mc("ngIf",i.arrayPascoli),m.Bb(1),m.mc("ngIf",null!=i.arrayPascoli&&i.arrayPascoli.length>0))},directives:[Y.a,a.t,v.b,A.a,a.s,A.c,z.q,N.e,a.w],pipes:[T.d],styles:[""]}),Je),ea=e("XR+H"),aa=[{path:"",component:l.a,resolve:{domandaIstruttoria:n.a},children:[{path:"",component:B,children:[{path:"",redirectTo:s.a.controlliSostegno,pathMatch:"full"},{path:s.a.superficiImpegnate,component:nt},{path:s.a.dichiarazioni,component:pt},{path:s.a.informazioniDomanda,component:It},{path:s.a.controlliSostegno,component:H},{path:s.a.datiDomanda,component:qt},{path:s.a.esitiParticelle,component:ki},{path:s.a.datiIstruttoria,component:Ne},{path:s.a.datiPerPascolo,component:ia},{path:s.a.datiLiquidazione,component:ea.a}],data:{mybreadcrumb:""}}]}],oa=((Xe=function t(){_classCallCheck(this,t)}).\u0275mod=m.Lb({type:Xe}),Xe.\u0275inj=m.Kb({factory:function(t){return new(t||Xe)},imports:[[c.i.forChild(aa)]]}),Xe),na=e("tZin"),ra=((We=function t(){_classCallCheck(this,t)}).\u0275mod=m.Lb({type:We}),We.\u0275inj=m.Kb({factory:function(t){return new(t||We)},providers:[n.a],imports:[[a.c,oa,r.a,na.SostegnoSharedModule,o.a,Ct.n]]}),We)}}]);