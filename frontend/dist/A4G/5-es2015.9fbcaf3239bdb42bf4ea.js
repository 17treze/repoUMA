(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"3iu/":function(t,i,e){"use strict";e.d(i,"a",(function(){return w}));var r=e("Sy1n"),o=e("MvQ6"),a=e("Tn7N"),n=e("eIep"),s=e("lJxs"),c=e("LRne"),u=e("8bNH"),b=e("903C"),d=e("6b9K"),l=e("5gIc"),g=e("iU1L"),p=e("LvDl"),h=e("fXoL"),m=e("tyNb"),I=e("RtSl"),f=e("sYmb"),O=e("ofXK"),T=e("arS9"),S=e("b7oP"),D=e("MM/6"),v=e("A+aF"),U=e("A1Yd"),A=e("D0mR"),C=e("KDHY"),E=e("R5y+"),y=e("3Pt+");function R(t,i){if(1&t){const t=h.Ub();h.Tb(0,"div",25),h.Ob(1,"i",26),h.Tb(2,"h3"),h.Oc(3),h.Sb(),h.Tb(4,"p"),h.Oc(5),h.Sb(),h.Tb(6,"p"),h.Oc(7),h.Sb(),h.Sb(),h.Tb(8,"div",1),h.Tb(9,"div",27),h.Tb(10,"button",28),h.bc("click",(function(){return h.Ec(t),h.fc(2).annullaIstruttoria()})),h.Sb(),h.Sb(),h.Tb(11,"div",27),h.Tb(12,"button",29),h.bc("click",(function(){return h.Ec(t),h.fc(2).onRejectAnnullaIstruttoria()})),h.Sb(),h.Sb(),h.Sb()}if(2&t){const t=i.$implicit,e=h.fc(2);h.Bb(3),h.Pc(t.summary),h.Bb(2),h.Pc(t.detail),h.Bb(2),h.Pc(e.a4gMessages.CONFERMA_ANNULLA_ISTRUTTORIA_CONFERMA)}}const _=function(t){return{"active-topmenuitem":t}};function j(t,i){if(1&t){const t=h.Ub();h.Tb(0,"li",30,31),h.bc("click",(function(i){h.Ec(t);const e=h.Bc(1);return h.fc(2).app.onTopbarRootItemClick(i,e)})),h.Tb(2,"a",32),h.bc("click",(function(){return h.Ec(t),h.fc(2).showDialog()})),h.Tb(3,"h4"),h.Oc(4),h.gc(5,"slice"),h.Sb(),h.Tb(6,"span",33),h.Oc(7),h.Sb(),h.Sb(),h.Sb()}if(2&t){const t=h.Bc(1),i=h.fc(2);h.mc("ngClass",h.sc(9,_,i.app.activeTopbarItem===t)),h.Bb(4),h.Sc("",i.istruttoriaDUCorrente.domanda.numeroDomanda," - ",i.istruttoriaDUCorrente.domanda.cuaaIntestatario," - ",h.jc(5,5,i.istruttoriaDUCorrente.domanda.ragioneSociale,0,60),""),h.Bb(3),h.Pc(i.istruttoriaDUCorrente.domanda.id)}}function P(t,i){if(1&t){const t=h.Ub();h.Tb(0,"div"),h.Tb(1,"div",35),h.Tb(2,"p-checkbox",36),h.bc("ngModelChange",(function(i){return h.Ec(t),h.fc(3).datiEredeDto.certificato=i}))("onChange",(function(i){return h.Ec(t),h.fc(3).onCheckboxChangeDatiErede(i)})),h.Sb(),h.Sb(),h.Tb(3,"div",37),h.Tb(4,"span"),h.Oc(5,"Si attesta che i dati dell\u2019erede sono corretti ed \xe8 possibile liquidare la domanda"),h.Sb(),h.Sb(),h.Sb()}if(2&t){const t=h.fc(3);h.Bb(2),h.mc("ngModel",t.datiEredeDto.certificato)}}function B(t,i){if(1&t&&(h.Tb(0,"div"),h.Tb(1,"div",38),h.Tb(2,"span"),h.Oc(3),h.Sb(),h.Sb(),h.Sb()),2&t){const t=h.fc(3);h.Bb(3),h.Qc(" ",t.messaggioErroreDatiErede,"")}}const N=function(){return{"min-width":"750px"}};function z(t,i){if(1&t&&(h.Tb(0,"p-fieldset",34),h.Tb(1,"div",19),h.Tb(2,"div",20),h.Tb(3,"strong"),h.Oc(4,"Nominativo"),h.Sb(),h.Sb(),h.Tb(5,"div",21),h.Oc(6),h.Sb(),h.Tb(7,"div",20),h.Tb(8,"strong"),h.Oc(9,"Codice fiscale"),h.Sb(),h.Sb(),h.Tb(10,"div",21),h.Oc(11),h.Sb(),h.Tb(12,"div",20),h.Tb(13,"strong"),h.Oc(14,"Residenza"),h.Sb(),h.Sb(),h.Tb(15,"div",21),h.Oc(16),h.Sb(),h.Tb(17,"div",20),h.Tb(18,"strong"),h.Oc(19,"IBAN"),h.Sb(),h.Sb(),h.Tb(20,"div",21),h.Oc(21),h.Sb(),h.Tb(22,"div",20),h.Tb(23,"strong"),h.Oc(24,"Dati di nascita"),h.Sb(),h.Sb(),h.Tb(25,"div",21),h.Oc(26),h.gc(27,"date"),h.Sb(),h.Tb(28,"div",20),h.Tb(29,"strong"),h.Oc(30,"Sesso"),h.Sb(),h.Sb(),h.Tb(31,"div",21),h.Oc(32),h.Sb(),h.Mc(33,P,6,1,"div",0),h.Mc(34,B,4,1,"div",0),h.Sb(),h.Sb()),2&t){const t=h.fc(2);h.Kc(h.rc(19,N)),h.Bb(6),h.Rc(" ",t.datiEredeDto.nome," ",t.datiEredeDto.cognome," "),h.Bb(5),h.Qc(" ",t.datiEredeDto.codiceFiscale," "),h.Bb(5),h.Tc(" ",t.datiEredeDto.indirizzoResidenza," ",t.datiEredeDto.codiceIstat," ",t.datiEredeDto.capResidenza," ",t.datiEredeDto.provResidenza," "),h.Bb(5),h.Qc(" ",t.datiEredeDto.iban," "),h.Bb(5),h.Sc(" ",h.ic(27,16,t.datiEredeDto.dtNascita,"dd/MM/yyyy")," ",t.datiEredeDto.codIstatNascita," ",t.datiEredeDto.provNascita," "),h.Bb(6),h.Qc(" ",t.datiEredeDto.sesso," "),h.Bb(1),h.mc("ngIf",t.datiErediOk),h.Bb(1),h.mc("ngIf",!t.datiErediOk)}}const M=function(t){return{"topbar-menu-active":t}},L=function(){return{"max-width":"800px"}},G=function(){return{marginTop:"70px"}};function k(t,i){if(1&t){const t=h.Ub();h.Tb(0,"div"),h.Tb(1,"div",1),h.Tb(2,"p-toast",2),h.Mc(3,R,13,3,"ng-template",3),h.Sb(),h.Tb(4,"div",4),h.Tb(5,"div",5),h.Tb(6,"div",6),h.Tb(7,"div",7),h.Tb(8,"ul",8),h.bc("click",(function(i){return h.Ec(t),h.fc().app.onTopbarMenuClick(i)})),h.Tb(9,"li",9),h.Tb(10,"h4"),h.Oc(11),h.Sb(),h.Sb(),h.Tb(12,"li"),h.Tb(13,"h4"),h.Oc(14,"/"),h.Sb(),h.Sb(),h.Mc(15,j,8,11,"li",10),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Sb(),h.Tb(16,"div",11),h.Tb(17,"div",12),h.Tb(18,"div",5),h.Ob(19,"p-tabMenu",13),h.Sb(),h.Sb(),h.Sb(),h.Tb(20,"div",14),h.Ob(21,"router-outlet"),h.Sb(),h.Sb(),h.Tb(22,"p-overlayPanel",15,16),h.Tb(24,"ul",17),h.Tb(25,"strong"),h.Oc(26,"CUAA /"),h.Sb(),h.Oc(27),h.Ob(28,"br"),h.Tb(29,"strong"),h.Oc(30,"Ragione Sociale /"),h.Sb(),h.Oc(31),h.Ob(32,"br"),h.Tb(33,"strong"),h.Oc(34,"Id /"),h.Sb(),h.Oc(35),h.Ob(36,"br"),h.Tb(37,"strong"),h.Oc(38,"Numero /"),h.Sb(),h.Oc(39),h.Ob(40,"br"),h.Tb(41,"strong"),h.Oc(42,"Modulo /"),h.Sb(),h.Oc(43),h.Ob(44,"br"),h.Tb(45,"strong"),h.Oc(46,"Data pres. /"),h.Sb(),h.Oc(47),h.Ob(48,"br"),h.Tb(49,"strong"),h.Oc(50,"Ente Comp. /"),h.Sb(),h.Oc(51),h.Ob(52,"br"),h.Tb(53,"strong"),h.Oc(54,"Stato /"),h.Sb(),h.Oc(55),h.Sb(),h.Sb(),h.Tb(56,"p-dialog",18),h.bc("visibleChange",(function(i){return h.Ec(t),h.fc().displayDetails=i})),h.Tb(57,"p-header"),h.Tb(58,"strong"),h.Oc(59,"INFO domanda"),h.Sb(),h.Sb(),h.Tb(60,"div",19),h.Tb(61,"div",20),h.Tb(62,"strong"),h.Oc(63,"CUAA"),h.Sb(),h.Sb(),h.Tb(64,"div",21),h.Oc(65),h.Sb(),h.Tb(66,"div",20),h.Tb(67,"strong"),h.Oc(68,"Ragione Sociale"),h.Sb(),h.Sb(),h.Tb(69,"div",21),h.Oc(70),h.Sb(),h.Tb(71,"div",20),h.Tb(72,"strong"),h.Oc(73,"Id"),h.Sb(),h.Sb(),h.Tb(74,"div",21),h.Oc(75),h.Sb(),h.Tb(76,"div",20),h.Tb(77,"strong"),h.Oc(78,"Numero"),h.Sb(),h.Sb(),h.Tb(79,"div",21),h.Oc(80),h.Sb(),h.Tb(81,"div",20),h.Tb(82,"strong"),h.Oc(83,"Modulo"),h.Sb(),h.Sb(),h.Tb(84,"div",21),h.Oc(85),h.Sb(),h.Tb(86,"div",20),h.Tb(87,"strong"),h.Oc(88,"Data pres."),h.Sb(),h.Sb(),h.Tb(89,"div",21),h.Oc(90),h.gc(91,"date"),h.Sb(),h.Tb(92,"div",20),h.Tb(93,"strong"),h.Oc(94,"Ente Comp."),h.Sb(),h.Sb(),h.Tb(95,"div",21),h.Oc(96),h.Sb(),h.Tb(97,"div",20),h.Tb(98,"strong"),h.Oc(99,"Stato"),h.Sb(),h.Sb(),h.Tb(100,"div",21),h.Oc(101),h.Sb(),h.Tb(102,"div",19),h.Tb(103,"div",12),h.Tb(104,"p-button",22),h.bc("debounceClick",(function(){return h.Ec(t),h.fc().confermaAnnullamento()})),h.Sb(),h.Sb(),h.Sb(),h.Mc(105,z,35,20,"p-fieldset",23),h.Sb(),h.Ob(106,"p-toast",24),h.Sb(),h.Sb()}if(2&t){const t=h.fc();h.Bb(2),h.mc("modal",!0)("baseZIndex",9999998),h.Bb(6),h.mc("ngClass",h.sc(36,M,t.app.topbarMenuActive)),h.Bb(3),h.Rc("",t.istruttoriaDUCorrente.tipo," - ",t.istruttoriaDUCorrente.domanda.campagna,""),h.Bb(4),h.mc("ngIf",t.istruttoriaDUCorrente.domanda.id),h.Bb(4),h.mc("model",t.menu1),h.Bb(8),h.Qc(" ",t.istruttoriaDUCorrente.domanda.cuaaIntestatario,""),h.Bb(4),h.Qc(" ",t.istruttoriaDUCorrente.domanda.ragioneSociale,""),h.Bb(4),h.Qc(" ",t.istruttoriaDUCorrente.domanda.id,""),h.Bb(4),h.Qc(" ",t.istruttoriaDUCorrente.domanda.numeroDomanda,""),h.Bb(4),h.Qc(" ",t.istruttoriaDUCorrente.domanda.descModuloDomanda,""),h.Bb(4),h.Qc(" ",t.istruttoriaDUCorrente.domanda.dtPresentazione,""),h.Bb(4),h.Qc(" ",t.istruttoriaDUCorrente.domanda.descEnteCompilatore,""),h.Bb(4),h.Qc(" ",t.istruttoriaDUCorrente.domanda.stato," "),h.Bb(1),h.mc("visible",t.displayDetails)("modal",!0)("responsive",!0)("contentStyle",h.rc(38,L))("minY",70)("maximizable",!1)("baseZIndex",999998),h.Bb(9),h.Qc(" ",t.istruttoriaDUCorrente.domanda.cuaaIntestatario," "),h.Bb(5),h.Qc(" ",t.istruttoriaDUCorrente.domanda.ragioneSociale," "),h.Bb(5),h.Qc(" ",t.istruttoriaDUCorrente.domanda.id," "),h.Bb(5),h.Qc(" ",t.istruttoriaDUCorrente.domanda.numeroDomanda," "),h.Bb(5),h.Qc(" ",t.istruttoriaDUCorrente.domanda.descModuloDomanda," "),h.Bb(5),h.Qc(" ",h.ic(91,33,t.istruttoriaDUCorrente.domanda.dtPresentazione,"dd/MM/yyyy")," "),h.Bb(6),h.Qc(" ",t.istruttoriaDUCorrente.domanda.descEnteCompilatore," "),h.Bb(5),h.Qc(" ",t.istruttoriaDUCorrente.domanda.stato," "),h.Bb(4),h.mc("ngIf",t.titolareDeceduto),h.Bb(1),h.Kc(h.rc(39,G))}}let w=(()=>{class t{constructor(t,i,e,r,o,n,s){this.route=t,this.app=i,this.istruttoriaService=e,this.messages=r,this.router=o,this.translateService=n,this.loader=s,this.isRTL=!0,this.titolareDeceduto=!1,this.displayDetails=!1,this.a4gMessages=a.a,this.datiErediOk=!1,this.istruttoriaDomandaUnicaFilter=new b.a,this.paginazione=d.a.of(0,10,"id","ASC")}ngOnInit(){this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.infoDomanda=this.istruttoriaDUCorrente.domanda,console.log(this.route.snapshot.data.sostegno),this.buildMenu(),this.loader.setTimeout(6e5)}ngOnDestroy(){this.loader.resetTimeout()}buildMenu(){this.istruttoriaDomandaUnicaFilter.tipo=this.istruttoriaDUCorrente.tipo,this.istruttoriaDomandaUnicaFilter.campagna=this.istruttoriaDUCorrente.domanda.campagna,this.istruttoriaDomandaUnicaFilter.numeroDomanda=this.istruttoriaDUCorrente.domanda.numeroDomanda,this.istruttoriaService.ricercaIstruttorieDU(this.istruttoriaDomandaUnicaFilter,this.paginazione).subscribe(t=>{this.paginaIstruttorie=t;let i=this.paginaIstruttorie.count;this.setOrder(this.paginaIstruttorie.risultati),this.paginaIstruttorie.risultati=p.sortBy(this.paginaIstruttorie.risultati,"order");let e,r=0,o=[];for(r=0;r<i;r++)e={routerLink:"/funzioniPat/istruttoriaPac1420/"+this.paginaIstruttorie.risultati[r].domanda.campagna+"/"+this.paginaIstruttorie.risultati[r].sostegno.toLowerCase()+"/saldo/istruttoria/"+this.paginaIstruttorie.risultati[r].id,label:this.translateService.instant("SOSTEGNO."+this.paginaIstruttorie.risultati[r].sostegno)+" - "+this.translateService.instant("STATO_LAVORAZIONE_SOSTEGNO."+this.paginaIstruttorie.risultati[r].stato)},o.push(e);this.menu1=o},t=>{this.messages.add(a.a.getToast("tst",a.b.error,a.a.erroreRecuperoDati))})}setOrder(t){t.forEach(t=>{t.sostegno===g.a.DISACCOPPIATO?t.order=1:t.sostegno===g.a.ZOOTECNIA?t.order=2:t.sostegno===g.a.SUPERFICIE&&(t.order=3)})}showDialog(){this.displayDetails=!0,this.istruttoriaService.getInfoDomanda(+this.istruttoriaDUCorrente.domanda.id,["EREDE"]).pipe(Object(n.a)(t=>t.erede?(this.titolareDeceduto=!0,Object(c.a)(t.erede)):this.istruttoriaService.getInfoLiquidabilita(this.istruttoriaDUCorrente.domanda.numeroDomanda).pipe(Object(s.a)(t=>this.a4gMessages.isUndefinedOrNull(t)?null:(this.titolareDeceduto=t.infoLiquidabilita.titolareDeceduto,t.infoLiquidabilita.datiErede))))).subscribe(t=>{this.titolareDeceduto&&(this.datiEredeDto=this.creaDatiErediDto(t),this.datiEredeDto&&this.datiEredeDto.cognome&&this.datiEredeDto.nome&&this.datiEredeDto.codiceFiscale&&this.datiEredeDto.iban&&this.datiEredeDto.indirizzoResidenza&&this.datiEredeDto.provResidenza&&this.datiEredeDto.codiceIstat?this.datiErediOk=!0:(this.datiErediOk=!1,this.messaggioErroreDatiErede="Non sono presenti tutti i dati dell\u2019erede",this.messages.add(a.a.getToast("tst",a.b.error,this.messaggioErroreDatiErede))))},t=>{console.log("Error",t),this.messages.add(a.a.getToast("tst",a.b.error,"Errore nel recupero dei dati dell'erede"))})}onCheckboxChange(t){this.infoDomanda.annulloRiduzione=t,this.istruttoriaService.aggiornaDomanda(this.infoDomanda).subscribe()}onCheckboxChangeDatiErede(t){this.datiEredeDto.certificato=t.checked,this.datiEredeDto.id?(this.datiEredeDto.certificato=t.checked,this.istruttoriaService.aggiornaDatiErede(this.istruttoriaDUCorrente.domanda.id,this.datiEredeDto).subscribe()):this.istruttoriaService.creaDatiErede(this.istruttoriaDUCorrente.domanda.id,this.datiEredeDto).subscribe(t=>{this.datiEredeDto.id=t.id})}creaDatiErediDto(t){const i=new u.a;return t?(Object.keys(t).forEach(e=>i[e]=t[e]),i.codIstatNascita||(i.codIstatNascita=t.codiceIstatNascita),i):i}confermaAnnullamento(){this.messages.add(a.a.getToast("warn-annullaIstruttoria",a.b.warn,a.a.CONFERMA_ANNULLA_ISTRUTTORIA))}onRejectAnnullaIstruttoria(){this.messages.clear("warn-annullaIstruttoria")}annullaIstruttoria(){this.istruttoriaService.annullaIstruttoria(this.istruttoriaDUCorrente.domanda.id).subscribe(t=>{this.router.navigate(["/funzioniPat/istruttoriaPac1420"])},t=>{console.log(t.error),this.messages.clear("warn-annullaIstruttoria"),this.messages.add(a.a.getToast("tst",a.b.error,"ANNULLA_ISTRUTTORIA_DOMANDA_IN_PAGAMENTO"==t.error.message?a.a.ANNULLA_ISTRUTTORIA_DOMANDA_IN_PAGAMENTO:a.a.ANNULLA_ISTRUTTORIA_KO))})}getIstruttoriaCorrente(){return this.istruttoriaDUCorrente}}return t.\u0275fac=function(i){return new(i||t)(h.Nb(m.a),h.Nb(r.a),h.Nb(o.a),h.Nb(I.d),h.Nb(m.e),h.Nb(f.e),h.Nb(l.a))},t.\u0275cmp=h.Hb({type:t,selectors:[["app-dettaglio-domanda"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"ui-g","ui-fluid"],["position","center","key","warn-annullaIstruttoria",3,"modal","baseZIndex"],["pTemplate","messageService"],[1,"tophome"],[1,"ui-grid-fixed"],[1,"layout-topbar",2,"padding","0px","height","auto"],[1,"layout-topbar-menu-wrapper"],[1,"topbar-menu","fadeInDown",3,"ngClass","click"],[2,"margin","0px"],[3,"ngClass","click",4,"ngIf"],[1,"top-sub-green"],[1,"ui-g-12"],[3,"model"],[1,"disaccoppiato",2,"width","100%"],["baseZIndex","10000"],["op",""],[2,"color","#333","padding","15px","width","700px !important"],[3,"visible","modal","responsive","contentStyle","minY","maximizable","baseZIndex","visibleChange"],[1,"ui-g"],[1,"ui-g-2"],[1,"ui-g-4"],["appDebounceClick","","label","Annulla Domanda",3,"debounceClick"],["legend","Dati di istruttoria relativi all'erede di un titolare deceduto",3,"style",4,"ngIf"],["key","tst"],[2,"text-align","center"],[1,"pi","pi-exclamation-triangle",2,"font-size","3em"],[1,"ui-g-6"],["type","button","pButton","","label","Si",1,"ui-button-success",3,"click"],["type","button","pButton","","label","No",1,"ui-button-secondary",3,"click"],[3,"ngClass","click"],["idDomanda",""],["href","#",2,"color","#0e5f3f",3,"click"],[1,"topbar-item-name"],["legend","Dati di istruttoria relativi all'erede di un titolare deceduto"],[1,"ui-g-1"],["binary","true",3,"ngModel","ngModelChange","onChange"],[1,"ui-g-11"],[1,"ui-g-12","error"]],template:function(t,i){1&t&&h.Mc(0,k,107,40,"div",0),2&t&&h.mc("ngIf",i.istruttoriaDUCorrente)},directives:[O.t,T.a,I.e,O.q,S.a,m.j,D.a,v.a,I.c,U.a,A.a,U.b,C.a,E.a,y.s,y.v],pipes:[O.f,O.E],styles:["[_nghost-%COMP%] .ui-dialog .ui-dialog-titlebar{background-color:#f6f6f7}.error[_ngcontent-%COMP%]{color:#d8000c;background-color:#ffbaba}"]}),t})()},"5Z9/":function(t,i,e){"use strict";e.d(i,"a",(function(){return g}));var r=e("mrSG"),o=e("tk/3"),a=e("HDdC"),n=e("6b9K"),s=e("rNJQ"),c=e("lJxs");class u{}var b=e("eZS7"),d=e("fXoL"),l=e("dkQB");let g=(()=>{class t{constructor(t,i){this.http=t,this._configuration=i,this.agsIstruttoriaGraficaPath=this._configuration.ags_server+"/istruttoria-grafica"}getControlliSostegnoIstruttoriaDU(t){return this.http.get(this._configuration.UrlGetRicercaIstruttorieDU+`/disaccoppiato/${t}/controlli`)}getDatiDomandaIstruttoriaDU(t){return this.http.get(this._configuration.UrlGetRicercaIstruttorieDU+`/disaccoppiato/${t}/datiDomanda`)}getDatiIstruttoriaDU(t){return this.http.get(this._configuration.UrlGetRicercaIstruttorieDU+`/disaccoppiato/${t}/datiIstruttore`)}getDatiIstruttoriaDuAcs(t){return this.http.get(this._configuration.UrlGetRicercaIstruttorieDU+`/superficie/${t}/datiIstruttore`)}getDatiIstruttoriaDuAcz(t){return this.http.get(this._configuration.UrlGetRicercaIstruttorieDU+`/zootecnia/${t}/datiIstruttore`)}getDatiIstruttoriaDUDatiPascolo(t){return this.http.get(this._configuration.urlDettaglioPascoloDUcondatiIstruttoria(t))}getDatiperPascoloByIdIstruttoriaConEsitoMantenimento(t){return this.http.get(this._configuration.getUrlDettaglioPascoloIstruttoriaConEsitoMantenimentoDU(t))}saveOrUpdateDatiIstruttoriaDU(t,i){const e=new o.f({"Content-Type":"application/json"});return this.http.post(this._configuration.UrlGetRicercaIstruttorieDU+`/disaccoppiato/${t}/datiIstruttore`,JSON.stringify(i),{headers:e})}saveOrUpdateDatiIstruttoriaDuAcs(t,i){const e=new o.f({"Content-Type":"application/json"});return this.http.post(this._configuration.UrlGetRicercaIstruttorieDU+`/superficie/${t}/datiIstruttore`,JSON.stringify(i),{headers:e})}saveOrUpdateDatiIstruttoriaDuAcz(t,i){const e=new o.f({"Content-Type":"application/json"});return this.http.post(this._configuration.UrlGetRicercaIstruttorieDU+`/zootecnia/${t}/datiIstruttore`,JSON.stringify(i),{headers:e})}saveDatiIstruttoriaPascoli(t,i){const e=new o.f({"Content-Type":"application/json"});return this.http.post(this._configuration.UrlGetRicercaIstruttorieDU+`/disaccoppiato/${t}/datiIstruttore/pascoli`,JSON.stringify(i),{headers:e})}getDichiarazioniDU(t){return this.http.get(this._configuration.UrlGetDettagliDU.replace("${id}",t.toString()))}getInformazioniDU(t){return this.http.get(this._configuration.UrlGetInformazioniDU.replace("${id}",t.toString()))}getDatiParticellaIsPascoloDU(t,i,e){let r=n.a.fillHttpParamsWith(new o.g,i);return this.http.get(this._configuration.UrlGetDatiParticellaIsPascoloDU.replace("${idIstruttoria}",t.toString()).replace("${pascolo}",encodeURIComponent(e.toString())),{params:r})}getDatiParticellaIsNotPascoloDU(t,i){let e=n.a.fillHttpParamsWith(new o.g,i);return this.http.get(this._configuration.UrlGetDatiParticellaIsNotPascoloDU.replace("${idIstruttoria}",t.toString()),{params:e})}getDCSVDatiParticelleDati(t,i){const e=new o.f({Accept:"application/text"});let r;return 1==i&&(r=this._configuration.UrlGetCSVDatiParticelleEleggibilita),2==i&&(r=this._configuration.UrlGetCSVDatiParticelleGreening),3==i&&(r=this._configuration.UrlGetCSVDatiParticelleMantenimento),i<1||i>3?null:this.http.get(r.replace("${idIstruttoria}",t.toString()),{headers:e,responseType:"text"})}getSuperficiImpegnateDU(t,i){let e=n.a.fillHttpParamsWith(new o.g,i);return this.http.get(this._configuration.UrlGetSuperficiImpegnateDU.replace("${idDomanda}",t.toString()),{params:e})}getSuperficiImpegnateAcs(t){return this.http.get(this._configuration.UrlAcsDU+`/${t}/superfici`)}getDichiarazioniAcs(t){return this.http.get(this._configuration.UrlAcsDU+`/${t}/dichiarazioni`)}getDichiarazioniAcz(t){return this.http.get(this._configuration.UrlAczDU+`/${t}/dichiarazioni`)}getEsitiControlloSostegno(t){return this.http.get(this._configuration.UrlIstruttorieAcs+`/${t}/esiti-controlli-sostegno`)}getControlliSostegno(t){return this.http.get(this._configuration.UrlIstruttorieAcz+`/${t}/esiticontrolli`)}getEsitiCalcoloIstruttoriaAcs(t){return this.http.get(this._configuration.UrlIstruttorieAcs+`/${t}/esiticalcoli`)}getEsitiCalcoloIstruttoriaAcz(t){return this.http.get(this._configuration.UrlIstruttorieAcz+`/${t}/esiticalcoli`)}getDisciplinaIstruttoriaAcs(t){return this.http.get(this._configuration.UrlIstruttorieAcs+`/${t}/disciplina`)}getDisciplinaIstruttoriaAcz(t){return this.http.get(this._configuration.UrlIstruttorieAcz+`/${t}/disciplina`)}getEsitiParticelle(t){return this.http.get(this._configuration.UrlIstruttorieAcs+`/${t}/esitiparticelle`)}getAllevamentiImpegnati(t){const i=new o.f({"Content-Type":"application/json"});return this.http.get(this._configuration.UrlIstruttorieAczGetAllevamentiImpegnati.replace("${idIstruttoria}",t.toString()),{headers:i})}getAllevamentiRichiesti(t){const i=new o.f({"Content-Type":"application/json"});return this.http.get(this._configuration.UrlIstruttorieAczGetAllevamentiRichiesti.replace("${idIstruttoria}",t.toString()),{headers:i})}ricercaEsiticapi(t,i){let e=Object.assign(Object.assign({},t),i);return this.http.get(this._configuration.UrlIstruttorieAczEsitiCalcoloCapiRicerca,{params:e})}getEtichettaturaZootecnia(t,i){let e={cuaa:i};return this.http.get(this._configuration.UrlGetEtichettaturaZootecnia.replace("${annoCampagna}",t),{params:e})}getAlpeggioZootecnia(t,i){let e={cuaa:i};return this.http.get(this._configuration.UrlGetRegistrazioneAlpeggioZootecnia.replace("${annoCampagna}",t),{params:e})}getProduzioneLatteZootecnia(t,i){let e={cuaa:i};return this.http.get(this._configuration.UrlGetProduzioneLatteZootecnia.replace("${annoCampagna}",t),{params:e})}getIstruttorie(t){return this.http.get(`${this._configuration.urlDomandaunica}/${t}/istruttorieByNumeroDomanda`)}findIdParcelleByDomandaParticellaIntervento(t,i,e){return this.http.get(this._configuration.getUrlGetParticelleDettaglioSuperficiePerCalcolo(t,i,e))}getIstruttoriaGraficaDomandaUnica(t,i){return this.http.get(`${this.agsIstruttoriaGraficaPath}/cuaa/${i}/id-domanda/${t}`).pipe(Object(c.a)(t=>{if(!t)return null;const i=new u;return i.cuaa=t.cuaa,i.dataIstruttoriaGrafica=b.a.convertStringToOnlyDate(t.dataIstruttoriaGrafica),i.dataRiferimento=b.a.convertStringToOnlyDate(t.dataRiferimento),i.anno=t.anno,i}))}getOrdine(t){return 1===t?"ASC":"DESC"}}return t.\u0275fac=function(i){return new(i||t)(d.Xb(o.b),d.Xb(l.a))},t.\u0275prov=d.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),Object(r.b)([Object(s.a)(),Object(r.c)("design:type",Function),Object(r.c)("design:paramtypes",[String]),Object(r.c)("design:returntype",a.a)],t.prototype,"getControlliSostegnoIstruttoriaDU",null),Object(r.b)([Object(s.a)(),Object(r.c)("design:type",Function),Object(r.c)("design:paramtypes",[Number]),Object(r.c)("design:returntype",a.a)],t.prototype,"getDatiperPascoloByIdIstruttoriaConEsitoMantenimento",null),Object(r.b)([Object(s.a)(),Object(r.c)("design:type",Function),Object(r.c)("design:paramtypes",[String]),Object(r.c)("design:returntype",a.a)],t.prototype,"getEsitiControlloSostegno",null),Object(r.b)([Object(s.a)(),Object(r.c)("design:type",Function),Object(r.c)("design:paramtypes",[String]),Object(r.c)("design:returntype",a.a)],t.prototype,"getControlliSostegno",null),Object(r.b)([Object(s.a)(),Object(r.c)("design:type",Function),Object(r.c)("design:paramtypes",[String]),Object(r.c)("design:returntype",a.a)],t.prototype,"getEsitiCalcoloIstruttoriaAcs",null),Object(r.b)([Object(s.a)(),Object(r.c)("design:type",Function),Object(r.c)("design:paramtypes",[String]),Object(r.c)("design:returntype",a.a)],t.prototype,"getEsitiCalcoloIstruttoriaAcz",null),Object(r.b)([Object(s.a)(),Object(r.c)("design:type",Function),Object(r.c)("design:paramtypes",[String]),Object(r.c)("design:returntype",a.a)],t.prototype,"getDisciplinaIstruttoriaAcs",null),Object(r.b)([Object(s.a)(),Object(r.c)("design:type",Function),Object(r.c)("design:paramtypes",[String]),Object(r.c)("design:returntype",a.a)],t.prototype,"getDisciplinaIstruttoriaAcz",null),Object(r.b)([Object(s.a)(),Object(r.c)("design:type",Function),Object(r.c)("design:paramtypes",[String]),Object(r.c)("design:returntype",a.a)],t.prototype,"getEsitiParticelle",null),Object(r.b)([Object(s.a)(),Object(r.c)("design:type",Function),Object(r.c)("design:paramtypes",[Object]),Object(r.c)("design:returntype",a.a)],t.prototype,"getIstruttorie",null),Object(r.b)([Object(s.a)(),Object(r.c)("design:type",Function),Object(r.c)("design:paramtypes",[Number,Number,String]),Object(r.c)("design:returntype",a.a)],t.prototype,"findIdParcelleByDomandaParticellaIntervento",null),Object(r.b)([Object(s.a)(),Object(r.c)("design:type",Function),Object(r.c)("design:paramtypes",[Number,String]),Object(r.c)("design:returntype",a.a)],t.prototype,"getIstruttoriaGraficaDomandaUnica",null),t})()},FucP:function(t,i,e){"use strict";e.d(i,"a",(function(){return f}));var r=e("MvQ6"),o=e("vkgz"),a=e("1G5W"),n=e("eIep"),s=e("VrO5"),c=e("Tn7N"),u=e("XNiG"),b=e("NXyV"),d=e("r0o6"),l=e("5gIc"),g=e("tk/3"),p=e("IwI7"),h=e("u+P9"),m=e("fXoL"),I=e("RtSl");new g.f({"Content-Type":"application/json"});let f=(()=>{class t{constructor(t,i,e,r){this.istruttoriaService=t,this.repeatingServiceCall=i,this.messageService=e,this.loaderService=r,this.componentDestroyed$=new u.a}caricaProcessiDaControllare(t){let i=[];return i=this.getProcessiDaControllare(t,h.a.CALCOLO_PREMIO),i.concat(this.getProcessiDaControllare(t,h.a.CALCOLO_PREMIO)),i.concat(this.getProcessiDaControllare(t,h.a.CALCOLO_PREMIO)),i}getProcessiDaControllare(t,i){try{let e=p.a[t.sostegno][i][t.stato];return 0===e.length?[]:e}catch(e){return[]}}eseguiProcessoIstruttoria(t,i,e,r,s){const u=this.istruttoriaService.avviaProcessoIstruttoriaDUByID([t],i,r,s).pipe(Object(o.a)(t=>{this.repeatingServiceCall.start(),this.messageService.add(c.a.getToast("tst",c.b.info,c.a.processoAvviatoOK))})),l=Object(b.a)(()=>this.messageService.add(c.a.getToast("tst",c.b.warn,c.a.processoInCorso)));this.istruttoriaService.checkProcessiInEsecuzione(e).pipe(Object(a.a)(this.componentDestroyed$),Object(n.a)(t=>Object(d.a)(()=>t,l,u))).subscribe()}ngOnDestroy(){this.loaderService.resetTimeout(),this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}}return t.\u0275fac=function(i){return new(i||t)(m.Xb(r.a),m.Xb(s.a),m.Xb(I.d),m.Xb(l.a))},t.\u0275prov=m.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"XR+H":function(t,i,e){"use strict";e.d(i,"a",(function(){return p}));var r=e("5Z9/"),o=e("fXoL"),a=e("tyNb"),n=e("ofXK"),s=e("sYmb");function c(t,i){if(1&t&&(o.Tb(0,"div",10),o.Tb(1,"div",11),o.Tb(2,"strong"),o.Oc(3),o.gc(4,"translate"),o.Sb(),o.Tb(5,"span",12),o.Oc(6),o.gc(7,"number"),o.Sb(),o.Sb(),o.Oc(8),o.gc(9,"translate"),o.Sb()),2&t){const t=o.fc(2);o.Bb(3),o.Pc(o.hc(4,3,"DETTAGLIO_ISTRUTTORIA.IMPORTO_CALCOLATO")),o.Bb(3),o.Qc("\u20ac",o.ic(7,5,t.istruttoriaInfo.importiIstruttoria.importoCalcolato,".2"),""),o.Bb(2),o.Qc(" ",o.hc(9,8,"DETTAGLIO_ISTRUTTORIA.AL_NETTO_PAGAMENTI")," ")}}function u(t,i){if(1&t&&(o.Tb(0,"div",10),o.Tb(1,"div",11),o.Tb(2,"strong"),o.Oc(3),o.gc(4,"translate"),o.Sb(),o.Tb(5,"span",12),o.Oc(6),o.gc(7,"number"),o.Sb(),o.Sb(),o.Oc(8),o.gc(9,"translate"),o.Sb()),2&t){const t=o.fc(2);o.Bb(3),o.Pc(o.hc(4,3,"DETTAGLIO_ISTRUTTORIA.IMPORTO_AUTORIZZATO")),o.Bb(3),o.Qc("\u20ac",o.ic(7,5,t.istruttoriaInfo.importiIstruttoria.importoAutorizzato,".2"),""),o.Bb(2),o.Qc(" ",o.hc(9,8,"DETTAGLIO_ISTRUTTORIA.AL_NETTO_FINANZIARIA")," ")}}function b(t,i){if(1&t&&(o.Tb(0,"li"),o.Tb(1,"div",11),o.Tb(2,"span"),o.Oc(3),o.Sb(),o.Tb(4,"span",12),o.Oc(5),o.gc(6,"number"),o.Sb(),o.Sb(),o.Sb()),2&t){const t=i.$implicit;o.Bb(3),o.Pc(t.descrizione),o.Bb(2),o.Qc("\u20ac",o.ic(6,2,t.importo,".2"),"")}}function d(t,i){if(1&t&&(o.Tb(0,"div",10),o.Tb(1,"div",11),o.Tb(2,"strong"),o.Oc(3),o.gc(4,"translate"),o.Sb(),o.Tb(5,"span",12),o.Oc(6),o.gc(7,"number"),o.Sb(),o.Sb(),o.Tb(8,"ul"),o.Mc(9,b,7,5,"li",13),o.Sb(),o.Sb()),2&t){const t=o.fc(2);o.Bb(3),o.Qc("",o.hc(4,3,"DETTAGLIO_ISTRUTTORIA.DEBITI_RECUPERATI")," "),o.Bb(3),o.Qc(" \u20ac ",o.ic(7,5,t.totaleDebitoRecuperato[0],".2"),""),o.Bb(3),o.mc("ngForOf",t.istruttoriaInfo.importiIstruttoria.debitiRecuperati)}}function l(t,i){if(1&t&&(o.Tb(0,"div",14),o.Tb(1,"strong"),o.Oc(2),o.gc(3,"translate"),o.Sb(),o.Tb(4,"span",15),o.Oc(5),o.gc(6,"number"),o.Sb(),o.Sb()),2&t){const t=o.fc(2);o.Bb(2),o.Pc(o.hc(3,2,"DETTAGLIO_ISTRUTTORIA.IMPORTO_LIQUIDATO")),o.Bb(3),o.Qc("\u20ac ",o.ic(6,4,t.totaleImportoLiquidato[0],".2"),"")}}function g(t,i){if(1&t&&(o.Tb(0,"div",2),o.Tb(1,"div",3),o.Tb(2,"div",4),o.Tb(3,"h3"),o.Tb(4,"span"),o.Oc(5,"Dati di Liquidazione"),o.Sb(),o.Sb(),o.Tb(6,"div",5),o.Mc(7,c,10,10,"div",6),o.Mc(8,u,10,10,"div",6),o.Mc(9,d,10,8,"div",6),o.Mc(10,l,7,7,"div",7),o.Sb(),o.Tb(11,"div",8),o.Tb(12,"div",9),o.Tb(13,"strong"),o.Oc(14),o.gc(15,"translate"),o.Sb(),o.Sb(),o.Tb(16,"div",9),o.Oc(17),o.Sb(),o.Tb(18,"div",9),o.Tb(19,"strong"),o.Oc(20),o.gc(21,"translate"),o.Sb(),o.Sb(),o.Tb(22,"div",9),o.Oc(23),o.Sb(),o.Tb(24,"div",9),o.Tb(25,"strong"),o.Oc(26),o.gc(27,"translate"),o.Sb(),o.Sb(),o.Tb(28,"div",9),o.Oc(29),o.Sb(),o.Tb(30,"div",9),o.Tb(31,"strong"),o.Oc(32),o.gc(33,"translate"),o.Sb(),o.Sb(),o.Tb(34,"div",9),o.Oc(35),o.gc(36,"date"),o.Sb(),o.Tb(37,"div",9),o.Tb(38,"strong"),o.Oc(39),o.gc(40,"translate"),o.Sb(),o.Sb(),o.Tb(41,"div",9),o.Oc(42),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb()),2&t){const t=o.fc();o.Bb(7),o.mc("ngIf",t.istruttoriaInfo.importiIstruttoria&&t.istruttoriaInfo.importiIstruttoria.importoCalcolato),o.Bb(1),o.mc("ngIf",t.istruttoriaInfo.importiIstruttoria&&t.istruttoriaInfo.importiIstruttoria.importoAutorizzato),o.Bb(1),o.mc("ngIf",(null==t.istruttoriaInfo.importiIstruttoria||null==t.istruttoriaInfo.importiIstruttoria.debitiRecuperati?null:t.istruttoriaInfo.importiIstruttoria.debitiRecuperati.length)>0),o.Bb(1),o.mc("ngIf",t.istruttoriaInfo.importiIstruttoria&&t.istruttoriaInfo.importiIstruttoria.importoAutorizzato),o.Bb(4),o.Pc(o.hc(15,14,"DETTAGLIO_ISTRUTTORIA.ANNO_ESERCIZIO")),o.Bb(3),o.Qc(" ",t.istruttoriaInfo.importiIstruttoria.annoEsercizio," "),o.Bb(3),o.Pc(o.hc(21,16,"DETTAGLIO_ISTRUTTORIA.PROGRESSIVO_CREDITO")),o.Bb(3),o.Qc(" ",t.istruttoriaInfo.importiIstruttoria.progressivoCredito," "),o.Bb(3),o.Pc(o.hc(27,18,"DETTAGLIO_ISTRUTTORIA.NUMERO_AUTORIZZAZIONE")),o.Bb(3),o.Qc(" ",t.istruttoriaInfo.importiIstruttoria.numeroAutorizzazione," "),o.Bb(3),o.Pc(o.hc(33,20,"DETTAGLIO_ISTRUTTORIA.DATA_AUTORIZZAZIONE")),o.Bb(3),o.Qc(" ",o.ic(36,22,t.istruttoriaInfo.importiIstruttoria.dataAutorizzazione,"dd/MM/yyyy")," "),o.Bb(4),o.Pc(o.hc(40,25,"DETTAGLIO_ISTRUTTORIA.PROGRESSIVO_PAGAMENTO")),o.Bb(3),o.Qc(" ",t.istruttoriaInfo.importiIstruttoria.progressivoPagamento," ")}}let p=(()=>{class t{constructor(t,i){this.route=t,this.istruttoriaService=i,this.totaleDebitoRecuperato=[],this.totaleImportoLiquidato=[]}ngOnInit(){this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.istruttoriaService.getIstruttorie(this.istruttoriaDUCorrente.domanda.numeroDomanda).subscribe(t=>{this.istruttoriaInfo=t.find(t=>t.sostegno==this.istruttoriaDUCorrente.sostegno&&t.tipoIstruttoria==this.istruttoriaDUCorrente.tipo),this.calcolaTotaleDebiti(),this.calcolaImportoLiquidato()})}calcolaTotaleDebiti(){if(this.totaleDebitoRecuperato[0]=0,this.istruttoriaInfo.importiIstruttoria&&null!=this.istruttoriaInfo.importiIstruttoria.debitiRecuperati)for(let t of this.istruttoriaInfo.importiIstruttoria.debitiRecuperati)this.totaleDebitoRecuperato[0]=(100*this.totaleDebitoRecuperato[0]+100*t.importo)/100}calcolaImportoLiquidato(){this.totaleImportoLiquidato[0]=0,this.istruttoriaInfo.importiIstruttoria&&null!=this.istruttoriaInfo.importiIstruttoria.importoAutorizzato&&(this.totaleImportoLiquidato[0]=(100*this.istruttoriaInfo.importiIstruttoria.importoAutorizzato-100*this.totaleDebitoRecuperato[0])/100)}}return t.\u0275fac=function(i){return new(i||t)(o.Nb(a.a),o.Nb(r.a))},t.\u0275cmp=o.Hb({type:t,selectors:[["app-dati-liquidazione"]],decls:2,vars:1,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],["class","ui-g-12",4,"ngIf"],[1,"ui-g-12"],[1,"ui-grid-fixed"],[1,"dettaglioaccordion",2,"background","#fff"],[1,"table-responsive","nobrd",2,"margin-top","30px"],["class","timeline-item__amount  fs-5",4,"ngIf"],["class","timeline-item__amount  timeline-item__amount-payed  d-flex  align-items-center  fs-18 border-top",4,"ngIf"],[1,"ui-g"],[1,"ui-g-3","box-padded"],[1,"timeline-item__amount","fs-5"],[1,"d-flex"],[1,"ml-auto"],[4,"ngFor","ngForOf"],[1,"timeline-item__amount","timeline-item__amount-payed","d-flex","align-items-center","fs-18","border-top"],[1,"total-amount","ml-auto","fs-18","fw-700"]],template:function(t,i){1&t&&(o.Tb(0,"div",0),o.Mc(1,g,43,27,"div",1),o.Sb()),2&t&&(o.Bb(1),o.mc("ngIf",i.istruttoriaInfo))},directives:[n.t,n.s],pipes:[s.d,n.f,n.g],styles:[""]}),t})()},bcH1:function(t,i,e){"use strict";e.d(i,"a",(function(){return a}));var r=e("MvQ6"),o=e("fXoL");let a=(()=>{class t{constructor(t){this.istruttoriaService=t}resolve(t){return this.istruttoriaService.getIstruttoriaDU(t.paramMap.get("idIstruttoria"))}}return t.\u0275fac=function(i){return new(i||t)(o.Xb(r.a))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac}),t})()},cJRl:function(t,i,e){"use strict";e.d(i,"a",(function(){return u}));var r=e("MM/6"),o=e("b7oP"),a=e("rgW5"),n=e("R69K"),s=e("A+aF"),c=e("fXoL");let u=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(i){return new(i||t)},providers:[],imports:[[o.b,a.c,n.a,s.b,r.b],o.b,a.c,n.a,s.b,r.b]}),t})()}}]);