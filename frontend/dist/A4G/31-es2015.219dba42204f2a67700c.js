(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{YOdh:function(t,i,e){"use strict";e.r(i),e.d(i,"SostegnoDettaglioSuperficiModule",(function(){return Vi}));var o=e("ofXK"),a=e("R69K"),n=e("tZin"),c=e("bcH1"),r=e("cJRl"),s=e("tyNb"),l=e("3iu/"),d=e("TW8+"),b=e("5gIc"),u=e("RIRQ"),p=e("iU1L"),g=e("8k9x"),m=e("FucP"),f=e("fXoL"),h=e("b7oP"),S=e("A1Yd"),T=e("sfyY"),v=e("sYmb");function C(t,i){if(1&t){const t=f.Ub();f.Tb(0,"button",13),f.bc("click",(function(){return f.Ec(t),f.fc().avviaProcessoControlloLiquidabilita()})),f.Oc(1),f.gc(2,"translate"),f.Sb()}2&t&&(f.Bb(1),f.Qc(" ",f.hc(2,1,"DOMANDA_UNICA_RISULTATI.avviaControlliLiquidabilita")," "))}function D(t,i){if(1&t){const t=f.Ub();f.Tb(0,"button",13),f.bc("click",(function(){return f.Ec(t),f.fc().avviaProcessoCalcoloPremio()})),f.Oc(1),f.gc(2,"translate"),f.Sb()}2&t&&(f.Bb(1),f.Qc(" ",f.hc(2,1,"AVVIA_CALCOLO_PREMIO")," "))}function I(t,i){if(1&t){const t=f.Ub();f.Tb(0,"button",14),f.bc("click",(function(){return f.Ec(t),f.fc().avviaProcessoNonAmmissibilita()})),f.Oc(1),f.gc(2,"translate"),f.Sb()}2&t&&(f.Bb(1),f.Qc(" ",f.hc(2,1,"DOMANDA_UNICA_RISULTATI.nonAmmissibile")," "))}function O(t,i){if(1&t&&f.Ob(0,"app-processi-di-controllo",15),2&t){const t=f.fc();f.mc("processiDaControllare",t.processiDaControllare)}}let A=(()=>{class t{constructor(t,i,e){this.sostegnoService=t,this.loader=i,this.route=e}ngOnInit(){this.setMenu(),this.loader.setTimeout(48e4),this.processiDaControllare=this.sostegnoService.caricaProcessiDaControllare(this.istruttoriaDUCorrente)}ngOnDestroy(){this.loader.resetTimeout()}setMenu(){this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.menu2=new Array({routerLink:d.a.superficiImpegnate,label:"Superfici Impegnate"},{routerLink:d.a.dichiarazioni,label:"Dichiarazioni"},{routerLink:d.a.controlliSostegno,label:"Controlli di sostegno"},{routerLink:d.a.esiticalcoli,label:"Esiti Calcoli"},{routerLink:d.a.esitiParticelle,label:"Esiti per Particella"},{routerLink:d.a.datiIstruttoria,label:"Inserimento dati Istruttoria"}),this.istruttoriaDUCorrente.stato==u.a.PAGAMENTO_AUTORIZZATO&&this.menu2.push({routerLink:d.a.datiLiquidazione,label:"Dati di Liquidazione"}),this.istruttoriaSostegno=p.a[this.istruttoriaDUCorrente.sostegno]}isEnableCalcoloPremio(){return this.istruttoriaDUCorrente.sostegno===p.a.SUPERFICIE&&(this.istruttoriaDUCorrente.stato===u.a.CONTROLLI_CALCOLO_KO||this.istruttoriaDUCorrente.stato===u.a.CONTROLLI_CALCOLO_OK)}isEnableProcessoAmmissibilita(){return this.istruttoriaDUCorrente.sostegno===p.a.SUPERFICIE&&this.istruttoriaDUCorrente.stato===u.a.CONTROLLI_CALCOLO_KO}isEnableControlliLiquidabilita(){return this.istruttoriaDUCorrente.sostegno===p.a.SUPERFICIE&&this.istruttoriaDUCorrente.stato===u.a.CONTROLLI_CALCOLO_OK}avviaProcessoControlloLiquidabilita(){this.sostegnoService.eseguiProcessoIstruttoria(this.istruttoriaDUCorrente.id,g.a.CONTROLLO_LIQUIDABILITA_ISTRUTTORIA,this.processiDaControllare,this.istruttoriaDUCorrente.domanda.campagna,this.istruttoriaSostegno)}avviaProcessoCalcoloPremio(){this.sostegnoService.eseguiProcessoIstruttoria(this.istruttoriaDUCorrente.id,g.a.CALCOLO_ACCOPPIATO_SUPERFICIE_ISTRUTTORIA,this.processiDaControllare,this.istruttoriaDUCorrente.domanda.campagna,this.istruttoriaSostegno)}avviaProcessoNonAmmissibilita(){this.processiDaControllare=[g.a.NON_AMMISSIBILITA],this.sostegnoService.eseguiProcessoIstruttoria(this.istruttoriaDUCorrente.id,g.a.NON_AMMISSIBILITA,this.processiDaControllare,this.istruttoriaDUCorrente.domanda.campagna,this.istruttoriaSostegno)}}return t.\u0275fac=function(i){return new(i||t)(f.Nb(m.a),f.Nb(b.a),f.Nb(s.a))},t.\u0275cmp=f.Hb({type:t,selectors:[["app-superficie"]],decls:16,vars:5,consts:[[1,"ui-g","ui-fluid"],[1,"ui-g-12",2,"padding-bottom","0px !important"],[1,"ui-grid-fixed"],[1,"funzioni-grid","tabsmall",2,"margin-bottom","0px !important","margin-top","40px !important"],[3,"model"],[2,"width","100%"],[1,"ui-g-9"],[1,"layout-actionmenu"],[1,"ui-g"],[1,"ui-g-12","searchbutton"],["pButton","","type","button","class","ui-button-success results_text_button",3,"click",4,"ngIf"],["pButton","","pButton","","type","button","class","ui-button-success results_text_button",3,"click",4,"ngIf"],[3,"processiDaControllare",4,"ngIf"],["pButton","","type","button",1,"ui-button-success","results_text_button",3,"click"],["pButton","","pButton","","type","button",1,"ui-button-success","results_text_button",3,"click"],[3,"processiDaControllare"]],template:function(t,i){1&t&&(f.Tb(0,"div",0),f.Tb(1,"div",1),f.Tb(2,"div",2),f.Tb(3,"div",3),f.Ob(4,"p-tabMenu",4),f.Sb(),f.Sb(),f.Sb(),f.Tb(5,"div",5),f.Ob(6,"router-outlet"),f.Sb(),f.Sb(),f.Tb(7,"div",6),f.Tb(8,"div",7),f.Tb(9,"div",8),f.Tb(10,"div",9),f.Mc(11,C,3,3,"button",10),f.Mc(12,D,3,3,"button",10),f.Mc(13,I,3,3,"button",11),f.Sb(),f.Sb(),f.Sb(),f.Sb(),f.Tb(14,"div",1),f.Mc(15,O,1,1,"app-processi-di-controllo",12),f.Sb()),2&t&&(f.Bb(4),f.mc("model",i.menu2),f.Bb(7),f.mc("ngIf",i.isEnableControlliLiquidabilita()),f.Bb(1),f.mc("ngIf",i.isEnableCalcoloPremio()),f.Bb(1),f.mc("ngIf",i.isEnableProcessoAmmissibilita()),f.Bb(2),f.mc("ngIf",i.processiDaControllare))},directives:[h.a,s.j,o.t,S.b,T.a],pipes:[v.d],styles:[""]}),t})();var B=e("sdz4"),M=e("XNiG"),y=e("MvQ6"),P=e("Tn7N"),N=e("Vufj"),R=e("5Z9/"),L=e("Es4X"),U=e("RtSl"),w=e("8ioI"),z=e("arS9"),F=e("R5y+"),$=e("3Pt+"),x=e("GLSp");function E(t,i){if(1&t){const t=f.Ub();f.Tb(0,"div",5),f.Tb(1,"h3"),f.Tb(2,"span"),f.Oc(3," Dichiarazione riduzione annullamento sanzione "),f.Sb(),f.Sb(),f.Tb(4,"div",6),f.Tb(5,"p-checkbox",15),f.bc("ngModelChange",(function(i){return f.Ec(t),f.fc(2).datiIstruttoriaDaInserire.annulloRiduzione=i})),f.Sb(),f.Sb(),f.Sb()}if(2&t){const t=f.fc(2);f.Bb(5),f.mc("ngModel",t.datiIstruttoriaDaInserire.annulloRiduzione)}}function _(t,i){if(1&t&&(f.Tb(0,"p",27),f.Oc(1),f.Sb()),2&t){f.fc(2);const t=f.Bc(7);f.Bb(1),f.Qc(" ",t.errors.erroreNumero," ")}}function k(t,i){if(1&t&&(f.Tb(0,"div"),f.Mc(1,_,2,1,"p",26),f.Sb()),2&t){f.fc();const t=f.Bc(7);f.Bb(1),f.mc("ngIf",null==t.errors?null:t.errors.erroreNumero)}}function Q(t,i){if(1&t){const t=f.Ub();f.Tb(0,"div"),f.Tb(1,"div",18),f.Tb(2,"label",19),f.Oc(3),f.Sb(),f.Sb(),f.Tb(4,"div",20),f.Tb(5,"div",21),f.Tb(6,"input",22,23),f.bc("ngModelChange",(function(e){f.Ec(t);const o=i.$implicit;return f.fc(3).datiIstruttoriaDaInserire[o.id]=e})),f.Sb(),f.Tb(8,"span",24),f.Oc(9),f.Sb(),f.Sb(),f.Mc(10,k,2,1,"div",0),f.Sb(),f.Ob(11,"div",25),f.Sb()}if(2&t){const t=i.$implicit,e=f.Bc(7),o=f.fc(3);f.Bb(3),f.Qc(" ",t.label," "),f.Bb(3),f.nc("name",t.id),f.mc("ngModel",o.datiIstruttoriaDaInserire[t.id]),f.Bb(3),f.Qc(" ",t.target," "),f.Bb(1),f.mc("ngIf",e&&e.errors)}}function H(t,i){if(1&t&&(f.Tb(0,"div"),f.Tb(1,"div",16),f.Tb(2,"div",2),f.Tb(3,"h3"),f.Tb(4,"span"),f.Oc(5," Dati Superfici Determinate "),f.Sb(),f.Sb(),f.Mc(6,Q,12,5,"div",17),f.Ob(7,"br"),f.Sb(),f.Sb(),f.Sb()),2&t){const t=f.fc(2);f.Bb(6),f.mc("ngForOf",t.dati.items)}}function q(t,i){if(1&t){const t=f.Ub();f.Tb(0,"div",5),f.Tb(1,"h3"),f.Tb(2,"span"),f.Oc(3," Dichiarazione riduzione annullamento sanzione "),f.Sb(),f.Sb(),f.Tb(4,"div",6),f.Tb(5,"p-checkbox",28),f.bc("ngModelChange",(function(i){return f.Ec(t),f.fc(2).datiIstruttoriaDaInserire.annulloRiduzione=i})),f.Sb(),f.Sb(),f.Sb()}if(2&t){const t=f.fc(2);f.Bb(5),f.mc("ngModel",t.datiIstruttoriaDaInserire.annulloRiduzione)}}function K(t,i){if(1&t&&(f.Tb(0,"p",27),f.Oc(1),f.Sb()),2&t){f.fc(2);const t=f.Bc(7);f.Bb(1),f.Qc(" ",t.errors.erroreNumero," ")}}function Z(t,i){if(1&t&&(f.Tb(0,"div"),f.Mc(1,K,2,1,"p",26),f.Sb()),2&t){f.fc();const t=f.Bc(7);f.Bb(1),f.mc("ngIf",null==t.errors?null:t.errors.erroreNumero)}}function G(t,i){if(1&t){const t=f.Ub();f.Tb(0,"div"),f.Tb(1,"div",18),f.Tb(2,"label",19),f.Oc(3),f.Sb(),f.Sb(),f.Tb(4,"div",20),f.Tb(5,"div",21),f.Tb(6,"input",29,23),f.bc("ngModelChange",(function(e){f.Ec(t);const o=i.$implicit;return f.fc(3).datiIstruttoriaDaInserire[o.id]=e})),f.Sb(),f.Tb(8,"span",24),f.Oc(9),f.Sb(),f.Sb(),f.Mc(10,Z,2,1,"div",0),f.Sb(),f.Ob(11,"div",25),f.Sb()}if(2&t){const t=i.$implicit,e=f.Bc(7),o=f.fc(3);f.Bb(3),f.Qc(" ",t.label," "),f.Bb(3),f.nc("name",t.id),f.mc("ngModel",o.datiIstruttoriaDaInserire[t.id]),f.Bb(3),f.Qc(" ",t.target," "),f.Bb(1),f.mc("ngIf",e&&e.errors)}}function V(t,i){if(1&t&&(f.Tb(0,"div"),f.Tb(1,"div",16),f.Tb(2,"div",2),f.Tb(3,"h3"),f.Tb(4,"span"),f.Oc(5," Dati Superfici Determinate "),f.Sb(),f.Sb(),f.Mc(6,G,12,5,"div",17),f.Ob(7,"br"),f.Sb(),f.Sb(),f.Sb()),2&t){const t=f.fc(2);f.Bb(6),f.mc("ngForOf",t.dati.items)}}const j=function(){return{marginTop:"70px"}};function W(t,i){if(1&t){const t=f.Ub();f.Tb(0,"div"),f.Tb(1,"div",1),f.Tb(2,"div",2),f.Tb(3,"div",3),f.Ob(4,"p-toast",4),f.Tb(5,"div",5),f.Tb(6,"h3"),f.Tb(7,"span"),f.Oc(8," Dati Controlli in Loco e Certificazione Antimafia "),f.Sb(),f.Sb(),f.Tb(9,"div",6),f.Tb(10,"p-checkbox",7),f.bc("ngModelChange",(function(i){return f.Ec(t),f.fc().datiIstruttoriaDaInserire.controlloSigecoLoco=i})),f.Sb(),f.Ob(11,"br"),f.Tb(12,"p-checkbox",8),f.bc("ngModelChange",(function(i){return f.Ec(t),f.fc().datiIstruttoriaDaInserire.controlloAntimafia=i})),f.Sb(),f.Sb(),f.Sb(),f.Mc(13,E,6,1,"div",9),f.Mc(14,H,8,1,"div",0),f.Tb(15,"div"),f.Tb(16,"div",10),f.Ob(17,"br"),f.Tb(18,"button",11),f.bc("click",(function(){return f.Ec(t),f.fc().onSubmit()})),f.Oc(19,"SALVA"),f.Sb(),f.Sb(),f.Sb(),f.Sb(),f.Sb(),f.Sb(),f.Tb(20,"div",12),f.Tb(21,"div",2),f.Tb(22,"div",3),f.Ob(23,"p-toast",4),f.Tb(24,"div",5),f.Tb(25,"h3"),f.Tb(26,"span"),f.Oc(27," Dati Controlli in Loco e Certificazione Antimafia "),f.Sb(),f.Sb(),f.Tb(28,"div",6),f.Tb(29,"p-checkbox",13),f.bc("ngModelChange",(function(i){return f.Ec(t),f.fc().datiIstruttoriaDaInserire.controlloSigecoLoco=i})),f.Sb(),f.Ob(30,"br"),f.Tb(31,"p-checkbox",14),f.bc("ngModelChange",(function(i){return f.Ec(t),f.fc().datiIstruttoriaDaInserire.controlloAntimafia=i})),f.Sb(),f.Sb(),f.Sb(),f.Mc(32,q,6,1,"div",9),f.Mc(33,V,8,1,"div",0),f.Ob(34,"div"),f.Sb(),f.Sb(),f.Sb(),f.Sb()}if(2&t){const t=f.fc();f.Bb(1),f.mc("a4gHasPermission","MODIFICABILE")("annoCampagna",t.istruttoriaDUCorrente.domanda.campagna)("tipoIstruttoria",t.istruttoriaDUCorrente.tipo)("statoSostegno",t.istruttoriaDUCorrente.stato),f.Bb(3),f.Kc(f.rc(20,j)),f.Bb(6),f.mc("ngModel",t.datiIstruttoriaDaInserire.controlloSigecoLoco),f.Bb(2),f.mc("ngModel",t.datiIstruttoriaDaInserire.controlloAntimafia),f.Bb(1),f.mc("ngIf",t.showCheckboxAnnulloRitardoPresentazione),f.Bb(1),f.mc("ngIf","datiIstruttoriaACS"==t.tipoDettaglio),f.Bb(6),f.mc("a4gHasPermission","NON_MODIFICABILE")("statoSostegno",t.istruttoriaDUCorrente.stato)("tipoIstruttoria",t.istruttoriaDUCorrente.tipo)("annoCampagna",t.istruttoriaDUCorrente.domanda.campagna),f.Bb(3),f.Kc(f.rc(21,j)),f.Bb(6),f.mc("ngModel",t.datiIstruttoriaDaInserire.controlloSigecoLoco),f.Bb(2),f.mc("ngModel",t.datiIstruttoriaDaInserire.controlloAntimafia),f.Bb(1),f.mc("ngIf",t.showCheckboxAnnulloRitardoPresentazione),f.Bb(1),f.mc("ngIf","datiIstruttoriaACS"==t.tipoDettaglio)}}let J=(()=>{class t{constructor(t,i,e,o,a,n,c){this.route=t,this.istruttoriaService=i,this.istruttoriaDettaglioService=e,this.messageService=o,this.router=a,this.istruttoriaCorrente=n,this.confService=c,this.dati=null,this.statoSostegno$=new M.a,this.showCheckboxAnnulloRitardoPresentazione=!1}ngOnInit(){this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.setSostegno(),this.getDatiIstruttoria(),this.controllaRitardo()}setSostegno(){this.selectedSostegno=p.a.SUPERFICIE,this.tipoSostegno=d.a.acs,this.tipoDettaglio="datiIstruttoriaACS",this.service="putDettaglioDatiIstruttoriaACS",this.setDatiDaInserire()}setDatiDaInserire(){this.dati={items:[{label:"ACS - Superficie determinata dall\u2019istruttore Soia",id:"superficieDeterminataSoiaM8",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Frumento",id:"superficieDeterminataFrumentoM9",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Proteaginose",id:"superficieDeterminataProteaginoseM10",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Leguminose",id:"superficieDeterminataLeguminoseM11",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Pomodoro",id:"superficieDeterminataPomodoroM14",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Olivo Standard",id:"superficieDeterminataOlivoStandardM15",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Olivo  7,5%",id:"superficieDeterminataOlivoPendenzaM16",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Olivo Qualit\xe0",id:"superficieDeterminataOlivoQualitaM17",target:"Ha"}]}}getDatiIstruttoria(){this.istruttoriaDettaglioService.getDatiIstruttoriaDuAcs(this.istruttoriaDUCorrente.id.toString()).subscribe(t=>{this.datiIstruttoriaDaInserire=t||new L.a,this.statoSostegno$.next(this.istruttoriaDUCorrente.stato)},t=>{console.error(t),this.messageService.add(P.a.getToast("tst",P.b.error,P.a.erroreRecuperoDati))})}onSubmit(){this.istruttoriaDettaglioService.saveOrUpdateDatiIstruttoriaDuAcs(this.istruttoriaDUCorrente.id.toString(),this.datiIstruttoriaDaInserire).subscribe(t=>{this.datiIstruttoriaDaInserire=t,console.log("Salvataggio dati Istruttoria avvenuto con successo"),this.messageService.add(P.a.getToast("tst",P.b.success,P.a.OPERAZIONE_OK))},t=>{console.error("Errore in salvataggio dati Istruttoria: "+t),console.error(t),P.a.handleError(this.messageService,t,P.a.ERRORE_SALVATAGGIO_DATI_ISTRUTTORIA)})}getIstruttoriaCorrente(){return this.istruttoriaCorrente.istruttoria}controllaRitardo(){this.confService.getConfigurazioneIstruttorie(this.istruttoriaDUCorrente.domanda.campagna).subscribe(t=>{String(this.istruttoriaDUCorrente.domanda.codModuloDomanda).includes("BPS_ART_15")&&this.istruttoriaDUCorrente.domanda.dtPresentazione>t.dtScadenzaDomandeIniziali&&(this.showCheckboxAnnulloRitardoPresentazione=!0)})}}return t.\u0275fac=function(i){return new(i||t)(f.Nb(s.a),f.Nb(y.a),f.Nb(R.a),f.Nb(U.d),f.Nb(s.e),f.Nb(N.a),f.Nb(B.a))},t.\u0275cmp=f.Hb({type:t,selectors:[["app-dati-istruttoria"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"boxgrey",2,"padding-top","50px","display","inline-block",3,"a4gHasPermission","annoCampagna","tipoIstruttoria","statoSostegno"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[2,"background","#fff","padding","30px","display","inline-block","width","100%","margin-bottom","30px"],[2,"font-size","15px"],["binary","true","label","Si certifica che sono stati effettuati i controlli amministrativi in loco",3,"ngModel","ngModelChange"],["binary","true","label","Si attesta che la certificazione antimafia \xe8 stata acquisita in maniera cartacea o che il pagamento viene effettuato su conduzione risolutiva legata all'esito degli accertamenti",3,"ngModel","ngModelChange"],["style","background: #fff; padding: 30px; display: inline-block; width: 100%; margin-bottom:30px;",4,"ngIf"],[1,"ui-g-12","ui-md-2","searchbutton"],["pButton","","type","button","type","submit",1,"ui-button-success",3,"click"],[1,"boxgrey",2,"padding-top","50px","display","inline-block",3,"a4gHasPermission","statoSostegno","tipoIstruttoria","annoCampagna"],["disabled","","binary","true","label","Si certifica che sono stati effettuati i controlli amministrativi in loco",3,"ngModel","ngModelChange"],["disabled","","binary","true","label","Si attesta che la certificazione antimafia \xe8 stata acquisita in maniera cartacea o che il pagamento viene effettuato su conduzione risolutiva legata all'esito degli accertamenti",3,"ngModel","ngModelChange"],["binary","true","label","Si attesta che la domanda di modifica presentata in ritardo non introduce nuovi impegni e dunque non si applicano le riduzioni per ritardata presentazione",3,"ngModel","ngModelChange"],[2,"background","#fff","padding","30px","display","inline-block","width","100%"],[4,"ngFor","ngForOf"],[1,"ui-g-5"],[1,"labelricerca"],[1,"ui-g-3"],[1,"ui-inputgroup"],["type","number","step","0.0001","min","0","pInputText","","appValidaNumero4dec","",2,"width","100%",3,"name","ngModel","ngModelChange"],["input","ngModel"],[1,"ui-inputgroup-addon",2,"padding","10px 20px","background","#f0f0f0","border","1px solid #dedede"],[1,"ui-g-4"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],[1,"ui-message","ui-messages-error","ui-corner-all"],["disabled","","binary","true","label","Si attesta che la domanda di modifica presentata in ritardo non introduce nuovi impegni e dunque non si applicano le riduzioni per ritardata presentazione",3,"ngModel","ngModelChange"],["disabled","","type","number","step","0.0001","min","0","pInputText","","appValidaNumero4dec","",2,"width","100%",3,"name","ngModel","ngModelChange"]],template:function(t,i){1&t&&(f.Mc(0,W,35,22,"div",0),f.gc(1,"async")),2&t&&f.mc("ngIf",f.hc(1,1,i.statoSostegno$))},directives:[o.t,w.a,z.a,F.a,$.s,$.v,S.b,o.s,$.y,$.c,x.a],pipes:[o.b],styles:[""]}),t})();var X=e("EOOO"),Y=e("yWug"),tt=e("yhG/");function it(t,i){}function et(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Tb(2,"a",13),f.Ob(3,"i",14),f.Tb(4,"strong"),f.Oc(5,"Superficie Totale Richiesta (mq)"),f.Sb(),f.Sb(),f.Sb(),f.Tb(6,"td"),f.Tb(7,"strong"),f.Oc(8,"Superficie Totale Richiesta (mq)"),f.Sb(),f.Sb(),f.Tb(9,"td",15),f.Oc(10),f.Sb(),f.Sb()),2&t){const t=i.$implicit,e=i.expanded;f.Bb(2),f.mc("pRowToggler",t),f.Bb(1),f.mc("ngClass",e?"pi pi-chevron-down":"pi pi-chevron-right"),f.Bb(7),f.Pc(t.supRichiestaTotale)}}function ot(t,i){if(1&t&&(f.Tb(0,"div",1),f.Tb(1,"b"),f.Oc(2,"Intervento Soia - Superficie Totale Richiesta:"),f.Sb(),f.Oc(3),f.Sb()),2&t){const t=f.fc().$implicit;f.Bb(3),f.Qc(" ",t.m8," ")}}function at(t,i){if(1&t&&(f.Tb(0,"div",1),f.Tb(1,"b"),f.Oc(2,"Intervento Frumento - Superficie Totale Richiesta:"),f.Sb(),f.Oc(3),f.Sb()),2&t){const t=f.fc().$implicit;f.Bb(3),f.Qc(" ",t.m9," ")}}function nt(t,i){if(1&t&&(f.Tb(0,"div",1),f.Tb(1,"b"),f.Oc(2,"Intervento Proteaginose - Superficie Totale Richiesta:"),f.Sb(),f.Oc(3),f.Sb()),2&t){const t=f.fc().$implicit;f.Bb(3),f.Qc(" ",t.m10," ")}}function ct(t,i){if(1&t&&(f.Tb(0,"div",1),f.Tb(1,"b"),f.Oc(2,"Intervento Leguminose - Superficie Totale Richiesta:"),f.Sb(),f.Oc(3),f.Sb()),2&t){const t=f.fc().$implicit;f.Bb(3),f.Qc(" ",t.m11," ")}}function rt(t,i){if(1&t&&(f.Tb(0,"div",1),f.Tb(1,"b"),f.Oc(2,"Intervento Pomodoro - Superficie Totale Richiesta:"),f.Sb(),f.Oc(3),f.Sb()),2&t){const t=f.fc().$implicit;f.Bb(3),f.Qc(" ",t.m14," ")}}function st(t,i){if(1&t&&(f.Tb(0,"div",1),f.Tb(1,"b"),f.Oc(2,"Intervento Olivi Standard - Superficie Totale Richiesta:"),f.Sb(),f.Oc(3),f.Sb()),2&t){const t=f.fc().$implicit;f.Bb(3),f.Qc(" ",t.m15," ")}}function lt(t,i){if(1&t&&(f.Tb(0,"div",1),f.Tb(1,"b"),f.Oc(2,"Intervento Olivi 7.5% - Superficie Totale Richiesta:"),f.Sb(),f.Oc(3),f.Sb()),2&t){const t=f.fc().$implicit;f.Bb(3),f.Qc(" ",t.m16," ")}}function dt(t,i){if(1&t&&(f.Tb(0,"div",1),f.Tb(1,"b"),f.Oc(2,"Intervento Olivi Qualit\xe0 - Superficie Totale Richiesta:"),f.Sb(),f.Oc(3),f.Sb()),2&t){const t=f.fc().$implicit;f.Bb(3),f.Qc(" ",t.m17," ")}}function bt(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Tb(2,"div",16),f.Tb(3,"div",17),f.Tb(4,"div",18),f.Mc(5,ot,4,1,"div",19),f.Mc(6,at,4,1,"div",19),f.Mc(7,nt,4,1,"div",19),f.Mc(8,ct,4,1,"div",19),f.Mc(9,rt,4,1,"div",19),f.Mc(10,st,4,1,"div",19),f.Mc(11,lt,4,1,"div",19),f.Mc(12,dt,4,1,"div",19),f.Sb(),f.Sb(),f.Sb(),f.Sb(),f.Sb()),2&t){const t=i.$implicit,e=i.columns;f.Bb(1),f.Cb("colspan",e.length+1),f.Bb(4),f.mc("ngIf",t.m8),f.Bb(1),f.mc("ngIf",t.m9),f.Bb(1),f.mc("ngIf",t.m10),f.Bb(1),f.mc("ngIf",t.m11),f.Bb(1),f.mc("ngIf",t.m14),f.Bb(1),f.mc("ngIf",t.m15),f.Bb(1),f.mc("ngIf",t.m16),f.Bb(1),f.mc("ngIf",t.m17)}}function ut(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2," Nessun controllo eseguito "),f.Sb(),f.Sb()),2&t){const t=i.$implicit;f.Bb(1),f.Cb("colspan",t.length+1)}}function pt(t,i){if(1&t&&(f.Tb(0,"th",25),f.Tb(1,"strong"),f.Oc(2),f.Sb(),f.Ob(3,"p-sortIcon",26),f.Sb()),2&t){const t=i.$implicit;f.mc("pSortableColumn",t.field)("pSortableColumnDisabled",null==t.field),f.Bb(2),f.Pc(t.header),f.Bb(1),f.mc("field",t.field)}}function gt(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,pt,4,4,"th",24),f.Sb()),2&t){const t=i.$implicit;f.Bb(1),f.mc("ngForOf",t)}}function mt(t,i){if(1&t&&(f.Tb(0,"tr",27),f.Tb(1,"td"),f.Oc(2),f.Sb(),f.Tb(3,"td"),f.Oc(4),f.Sb(),f.Tb(5,"td"),f.Oc(6),f.Sb(),f.Tb(7,"td"),f.Oc(8),f.Sb(),f.Tb(9,"td"),f.Oc(10),f.Sb(),f.Tb(11,"td"),f.Oc(12),f.Sb(),f.Tb(13,"td"),f.Oc(14),f.Sb(),f.Tb(15,"td"),f.Oc(16),f.Sb(),f.Tb(17,"td"),f.Oc(18),f.Sb(),f.Tb(19,"td"),f.Oc(20),f.Sb(),f.Sb()),2&t){const t=i.$implicit,e=f.fc(3);f.mc("pSelectableRow",e.particella),f.Bb(2),f.Pc(t.datiCatastali.idParticella),f.Bb(2),f.Pc(t.datiCatastali.comune),f.Bb(2),f.Pc(t.datiCatastali.codNazionale),f.Bb(2),f.Pc(t.datiCatastali.foglio),f.Bb(2),f.Pc(t.datiCatastali.particella),f.Bb(2),f.Pc(t.datiCatastali.sub),f.Bb(2),f.Pc(t.riferimentiCartografici.codIsola),f.Bb(2),f.Pc(t.datiColtivazione.codColtura3),f.Bb(2),f.Pc(t.datiColtivazione.descrizioneColtura),f.Bb(2),f.Pc(t.supRichiestaNetta)}}function ft(t,i){1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2," Nessuna particella trovata "),f.Sb(),f.Sb()),2&t&&(f.Bb(1),f.Cb("colspan",10))}function ht(t,i){if(1&t&&(f.Tb(0,"div"),f.Tb(1,"p-accordion"),f.Tb(2,"p-accordionTab",21),f.Tb(3,"div",22),f.Tb(4,"p-table",23,6),f.Mc(6,gt,2,1,"ng-template",7),f.Mc(7,mt,21,11,"ng-template",8),f.Mc(8,ft,3,1,"ng-template",10),f.Sb(),f.Sb(),f.Sb(),f.Sb(),f.Sb()),2&t){const t=f.fc().$implicit,i=f.fc();f.Bb(2),f.nc("header",i.setHeader(t)),f.mc("selected",!0),f.Bb(2),f.mc("columns",i.cols)("value",i.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[t].superficiImpegnate)("autoLayout",!0)("paginator",!0)("rows",i.elementiPagina)("responsive",!0)}}function St(t,i){if(1&t&&(f.Tb(0,"div"),f.Mc(1,ht,9,8,"div",20),f.Sb()),2&t){const t=i.$implicit,e=f.fc();f.Bb(1),f.mc("ngIf",e.dettaglioDomandaAccoppiati&&e.dettaglioDomandaAccoppiati.datiSuperficiImpegnate&&e.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[t])}}const Tt=function(){return{marginTop:"70px"}};let vt=(()=>{class t{constructor(t,i,e,o){this.messageService=t,this.route=i,this.istruttoriaService=e,this.istruttoriaDettaglioService=o,this.elementiPagina=10,this.dettaglioDomandaAccoppiati=new X.k}ngOnInit(){this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.setInterventi(),this.setCols(),this.setIdDomandaCorrente(),this.changePage()}setInterventi(){this.interventi=["m8","m9","m10","m11","m14","m15","m16","m17"]}setCols(){this.cols=[{field:"idParticella",header:"Id Particella"},{field:"comune",header:"Comune Catastale"},{field:"codNazionale",header:"Cod. Nazionale"},{field:"foglio",header:"Foglio"},{field:"particella",header:"Particella"},{field:"sub",header:"Sub"},{field:"codIsola",header:"Isola"},{field:"codiceColtura3",header:"Cod. Coltura"},{field:"descrizioneColtura",header:"Descr. Coltura"},{field:"supRichiestaNetta",header:"Sup Imp. Netta"}]}setIdDomandaCorrente(){this.idDomandaCorrente=this.istruttoriaDUCorrente.domanda.id}changePage(){this.istruttoriaDettaglioService.getSuperficiImpegnateAcs(this.idDomandaCorrente.toString()).subscribe(t=>{if(this.dettaglioDomandaAccoppiati.idDomanda=this.idDomandaCorrente.toString(),t){this.dettaglioDomandaAccoppiati.datiSuperficiImpegnate=new X.l,this.dettaglioDomandaAccoppiati.datiSuperficiImpegnate.supRichiesta=t.supRichiesta,this.dettaglioDomandaAccoppiati.datiSuperficiImpegnate.supRichiestaNetta=t.supRichiestaNetta,this.interventi.forEach(i=>{t[i]&&(this.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[i]=new X.e,this.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[i].supRichiesta=t[i].supRichiesta,this.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[i].supRichiestaNetta=t[i].supRichiestaNetta,this.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[i].superficiImpegnate=[],t[i].superficiImpegnate.forEach(t=>{this.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[i].superficiImpegnate.push({datiCatastali:t.datiCatastali,datiColtivazione:t.datiColtivazione,riferimentiCartografici:t.riferimentiCartografici,supRichiesta:t.supRichiesta,supRichiestaNetta:t.supRichiestaNetta})}))}),this.superficiImpegnateSintesi=new Array(1),this.superficiImpegnateSintesi[0]=new X.m,this.superficiImpegnateSintesi[0].supRichiestaTotale=this.dettaglioDomandaAccoppiati.datiSuperficiImpegnate.supRichiesta;const i=this.superficiImpegnateSintesi[0];this.interventi.forEach(t=>{this.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[t]&&this.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[t].supRichiesta&&(i[t]=this.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[t].supRichiesta)}),this.superficiImpegnateSintesi[0]=i}console.log(d.a.tabSuperficiImpegnate+":"),console.log(this.dettaglioDomandaAccoppiati)},t=>{"NO_CALCOLO_ACS"==t.error.message?console.log("Non ci sono passi lavorazione ACS validi per la domanda id: "+this.idDomandaCorrente):(this.messageService.add(P.a.getToast("tst",P.b.error,P.a.erroreRecuperoDati)),console.log(t))})}setHeader(t){return this.propertyName=d.a[t],this.propertyName}}return t.\u0275fac=function(i){return new(i||t)(f.Nb(U.d),f.Nb(s.a),f.Nb(y.a),f.Nb(R.a))},t.\u0275cmp=f.Hb({type:t,selectors:[["app-superfici-impegnate-acc"]],decls:16,vars:8,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[1,"table-responsive"],["dataKey","supRichiestaTotale",3,"columns","value","autoLayout","responsive"],["tab",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],[1,"accordion-wrapper","dettaglioaccordion"],[4,"ngFor","ngForOf"],[3,"pRowToggler"],[3,"ngClass"],[1,"text-right",2,"font-weight","bold"],[1,"ui-g","ui-fluid",2,"font-size","16px","padding","20px"],[1,"ui-g-12","ui-md-9"],[1,"ui-g"],["class","ui-g-12",4,"ngIf"],[4,"ngIf"],[3,"header","selected"],[1,"table-responsive",2,"margin-top","20px","display","block"],[3,"columns","value","autoLayout","paginator","rows","responsive"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"],[3,"pSelectableRow"]],template:function(t,i){1&t&&(f.Tb(0,"div",0),f.Tb(1,"div",1),f.Tb(2,"div",2),f.Ob(3,"p-toast",3),f.Tb(4,"h3"),f.Tb(5,"span"),f.Oc(6," Accoppiato Superficie "),f.Sb(),f.Sb(),f.Tb(7,"div",4),f.Tb(8,"p-table",5,6),f.Mc(10,it,0,0,"ng-template",7),f.Mc(11,et,11,3,"ng-template",8),f.Mc(12,bt,13,9,"ng-template",9),f.Mc(13,ut,3,1,"ng-template",10),f.Sb(),f.Sb(),f.Tb(14,"div",11),f.Mc(15,St,2,1,"div",12),f.Sb(),f.Sb(),f.Sb(),f.Sb()),2&t&&(f.Bb(3),f.Kc(f.rc(7,Tt)),f.Bb(5),f.mc("columns",i.cols)("value",i.superficiImpegnateSintesi)("autoLayout",!0)("responsive",!0),f.Bb(7),f.mc("ngForOf",i.interventi))},directives:[z.a,Y.q,U.e,o.s,Y.k,o.q,o.t,tt.a,tt.c,Y.p,Y.o,Y.m],styles:[""]}),t})();var Ct=e("B4vn");const Dt=function(t){return{width:t}};function It(t,i){1&t&&f.Ob(0,"th",11),2&t&&f.mc("ngStyle",f.sc(1,Dt,i.$implicit.width))}function Ot(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,It,1,3,"th",10),f.Sb()),2&t){const t=i.$implicit;f.Bb(1),f.mc("ngForOf",t)}}function At(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2),f.Sb(),f.Tb(3,"td",12),f.Oc(4),f.Sb(),f.Sb()),2&t){const t=i.$implicit;f.Bb(2),f.Pc(t.descrizione),f.Bb(2),f.Pc(t.valore)}}function Bt(t,i){if(1&t&&(f.Tb(0,"div",4),f.Tb(1,"p-accordion"),f.Tb(2,"p-accordionTab",5),f.gc(3,"fixDichiarazioni"),f.Tb(4,"div",6),f.Tb(5,"p-table",7),f.gc(6,"tipoFilter"),f.Mc(7,Ot,2,1,"ng-template",8),f.Mc(8,At,5,2,"ng-template",9),f.Sb(),f.Sb(),f.Sb(),f.Sb(),f.Sb()),2&t){const t=i.$implicit,e=f.fc();f.Bb(2),f.nc("header",f.hc(3,7,t)),f.mc("selected",!0),f.Bb(3),f.mc("columns",e.cols)("value",f.jc(6,9,e.dichiarazioni,"quadro",t))("autoLayout",!0)("paginator",!1)("responsive",!0)}}let Mt=(()=>{class t{constructor(t,i){this.route=t,this.istruttoriaDettaglioService=i}ngOnInit(){this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.caricaDichiarazioni()}caricaDichiarazioni(){this.istruttoriaDettaglioService.getDichiarazioniAcs(this.istruttoriaDUCorrente.domanda.id.toString()).subscribe(t=>{this.dichiarazioni=t,this.codiciTipo=this.dichiarazioni.map(t=>t.quadro).filter((t,i,e)=>e.indexOf(t)===i)})}}return t.\u0275fac=function(i){return new(i||t)(f.Nb(s.a),f.Nb(R.a))},t.\u0275cmp=f.Hb({type:t,selectors:[["app-dichiarazioni-acc"]],decls:4,vars:1,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["ngFor","",3,"ngForOf"],[1,"accordion-wrapper","dettaglioaccordion"],[3,"header","selected"],[1,"table-responsive","nobrd",2,"margin-top","30px"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","header"],["pTemplate","body"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"text-right",2,"font-weight","bold"]],template:function(t,i){1&t&&(f.Tb(0,"div",0),f.Tb(1,"div",1),f.Tb(2,"div",2),f.Mc(3,Bt,9,13,"ng-template",3),f.Sb(),f.Sb(),f.Sb()),2&t&&(f.Bb(3),f.mc("ngForOf",i.codiciTipo))},directives:[o.s,tt.a,tt.c,Y.q,U.e,o.w],pipes:[Ct.a,Ct.b],styles:[""]}),t})();var yt=e("EY2u"),Pt=e("1G5W"),Nt=e("JIr8");const Rt=function(t){return{width:t}};function Lt(t,i){1&t&&f.Ob(0,"th",11),2&t&&f.mc("ngStyle",f.sc(1,Rt,i.$implicit.width))}function Ut(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,Lt,1,3,"th",10),f.Sb()),2&t){const t=i.$implicit;f.Bb(1),f.mc("ngForOf",t)}}function wt(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2),f.Sb(),f.Sb()),2&t){const t=f.fc().$implicit;f.Bb(2),f.Pc(t.title)}}function zt(t,i){1&t&&f.Mc(0,wt,3,1,"tr",5),2&t&&f.mc("ngIf",null!=i.$implicit.title)}function Ft(t,i){if(1&t&&(f.Tb(0,"p-accordion"),f.Tb(1,"p-accordionTab",6),f.Tb(2,"p-table",7),f.Mc(3,Ut,2,1,"ng-template",8),f.Mc(4,zt,1,1,"ng-template",9),f.Sb(),f.Sb(),f.Sb()),2&t){const t=f.fc();f.Bb(1),f.mc("selected",!0),f.Bb(1),f.mc("columns",t.cols)("value",t.controlliSostegnoErrors)("autoLayout",!0)("paginator",!1)("responsive",!0)}}function $t(t,i){1&t&&f.Ob(0,"th",11),2&t&&f.mc("ngStyle",f.sc(1,Rt,i.$implicit.width))}function xt(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,$t,1,3,"th",10),f.Sb()),2&t){const t=i.$implicit;f.Bb(1),f.mc("ngForOf",t)}}function Et(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2),f.Sb(),f.Sb()),2&t){const t=f.fc().$implicit;f.Bb(2),f.Pc(t.title)}}function _t(t,i){1&t&&f.Mc(0,Et,3,1,"tr",5),2&t&&f.mc("ngIf",null!=i.$implicit.title)}function kt(t,i){if(1&t&&(f.Tb(0,"p-accordion"),f.Tb(1,"p-accordionTab",12),f.Tb(2,"p-table",7),f.Mc(3,xt,2,1,"ng-template",8),f.Mc(4,_t,1,1,"ng-template",9),f.Sb(),f.Sb(),f.Sb()),2&t){const t=f.fc();f.Bb(1),f.mc("selected",!0),f.Bb(1),f.mc("columns",t.cols)("value",t.controlliSostegnoWarnings)("autoLayout",!0)("paginator",!1)("responsive",!0)}}function Qt(t,i){1&t&&f.Ob(0,"th",11),2&t&&f.mc("ngStyle",f.sc(1,Rt,i.$implicit.width))}function Ht(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,Qt,1,3,"th",10),f.Sb()),2&t){const t=i.$implicit;f.Bb(1),f.mc("ngForOf",t)}}function qt(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2),f.Sb(),f.Sb()),2&t){const t=f.fc().$implicit;f.Bb(2),f.Pc(t.title||t.label)}}function Kt(t,i){1&t&&f.Mc(0,qt,3,1,"tr",5),2&t&&f.mc("ngIf",null!=i.$implicit.title)}function Zt(t,i){if(1&t&&(f.Tb(0,"p-accordion"),f.Tb(1,"p-accordionTab",13),f.Tb(2,"p-table",7),f.Mc(3,Ht,2,1,"ng-template",8),f.Mc(4,Kt,1,1,"ng-template",9),f.Sb(),f.Sb(),f.Sb()),2&t){const t=f.fc();f.Bb(1),f.mc("selected",!0),f.Bb(1),f.mc("columns",t.cols)("value",t.controlliSostegnoInfos)("autoLayout",!0)("paginator",!1)("responsive",!0)}}function Gt(t,i){1&t&&f.Ob(0,"th",11),2&t&&f.mc("ngStyle",f.sc(1,Rt,i.$implicit.width))}function Vt(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,Gt,1,3,"th",10),f.Sb()),2&t){const t=i.$implicit;f.Bb(1),f.mc("ngForOf",t)}}function jt(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2),f.Sb(),f.Sb()),2&t){const t=f.fc().$implicit;f.Bb(2),f.Pc(t.title)}}function Wt(t,i){1&t&&f.Mc(0,jt,3,1,"tr",5),2&t&&f.mc("ngIf",null!=i.$implicit.title)}function Jt(t,i){if(1&t&&(f.Tb(0,"p-accordion"),f.Tb(1,"p-accordionTab",14),f.Tb(2,"p-table",7),f.Mc(3,Vt,2,1,"ng-template",8),f.Mc(4,Wt,1,1,"ng-template",9),f.Sb(),f.Sb(),f.Sb()),2&t){const t=f.fc();f.Bb(1),f.mc("selected",!0),f.Bb(1),f.mc("columns",t.cols)("value",t.controlliSostegnoSuccesses)("autoLayout",!0)("paginator",!1)("responsive",!0)}}function Xt(t,i){1&t&&(f.Tb(0,"div"),f.Oc(1),f.gc(2,"translate"),f.Sb()),2&t&&(f.Bb(1),f.Qc(" ",f.hc(2,1,"CONTROLLI_SOSTEGNO.nessunControlloEseguito")," "))}const Yt=function(){return{marginTop:"70px"}};let ti=(()=>{class t{constructor(t,i,e){this.istruttoriaDettaglioService=t,this.messageService=i,this.route=e,this.controlliSostegnoErrors=[],this.controlliSostegnoWarnings=[],this.controlliSostegnoInfos=[],this.controlliSostegnoSuccesses=[],this.isControlliSostegnoPresent=!1,this.componentDestroyed$=new M.a}ngOnInit(){this.setCols(),this.setIdIstruttoriaCorrente(),this.getControlliSostegno(this.idIstruttoriaCorrente.toString())}setCols(){this.cols=[{field:"b",header:"",width:"100%"}]}setIdIstruttoriaCorrente(){this.route.params.subscribe(t=>{this.idIstruttoriaCorrente=t.idIstruttoria})}getControlliSostegno(t){this.istruttoriaDettaglioService.getEsitiControlloSostegno(t).pipe(Object(Pt.a)(this.componentDestroyed$),Object(Nt.a)(t=>(this.messageService.add(P.a.getToast("tst",P.b.error,P.a.erroreRecuperoDati)),Object(yt.b)()))).subscribe(t=>{this.isControlliSostegnoPresent=!0,t.errors.forEach(t=>this.controlliSostegnoErrors.push({label:t,title:d.a[t]})),t.infos.forEach(t=>this.controlliSostegnoInfos.push({label:t,title:d.a[t]})),t.successes.forEach(t=>this.controlliSostegnoSuccesses.push({label:t,title:d.a[t]})),t.warnings.forEach(t=>this.controlliSostegnoWarnings.push({label:t,title:d.a[t]}))})}checkValidDataTitle(t){return t.some(t=>!!t.title)}ngOnDestroy(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}}return t.\u0275fac=function(i){return new(i||t)(f.Nb(R.a),f.Nb(U.d),f.Nb(s.a))},t.\u0275cmp=f.Hb({type:t,selectors:[["app-ctrl-sostegno-acc"]],decls:10,vars:8,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],[4,"ngIf"],["header","ANOMALIE BLOCCANTI",3,"selected"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","header"],["pTemplate","body"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],["header","WARNING",3,"selected"],["header","INFORMAZIONI",3,"selected"],["header","SUCCESS",3,"selected"]],template:function(t,i){1&t&&(f.Tb(0,"div",0),f.Tb(1,"div",1),f.Tb(2,"div",2),f.Ob(3,"p-toast",3),f.Tb(4,"div",4),f.Mc(5,Ft,5,6,"p-accordion",5),f.Mc(6,kt,5,6,"p-accordion",5),f.Mc(7,Zt,5,6,"p-accordion",5),f.Mc(8,Jt,5,6,"p-accordion",5),f.Sb(),f.Mc(9,Xt,3,3,"div",5),f.Sb(),f.Sb(),f.Sb()),2&t&&(f.Bb(3),f.Kc(f.rc(7,Yt)),f.Bb(2),f.mc("ngIf",i.checkValidDataTitle(i.controlliSostegnoErrors)),f.Bb(1),f.mc("ngIf",i.checkValidDataTitle(i.controlliSostegnoWarnings)),f.Bb(1),f.mc("ngIf",i.checkValidDataTitle(i.controlliSostegnoInfos)),f.Bb(1),f.mc("ngIf",i.checkValidDataTitle(i.controlliSostegnoSuccesses)),f.Bb(1),f.mc("ngIf",!i.isControlliSostegnoPresent))},directives:[z.a,o.t,tt.a,tt.c,Y.q,U.e,o.s,o.w],pipes:[v.d],styles:[""]}),t})();var ii=e("LRne"),ei=e("eIep"),oi=e("GJmQ");const ai=function(t){return{width:t}};function ni(t,i){if(1&t&&(f.Tb(0,"th",14),f.Tb(1,"strong"),f.Oc(2),f.Sb(),f.Sb()),2&t){const t=i.$implicit;f.mc("ngStyle",f.sc(2,ai,t.width)),f.Bb(2),f.Pc(t.header)}}function ci(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,ni,3,4,"th",13),f.Sb()),2&t){const t=i.$implicit;f.Bb(1),f.mc("ngForOf",t)}}function ri(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2),f.Sb(),f.Tb(3,"td"),f.Oc(4),f.Sb(),f.Sb()),2&t){const t=i.$implicit,e=f.fc(2);f.Bb(2),f.Qc(" ",e.setHeader(t.codice)," "),f.Bb(2),f.Qc(" ",t.valore," ")}}function si(t,i){1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2," Nessun controllo eseguito "),f.Sb(),f.Sb()),2&t&&(f.Bb(1),f.Cb("colspan",10))}function li(t,i){if(1&t&&(f.Tb(0,"th",14),f.Tb(1,"strong"),f.Oc(2),f.Sb(),f.Sb()),2&t){const t=i.$implicit;f.mc("ngStyle",f.sc(2,ai,t.width)),f.Bb(2),f.Pc(t.header)}}function di(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,li,3,4,"th",13),f.Sb()),2&t){const t=i.$implicit;f.Bb(1),f.mc("ngForOf",t)}}function bi(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2),f.Sb(),f.Tb(3,"td"),f.Oc(4),f.Sb(),f.Sb()),2&t){const t=f.fc().$implicit,i=f.fc(4);f.Bb(2),f.Qc(" ",i.setHeader(t.codice)," "),f.Bb(2),f.Qc(" ",t.valore," ")}}function ui(t,i){1&t&&f.Mc(0,bi,5,2,"tr",4),2&t&&f.mc("ngIf",i.$implicit.valore)}function pi(t,i){1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2," Nessun controllo eseguito "),f.Sb(),f.Sb()),2&t&&(f.Bb(1),f.Cb("colspan",10))}function gi(t,i){if(1&t&&(f.Tb(0,"th",14),f.Tb(1,"strong"),f.Oc(2),f.Sb(),f.Sb()),2&t){const t=i.$implicit;f.mc("ngStyle",f.sc(2,ai,t.width)),f.Bb(2),f.Pc(t.header)}}function mi(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,gi,3,4,"th",13),f.Sb()),2&t){const t=i.$implicit;f.Bb(1),f.mc("ngForOf",t)}}function fi(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2),f.Sb(),f.Tb(3,"td"),f.Oc(4),f.Sb(),f.Sb()),2&t){const t=f.fc().$implicit,i=f.fc(4);f.Bb(2),f.Qc(" ",i.setHeader(t.codice)," "),f.Bb(2),f.Qc(" ",t.valore," ")}}function hi(t,i){1&t&&f.Mc(0,fi,5,2,"tr",4),2&t&&f.mc("ngIf",i.$implicit.valore)}function Si(t,i){1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2," Nessun controllo eseguito "),f.Sb(),f.Sb()),2&t&&(f.Bb(1),f.Cb("colspan",10))}function Ti(t,i){if(1&t&&(f.Tb(0,"div"),f.Tb(1,"p-accordion"),f.Tb(2,"p-accordionTab",15),f.Tb(3,"p-table",16,7),f.Mc(5,di,2,1,"ng-template",8),f.Mc(6,ui,1,1,"ng-template",9),f.Mc(7,pi,3,1,"ng-template",10),f.Sb(),f.Tb(8,"p-table",16,7),f.Mc(10,mi,2,1,"ng-template",8),f.Mc(11,hi,1,1,"ng-template",9),f.Mc(12,Si,3,1,"ng-template",10),f.Sb(),f.Sb(),f.Sb(),f.Sb()),2&t){const t=f.fc().$implicit,i=f.fc(2);f.Bb(2),f.nc("header",i.setHeader(t)),f.mc("selected",!1),f.Bb(1),f.mc("columns",i.colsInput)("value",i.dettaglioDomandaAccoppiati[i.datiDomanda].dettaglioCalcolo[t].input)("responsive",!0),f.Bb(5),f.mc("columns",i.colsOutput)("value",i.dettaglioDomandaAccoppiati[i.datiDomanda].dettaglioCalcolo[t].output)("responsive",!0)}}function vi(t,i){if(1&t&&(f.Tb(0,"div"),f.Mc(1,Ti,13,8,"div",4),f.Sb()),2&t){const t=i.$implicit,e=f.fc(2);f.Bb(1),f.mc("ngIf",e.dettaglioDomandaAccoppiati[e.datiDomanda].dettaglioCalcolo[t]&&e.dettaglioDomandaAccoppiati[e.datiDomanda].dettaglioCalcolo[t].input&&e.dettaglioDomandaAccoppiati[e.datiDomanda].dettaglioCalcolo[t].input.length>0)}}function Ci(t,i){if(1&t&&(f.Tb(0,"th",14),f.Tb(1,"strong"),f.Oc(2),f.Sb(),f.Sb()),2&t){const t=i.$implicit;f.mc("ngStyle",f.sc(2,ai,t.width)),f.Bb(2),f.Pc(t.header)}}function Di(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,Ci,3,4,"th",13),f.Sb()),2&t){const t=i.$implicit;f.Bb(1),f.mc("ngForOf",t)}}function Ii(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2),f.Sb(),f.Tb(3,"td"),f.Oc(4),f.Sb(),f.Sb()),2&t){const t=f.fc().$implicit,i=f.fc(3);f.Bb(2),f.Qc(" ",i.setHeader(t.codice)," "),f.Bb(2),f.Qc(" ",t.valore," ")}}function Oi(t,i){1&t&&f.Mc(0,Ii,5,2,"tr",4),2&t&&f.mc("ngIf",i.$implicit.valore)}function Ai(t,i){1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2," Nessun controllo eseguito "),f.Sb(),f.Sb()),2&t&&(f.Bb(1),f.Cb("colspan",10))}function Bi(t,i){if(1&t&&(f.Tb(0,"th",14),f.Tb(1,"strong"),f.Oc(2),f.Sb(),f.Sb()),2&t){const t=i.$implicit;f.mc("ngStyle",f.sc(2,ai,t.width)),f.Bb(2),f.Pc(t.header)}}function Mi(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,Bi,3,4,"th",13),f.Sb()),2&t){const t=i.$implicit;f.Bb(1),f.mc("ngForOf",t)}}function yi(t,i){if(1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2),f.Sb(),f.Tb(3,"td"),f.Oc(4),f.Sb(),f.Sb()),2&t){const t=f.fc().$implicit,i=f.fc(3);f.Bb(2),f.Qc(" ",i.setHeader(t.codice)," "),f.Bb(2),f.Qc(" ",t.valore," ")}}function Pi(t,i){1&t&&f.Mc(0,yi,5,2,"tr",4),2&t&&f.mc("ngIf",i.$implicit.valore)}function Ni(t,i){1&t&&(f.Tb(0,"tr"),f.Tb(1,"td"),f.Oc(2," Nessun controllo eseguito "),f.Sb(),f.Sb()),2&t&&(f.Bb(1),f.Cb("colspan",10))}function Ri(t,i){if(1&t&&(f.Tb(0,"div"),f.Tb(1,"h3"),f.Tb(2,"span"),f.Oc(3," Disciplina Finanziaria "),f.Sb(),f.Sb(),f.Tb(4,"div",11),f.Tb(5,"p-table",16,7),f.Mc(7,Di,2,1,"ng-template",8),f.Mc(8,Oi,1,1,"ng-template",9),f.Mc(9,Ai,3,1,"ng-template",10),f.Sb(),f.Tb(10,"p-table",16,7),f.Mc(12,Mi,2,1,"ng-template",8),f.Mc(13,Pi,1,1,"ng-template",9),f.Mc(14,Ni,3,1,"ng-template",10),f.Sb(),f.Sb(),f.Sb()),2&t){const t=f.fc(2);f.Bb(5),f.mc("columns",t.colsInput)("value",t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input)("responsive",!0),f.Bb(5),f.mc("columns",t.colsOutput)("value",t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.output)("responsive",!0)}}function Li(t,i){if(1&t&&(f.Tb(0,"div"),f.Tb(1,"h3"),f.Tb(2,"span"),f.Oc(3," Sintesi Calcolo "),f.Sb(),f.Sb(),f.Tb(4,"div",5),f.Tb(5,"p-table",6,7),f.Mc(7,ci,2,1,"ng-template",8),f.Mc(8,ri,5,2,"ng-template",9),f.Mc(9,si,3,1,"ng-template",10),f.Sb(),f.Sb(),f.Ob(10,"br"),f.Ob(11,"br"),f.Tb(12,"h3"),f.Tb(13,"span"),f.Oc(14," Dettaglio Calcolo "),f.Sb(),f.Sb(),f.Tb(15,"div",11),f.Mc(16,vi,2,1,"div",12),f.Sb(),f.Ob(17,"br"),f.Ob(18,"br"),f.Mc(19,Ri,15,6,"div",4),f.Sb()),2&t){const t=f.fc();f.Bb(5),f.mc("columns",t.cols)("value",t.dettaglioDomandaAccoppiati[t.datiDomanda].sintesiCalcolo)("autoLayout",!0)("responsive",!0),f.Bb(11),f.mc("ngForOf",t.interventi),f.Bb(3),f.mc("ngIf",t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria&&t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input&&t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input.length>0)}}function Ui(t,i){1&t&&(f.Tb(0,"div"),f.Oc(1," Nessun controllo eseguito "),f.Sb())}const wi=function(){return{marginTop:"70px"}};let zi=(()=>{class t{constructor(t,i,e,o,a){this.route=t,this.istruttoriaService=i,this.messageService=e,this.istruttoriaDettaglioService=o,this.router=a,this.dettaglioDomandaAccoppiati=new X.k,this.vedereAncheSeUgualiAZero=["DFFRAPPDIS_INPUT","DFFRAPPACZ_INPUT","DFFRAPPACS_INPUT","DFIMPLIQACSLORDO_OUTPUT"],this.componentDestroyed=!0}ngOnInit(){this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.setSostegno(),this.setCols(),this.getDatiIstruttoria()}setSostegno(){this.selectedSostegno=p.a.SUPERFICIE,this.tipoSostegno=d.a.acs,this.datiDomanda="datiDomandaACS",this.dettaglioDomandaAccoppiati[this.datiDomanda]=new X.a,this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo=new X.f,this.interventi=["m8","m9","m10","m11","m14","m15","m16","m17"],this.interventiRichiesti=[]}setCols(){this.cols=[{field:"codice",header:"Descrizione Controllo",width:"70%"},{field:"valore",header:"Valore",width:"30%"}],this.colsInput=[{field:"codice",header:"DATI IN INGRESSO",width:"70%"},{field:"valore",header:"",width:"30%"}],this.colsOutput=[{field:"codice",header:"DATI IN USCITA",width:"70%"},{field:"valore",header:"",width:"30%"}]}getDatiIstruttoria(){this.istruttoriaDettaglioService.getEsitiCalcoloIstruttoriaAcs(this.istruttoriaDUCorrente.id.toString()).pipe(Object(ei.a)(t=>{if(t){console.log(t),this.dettaglioDomandaAccoppiati.idDomanda=this.istruttoriaDUCorrente.id.toString(),this.dettaglioDomandaAccoppiati[this.datiDomanda].sintesiCalcolo=[];for(const i in t.sintesiCalcolo)t.sintesiCalcolo.hasOwnProperty(i)&&this.dettaglioDomandaAccoppiati[this.datiDomanda].sintesiCalcolo.push({codice:i,valore:t.sintesiCalcolo[i]});this.interventi.forEach(i=>{this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo[i]=[],this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo[i].input=[],this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo[i].output=[];for(const e in t.dettaglioCalcolo[i])e.search("_INPUT")>-1?this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo[i].input.push({codice:e,valore:t.dettaglioCalcolo[i][e]}):e.search("_OUTPUT")>-1&&this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo[i].output.push({codice:e,valore:t.dettaglioCalcolo[i][e]});(this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo[i].input.length>0||this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo[i].output.length>0)&&this.interventiRichiesti.push("_"+i.toUpperCase())}),console.log(this.dettaglioDomandaAccoppiati[this.datiDomanda])}return this.istruttoriaDettaglioService.getDisciplinaIstruttoriaAcs(this.istruttoriaDUCorrente.id.toString())}),Object(Nt.a)(t=>("NO_CALCOLO_ACS"===t.error.message?console.log("Non ci sono passi lavorazione ACS validi per l'istruttoria con id: "+this.istruttoriaDUCorrente.id):"NO_CALCOLO_ACZ"===t.error.message?console.log("Non ci sono passi lavorazione ACZ validi per l'istruttoria con id: "+this.istruttoriaDUCorrente.id):(this.messageService.add(P.a.getToast("tst",P.b.error,P.a.erroreRecuperoDati)),console.log(t)),Object(ii.a)(null))),Object(oi.a)(()=>this.componentDestroyed)).subscribe(t=>{if(t){this.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria=new X.c,this.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input=[],this.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.output=[];for(const i in t)i.search("_INPUT")>-1?this.vedereAncheSeUgualiAZero.includes(i)||this.isInterventoRichiesto(i)?this.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input.push({codice:i,valore:t[i]||"0 euro"}):"0 euro"!==t[i]&&this.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input.push({codice:i,valore:t[i]}):i.search("_OUTPUT")>-1&&(this.vedereAncheSeUgualiAZero.includes(i)||this.isInterventoRichiesto(i)?this.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.output.push({codice:i,valore:t[i]||"0 euro"}):"0 euro"!==t[i]&&this.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.output.push({codice:i,valore:t[i]}));console.log(this.dettaglioDomandaAccoppiati[this.datiDomanda])}},t=>{"NO_CALCOLO_ACS"===t.error.message?console.log("Non ci sono passi lavorazione ACS validi per l'istruttoria con id: "+this.istruttoriaDUCorrente.id):"NO_CALCOLO_ACZ"===t.error.message?console.log("Non ci sono passi lavorazione ACZ validi per l'istruttoria con id: "+this.istruttoriaDUCorrente.id):(this.messageService.add(P.a.getToast("tst",P.b.error,P.a.erroreRecuperoDati)),console.log(t))})}isInterventoRichiesto(t){return!!this.interventiRichiesti.find(i=>t.search(i)>-1)}setHeader(t){const i=t.indexOf("_INPUT"),e=t.indexOf("_OUTPUT");return i>-1?t=t.substring(0,i):e>-1&&(t=t.substring(0,e)),this.propertyName=d.a[t],this.propertyName}ngOnDestroy(){this.componentDestroyed=!1}}return t.\u0275fac=function(i){return new(i||t)(f.Nb(s.a),f.Nb(y.a),f.Nb(U.d),f.Nb(R.a),f.Nb(s.e))},t.\u0275cmp=f.Hb({type:t,selectors:[["app-dati-domanda-acc"]],decls:6,vars:5,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[4,"ngIf"],[1,"table-responsive"],[3,"columns","value","autoLayout","responsive"],["tab",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],[4,"ngFor","ngForOf"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[3,"header","selected"],[3,"columns","value","responsive"]],template:function(t,i){1&t&&(f.Tb(0,"div",0),f.Tb(1,"div",1),f.Tb(2,"div",2),f.Ob(3,"p-toast",3),f.Mc(4,Li,20,6,"div",4),f.Mc(5,Ui,2,0,"div",4),f.Sb(),f.Sb(),f.Sb()),2&t&&(f.Bb(3),f.Kc(f.rc(4,wi)),f.Bb(1),f.mc("ngIf",i.dettaglioDomandaAccoppiati.idDomanda),f.Bb(1),f.mc("ngIf",!i.dettaglioDomandaAccoppiati.idDomanda))},directives:[z.a,o.t,Y.q,U.e,o.s,o.w,tt.a,tt.c],styles:[""]}),t})();function Fi(t,i){if(1&t&&(f.Tb(0,"th",13),f.Tb(1,"strong"),f.Oc(2),f.Sb(),f.Ob(3,"p-sortIcon",14),f.Sb()),2&t){const t=i.$implicit;f.mc("pSortableColumn",t.field)("pSortableColumnDisabled",null==t.field),f.Bb(2),f.Pc(t.header),f.Bb(1),f.mc("field",t.field)}}function $i(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,Fi,4,4,"th",12),f.Sb()),2&t){const t=i.$implicit;f.Bb(1),f.mc("ngForOf",t)}}function xi(t,i){if(1&t&&(f.Tb(0,"td"),f.Oc(1),f.Sb()),2&t){const t=i.$implicit,e=f.fc().$implicit;f.Bb(1),f.Qc(" ",e[t.field]," ")}}function Ei(t,i){if(1&t&&(f.Tb(0,"tr"),f.Mc(1,xi,2,1,"td",5),f.Sb()),2&t){const t=i.columns;f.Bb(1),f.mc("ngForOf",t)}}function _i(t,i){if(1&t&&(f.Tb(0,"div"),f.Tb(1,"p-accordion"),f.Tb(2,"p-accordionTab",7),f.Tb(3,"p-table",8,9),f.Mc(5,$i,2,1,"ng-template",10),f.Mc(6,Ei,2,1,"ng-template",11),f.Sb(),f.Sb(),f.Sb(),f.Sb()),2&t){const t=f.fc().$implicit,i=f.fc();f.Bb(2),f.nc("header",i.setHeader(t)),f.mc("selected",!0),f.Bb(1),f.mc("columns",i.cols)("value",i.dettaglioDomandaAccoppiati.datiParticellaACS[t])("autoLayout",!0)("paginator",!0)("rows",i.elementiPagina)("responsive",!0)}}function ki(t,i){if(1&t&&(f.Tb(0,"div"),f.Mc(1,_i,7,8,"div",6),f.Sb()),2&t){const t=i.$implicit,e=f.fc();f.Bb(1),f.mc("ngIf",e.dettaglioDomandaAccoppiati.datiParticellaACS[t]&&e.dettaglioDomandaAccoppiati.datiParticellaACS[t].length>0)}}function Qi(t,i){1&t&&(f.Tb(0,"div"),f.Oc(1," Nessun controllo eseguito "),f.Sb())}const Hi=function(){return{marginTop:"70px"}};let qi=(()=>{class t{constructor(t,i,e){this.messageService=t,this.route=i,this.istruttoriaDettaglioService=e,this.elementiPagina=10,this.dettaglioDomandaAccoppiati=new X.k}ngOnInit(){this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.dettaglioDomandaAccoppiati.datiParticellaACS=new X.d,this.setInterventi(),this.setCols(),this.changePage()}setInterventi(){this.interventi=["m8","m9","m10","m11","m14","m15","m16","m17"]}setCols(){this.cols=[{field:"codComune",header:"Cod. Comune"},{field:"foglio",header:"Foglio"},{field:"particella",header:"Particella"},{field:"sub",header:"Sub"},{field:"codColtura",header:"Cod. Coltura"},{field:"descColtura",header:"Descrizione Coltura"},{field:"controlloRegioni",header:"Ctrl Regioni."},{field:"controlloColture",header:"Ctrl Colture."},{field:"controlloAnomCoord",header:"Anomalie Coor"},{field:"superficieAnomaliaCoor",header:"Sup An. Coord."},{field:"supImpegnata",header:"Sup Imp."},{field:"supRichiesta",header:"Sup Rich."},{field:"supControlliLoco",header:"Sup Controllo in loco"},{field:"supEleggibileGis",header:"Sup Eleggibile Gis"},{field:"supDeterminata",header:"Sup Determinata"}]}changePage(){this.istruttoriaDettaglioService.getEsitiParticelle(this.istruttoriaDUCorrente.id.toString()).subscribe(t=>{t&&(console.log(t),this.dettaglioDomandaAccoppiati.datiParticellaACS=t,this.interventi.forEach(t=>{this.dettaglioDomandaAccoppiati.datiParticellaACS[t].forEach(t=>{t.controlloRegioni=this.boolToString(1==t.controlloRegioni||0==t.controlloRegioni?t.controlloRegioni:null),t.controlloColture=this.boolToString(1==t.controlloColture||0==t.controlloColture?t.controlloColture:null),t.controlloAnomCoord=this.boolToString(1==t.controlloAnomCoord||0==t.controlloAnomCoord?t.controlloAnomCoord:null)})}),console.log(d.a.tabDatiParticella+":"),console.log(this.dettaglioDomandaAccoppiati))},t=>{"NO_CALCOLO_ACS"==t.error.message?console.log("Non ci sono passi lavorazione ACS validi per la domanda id: "+this.istruttoriaDUCorrente.id):(this.messageService.add(P.a.getToast("tst",P.b.error,P.a.erroreRecuperoDati)),console.log(t))})}setHeader(t){return this.propertyName=d.a[t],this.propertyName}boolToString(t){return null==t?"":!0===t?"SI":!1===t?"NO":void 0}}return t.\u0275fac=function(i){return new(i||t)(f.Nb(U.d),f.Nb(s.a),f.Nb(R.a))},t.\u0275cmp=f.Hb({type:t,selectors:[["app-dati-particella-acc"]],decls:7,vars:5,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[1,"accordion-wrapper","dettaglioaccordion"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"header","selected"],[3,"columns","value","autoLayout","paginator","rows","responsive"],["tab",""],["pTemplate","header"],["pTemplate","body"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"]],template:function(t,i){1&t&&(f.Tb(0,"div",0),f.Tb(1,"div",1),f.Tb(2,"div",2),f.Ob(3,"p-toast",3),f.Tb(4,"div",4),f.Mc(5,ki,2,1,"div",5),f.Sb(),f.Mc(6,Qi,2,0,"div",6),f.Sb(),f.Sb(),f.Sb()),2&t&&(f.Bb(3),f.Kc(f.rc(4,Hi)),f.Bb(2),f.mc("ngForOf",i.interventi),f.Bb(1),f.mc("ngIf",!i.dettaglioDomandaAccoppiati.idDomanda))},directives:[z.a,o.s,o.t,tt.a,tt.c,Y.q,U.e,Y.p,Y.o],styles:[""]}),t})();var Ki=e("XR+H");const Zi=[{path:"",component:l.a,data:{mybreadcrumb:""},resolve:{domandaIstruttoria:c.a},children:[{path:"",component:A,children:[{path:"",redirectTo:d.a.controlliSostegno,pathMatch:"full"},{path:d.a.superficiImpegnate,component:vt},{path:d.a.dichiarazioni,component:Mt},{path:d.a.datiIstruttoria,component:J},{path:d.a.controlliSostegno,component:ti},{path:d.a.esiticalcoli,component:zi},{path:d.a.esitiParticelle,component:qi},{path:d.a.datiLiquidazione,component:Ki.a}]}]}];let Gi=(()=>{class t{}return t.\u0275mod=f.Lb({type:t}),t.\u0275inj=f.Kb({factory:function(i){return new(i||t)},imports:[[s.i.forChild(Zi)]]}),t})(),Vi=(()=>{class t{}return t.\u0275mod=f.Lb({type:t}),t.\u0275inj=f.Kb({factory:function(i){return new(i||t)},providers:[c.a],imports:[[o.c,Gi,r.a,a.a,n.SostegnoSharedModule]]}),t})()}}]);