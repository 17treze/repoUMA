function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,i){for(var e=0;e<i.length;e++){var o=i[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,i,e){return i&&_defineProperties(t.prototype,i),e&&_defineProperties(t,e),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"haK/":function(t,i,e){"use strict";e.r(i),e.d(i,"SostegnoDettaglioZootecniaModule",(function(){return pe}));var o=e("ofXK"),a=e("bcH1"),n=e("tyNb"),c=e("3iu/"),r=e("5gIc"),s=e("TW8+"),l=e("RIRQ"),b=e("iU1L"),d=e("8k9x"),u=e("FucP"),p=e("fXoL"),g=e("b7oP"),S=e("A1Yd"),m=e("sfyY"),f=e("sYmb");function h(t,i){if(1&t){var e=p.Ub();p.Tb(0,"button",13),p.bc("click",(function(){return p.Ec(e),p.fc().avviaProcessoCalcoloPremio()})),p.Oc(1),p.gc(2,"translate"),p.Sb()}2&t&&(p.Bb(1),p.Qc(" ",p.hc(2,1,"AVVIA_CALCOLO_PREMIO")," "))}function v(t,i){if(1&t){var e=p.Ub();p.Tb(0,"button",13),p.bc("click",(function(){return p.Ec(e),p.fc().avviaProcessoControlloLiquidabilita()})),p.Oc(1),p.gc(2,"translate"),p.Sb()}2&t&&(p.Bb(1),p.Qc(" ",p.hc(2,1,"DOMANDA_UNICA_RISULTATI.avviaControlliLiquidabilita")," "))}function T(t,i){if(1&t){var e=p.Ub();p.Tb(0,"button",13),p.bc("click",(function(){return p.Ec(e),p.fc().avviaProcessoCalcoloCapi()})),p.Oc(1),p.gc(2,"translate"),p.Sb()}2&t&&(p.Bb(1),p.Qc(" ",p.hc(2,1,"DOMANDA_UNICA_RISULTATI.avviaCalcoloCapi")," "))}function O(t,i){if(1&t){var e=p.Ub();p.Tb(0,"button",14),p.bc("click",(function(){return p.Ec(e),p.fc().avviaProcessoNonAmmissibilita()})),p.Oc(1),p.gc(2,"translate"),p.Sb()}2&t&&(p.Bb(1),p.Qc(" ",p.hc(2,1,"DOMANDA_UNICA_RISULTATI.nonAmmissibile")," "))}function B(t,i){if(1&t&&p.Ob(0,"app-processi-di-controllo",15),2&t){var e=p.fc();p.mc("processiDaControllare",e.processiDaControllare)}}var C,D=((C=function(){function t(i,e,o){_classCallCheck(this,t),this.sostegnoService=i,this.route=e,this.loader=o}return _createClass(t,[{key:"ngOnInit",value:function(){this.setMenu(),this.loader.setTimeout(48e4),this.processiDaControllare=this.sostegnoService.caricaProcessiDaControllare(this.istruttoriaDUCorrente)}},{key:"ngOnDestroy",value:function(){this.loader.resetTimeout()}},{key:"setMenu",value:function(){this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.menu2=new Array({routerLink:s.a.dichiarazioni,label:"Dichiarazioni"},{routerLink:s.a.capiAmmessi,label:"Capi Ammessi"},{routerLink:s.a.capiRichiesti,label:"Capi Richiesti"},{routerLink:s.a.controlliSostegno,label:"Controlli di sostegno"},{routerLink:s.a.esiticalcoli,label:"Esiti Calcoli"},{routerLink:s.a.datiIstruttoria,label:"Inserimento dati Istruttoria"}),this.istruttoriaDUCorrente.stato==l.a.PAGAMENTO_AUTORIZZATO&&this.menu2.push({routerLink:s.a.datiLiquidazione,label:"Dati di Liquidazione"}),this.istruttoriaSostegno=b.a[this.istruttoriaDUCorrente.sostegno]}},{key:"isEnableCalcoloDisaccoppiato",value:function(){return this.istruttoriaDUCorrente.sostegno===b.a.ZOOTECNIA&&this.istruttoriaDUCorrente.stato===l.a.CONTROLLI_CALCOLO_OK}},{key:"isEnableProcessoAmmissibilita",value:function(){return this.istruttoriaDUCorrente.sostegno===b.a.ZOOTECNIA&&this.istruttoriaDUCorrente.stato===l.a.CONTROLLI_CALCOLO_KO}},{key:"isEnableControlliLiquidabilita",value:function(){return this.istruttoriaDUCorrente.sostegno===b.a.ZOOTECNIA&&this.istruttoriaDUCorrente.stato===l.a.CONTROLLI_CALCOLO_OK}},{key:"isEnableCalcoloPremio",value:function(){return this.istruttoriaDUCorrente.sostegno===b.a.ZOOTECNIA&&(this.istruttoriaDUCorrente.stato===l.a.CONTROLLI_CALCOLO_KO||this.istruttoriaDUCorrente.stato===l.a.CONTROLLI_CALCOLO_OK||this.istruttoriaDUCorrente.stato===l.a.INTEGRATO)}},{key:"isEnableCalcoloCapi",value:function(){return this.istruttoriaDUCorrente.sostegno===b.a.ZOOTECNIA&&this.istruttoriaDUCorrente.stato===l.a.INTEGRATO}},{key:"avviaProcessoCalcoloCapi",value:function(){this.sostegnoService.eseguiProcessoIstruttoria(this.istruttoriaDUCorrente.id,d.a.CALCOLO_CAPI_ISTRUTTORIE,this.processiDaControllare,this.istruttoriaDUCorrente.domanda.campagna,this.istruttoriaSostegno)}},{key:"avviaProcessoControlloLiquidabilita",value:function(){this.sostegnoService.eseguiProcessoIstruttoria(this.istruttoriaDUCorrente.id,d.a.CONTROLLO_LIQUIDABILITA_ISTRUTTORIA,this.processiDaControllare,this.istruttoriaDUCorrente.domanda.campagna,this.istruttoriaSostegno)}},{key:"avviaProcessoCalcoloPremio",value:function(){this.sostegnoService.eseguiProcessoIstruttoria(this.istruttoriaDUCorrente.id,d.a.CALCOLO_ACCOPPIATO_ZOOTECNIA_ISTRUTTORIA,this.processiDaControllare,this.istruttoriaDUCorrente.domanda.campagna,this.istruttoriaSostegno)}},{key:"avviaProcessoNonAmmissibilita",value:function(){this.sostegnoService.eseguiProcessoIstruttoria(this.istruttoriaDUCorrente.id,d.a.NON_AMMISSIBILITA,this.processiDaControllare,this.istruttoriaDUCorrente.domanda.campagna,this.istruttoriaSostegno)}}]),t}()).\u0275fac=function(t){return new(t||C)(p.Nb(u.a),p.Nb(n.a),p.Nb(r.a))},C.\u0275cmp=p.Hb({type:C,selectors:[["app-zootecnia"]],decls:17,vars:6,consts:[[1,"ui-g","ui-fluid"],[1,"ui-g-12",2,"padding-bottom","0px !important"],[1,"ui-grid-fixed"],[1,"funzioni-grid","tabsmall",2,"margin-bottom","0px !important","margin-top","40px !important"],[3,"model"],[2,"width","100%"],[1,"ui-g-9"],[1,"layout-actionmenu"],[1,"ui-g"],[1,"ui-g-12","searchbutton"],["pButton","","type","button","class","ui-button-success results_text_button",3,"click",4,"ngIf"],["pButton","","pButton","","type","button","class","ui-button-success results_text_button",3,"click",4,"ngIf"],[3,"processiDaControllare",4,"ngIf"],["pButton","","type","button",1,"ui-button-success","results_text_button",3,"click"],["pButton","","pButton","","type","button",1,"ui-button-success","results_text_button",3,"click"],[3,"processiDaControllare"]],template:function(t,i){1&t&&(p.Tb(0,"div",0),p.Tb(1,"div",1),p.Tb(2,"div",2),p.Tb(3,"div",3),p.Ob(4,"p-tabMenu",4),p.Sb(),p.Sb(),p.Sb(),p.Tb(5,"div",5),p.Ob(6,"router-outlet"),p.Sb(),p.Sb(),p.Tb(7,"div",6),p.Tb(8,"div",7),p.Tb(9,"div",8),p.Tb(10,"div",9),p.Mc(11,h,3,3,"button",10),p.Mc(12,v,3,3,"button",10),p.Mc(13,T,3,3,"button",10),p.Mc(14,O,3,3,"button",11),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Tb(15,"div",1),p.Mc(16,B,1,1,"app-processi-di-controllo",12),p.Sb()),2&t&&(p.Bb(4),p.mc("model",i.menu2),p.Bb(7),p.mc("ngIf",i.isEnableCalcoloPremio()),p.Bb(1),p.mc("ngIf",i.isEnableControlliLiquidabilita()),p.Bb(1),p.mc("ngIf",i.isEnableCalcoloCapi()),p.Bb(1),p.mc("ngIf",i.isEnableProcessoAmmissibilita()),p.Bb(2),p.mc("ngIf",i.processiDaControllare))},directives:[g.a,n.j,o.t,S.b,m.a],pipes:[f.d],styles:[""]}),C),I=e("sdz4"),y=e("XNiG"),A=e("Tn7N"),z=e("Es4X"),M=e("5Z9/"),P=e("RtSl"),L=e("8ioI"),N=e("3Pt+"),k=e("arS9"),E=e("R5y+"),U=e("c8LR"),R=e("GLSp");function w(t,i){if(1&t){var e=p.Ub();p.Tb(0,"div",7),p.Tb(1,"h3"),p.Tb(2,"span"),p.Oc(3," Dichiarazione riduzione annullamento sanzione "),p.Sb(),p.Sb(),p.Tb(4,"div",8),p.Tb(5,"p-checkbox",23),p.bc("ngModelChange",(function(t){return p.Ec(e),p.fc(2).datiIstruttoriaDaInserire.annulloRiduzione=t})),p.Sb(),p.Sb(),p.Ob(6,"br"),p.Sb()}if(2&t){var o=p.fc(2);p.Bb(5),p.mc("ngModel",o.datiIstruttoriaDaInserire.annulloRiduzione)}}function _(t,i){if(1&t&&(p.Tb(0,"p",25),p.Oc(1),p.Sb()),2&t){p.fc(2);var e=p.Bc(27);p.Bb(1),p.Qc(" ",e.errors.cuaaErratoCompleto," ")}}function F(t,i){if(1&t&&(p.Tb(0,"div"),p.Mc(1,_,2,1,"p",24),p.Sb()),2&t){p.fc();var e=p.Bc(27);p.Bb(1),p.mc("ngIf",null==e.errors?null:e.errors.cuaaErratoCompleto)}}function $(t,i){if(1&t){var e=p.Ub();p.Tb(0,"div",7),p.Tb(1,"h3"),p.Tb(2,"span"),p.Oc(3," Dichiarazione riduzione annullamento sanzione "),p.Sb(),p.Sb(),p.Tb(4,"div",8),p.Tb(5,"p-checkbox",26),p.bc("ngModelChange",(function(t){return p.Ec(e),p.fc(2).datiIstruttoriaDaInserire.annulloRiduzione=t})),p.Sb(),p.Sb(),p.Sb()}if(2&t){var o=p.fc(2);p.Bb(5),p.mc("ngModel",o.datiIstruttoriaDaInserire.annulloRiduzione)}}function x(t,i){if(1&t&&(p.Tb(0,"p",25),p.Oc(1),p.Sb()),2&t){p.fc(2);var e=p.Bc(27);p.Bb(1),p.Qc(" ",e.errors.cuaaErratoCompleto," ")}}function Q(t,i){if(1&t&&(p.Tb(0,"div"),p.Mc(1,x,2,1,"p",24),p.Sb()),2&t){p.fc();var e=p.Bc(27);p.Bb(1),p.mc("ngIf",null==e.errors?null:e.errors.cuaaErratoCompleto)}}var Z=function(){return{marginTop:"70px"}};function q(t,i){if(1&t){var e=p.Ub();p.Tb(0,"div"),p.Tb(1,"div",1),p.Tb(2,"div",2),p.Tb(3,"form",3,4),p.bc("ngSubmit",(function(){p.Ec(e);var t=p.Bc(4);return p.fc().onSubmit(t)})),p.Tb(5,"div",5),p.Ob(6,"p-toast",6),p.Tb(7,"div",7),p.Tb(8,"h3"),p.Tb(9,"span"),p.Oc(10," Dati Controlli in Loco e Certificazione Antimafia "),p.Sb(),p.Sb(),p.Tb(11,"div",8),p.Tb(12,"p-checkbox",9),p.bc("ngModelChange",(function(t){return p.Ec(e),p.fc().datiIstruttoriaDaInserire.controlloSigecoLoco=t})),p.Sb(),p.Ob(13,"br"),p.Tb(14,"p-checkbox",10),p.bc("ngModelChange",(function(t){return p.Ec(e),p.fc().datiIstruttoriaDaInserire.controlloAntimafia=t})),p.Sb(),p.Sb(),p.Ob(15,"br"),p.Sb(),p.Mc(16,w,7,1,"div",11),p.Tb(17,"div",7),p.Tb(18,"h3"),p.Tb(19,"span"),p.Oc(20," Gestione Subentro "),p.Sb(),p.Sb(),p.Tb(21,"div",12),p.Tb(22,"div",13),p.Tb(23,"label"),p.Oc(24,"CUAA Subentrante"),p.Sb(),p.Sb(),p.Tb(25,"div",14),p.Tb(26,"input",15,16),p.bc("ngModelChange",(function(t){return p.Ec(e),p.fc().datiIstruttoriaDaInserire.cuaaSubentrante=t})),p.Sb(),p.Mc(28,F,2,1,"div",0),p.Sb(),p.Sb(),p.Sb(),p.Tb(29,"div"),p.Tb(30,"div",17),p.Ob(31,"br"),p.Tb(32,"button",18),p.Oc(33,"SALVA"),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Tb(34,"div",19),p.Tb(35,"div",2),p.Tb(36,"div",5),p.Ob(37,"p-toast",6),p.Tb(38,"div",7),p.Tb(39,"h3"),p.Tb(40,"span"),p.Oc(41," Dati Controlli in Loco e Certificazione Antimafia "),p.Sb(),p.Sb(),p.Tb(42,"div",8),p.Tb(43,"p-checkbox",20),p.bc("ngModelChange",(function(t){return p.Ec(e),p.fc().datiIstruttoriaDaInserire.controlloSigecoLoco=t})),p.Sb(),p.Ob(44,"br"),p.Tb(45,"p-checkbox",21),p.bc("ngModelChange",(function(t){return p.Ec(e),p.fc().datiIstruttoriaDaInserire.controlloAntimafia=t})),p.Sb(),p.Sb(),p.Sb(),p.Mc(46,$,6,1,"div",11),p.Tb(47,"div",7),p.Tb(48,"h3"),p.Tb(49,"span"),p.Oc(50," Gestione Subentro "),p.Sb(),p.Sb(),p.Tb(51,"div",12),p.Tb(52,"div",13),p.Tb(53,"label"),p.Oc(54,"CUAA Subentrante"),p.Sb(),p.Sb(),p.Tb(55,"div",14),p.Tb(56,"input",22,16),p.bc("ngModelChange",(function(t){return p.Ec(e),p.fc().datiIstruttoriaDaInserire.cuaaSubentrante=t})),p.Sb(),p.Mc(58,Q,2,1,"div",0),p.Sb(),p.Sb(),p.Sb(),p.Ob(59,"div"),p.Sb(),p.Sb(),p.Sb(),p.Sb()}if(2&t){var o=p.Bc(4),a=p.Bc(27),n=p.fc();p.Bb(1),p.mc("a4gHasPermission","MODIFICABILE")("annoCampagna",n.istruttoriaDUCorrente.domanda.campagna)("tipoIstruttoria",n.istruttoriaDUCorrente.tipo)("statoSostegno",n.istruttoriaDUCorrente.stato),p.Bb(5),p.Kc(p.rc(23,Z)),p.Bb(6),p.mc("ngModel",n.datiIstruttoriaDaInserire.controlloSigecoLoco),p.Bb(2),p.mc("ngModel",n.datiIstruttoriaDaInserire.controlloAntimafia),p.Bb(2),p.mc("ngIf",n.showCheckboxAnnulloRitardoPresentazione),p.Bb(10),p.mc("ngModel",n.datiIstruttoriaDaInserire.cuaaSubentrante),p.Bb(2),p.mc("ngIf",a.errors),p.Bb(4),p.mc("disabled",!o.valid||n.submitted),p.Bb(2),p.mc("a4gHasPermission","NON_MODIFICABILE")("statoSostegno",n.istruttoriaDUCorrente.stato)("tipoIstruttoria",n.istruttoriaDUCorrente.tipo)("annoCampagna",n.istruttoriaDUCorrente.domanda.campagna),p.Bb(3),p.Kc(p.rc(24,Z)),p.Bb(6),p.mc("ngModel",n.datiIstruttoriaDaInserire.controlloSigecoLoco),p.Bb(2),p.mc("ngModel",n.datiIstruttoriaDaInserire.controlloAntimafia),p.Bb(1),p.mc("ngIf",n.showCheckboxAnnulloRitardoPresentazione),p.Bb(10),p.mc("ngModel",n.datiIstruttoriaDaInserire.cuaaSubentrante),p.Bb(2),p.mc("ngIf",a.errors)}}var K,H=((K=function(){function t(i,e,o,a){_classCallCheck(this,t),this.route=i,this.istruttoriaDettaglioService=e,this.messageService=o,this.confService=a,this.dati=null,this.statoSostegno$=new y.a,this.showCheckboxAnnulloRitardoPresentazione=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.setSostegno(),this.getDatiIstruttoria(),this.controllaRitardo()}},{key:"setSostegno",value:function(){this.selectedSostegno=b.a.ZOOTECNIA,this.tipoSostegno=s.a.acz,this.tipoDettaglio="datiIstruttoriaACZ",this.service="putDettaglioDatiIstruttoriaACZ"}},{key:"getDatiIstruttoria",value:function(){var t=this;this.istruttoriaDettaglioService.getDatiIstruttoriaDuAcz(this.istruttoriaDUCorrente.id.toString()).subscribe((function(i){t.datiIstruttoriaDaInserire=i||new z.a,t.statoSostegno$.next(t.istruttoriaDUCorrente.stato)}),(function(i){console.error(i),t.messageService.add(A.a.getToast("tst",A.b.error,A.a.erroreRecuperoDati))}))}},{key:"onSubmit",value:function(){var t=this;this.istruttoriaDettaglioService.saveOrUpdateDatiIstruttoriaDuAcz(this.istruttoriaDUCorrente.id.toString(),this.datiIstruttoriaDaInserire).subscribe((function(i){t.datiIstruttoriaDaInserire=i,console.log("Salvataggio dati Istruttoria avvenuto con successo"),t.messageService.add(A.a.getToast("tst",A.b.success,A.a.OPERAZIONE_OK))}),(function(i){console.error("Errore in salvataggio dati Istruttoria: "+i),console.error(i),A.a.handleError(t.messageService,i,A.a.ERRORE_SALVATAGGIO_DATI_ISTRUTTORIA)}))}},{key:"controllaRitardo",value:function(){var t=this;this.confService.getConfigurazioneIstruttorie(this.istruttoriaDUCorrente.domanda.campagna).subscribe((function(i){String(t.istruttoriaDUCorrente.domanda.codModuloDomanda).includes("BPS_ART_15")&&t.istruttoriaDUCorrente.domanda.dtPresentazione>i.dtScadenzaDomandeIniziali&&(t.showCheckboxAnnulloRitardoPresentazione=!0)}))}}]),t}()).\u0275fac=function(t){return new(t||K)(p.Nb(n.a),p.Nb(M.a),p.Nb(P.d),p.Nb(I.a))},K.\u0275cmp=p.Hb({type:K,selectors:[["app-dati-istruttoria"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"boxgrey",2,"padding-top","50px","display","inline-block",3,"a4gHasPermission","annoCampagna","tipoIstruttoria","statoSostegno"],[1,"ui-g-12"],[3,"ngSubmit"],["f","ngForm"],[1,"ui-grid-fixed"],["key","tst"],[2,"background","#fff","padding","30px","display","inline-block","width","100%","margin-bottom","30px"],[2,"font-size","15px"],["name","controlloSigecoLoco","binary","true","label","Si certifica che sono stati effettuati i controlli amministrativi in loco",3,"ngModel","ngModelChange"],["name","controlloAntimafia","binary","true","label","Si attesta che la certificazione antimafia \xe8 stata acquisita in maniera cartacea o che il pagamento viene effettuato su conduzione risolutiva legata all'esito degli accertamenti",3,"ngModel","ngModelChange"],["style","background: #fff; padding: 30px; display: inline-block; width: 100%; margin-bottom:30px;",4,"ngIf"],[1,"ui-g-12",2,"font-size","15px"],[1,"ui-g-2"],[1,"ui-g-4"],["name","cuaaSubentrante","type","text","appValidaCuaaCompleto","","pInputText","",3,"ngModel","ngModelChange"],["cuaaSubentrante","ngModel"],[1,"ui-g-12","ui-md-2","searchbutton"],["pButton","","type","submit",1,"ui-button-success",3,"disabled"],[1,"boxgrey",2,"padding-top","50px","display","inline-block",3,"a4gHasPermission","statoSostegno","tipoIstruttoria","annoCampagna"],["disabled","","binary","true","label","Si certifica che sono stati effettuati i controlli amministrativi in loco",3,"ngModel","ngModelChange"],["disabled","","binary","true","label","Si attesta che la certificazione antimafia \xe8 stata acquisita in maniera cartacea o che il pagamento viene effettuato su conduzione risolutiva legata all'esito degli accertamenti",3,"ngModel","ngModelChange"],["name","cuaaSubentrante","type","text","appValidaCuaaCompleto","","pInputText","","disabled","",3,"ngModel","ngModelChange"],["name","annulloRiduzione","binary","true","label","Si attesta che la domanda di modifica presentata in ritardo non introduce nuovi impegni e dunque non si applicano le riduzioni per ritardata presentazione",3,"ngModel","ngModelChange"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],[1,"ui-message","ui-messages-error","ui-corner-all"],["disabled","","binary","true","label","Si attesta che la domanda di modifica presentata in ritardo non introduce nuovi impegni e dunque non si applicano le riduzioni per ritardata presentazione",3,"ngModel","ngModelChange"]],template:function(t,i){1&t&&(p.Mc(0,q,60,25,"div",0),p.gc(1,"async")),2&t&&p.mc("ngIf",p.hc(1,1,i.statoSostegno$))},directives:[o.t,L.a,N.I,N.t,N.u,k.a,E.a,N.s,N.v,N.c,U.a,R.a,S.b],pipes:[o.b],styles:[""]}),K),V=e("yhG/"),G=e("yWug"),j=e("B4vn"),J=function(t){return{width:t}};function W(t,i){1&t&&p.Ob(0,"th",11),2&t&&p.mc("ngStyle",p.sc(1,J,i.$implicit.width))}function X(t,i){if(1&t&&(p.Tb(0,"tr"),p.Mc(1,W,1,3,"th",10),p.Sb()),2&t){var e=i.$implicit;p.Bb(1),p.mc("ngForOf",e)}}function Y(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2),p.Sb(),p.Tb(3,"td",12),p.Oc(4),p.Sb(),p.Sb()),2&t){var e=i.$implicit;p.Bb(2),p.Pc(e.descrizione),p.Bb(2),p.Pc(e.valore)}}function tt(t,i){if(1&t&&(p.Tb(0,"div",4),p.Tb(1,"p-accordion"),p.Tb(2,"p-accordionTab",5),p.gc(3,"fixDichiarazioni"),p.Tb(4,"div",6),p.Tb(5,"p-table",7),p.gc(6,"tipoFilter"),p.Mc(7,X,2,1,"ng-template",8),p.Mc(8,Y,5,2,"ng-template",9),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb()),2&t){var e=i.$implicit,o=p.fc();p.Bb(2),p.nc("header",p.hc(3,7,e)),p.mc("selected",!0),p.Bb(3),p.mc("columns",o.cols)("value",p.jc(6,9,o.dichiarazioni,"quadro",e))("autoLayout",!0)("paginator",!1)("responsive",!0)}}var it,et=((it=function(){function t(i,e){_classCallCheck(this,t),this.route=i,this.istruttoriaDettaglioService=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.caricaDichiarazioni()}},{key:"caricaDichiarazioni",value:function(){var t=this;this.istruttoriaDettaglioService.getDichiarazioniAcz(this.istruttoriaDUCorrente.domanda.id.toString()).subscribe((function(i){t.dichiarazioni=i,t.codiciTipo=t.dichiarazioni.map((function(t){return t.quadro})).filter((function(t,i,e){return e.indexOf(t)===i}))}))}}]),t}()).\u0275fac=function(t){return new(t||it)(p.Nb(n.a),p.Nb(M.a))},it.\u0275cmp=p.Hb({type:it,selectors:[["app-dichiarazioni-acc"]],decls:4,vars:1,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["ngFor","",3,"ngForOf"],[1,"accordion-wrapper","dettaglioaccordion"],[3,"header","selected"],[1,"table-responsive","nobrd",2,"margin-top","30px"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","header"],["pTemplate","body"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"text-right",2,"font-weight","bold"]],template:function(t,i){1&t&&(p.Tb(0,"div",0),p.Tb(1,"div",1),p.Tb(2,"div",2),p.Mc(3,tt,9,13,"ng-template",3),p.Sb(),p.Sb(),p.Sb()),2&t&&(p.Bb(3),p.mc("ngForOf",i.codiciTipo))},directives:[o.s,V.a,V.c,G.q,P.e,o.w],pipes:[j.a,j.b],styles:[""]}),it),ot=e("LRne"),at=e("eIep"),nt=e("JIr8"),ct=e("GJmQ"),rt=e("EOOO"),st=e("MvQ6"),lt=function(t){return{width:t}};function bt(t,i){if(1&t&&(p.Tb(0,"th",14),p.Tb(1,"strong"),p.Oc(2),p.Sb(),p.Sb()),2&t){var e=i.$implicit;p.mc("ngStyle",p.sc(2,lt,e.width)),p.Bb(2),p.Pc(e.header)}}function dt(t,i){if(1&t&&(p.Tb(0,"tr"),p.Mc(1,bt,3,4,"th",13),p.Sb()),2&t){var e=i.$implicit;p.Bb(1),p.mc("ngForOf",e)}}function ut(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2),p.Sb(),p.Tb(3,"td"),p.Oc(4),p.Sb(),p.Sb()),2&t){var e=i.$implicit,o=p.fc(2);p.Bb(2),p.Qc(" ",o.setHeader(e.codice)," "),p.Bb(2),p.Qc(" ",e.valore," ")}}function pt(t,i){1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2," Nessun controllo eseguito "),p.Sb(),p.Sb()),2&t&&(p.Bb(1),p.Cb("colspan",10))}function gt(t,i){if(1&t&&(p.Tb(0,"th",14),p.Tb(1,"strong"),p.Oc(2),p.Sb(),p.Sb()),2&t){var e=i.$implicit;p.mc("ngStyle",p.sc(2,lt,e.width)),p.Bb(2),p.Pc(e.header)}}function St(t,i){if(1&t&&(p.Tb(0,"tr"),p.Mc(1,gt,3,4,"th",13),p.Sb()),2&t){var e=i.$implicit;p.Bb(1),p.mc("ngForOf",e)}}function mt(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2),p.Sb(),p.Tb(3,"td"),p.Oc(4),p.Sb(),p.Sb()),2&t){var e=p.fc().$implicit,o=p.fc(4);p.Bb(2),p.Qc(" ",o.setHeader(e.codice)," "),p.Bb(2),p.Qc(" ",e.valore," ")}}function ft(t,i){1&t&&p.Mc(0,mt,5,2,"tr",4),2&t&&p.mc("ngIf",i.$implicit.valore)}function ht(t,i){1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2," Nessun controllo eseguito "),p.Sb(),p.Sb()),2&t&&(p.Bb(1),p.Cb("colspan",10))}function vt(t,i){if(1&t&&(p.Tb(0,"th",14),p.Tb(1,"strong"),p.Oc(2),p.Sb(),p.Sb()),2&t){var e=i.$implicit;p.mc("ngStyle",p.sc(2,lt,e.width)),p.Bb(2),p.Pc(e.header)}}function Tt(t,i){if(1&t&&(p.Tb(0,"tr"),p.Mc(1,vt,3,4,"th",13),p.Sb()),2&t){var e=i.$implicit;p.Bb(1),p.mc("ngForOf",e)}}function Ot(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2),p.Sb(),p.Tb(3,"td"),p.Oc(4),p.Sb(),p.Sb()),2&t){var e=p.fc().$implicit,o=p.fc(4);p.Bb(2),p.Qc(" ",o.setHeader(e.codice)," "),p.Bb(2),p.Qc(" ",e.valore," ")}}function Bt(t,i){1&t&&p.Mc(0,Ot,5,2,"tr",4),2&t&&p.mc("ngIf",i.$implicit.valore)}function Ct(t,i){1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2," Nessun controllo eseguito "),p.Sb(),p.Sb()),2&t&&(p.Bb(1),p.Cb("colspan",10))}function Dt(t,i){if(1&t&&(p.Tb(0,"div"),p.Tb(1,"p-accordion"),p.Tb(2,"p-accordionTab",15),p.Tb(3,"p-table",16,7),p.Mc(5,St,2,1,"ng-template",8),p.Mc(6,ft,1,1,"ng-template",9),p.Mc(7,ht,3,1,"ng-template",10),p.Sb(),p.Tb(8,"p-table",16,7),p.Mc(10,Tt,2,1,"ng-template",8),p.Mc(11,Bt,1,1,"ng-template",9),p.Mc(12,Ct,3,1,"ng-template",10),p.Sb(),p.Sb(),p.Sb(),p.Sb()),2&t){var e=p.fc().$implicit,o=p.fc(2);p.Bb(2),p.nc("header",o.setHeader(e)),p.mc("selected",!1),p.Bb(1),p.mc("columns",o.colsInput)("value",o.dettaglioDomandaAccoppiati[o.datiDomanda].dettaglioCalcolo[e].input)("responsive",!0),p.Bb(5),p.mc("columns",o.colsOutput)("value",o.dettaglioDomandaAccoppiati[o.datiDomanda].dettaglioCalcolo[e].output)("responsive",!0)}}function It(t,i){if(1&t&&(p.Tb(0,"div"),p.Mc(1,Dt,13,8,"div",4),p.Sb()),2&t){var e=i.$implicit,o=p.fc(2);p.Bb(1),p.mc("ngIf",o.dettaglioDomandaAccoppiati[o.datiDomanda].dettaglioCalcolo[e]&&o.dettaglioDomandaAccoppiati[o.datiDomanda].dettaglioCalcolo[e].input&&o.dettaglioDomandaAccoppiati[o.datiDomanda].dettaglioCalcolo[e].input.length>0)}}function yt(t,i){if(1&t&&(p.Tb(0,"th",14),p.Tb(1,"strong"),p.Oc(2),p.Sb(),p.Sb()),2&t){var e=i.$implicit;p.mc("ngStyle",p.sc(2,lt,e.width)),p.Bb(2),p.Pc(e.header)}}function At(t,i){if(1&t&&(p.Tb(0,"tr"),p.Mc(1,yt,3,4,"th",13),p.Sb()),2&t){var e=i.$implicit;p.Bb(1),p.mc("ngForOf",e)}}function zt(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2),p.Sb(),p.Tb(3,"td"),p.Oc(4),p.Sb(),p.Sb()),2&t){var e=p.fc().$implicit,o=p.fc(3);p.Bb(2),p.Qc(" ",o.setHeader(e.codice)," "),p.Bb(2),p.Qc(" ",e.valore," ")}}function Mt(t,i){1&t&&p.Mc(0,zt,5,2,"tr",4),2&t&&p.mc("ngIf",i.$implicit.valore)}function Pt(t,i){1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2," Nessun controllo eseguito "),p.Sb(),p.Sb()),2&t&&(p.Bb(1),p.Cb("colspan",10))}function Lt(t,i){if(1&t&&(p.Tb(0,"th",14),p.Tb(1,"strong"),p.Oc(2),p.Sb(),p.Sb()),2&t){var e=i.$implicit;p.mc("ngStyle",p.sc(2,lt,e.width)),p.Bb(2),p.Pc(e.header)}}function Nt(t,i){if(1&t&&(p.Tb(0,"tr"),p.Mc(1,Lt,3,4,"th",13),p.Sb()),2&t){var e=i.$implicit;p.Bb(1),p.mc("ngForOf",e)}}function kt(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2),p.Sb(),p.Tb(3,"td"),p.Oc(4),p.Sb(),p.Sb()),2&t){var e=p.fc().$implicit,o=p.fc(3);p.Bb(2),p.Qc(" ",o.setHeader(e.codice)," "),p.Bb(2),p.Qc(" ",e.valore," ")}}function Et(t,i){1&t&&p.Mc(0,kt,5,2,"tr",4),2&t&&p.mc("ngIf",i.$implicit.valore)}function Ut(t,i){1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2," Nessun controllo eseguito "),p.Sb(),p.Sb()),2&t&&(p.Bb(1),p.Cb("colspan",10))}function Rt(t,i){if(1&t&&(p.Tb(0,"div"),p.Tb(1,"h3"),p.Tb(2,"span"),p.Oc(3," Disciplina Finanziaria "),p.Sb(),p.Sb(),p.Tb(4,"div",11),p.Tb(5,"p-table",16,7),p.Mc(7,At,2,1,"ng-template",8),p.Mc(8,Mt,1,1,"ng-template",9),p.Mc(9,Pt,3,1,"ng-template",10),p.Sb(),p.Tb(10,"p-table",16,7),p.Mc(12,Nt,2,1,"ng-template",8),p.Mc(13,Et,1,1,"ng-template",9),p.Mc(14,Ut,3,1,"ng-template",10),p.Sb(),p.Sb(),p.Sb()),2&t){var e=p.fc(2);p.Bb(5),p.mc("columns",e.colsInput)("value",e.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input)("responsive",!0),p.Bb(5),p.mc("columns",e.colsOutput)("value",e.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.output)("responsive",!0)}}function wt(t,i){if(1&t&&(p.Tb(0,"div"),p.Tb(1,"h3"),p.Tb(2,"span"),p.Oc(3," Sintesi Calcolo "),p.Sb(),p.Sb(),p.Tb(4,"div",5),p.Tb(5,"p-table",6,7),p.Mc(7,dt,2,1,"ng-template",8),p.Mc(8,ut,5,2,"ng-template",9),p.Mc(9,pt,3,1,"ng-template",10),p.Sb(),p.Sb(),p.Ob(10,"br"),p.Ob(11,"br"),p.Tb(12,"h3"),p.Tb(13,"span"),p.Oc(14," Dettaglio Calcolo "),p.Sb(),p.Sb(),p.Tb(15,"div",11),p.Mc(16,It,2,1,"div",12),p.Sb(),p.Ob(17,"br"),p.Ob(18,"br"),p.Mc(19,Rt,15,6,"div",4),p.Sb()),2&t){var e=p.fc();p.Bb(5),p.mc("columns",e.cols)("value",e.dettaglioDomandaAccoppiati[e.datiDomanda].sintesiCalcolo)("autoLayout",!0)("responsive",!0),p.Bb(11),p.mc("ngForOf",e.interventi),p.Bb(3),p.mc("ngIf",e.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria&&e.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input&&e.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input.length>0)}}function _t(t,i){1&t&&(p.Tb(0,"div"),p.Oc(1," Nessun controllo eseguito "),p.Sb())}var Ft,$t=function(){return{marginTop:"70px"}},xt=((Ft=function(){function t(i,e,o,a,n){_classCallCheck(this,t),this.route=i,this.istruttoriaService=e,this.istruttoriaDettaglioService=o,this.messageService=a,this.router=n,this.dettaglioDomandaAccoppiati=new rt.k,this.vedereAncheSeUgualiAZero=["DFFRAPPDIS_INPUT","DFFRAPPACZ_INPUT","DFFRAPPACS_INPUT","DFIMPLIQACZLORDO_OUTPUT"],this.componentDestroyed=!0}return _createClass(t,[{key:"ngOnInit",value:function(){this.istruttoriaDUCorrente=this.route.snapshot.data.domandaIstruttoria,this.setSostegno(),this.setIdDomandaCorrente(),this.setCols(),this.getDatiIstruttoria(),console.log(this.dettaglioDomandaAccoppiati)}},{key:"setSostegno",value:function(){this.selectedSostegno=b.a.ZOOTECNIA,this.tipoSostegno=s.a.acz,this.datiDomanda="datiDomandaACZ",this.dettaglioDomandaAccoppiati[this.datiDomanda]=new rt.b,this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo=new rt.g,this.interventi=["int310","int311","int313","int315","int320","int321","int316","int318","int322"],this.interventiRichiesti=[]}},{key:"setIdDomandaCorrente",value:function(){var t=this;this.route.params.subscribe((function(i){t.idDomandaCorrente=i.idDomanda}))}},{key:"setCols",value:function(){this.cols=[{field:"codice",header:"Descrizione Controllo",width:"70%"},{field:"valore",header:"Valore",width:"30%"}],this.colsInput=[{field:"codice",header:"DATI IN INGRESSO",width:"70%"},{field:"valore",header:"",width:"30%"}],this.colsOutput=[{field:"codice",header:"DATI IN USCITA",width:"70%"},{field:"valore",header:"",width:"30%"}]}},{key:"getDatiIstruttoria",value:function(){var t=this;this.istruttoriaDettaglioService.getEsitiCalcoloIstruttoriaAcz(this.istruttoriaDUCorrente.id.toString()).pipe(Object(at.a)((function(i){if(i){for(var e in console.log(i),t.dettaglioDomandaAccoppiati.idDomanda=t.istruttoriaDUCorrente.id.toString(),t.dettaglioDomandaAccoppiati[t.datiDomanda].sintesiCalcolo=[],i.sintesiCalcolo)i.sintesiCalcolo.hasOwnProperty(e)&&t.dettaglioDomandaAccoppiati[t.datiDomanda].sintesiCalcolo.push({codice:e,valore:i.sintesiCalcolo[e]});t.interventi.forEach((function(e){for(var o in t.dettaglioDomandaAccoppiati[t.datiDomanda].dettaglioCalcolo[e]=[],t.dettaglioDomandaAccoppiati[t.datiDomanda].dettaglioCalcolo[e].input=[],t.dettaglioDomandaAccoppiati[t.datiDomanda].dettaglioCalcolo[e].output=[],i.dettaglioCalcolo[e])o.search("_INPUT")>-1?t.dettaglioDomandaAccoppiati[t.datiDomanda].dettaglioCalcolo[e].input.push({codice:o,valore:i.dettaglioCalcolo[e][o]}):o.search("_OUTPUT")>-1&&t.dettaglioDomandaAccoppiati[t.datiDomanda].dettaglioCalcolo[e].output.push({codice:o,valore:i.dettaglioCalcolo[e][o]});(t.dettaglioDomandaAccoppiati[t.datiDomanda].dettaglioCalcolo[e].input.length>0||t.dettaglioDomandaAccoppiati[t.datiDomanda].dettaglioCalcolo[e].output.length>0)&&t.interventiRichiesti.push(e.replace("int","_"))})),console.log(t.dettaglioDomandaAccoppiati[t.datiDomanda])}return t.istruttoriaDettaglioService.getDisciplinaIstruttoriaAcz(t.istruttoriaDUCorrente.id.toString())})),Object(nt.a)((function(i){return"NO_CALCOLO_ACZ"===i.error.message?console.log("Non ci sono passi lavorazione ACZ validi per l'istruttoria con id: "+t.istruttoriaDUCorrente.id):(t.messageService.add(A.a.getToast("tst",A.b.error,A.a.erroreRecuperoDati)),console.log(i)),Object(ot.a)(null)})),Object(ct.a)((function(){return t.componentDestroyed}))).subscribe((function(i){if(i){for(var e in t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria=new rt.c,t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input=[],t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.output=[],i)e.search("_INPUT")>-1?t.vedereAncheSeUgualiAZero.includes(e)||t.isInterventoRichiesto(e)?t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input.push({codice:e,valore:i[e]||"0 euro"}):"0 euro"!==i[e]&&t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input.push({codice:e,valore:i[e]}):e.search("_OUTPUT")>-1&&(t.vedereAncheSeUgualiAZero.includes(e)||t.isInterventoRichiesto(e)?t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.output.push({codice:e,valore:i[e]||"0 euro"}):"0 euro"!==i[e]&&t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.output.push({codice:e,valore:i[e]}));console.log(t.dettaglioDomandaAccoppiati[t.datiDomanda])}}),(function(i){"NO_CALCOLO_ACZ"===i.error.message?console.log("Non ci sono passi lavorazione ACZ validi per l'istruttoria con id: "+t.istruttoriaDUCorrente.id):(t.messageService.add(A.a.getToast("tst",A.b.error,A.a.erroreRecuperoDati)),console.log(i))}))}},{key:"isInterventoRichiesto",value:function(t){return!!this.interventiRichiesti.find((function(i){return t.search(i)>-1}))}},{key:"setHeader",value:function(t){var i=t.indexOf("_INPUT"),e=t.indexOf("_OUTPUT");return i>-1?t=t.substring(0,i):e>-1&&(t=t.substring(0,e)),this.propertyName=s.a[t],this.propertyName}},{key:"ngOnDestroy",value:function(){this.componentDestroyed=!1}}]),t}()).\u0275fac=function(t){return new(t||Ft)(p.Nb(n.a),p.Nb(st.a),p.Nb(M.a),p.Nb(P.d),p.Nb(n.e))},Ft.\u0275cmp=p.Hb({type:Ft,selectors:[["app-esiti-calcoli"]],decls:6,vars:5,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[4,"ngIf"],[1,"table-responsive"],[3,"columns","value","autoLayout","responsive"],["tab",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],[4,"ngFor","ngForOf"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[3,"header","selected"],[3,"columns","value","responsive"]],template:function(t,i){1&t&&(p.Tb(0,"div",0),p.Tb(1,"div",1),p.Tb(2,"div",2),p.Ob(3,"p-toast",3),p.Mc(4,wt,20,6,"div",4),p.Mc(5,_t,2,0,"div",4),p.Sb(),p.Sb(),p.Sb()),2&t&&(p.Bb(3),p.Kc(p.rc(4,$t)),p.Bb(1),p.mc("ngIf",i.dettaglioDomandaAccoppiati.idDomanda),p.Bb(1),p.mc("ngIf",!i.dettaglioDomandaAccoppiati.idDomanda))},directives:[k.a,o.t,G.q,P.e,o.s,o.w,V.a,V.c],styles:[""]}),Ft),Qt=function(t){return{width:t}};function Zt(t,i){1&t&&p.Ob(0,"th",11),2&t&&p.mc("ngStyle",p.sc(1,Qt,i.$implicit.width))}function qt(t,i){if(1&t&&(p.Tb(0,"tr"),p.Mc(1,Zt,1,3,"th",10),p.Sb()),2&t){var e=i.$implicit;p.Bb(1),p.mc("ngForOf",e)}}function Kt(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2),p.Sb(),p.Sb()),2&t){var e=p.fc().$implicit;p.Bb(2),p.Pc(e.title)}}function Ht(t,i){1&t&&p.Mc(0,Kt,3,1,"tr",5),2&t&&p.mc("ngIf",null!=i.$implicit.title)}function Vt(t,i){if(1&t&&(p.Tb(0,"p-accordion"),p.Tb(1,"p-accordionTab",6),p.Tb(2,"p-table",7),p.Mc(3,qt,2,1,"ng-template",8),p.Mc(4,Ht,1,1,"ng-template",9),p.Sb(),p.Sb(),p.Sb()),2&t){var e=p.fc();p.Bb(1),p.mc("selected",!0),p.Bb(1),p.mc("columns",e.cols)("value",e.controlliSostegnoErrors)("autoLayout",!0)("paginator",!1)("responsive",!0)}}function Gt(t,i){1&t&&p.Ob(0,"th",11),2&t&&p.mc("ngStyle",p.sc(1,Qt,i.$implicit.width))}function jt(t,i){if(1&t&&(p.Tb(0,"tr"),p.Mc(1,Gt,1,3,"th",10),p.Sb()),2&t){var e=i.$implicit;p.Bb(1),p.mc("ngForOf",e)}}function Jt(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2),p.Sb(),p.Sb()),2&t){var e=p.fc().$implicit;p.Bb(2),p.Pc(e.title)}}function Wt(t,i){1&t&&p.Mc(0,Jt,3,1,"tr",5),2&t&&p.mc("ngIf",null!=i.$implicit.title)}function Xt(t,i){if(1&t&&(p.Tb(0,"p-accordion"),p.Tb(1,"p-accordionTab",12),p.Tb(2,"p-table",7),p.Mc(3,jt,2,1,"ng-template",8),p.Mc(4,Wt,1,1,"ng-template",9),p.Sb(),p.Sb(),p.Sb()),2&t){var e=p.fc();p.Bb(1),p.mc("selected",!0),p.Bb(1),p.mc("columns",e.cols)("value",e.controlliSostegnoWarnings)("autoLayout",!0)("paginator",!1)("responsive",!0)}}function Yt(t,i){1&t&&p.Ob(0,"th",11),2&t&&p.mc("ngStyle",p.sc(1,Qt,i.$implicit.width))}function ti(t,i){if(1&t&&(p.Tb(0,"tr"),p.Mc(1,Yt,1,3,"th",10),p.Sb()),2&t){var e=i.$implicit;p.Bb(1),p.mc("ngForOf",e)}}function ii(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2),p.Sb(),p.Sb()),2&t){var e=p.fc().$implicit;p.Bb(2),p.Pc(e.title)}}function ei(t,i){1&t&&p.Mc(0,ii,3,1,"tr",5),2&t&&p.mc("ngIf",null!=i.$implicit.title)}function oi(t,i){if(1&t&&(p.Tb(0,"p-accordion"),p.Tb(1,"p-accordionTab",13),p.Tb(2,"p-table",7),p.Mc(3,ti,2,1,"ng-template",8),p.Mc(4,ei,1,1,"ng-template",9),p.Sb(),p.Sb(),p.Sb()),2&t){var e=p.fc();p.Bb(1),p.mc("selected",!0),p.Bb(1),p.mc("columns",e.cols)("value",e.controlliSostegnoInfos)("autoLayout",!0)("paginator",!1)("responsive",!0)}}function ai(t,i){1&t&&p.Ob(0,"th",11),2&t&&p.mc("ngStyle",p.sc(1,Qt,i.$implicit.width))}function ni(t,i){if(1&t&&(p.Tb(0,"tr"),p.Mc(1,ai,1,3,"th",10),p.Sb()),2&t){var e=i.$implicit;p.Bb(1),p.mc("ngForOf",e)}}function ci(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2),p.Sb(),p.Sb()),2&t){var e=p.fc().$implicit;p.Bb(2),p.Pc(e.title)}}function ri(t,i){1&t&&p.Mc(0,ci,3,1,"tr",5),2&t&&p.mc("ngIf",null!=i.$implicit.title)}function si(t,i){if(1&t&&(p.Tb(0,"p-accordion"),p.Tb(1,"p-accordionTab",14),p.Tb(2,"p-table",7),p.Mc(3,ni,2,1,"ng-template",8),p.Mc(4,ri,1,1,"ng-template",9),p.Sb(),p.Sb(),p.Sb()),2&t){var e=p.fc();p.Bb(1),p.mc("selected",!0),p.Bb(1),p.mc("columns",e.cols)("value",e.controlliSostegnoSuccesses)("autoLayout",!0)("paginator",!1)("responsive",!0)}}function li(t,i){1&t&&(p.Tb(0,"div"),p.Oc(1," Nessun controllo eseguito "),p.Sb())}var bi,di=function(){return{marginTop:"70px"}},ui=((bi=function(){function t(i,e,o,a,n){_classCallCheck(this,t),this.istruttoriaService=i,this.istruttoriaDettaglioService=e,this.messageService=o,this.route=a,this.router=n,this.dettaglioDomandaAccoppiati=new rt.k,this.controlliSostegnoErrors=[],this.controlliSostegnoWarnings=[],this.controlliSostegnoInfos=[],this.controlliSostegnoSuccesses=[]}return _createClass(t,[{key:"ngOnInit",value:function(){this.setSostegno(),this.setCols(),this.setIdDomandaCorrente(),this.getControlliSostegno(this.idDomandaCorrente.toString())}},{key:"setSostegno",value:function(){this.selectedSostegno=b.a.ZOOTECNIA,this.tipoSostegno=s.a.acz}},{key:"setCols",value:function(){this.cols=[{field:"b",header:"",width:"100%"}]}},{key:"setIdDomandaCorrente",value:function(){var t=this;this.route.params.subscribe((function(i){t.idDomandaCorrente=i.idIstruttoria}))}},{key:"getControlliSostegno",value:function(t){var i=this;this.istruttoriaDettaglioService.getControlliSostegno(t).subscribe((function(t){if(t){var e=new rt.h;i.dettaglioDomandaAccoppiati.controlliSostegno=e,i.dettaglioDomandaAccoppiati.controlliSostegno.errors=t.errors,i.dettaglioDomandaAccoppiati.controlliSostegno.infos=t.infos,i.dettaglioDomandaAccoppiati.controlliSostegno.warnings=t.warnings,i.dettaglioDomandaAccoppiati.controlliSostegno.successes=t.successes,console.log(s.a.tabControlliSostego+" "+i.selectedSostegno+":"),console.log(i.dettaglioDomandaAccoppiati),i.dettaglioDomandaAccoppiati.controlliSostegno&&(i.dettaglioDomandaAccoppiati.controlliSostegno.errors&&(i.dettaglioDomandaAccoppiati.controlliSostegno.errors.forEach((function(t){null!=s.a[t]&&i.controlliSostegnoErrors.push({label:t,title:s.a[t]}),console.log(i.controlliSostegnoErrors)})),i.controlliSostegnoErrors=i.distinctControlli(i.controlliSostegnoErrors)),i.dettaglioDomandaAccoppiati.controlliSostegno.warnings&&i.dettaglioDomandaAccoppiati.controlliSostegno.warnings.forEach((function(t){null!=s.a[t]&&i.controlliSostegnoWarnings.push({label:t,title:s.a[t]}),console.log(i.controlliSostegnoWarnings)})),i.dettaglioDomandaAccoppiati.controlliSostegno.infos&&(i.dettaglioDomandaAccoppiati.controlliSostegno.infos.forEach((function(t){null!=s.a[t]&&i.controlliSostegnoInfos.push({label:t,title:s.a[t]}),console.log(i.controlliSostegnoInfos)})),i.controlliSostegnoInfos=i.distinctControlli(i.controlliSostegnoInfos)),i.dettaglioDomandaAccoppiati.controlliSostegno.successes&&(i.dettaglioDomandaAccoppiati.controlliSostegno.successes.forEach((function(t){null!=s.a[t]&&i.controlliSostegnoSuccesses.push({label:t,title:s.a[t]}),console.log(i.controlliSostegnoSuccesses)})),i.controlliSostegnoSuccesses=i.distinctControlli(i.controlliSostegnoSuccesses)))}}),(function(t){"NO_CALCOLO_ACZ"==t.error.message?console.log("Non ci sono passi lavorazione ACZ validi per la domanda id: "+i.idDomandaCorrente):(i.messageService.add(A.a.getToast("tst",A.b.error,A.a.erroreRecuperoDati)),console.log(t))}))}},{key:"distinctControlli",value:function(t){for(var i=0;i<t.length;i++){var e=t[i];null!=t[i+1]&&e.title===t[i+1].title&&(t=t.splice(i,1))}return t}}]),t}()).\u0275fac=function(t){return new(t||bi)(p.Nb(st.a),p.Nb(M.a),p.Nb(P.d),p.Nb(n.a),p.Nb(n.e))},bi.\u0275cmp=p.Hb({type:bi,selectors:[["app-controlli-sostegno"]],decls:10,vars:8,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],[4,"ngIf"],["header","ANOMALIE BLOCCANTI",3,"selected"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","header"],["pTemplate","body"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],["header","WARNING",3,"selected"],["header","INFORMAZIONI",3,"selected"],["header","SUCCESS",3,"selected"]],template:function(t,i){1&t&&(p.Tb(0,"div",0),p.Tb(1,"div",1),p.Tb(2,"div",2),p.Ob(3,"p-toast",3),p.Tb(4,"div",4),p.Mc(5,Vt,5,6,"p-accordion",5),p.Mc(6,Xt,5,6,"p-accordion",5),p.Mc(7,oi,5,6,"p-accordion",5),p.Mc(8,si,5,6,"p-accordion",5),p.Sb(),p.Mc(9,li,2,0,"div",5),p.Sb(),p.Sb(),p.Sb()),2&t&&(p.Bb(3),p.Kc(p.rc(7,di)),p.Bb(2),p.mc("ngIf",i.controlliSostegnoErrors.length>0),p.Bb(1),p.mc("ngIf",i.controlliSostegnoWarnings.length>0),p.Bb(1),p.mc("ngIf",i.controlliSostegnoInfos.length>0),p.Bb(1),p.mc("ngIf",i.controlliSostegnoSuccesses.length>0),p.Bb(1),p.mc("ngIf",null==i.dettaglioDomandaAccoppiati.controlliSostegno))},directives:[k.a,o.t,V.a,V.c,G.q,P.e,o.s,o.w],styles:[""]}),bi),pi=e("69Tm"),gi=function t(){_classCallCheck(this,t)},Si=e("6b9K"),mi=e("D0mR"),fi=["table"];function hi(t,i){if(1&t&&(p.Tb(0,"td",12),p.Tb(1,"b"),p.Oc(2),p.Sb(),p.Sb()),2&t){var e=i.$implicit;p.Bb(2),p.Pc(e)}}function vi(t,i){1&t&&(p.Tb(0,"div",15),p.Oc(1," Analisi non presente "),p.Sb())}function Ti(t,i){if(1&t&&(p.Tb(0,"tbody"),p.Tb(1,"tr"),p.Tb(2,"th",16),p.Oc(3,"Cellule Somatiche"),p.Sb(),p.Tb(4,"td",17),p.Oc(5),p.gc(6,"number"),p.Sb(),p.Sb(),p.Tb(7,"tr"),p.Tb(8,"th",16),p.Oc(9,"Carica Batterica"),p.Sb(),p.Tb(10,"td",17),p.Oc(11),p.gc(12,"number"),p.Sb(),p.Sb(),p.Tb(13,"tr"),p.Tb(14,"th",16),p.Oc(15,"Contenuto Proteine"),p.Sb(),p.Tb(16,"td",17),p.Oc(17),p.gc(18,"number"),p.Sb(),p.Sb(),p.Sb()),2&t){var e=p.fc(2);p.Bb(5),p.Qc("",p.ic(6,3,e.produzioneLatte.tenoreCellule,"1.2-2")," litri"),p.Bb(6),p.Qc("",p.ic(12,6,e.produzioneLatte.tenoreBatteri,"1.2-2")," litri"),p.Bb(6),p.Qc("",p.ic(18,9,e.produzioneLatte.contenutoProteine,"1.2-2")," grammi")}}function Oi(t,i){1&t&&(p.Tb(0,"div",15),p.Oc(1," Alpeggio non presente "),p.Sb())}function Bi(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"th",10),p.Oc(2,"Dal: "),p.Sb(),p.Tb(3,"td",19),p.Oc(4),p.Sb(),p.Tb(5,"th",10),p.Oc(6,"Al: "),p.Sb(),p.Tb(7,"td",17),p.Oc(8),p.Sb(),p.Sb()),2&t){var e=i.$implicit;p.Bb(4),p.Pc(e.dtInizio),p.Bb(4),p.Pc(e.dtFine)}}function Ci(t,i){if(1&t&&(p.Tb(0,"tbody"),p.Mc(1,Bi,9,2,"tr",18),p.Sb()),2&t){var e=p.fc(2);p.Bb(1),p.mc("ngForOf",e.alpeggi)}}function Di(t,i){if(1&t&&(p.Tb(0,"p-accordion"),p.Tb(1,"p-accordionTab",7),p.Tb(2,"h5",8),p.Oc(3,"Produzione e Analisi Latte"),p.Sb(),p.Tb(4,"table",9),p.Tb(5,"tbody"),p.Tb(6,"tr"),p.Tb(7,"th",10),p.Oc(8,"MESI"),p.Sb(),p.Mc(9,hi,3,1,"td",11),p.Sb(),p.Tb(10,"tr"),p.Tb(11,"th",10),p.Oc(12,"PRODUZIONE"),p.Sb(),p.Tb(13,"td",12),p.Oc(14),p.Sb(),p.Tb(15,"td",12),p.Oc(16),p.Sb(),p.Tb(17,"td",12),p.Oc(18),p.Sb(),p.Tb(19,"td",12),p.Oc(20),p.Sb(),p.Tb(21,"td",12),p.Oc(22),p.Sb(),p.Tb(23,"td",12),p.Oc(24),p.Sb(),p.Tb(25,"td",12),p.Oc(26),p.Sb(),p.Tb(27,"td",12),p.Oc(28),p.Sb(),p.Tb(29,"td",12),p.Oc(30),p.Sb(),p.Tb(31,"td",12),p.Oc(32),p.Sb(),p.Tb(33,"td",12),p.Oc(34),p.Sb(),p.Tb(35,"td",12),p.Oc(36),p.Sb(),p.Sb(),p.Tb(37,"tr"),p.Tb(38,"th",10),p.Oc(39,"ANALISI"),p.Sb(),p.Tb(40,"td",12),p.Oc(41),p.Sb(),p.Tb(42,"td",12),p.Oc(43),p.Sb(),p.Tb(44,"td",12),p.Oc(45),p.Sb(),p.Tb(46,"td",12),p.Oc(47),p.Sb(),p.Tb(48,"td",12),p.Oc(49),p.Sb(),p.Tb(50,"td",12),p.Oc(51),p.Sb(),p.Tb(52,"td",12),p.Oc(53),p.Sb(),p.Tb(54,"td",12),p.Oc(55),p.Sb(),p.Tb(56,"td",12),p.Oc(57),p.Sb(),p.Tb(58,"td",12),p.Oc(59),p.Sb(),p.Tb(60,"td",12),p.Oc(61),p.Sb(),p.Tb(62,"td",12),p.Oc(63),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Tb(64,"h5",8),p.Oc(65,"Valori Medi"),p.Sb(),p.Tb(66,"table",13),p.Mc(67,vi,2,0,"div",14),p.Mc(68,Ti,19,12,"tbody",5),p.Sb(),p.Tb(69,"h5",8),p.Oc(70,"Registrazione Alpeggio"),p.Sb(),p.Tb(71,"table",13),p.Mc(72,Oi,2,0,"div",14),p.Mc(73,Ci,2,1,"tbody",5),p.Sb(),p.Sb(),p.Sb()),2&t){var e=p.fc();p.Bb(9),p.mc("ngForOf",e.mesi),p.Bb(5),p.Pc(1==e.produzioneLatte.mesiProduzione.gennaio?"Si":"No"),p.Bb(2),p.Pc(1==e.produzioneLatte.mesiProduzione.febbraio?"Si":"No"),p.Bb(2),p.Pc(1==e.produzioneLatte.mesiProduzione.marzo?"Si":"No"),p.Bb(2),p.Pc(1==e.produzioneLatte.mesiProduzione.aprile?"Si":"No"),p.Bb(2),p.Pc(1==e.produzioneLatte.mesiProduzione.maggio?"Si":"No"),p.Bb(2),p.Pc(1==e.produzioneLatte.mesiProduzione.giugno?"Si":"No"),p.Bb(2),p.Pc(1==e.produzioneLatte.mesiProduzione.luglio?"Si":"No"),p.Bb(2),p.Pc(1==e.produzioneLatte.mesiProduzione.agosto?"Si":"No"),p.Bb(2),p.Pc(1==e.produzioneLatte.mesiProduzione.settembre?"Si":"No"),p.Bb(2),p.Pc(1==e.produzioneLatte.mesiProduzione.ottobre?"Si":"No"),p.Bb(2),p.Pc(1==e.produzioneLatte.mesiProduzione.novembre?"Si":"No"),p.Bb(2),p.Pc(1==e.produzioneLatte.mesiProduzione.dicembre?"Si":"No"),p.Bb(5),p.Pc(1==e.produzioneLatte.mesiAnalisi.gennaio?"Si":"No"),p.Bb(2),p.Pc(1==e.produzioneLatte.mesiAnalisi.febbraio?"Si":"No"),p.Bb(2),p.Pc(1==e.produzioneLatte.mesiAnalisi.marzo?"Si":"No"),p.Bb(2),p.Pc(1==e.produzioneLatte.mesiAnalisi.aprile?"Si":"No"),p.Bb(2),p.Pc(1==e.produzioneLatte.mesiAnalisi.maggio?"Si":"No"),p.Bb(2),p.Pc(1==e.produzioneLatte.mesiAnalisi.giugno?"Si":"No"),p.Bb(2),p.Pc(1==e.produzioneLatte.mesiAnalisi.luglio?"Si":"No"),p.Bb(2),p.Pc(1==e.produzioneLatte.mesiAnalisi.agosto?"Si":"No"),p.Bb(2),p.Pc(1==e.produzioneLatte.mesiAnalisi.settembre?"Si":"No"),p.Bb(2),p.Pc(1==e.produzioneLatte.mesiAnalisi.ottobre?"Si":"No"),p.Bb(2),p.Pc(1==e.produzioneLatte.mesiAnalisi.novembre?"Si":"No"),p.Bb(2),p.Pc(1==e.produzioneLatte.mesiAnalisi.dicembre?"Si":"No"),p.Bb(4),p.mc("ngIf",e.noAnalisi),p.Bb(1),p.mc("ngIf",!e.noAnalisi),p.Bb(4),p.mc("ngIf",null==e.alpeggi),p.Bb(1),p.mc("ngIf",null!=e.alpeggi)}}function Ii(t,i){1&t&&(p.Tb(0,"div",15),p.Oc(1," Etichettatura non presente "),p.Sb())}function yi(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td",10),p.Oc(2),p.Sb(),p.Tb(3,"td"),p.Oc(4),p.gc(5,"date"),p.Sb(),p.Tb(6,"td"),p.Oc(7),p.gc(8,"date"),p.Sb(),p.Sb()),2&t){var e=i.$implicit;p.Bb(2),p.Pc(e.codiceAsl),p.Bb(2),p.Qc(" ",null==e.dtInizioValidita?"-":p.ic(5,3,e.dtInizioValidita,"dd-MM-yyyy")," "),p.Bb(3),p.Qc(" ",null==e.dtFineValidita?"-":p.ic(8,6,e.dtFineValidita,"dd-MM-yyyy")," ")}}function Ai(t,i){if(1&t&&(p.Tb(0,"tbody"),p.Tb(1,"tr"),p.Tb(2,"th",10),p.Oc(3,"Codice Asl"),p.Sb(),p.Tb(4,"th"),p.Oc(5,"Dal"),p.Sb(),p.Tb(6,"th"),p.Oc(7,"Al"),p.Sb(),p.Sb(),p.Mc(8,yi,9,9,"tr",18),p.Sb()),2&t){var e=p.fc(2);p.Bb(8),p.mc("ngForOf",e.etichettature)}}function zi(t,i){if(1&t&&(p.Tb(0,"p-accordion"),p.Tb(1,"p-accordionTab",20),p.Tb(2,"table",13),p.Mc(3,Ii,2,0,"div",14),p.Mc(4,Ai,9,1,"tbody",5),p.Sb(),p.Sb(),p.Sb()),2&t){var e=p.fc();p.Bb(3),p.mc("ngIf",null==e.etichettature),p.Bb(1),p.mc("ngIf",null!=e.etichettature)}}function Mi(t,i){1&t&&p.Ob(0,"hr")}function Pi(t,i){if(1&t&&p.Ob(0,"p-sortIcon",41),2&t){var e=p.fc().$implicit;p.mc("field",e.header)}}function Li(t,i){if(1&t&&(p.Tb(0,"th",39),p.Oc(1),p.Mc(2,Pi,1,1,"p-sortIcon",40),p.Sb()),2&t){var e=i.$implicit;p.mc("pSortableColumn",e.field)("pSortableColumnDisabled",null==e.field),p.Bb(1),p.Qc(" ",e.header," "),p.Bb(1),p.mc("ngIf",null!=e.field)}}function Ni(t,i){if(1&t&&(p.Tb(0,"tr"),p.Ob(1,"th",37),p.Mc(2,Li,3,4,"th",38),p.Sb()),2&t){var e=i.$implicit;p.Bb(2),p.mc("ngForOf",e)}}function ki(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Tb(2,"a",42),p.Ob(3,"i",43),p.Sb(),p.Sb(),p.Tb(4,"td"),p.Oc(5),p.Sb(),p.Tb(6,"td"),p.Oc(7),p.Sb(),p.Tb(8,"td"),p.Oc(9),p.Sb(),p.Tb(10,"td"),p.Oc(11),p.Sb(),p.Tb(12,"td"),p.Oc(13),p.Sb(),p.Sb()),2&t){var e=i.$implicit,o=i.expanded,a=p.fc(2).$implicit;p.Bb(2),p.mc("pRowToggler",e),p.Bb(1),p.mc("ngClass",o?"pi pi-chevron-down":"pi pi-chevron-right"),p.Bb(2),p.Pc(e.codiceCapo),p.Bb(2),p.Pc(a.codiceSpecie),p.Bb(2),p.Pc(e.capoBdn.razzaCodice),p.Bb(2),p.Pc(e.esito),p.Bb(2),p.Pc(e.messaggio)}}function Ei(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Tb(2,"tr"),p.Tb(3,"th"),p.Oc(4,"Dati identificativi"),p.Sb(),p.Ob(5,"th"),p.Sb(),p.Tb(6,"tr"),p.Tb(7,"td"),p.Oc(8,"Marca auricolare"),p.Sb(),p.Tb(9,"td"),p.Oc(10),p.Sb(),p.Sb(),p.Tb(11,"tr"),p.Tb(12,"td"),p.Oc(13,"Razza"),p.Sb(),p.Tb(14,"td"),p.Oc(15),p.Sb(),p.Sb(),p.Tb(16,"tr"),p.Tb(17,"td"),p.Oc(18,"La data di nascita del capo"),p.Sb(),p.Tb(19,"td"),p.Oc(20),p.gc(21,"date"),p.Sb(),p.Sb(),p.Ob(22,"br"),p.Tb(23,"tr"),p.Tb(24,"th"),p.Oc(25,"Dati identificativi dei vitelli del primo parto e di registrazione della loro nascita"),p.Sb(),p.Ob(26,"th"),p.Sb(),p.Tb(27,"tr"),p.Tb(28,"td"),p.Oc(29,"Marca auricolare"),p.Sb(),p.Tb(30,"td"),p.Oc(31),p.Sb(),p.Sb(),p.Tb(32,"tr"),p.Tb(33,"td"),p.Oc(34,"Data di nascita del vitello"),p.Sb(),p.Tb(35,"td"),p.Oc(36),p.gc(37,"date"),p.Sb(),p.Sb(),p.Tb(38,"tr"),p.Tb(39,"td"),p.Oc(40,"Gemello"),p.Sb(),p.Tb(41,"td"),p.Oc(42),p.Sb(),p.Sb(),p.Tb(43,"tr"),p.Tb(44,"td"),p.Oc(45,"Data di registrazione della nascita"),p.Sb(),p.Tb(46,"td"),p.Oc(47),p.gc(48,"date"),p.Sb(),p.Sb(),p.Tb(49,"tr"),p.Tb(50,"td"),p.Oc(51,"Registarzione della nascita delegata"),p.Sb(),p.Tb(52,"td"),p.Oc(53),p.Sb(),p.Sb(),p.Tb(54,"tr"),p.Tb(55,"td"),p.Oc(56,"Marcatura prepagata"),p.Sb(),p.Tb(57,"td"),p.Oc(58),p.Sb(),p.Sb(),p.Ob(59,"br"),p.Tb(60,"tr"),p.Tb(61,"th"),p.Oc(62,"Dati di registrazione della movimentazione"),p.Sb(),p.Ob(63,"th"),p.Sb(),p.Tb(64,"tr"),p.Tb(65,"td"),p.Oc(66,"Data di ingresso della vacca nell\u2019allevamento"),p.Sb(),p.Tb(67,"td"),p.Oc(68),p.gc(69,"date"),p.Sb(),p.Sb(),p.Tb(70,"tr"),p.Tb(71,"td"),p.Oc(72,"Data di comunicazione all\u2019autorit\xe0 competente dell\u2019ingresso"),p.Sb(),p.Tb(73,"td"),p.Oc(74),p.gc(75,"date"),p.Sb(),p.Sb(),p.Tb(76,"tr"),p.Tb(77,"td"),p.Oc(78,"Data di registrazione in BDN dell\u2019ingresso"),p.Sb(),p.Tb(79,"td"),p.Oc(80),p.gc(81,"date"),p.Sb(),p.Sb(),p.Ob(82,"br"),p.Tb(83,"tr"),p.Tb(84,"th"),p.Oc(85,"Esito del controllo"),p.Sb(),p.Ob(86,"th"),p.Sb(),p.Tb(87,"tr"),p.Tb(88,"td"),p.Oc(89,"Esito"),p.Sb(),p.Tb(90,"td"),p.Oc(91),p.Sb(),p.Sb(),p.Sb(),p.Sb()),2&t){var e=p.fc(),o=e.columns,a=e.$implicit,n=p.fc(3);p.Bb(1),p.Cb("colspan",o.length+1),p.Bb(9),p.Pc(a.capoBdn.codice),p.Bb(5),p.Pc(a.capoBdn.razzaCodice),p.Bb(5),p.Qc(" ",a.capoBdn.dtNascita?p.ic(21,14,a.capoBdn.dtNascita,"dd/MM/yyyy"):n.intestazioni.nd," "),p.Bb(11),p.Pc(a.capoBdn.capoLatteBdn.vitelli[0].codVitello),p.Bb(5),p.Pc(a.capoBdn.capoLatteBdn.vitelli[0].dtNascita?p.ic(37,17,a.capoBdn.capoLatteBdn.vitelli[0].dtNascita,"dd/MM/yyyy"):n.intestazioni.nd),p.Bb(6),p.Pc(a.capoBdn.capoLatteBdn.vitelli[0].tipoOrigine),p.Bb(5),p.Pc(a.capoBdn.capoLatteBdn.vitelli[0].dtInserimentoBdnNascita?p.ic(48,20,a.capoBdn.capoLatteBdn.vitelli[0].dtInserimentoBdnNascita,"dd/MM/yyyy"):n.intestazioni.nd),p.Bb(6),p.Pc(a.capoBdn.capoLatteBdn.vitelli[0].flagDelegatoNascitaVitello),p.Bb(5),p.Pc(a.capoBdn.capoLatteBdn.vitelli[0].flagProrogaMarcatura),p.Bb(10),p.Pc(a.capoBdn.capoLatteBdn.detenzioniBdn&&a.capoBdn.capoLatteBdn.detenzioniBdn[0].vaccaDtIngresso?p.ic(69,23,a.capoBdn.capoLatteBdn.detenzioniBdn[0].vaccaDtIngresso,"dd/MM/yyyy"):n.intestazioni.nd),p.Bb(6),p.Pc(a.capoBdn.capoLatteBdn.detenzioniBdn&&a.capoBdn.capoLatteBdn.detenzioniBdn[0].vaccaDtComAutoritaIngresso?p.ic(75,26,a.capoBdn.capoLatteBdn.detenzioniBdn[0].vaccaDtComAutoritaIngresso,"dd/MM/yyyy"):n.intestazioni.nd),p.Bb(6),p.Pc(a.capoBdn.capoLatteBdn.detenzioniBdn&&a.capoBdn.capoLatteBdn.detenzioniBdn[0].vaccaDtInserimentoBdnIngresso?p.ic(81,29,a.capoBdn.capoLatteBdn.detenzioniBdn[0].vaccaDtInserimentoBdnIngresso,"dd/MM/yyyy"):n.intestazioni.nd),p.Bb(11),p.Pc(a.esito)}}function Ui(t,i){if(1&t&&(p.Tb(0,"td"),p.Tb(1,"tr"),p.Tb(2,"th"),p.Oc(3,"Periodo di detenzione"),p.Sb(),p.Ob(4,"th"),p.Sb(),p.Tb(5,"tr"),p.Tb(6,"td"),p.Oc(7,"Data di inizio detenzione"),p.Sb(),p.Tb(8,"td"),p.Oc(9),p.gc(10,"date"),p.Sb(),p.Sb(),p.Tb(11,"tr"),p.Tb(12,"td"),p.Oc(13,"Data di fine detenzione"),p.Sb(),p.Tb(14,"td"),p.Oc(15),p.gc(16,"date"),p.Sb(),p.Sb(),p.Ob(17,"br"),p.Tb(18,"tr"),p.Tb(19,"th"),p.Oc(20,"Dati identificativi dell'allevamento"),p.Sb(),p.Ob(21,"th"),p.Sb(),p.Tb(22,"tr"),p.Tb(23,"td"),p.Oc(24,"Cuaa dell'azienda"),p.Sb(),p.Tb(25,"td"),p.Oc(26),p.Sb(),p.Sb(),p.Tb(27,"tr"),p.Tb(28,"td"),p.Oc(29,"Codice asl"),p.Sb(),p.Tb(30,"td"),p.Oc(31),p.Sb(),p.Sb(),p.Tb(32,"tr"),p.Tb(33,"td"),p.Oc(34,"Allevamento di montagna"),p.Sb(),p.Tb(35,"td"),p.Oc(36),p.Sb(),p.Sb(),p.Ob(37,"br"),p.Tb(38,"tr"),p.Tb(39,"th"),p.Oc(40,"Dati di registrazione della movimentazione"),p.Sb(),p.Ob(41,"th"),p.Sb(),p.Tb(42,"tr"),p.Tb(43,"td"),p.Oc(44,"Data di ingresso della vacca nell\u2019allevamento"),p.Sb(),p.Tb(45,"td"),p.Oc(46),p.gc(47,"date"),p.Sb(),p.Sb(),p.Tb(48,"tr"),p.Tb(49,"td"),p.Oc(50,"Data di comunicazione all\u2019autorit\xe0 competente dell\u2019ingresso"),p.Sb(),p.Tb(51,"td"),p.Oc(52),p.gc(53,"date"),p.Sb(),p.Sb(),p.Tb(54,"tr"),p.Tb(55,"td"),p.Oc(56,"Data di registrazione in BDN dell\u2019ingresso"),p.Sb(),p.Tb(57,"td"),p.Oc(58),p.gc(59,"date"),p.Sb(),p.Sb(),p.Ob(60,"br"),p.Sb()),2&t){var e=i.$implicit,o=p.fc(5);p.Bb(9),p.Qc(" ",e.dtInizioDetenzione?p.ic(10,8,e.dtInizioDetenzione,"dd/MM/yyyy"):o.intestazioni.nd," "),p.Bb(6),p.Qc(" ",e.dtFineDetenzione?p.ic(16,11,e.dtFineDetenzione,"dd/MM/yyyy"):o.intestazioni.nd," "),p.Bb(11),p.Pc(e.cuaa),p.Bb(5),p.Pc(e.codiceAsl),p.Bb(5),p.Pc(1==e.allevamentoMontagna?"SI":"NO"),p.Bb(10),p.Qc(" ",e.vaccaDtIngresso?p.ic(47,14,e.vaccaDtIngresso,"dd/MM/yyyy"):o.intestazioni.nd," "),p.Bb(6),p.Qc(" ",e.vaccaDtComAutoritaIngresso?p.ic(53,17,e.vaccaDtComAutoritaIngresso,"dd/MM/yyyy"):o.intestazioni.nd," "),p.Bb(6),p.Qc(" ",e.vaccaDtInserimentoBdnIngresso?p.ic(59,20,e.vaccaDtInserimentoBdnIngresso,"dd/MM/yyyy"):o.intestazioni.nd," ")}}function Ri(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Tb(2,"tr"),p.Tb(3,"th"),p.Oc(4,"Dati identificativi"),p.Sb(),p.Ob(5,"th"),p.Sb(),p.Tb(6,"tr"),p.Tb(7,"td"),p.Oc(8,"Marca auricolare"),p.Sb(),p.Tb(9,"td"),p.Oc(10),p.Sb(),p.Sb(),p.Tb(11,"tr"),p.Tb(12,"td"),p.Oc(13,"Razza"),p.Sb(),p.Tb(14,"td"),p.Oc(15),p.Sb(),p.Sb(),p.Tb(16,"tr"),p.Tb(17,"td"),p.Oc(18,"La data di nascita del capo"),p.Sb(),p.Tb(19,"td"),p.Oc(20),p.gc(21,"date"),p.Sb(),p.Sb(),p.Ob(22,"br"),p.Tb(23,"tr"),p.Tb(24,"th"),p.Oc(25,"Dati identificativi dei vitelli del primo parto e di registrazione della loro nascita"),p.Sb(),p.Ob(26,"th"),p.Sb(),p.Tb(27,"tr"),p.Tb(28,"td"),p.Oc(29,"Marca auricolare"),p.Sb(),p.Tb(30,"td"),p.Oc(31),p.Sb(),p.Sb(),p.Tb(32,"tr"),p.Tb(33,"td"),p.Oc(34,"Data di nascita del vitello"),p.Sb(),p.Tb(35,"td"),p.Oc(36),p.gc(37,"date"),p.Sb(),p.Sb(),p.Tb(38,"tr"),p.Tb(39,"td"),p.Oc(40,"Gemello"),p.Sb(),p.Tb(41,"td"),p.Oc(42),p.Sb(),p.Sb(),p.Tb(43,"tr"),p.Tb(44,"td"),p.Oc(45,"Data di registrazione della nascita"),p.Sb(),p.Tb(46,"td"),p.Oc(47),p.gc(48,"date"),p.Sb(),p.Sb(),p.Tb(49,"tr"),p.Tb(50,"td"),p.Oc(51,"Registarzione della nascita delegata"),p.Sb(),p.Tb(52,"td"),p.Oc(53),p.Sb(),p.Sb(),p.Tb(54,"tr"),p.Tb(55,"td"),p.Oc(56,"Marcatura prepagata"),p.Sb(),p.Tb(57,"td"),p.Oc(58),p.Sb(),p.Sb(),p.Ob(59,"br"),p.Tb(60,"tr"),p.Tb(61,"th"),p.Oc(62,"Lista delle detenzioni che sono state valutate per il raggiungimento dei sei mesi in zone montane"),p.Sb(),p.Ob(63,"th"),p.Sb(),p.Tb(64,"tr"),p.Mc(65,Ui,61,23,"td",18),p.Sb(),p.Ob(66,"br"),p.Tb(67,"tr"),p.Tb(68,"th"),p.Oc(69,"Esito del controllo"),p.Sb(),p.Ob(70,"th"),p.Sb(),p.Tb(71,"tr"),p.Tb(72,"td"),p.Oc(73,"Esito"),p.Sb(),p.Tb(74,"td"),p.Oc(75),p.Sb(),p.Sb(),p.Sb(),p.Sb()),2&t){var e=p.fc(),o=e.columns,a=e.$implicit,n=p.fc(3);p.Bb(1),p.Cb("colspan",o.length+1),p.Bb(9),p.Pc(a.capoBdn.codice),p.Bb(5),p.Pc(a.capoBdn.razzaCodice),p.Bb(5),p.Qc(" ",a.capoBdn.dtNascita?p.ic(21,12,a.capoBdn.dtNascita,"dd/MM/yyyy"):n.intestazioni.nd," "),p.Bb(11),p.Pc(a.capoBdn.capoLatteBdn.vitelli[0].codVitello),p.Bb(5),p.Pc(a.capoBdn.capoLatteBdn.vitelli[0].dtNascita?p.ic(37,15,a.capoBdn.capoLatteBdn.vitelli[0].dtNascita,"dd/MM/yyyy"):n.intestazioni.nd),p.Bb(6),p.Pc(a.capoBdn.capoLatteBdn.vitelli[0].tipoOrigine),p.Bb(5),p.Pc(a.capoBdn.capoLatteBdn.vitelli[0].dtInserimentoBdnNascita?p.ic(48,18,a.capoBdn.capoLatteBdn.vitelli[0].dtInserimentoBdnNascita,"dd/MM/yyyy"):n.intestazioni.nd),p.Bb(6),p.Pc(a.capoBdn.capoLatteBdn.vitelli[0].flagDelegatoNascitaVitello),p.Bb(5),p.Pc(a.capoBdn.capoLatteBdn.vitelli[0].flagProrogaMarcatura),p.Bb(7),p.mc("ngForOf",a.capoBdn.capoLatteBdn.detenzioniBdn),p.Bb(10),p.Pc(a.esito)}}function wi(t,i){if(1&t&&(p.Tb(0,"td"),p.Tb(1,"tr"),p.Tb(2,"td"),p.Oc(3,"Data di ingresso della vacca nell\u2019allevamento"),p.Sb(),p.Tb(4,"td"),p.Oc(5),p.gc(6,"date"),p.Sb(),p.Sb(),p.Tb(7,"tr"),p.Tb(8,"td"),p.Oc(9,"Data di comunicazione all\u2019autorit\xe0 competente dell\u2019ingresso"),p.Sb(),p.Tb(10,"td"),p.Oc(11),p.gc(12,"date"),p.Sb(),p.Sb(),p.Tb(13,"tr"),p.Tb(14,"td"),p.Oc(15,"Data di registrazione in BDN dell\u2019ingresso"),p.Sb(),p.Tb(16,"td"),p.Oc(17),p.gc(18,"date"),p.Sb(),p.Sb(),p.Ob(19,"br"),p.Tb(20,"tr"),p.Tb(21,"th"),p.Oc(22,"Dati di detenzione in stalla"),p.Sb(),p.Ob(23,"th"),p.Sb(),p.Tb(24,"tr"),p.Tb(25,"td"),p.Oc(26,"Data di uscita del capo dall\u2019allevamento"),p.Sb(),p.Tb(27,"td"),p.Oc(28),p.gc(29,"date"),p.Sb(),p.Sb(),p.Ob(30,"br"),p.Sb()),2&t){var e=i.$implicit,o=p.fc(5);p.Bb(5),p.Pc(e.vaccaDtIngresso?p.ic(6,4,e.vaccaDtIngresso,"dd/MM/yyyy"):o.intestazioni.nd),p.Bb(6),p.Pc(e.vaccaDtComAutoritaIngresso?p.ic(12,7,e.vaccaDtComAutoritaIngresso,"dd/MM/yyyy"):o.intestazioni.nd),p.Bb(6),p.Pc(e.vaccaDtInserimentoBdnIngresso?p.ic(18,10,e.vaccaDtInserimentoBdnIngresso,"dd/MM/yyyy"):o.intestazioni.nd),p.Bb(11),p.Pc(e.dtUscita?p.ic(29,13,e.dtUscita,"dd/MM/yyyy"):o.intestazioni.nd)}}function _i(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Tb(2,"tr"),p.Tb(3,"th"),p.Oc(4,"Dati identificativi"),p.Sb(),p.Ob(5,"th"),p.Sb(),p.Tb(6,"tr"),p.Tb(7,"td"),p.Oc(8,"Marca auricolare"),p.Sb(),p.Tb(9,"td"),p.Oc(10),p.Sb(),p.Sb(),p.Tb(11,"tr"),p.Tb(12,"td"),p.Oc(13,"Razza"),p.Sb(),p.Tb(14,"td"),p.Oc(15),p.Sb(),p.Sb(),p.Tb(16,"tr"),p.Tb(17,"td"),p.Oc(18,"La data di applicazione marchio"),p.Sb(),p.Tb(19,"td"),p.Oc(20),p.gc(21,"date"),p.Sb(),p.Sb(),p.Tb(22,"tr"),p.Tb(23,"td"),p.Oc(24,"La data di nascita del capo"),p.Sb(),p.Tb(25,"td"),p.Oc(26),p.gc(27,"date"),p.Sb(),p.Sb(),p.Ob(28,"br"),p.Tb(29,"tr"),p.Tb(30,"th"),p.Oc(31,"Dati di registrazione della movimentazione"),p.Sb(),p.Ob(32,"th"),p.Sb(),p.Tb(33,"tr"),p.Mc(34,wi,31,16,"td",18),p.Sb(),p.Tb(35,"tr"),p.Tb(36,"th"),p.Oc(37,"Esito del controllo"),p.Sb(),p.Ob(38,"th"),p.Sb(),p.Tb(39,"tr"),p.Tb(40,"td"),p.Oc(41,"Esito"),p.Sb(),p.Tb(42,"td"),p.Oc(43),p.Sb(),p.Sb(),p.Sb(),p.Sb()),2&t){var e=p.fc(),o=e.columns,a=e.$implicit,n=p.fc(3);p.Bb(1),p.Cb("colspan",o.length+1),p.Bb(9),p.Pc(a.capoBdn.codice),p.Bb(5),p.Pc(a.capoBdn.razzaCodice),p.Bb(5),p.Pc(p.ic(21,7,null==a.capoBdn||null==a.capoBdn.capoMacellatoBdn?null:a.capoBdn.capoMacellatoBdn.dtApplMarchio,"dd/MM/yyyy")||n.intestazioni.nd),p.Bb(6),p.Qc(" ",a.capoBdn.dtNascita?p.ic(27,10,a.capoBdn.dtNascita,"dd/MM/yyyy"):n.intestazioni.nd," "),p.Bb(8),p.mc("ngForOf",a.capoBdn.capoMacellatoBdn.detenzioniBdn),p.Bb(9),p.Pc(a.esito)}}function Fi(t,i){if(1&t&&(p.Tb(0,"td"),p.Tb(1,"tr"),p.Tb(2,"th"),p.Oc(3,"Periodo di detenzione"),p.Sb(),p.Ob(4,"th"),p.Sb(),p.Tb(5,"tr"),p.Tb(6,"td"),p.Oc(7,"La data di ingresso"),p.Sb(),p.Tb(8,"td"),p.Oc(9),p.gc(10,"date"),p.Sb(),p.Sb(),p.Sb()),2&t){var e=i.$implicit,o=p.fc(5);p.Bb(9),p.Pc(p.ic(10,1,null==e?null:e.vaccaDtIngresso,"dd/MM/yyyy")||o.intestazioni.nd)}}function $i(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Tb(2,"tr"),p.Tb(3,"th"),p.Oc(4,"Dati identificativi"),p.Sb(),p.Ob(5,"th"),p.Sb(),p.Tb(6,"tr"),p.Tb(7,"td"),p.Oc(8,"Marca auricolare"),p.Sb(),p.Tb(9,"td"),p.Oc(10),p.Sb(),p.Sb(),p.Tb(11,"tr"),p.Tb(12,"td"),p.Oc(13,"La data di applicazione marchio"),p.Sb(),p.Tb(14,"td"),p.Oc(15),p.gc(16,"date"),p.Sb(),p.Sb(),p.Tb(17,"tr"),p.Tb(18,"td"),p.Oc(19,"Razza"),p.Sb(),p.Tb(20,"td"),p.Oc(21),p.Sb(),p.Sb(),p.Tb(22,"tr"),p.Tb(23,"td"),p.Oc(24,"La data di inserimento Bdn"),p.Sb(),p.Tb(25,"td"),p.Oc(26),p.gc(27,"date"),p.Sb(),p.Sb(),p.Tb(28,"tr"),p.Tb(29,"td"),p.Oc(30,"La data di nascita del capo"),p.Sb(),p.Tb(31,"td"),p.Oc(32),p.gc(33,"date"),p.Sb(),p.Sb(),p.Tb(34,"tr"),p.Mc(35,Fi,11,4,"td",18),p.Sb(),p.Ob(36,"br"),p.Tb(37,"tr"),p.Tb(38,"th"),p.Oc(39,"Esito del controllo"),p.Sb(),p.Ob(40,"th"),p.Sb(),p.Tb(41,"tr"),p.Tb(42,"td"),p.Oc(43,"Esito"),p.Sb(),p.Tb(44,"td"),p.Oc(45),p.Sb(),p.Sb(),p.Sb(),p.Sb()),2&t){var e=p.fc(),o=e.columns,a=e.$implicit,n=p.fc(3);p.Bb(1),p.Cb("colspan",o.length+1),p.Bb(9),p.Pc(a.capoBdn.codice),p.Bb(5),p.Pc(p.ic(16,8,null==a.capoBdn||null==a.capoBdn.capoOvicaprinoBdn?null:a.capoBdn.capoOvicaprinoBdn.dtApplMarchio,"dd/MM/yyyy")||n.intestazioni.nd),p.Bb(6),p.Pc(a.capoBdn.razzaCodice),p.Bb(5),p.Pc(p.ic(27,11,null==a.capoBdn||null==a.capoBdn.capoOvicaprinoBdn?null:a.capoBdn.capoOvicaprinoBdn.dtInserimentoBdnNascita,"dd/MM/yyyy")||n.intestazioni.nd),p.Bb(6),p.Qc(" ",a.capoBdn.dtNascita?p.ic(33,14,a.capoBdn.dtNascita,"dd/MM/yyyy"):n.intestazioni.nd," "),p.Bb(3),p.mc("ngForOf",null==a.capoBdn||null==a.capoBdn.capoOvicaprinoBdn?null:a.capoBdn.capoOvicaprinoBdn.detenzioniBdn),p.Bb(10),p.Pc(a.esito)}}function xi(t,i){if(1&t&&(p.Mc(0,Ei,92,32,"ng-template",44),p.Mc(1,Ri,76,21,"ng-template",44),p.Mc(2,_i,44,13,"ng-template",44),p.Mc(3,$i,46,17,"ng-template",44)),2&t){var e=i.$implicit,o=p.fc(3);p.mc("ngIf",o.isInterventoBovini(e.capoBdn.intervento)),p.Bb(1),p.mc("ngIf",o.isAllevamentoMontagna(e.capoBdn.intervento)),p.Bb(1),p.mc("ngIf",o.isInterventoMacellati(e.capoBdn.intervento)),p.Bb(1),p.mc("ngIf",o.isInterventoOvicaprini(e.capoBdn.intervento))}}function Qi(t,i){if(1&t){var e=p.Ub();p.Tb(0,"p-table",32,33),p.bc("onLazyLoad",(function(t){p.Ec(e);var i=p.fc().$implicit;return p.fc().changePage(t,i)})),p.Mc(2,Ni,3,1,"ng-template",34),p.Mc(3,ki,14,7,"ng-template",35),p.Mc(4,xi,4,4,"ng-template",36),p.Sb()}if(2&t){var o=p.fc().$implicit,a=p.fc();p.mc("columns",a.cols)("value",o.richiesteAllevamentoDuEsito)("autoLayout",!0)("paginator",!0)("rows",a.elementiPagina)("totalRecords",o.count)("responsive",!0)("lazy",!0)}}function Zi(t,i){if(1&t){var e=p.Ub();p.Tb(0,"p-accordion",21),p.bc("onOpen",(function(t){p.Ec(e);var o=i.$implicit;return p.fc().onTabOpen(t,o)})),p.Tb(1,"p-accordionTab",22),p.Tb(2,"div",23),p.Tb(3,"div",24),p.Tb(4,"div",25),p.Ob(5,"input",26,27),p.Tb(7,"div",28),p.Tb(8,"button",29),p.bc("debounceClick",(function(){p.Ec(e);var t=i.$implicit,o=p.Bc(6);return p.fc().cerca(o.value,t)})),p.Tb(9,"i",30),p.Oc(10,"search"),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Mc(11,Qi,5,8,"p-table",31),p.Sb(),p.Sb()}if(2&t){var o=i.$implicit,a=p.fc();p.Bb(1),p.qc("header","",o.datiAllevamento.descrizioneAllevamento," - ",o.datiAllevamento.codiceAllevamento," - ",o.codiceIntervento," - Numero Capi: ",o.count,""),p.Bb(4),p.nc("placeholder",a.intestazioni.marcaAuricolare),p.Bb(6),p.mc("ngIf",o.tableVisible)}}function qi(t,i){1&t&&(p.Tb(0,"div"),p.Oc(1," Nessun controllo eseguito "),p.Sb())}var Ki,Hi=function(){return{marginTop:"70px"}},Vi=((Ki=function(){function t(i,e,o){_classCallCheck(this,t),this.istruttoriaDettaglioService=i,this.route=e,this.messageService=o,this.allevamenti=[],this.cols=[],this.intestazioni=pi.a,this.elementiPagina=10,this.interventiBovini=["310","312","313","314","322"],this.interventiMacellati=["315","316","318"],this.interventiOvicaprini=["320","321"],this.mesi=["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],this.showProduzione=!1,this.noAnalisi=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.setCols(),this.setIdIstruttoria(),this.setAnnoCampagna(),this.getAllevamentiImpegnati()}},{key:"setCols",value:function(){this.cols=[{field:"codiceCapo",header:this.intestazioni.marcaAuricolare},{field:null,header:this.intestazioni.codiceSpecie},{field:null,header:this.intestazioni.razza},{field:"esito",header:this.intestazioni.ESITO_CONTROLLO},{field:"messaggio",header:this.intestazioni.messaggioEsito}]}},{key:"setIdIstruttoria",value:function(){var t=this;this.route.paramMap.subscribe((function(i){t.idIstruttoria=i.get("idIstruttoria")}))}},{key:"setAnnoCampagna",value:function(){var t=this;this.route.paramMap.subscribe((function(i){t.annoCampagna=i.get("annoCampagna")}))}},{key:"getAllevamentiImpegnati",value:function(){var t=this;this.istruttoriaDettaglioService.getAllevamentiImpegnati(this.idIstruttoria).subscribe((function(i){i&&(i.forEach((function(i){t.cuaa=i.cuaaIntestatario,i.datiAllevamento=JSON.parse(i.datiAllevamento),i.datiDetentore=JSON.parse(i.datiDetentore),i.datiProprietario=JSON.parse(i.datiProprietario),t.allevamenti.push(i)})),t.allevamenti.sort((function(t,i){return t.codiceIntervento-i.codiceIntervento}))),console.log(t.allevamenti),t.getProduzioneLatteAndEtichettaturaCarne()}),(function(i){console.log(i),t.messageService.add(A.a.getToast("tst",A.b.error,A.a.erroreRecuperoDati))}))}},{key:"changePage",value:function(t,i){var e=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0;null!=t&&(this.sortDirection=1===t.sortOrder?Si.b.ASC:Si.b.DESC,this.sortBy=t.sortField||"id",o=t.first);var n=new gi;n.idAllevamento=i.id,null!=a&&(n.codiceCapo=a);var c=Si.a.of(Math.round(o/this.elementiPagina),this.elementiPagina,this.sortBy,this.sortDirection||Si.b.ASC);this.istruttoriaDettaglioService.ricercaEsiticapi(n,c).subscribe((function(t){t&&(i.count=t.count,i.richiesteAllevamentoDuEsito=t.risultati,i.richiesteAllevamentoDuEsito.forEach((function(t){t.esito=t.esito.split("_").join(" ")}))),console.log(e.allevamenti)}),(function(t){console.log(t),e.messageService.add(A.a.getToast("tst",A.b.error,A.a.erroreRecuperoDati))}))}},{key:"isInterventoBovini",value:function(t){return this.interventiBovini.includes(t)}},{key:"isAllevamentoMontagna",value:function(t){return 0=="311".localeCompare(t)}},{key:"isInterventoMacellati",value:function(t){return this.interventiMacellati.includes(t)}},{key:"isInterventoOvicaprini",value:function(t){return this.interventiOvicaprini.includes(t)}},{key:"getProduzioneLatteAndEtichettaturaCarne",value:function(){this.isProduzioneLatte()&&(this.getProduzioneLatte(),this.getRegistrazioneAlpeggio()),this.isEtichettatura()&&this.getEtichettatura()}},{key:"getRegistrazioneAlpeggio",value:function(){var t=this;this.istruttoriaDettaglioService.getAlpeggioZootecnia(this.annoCampagna,this.cuaa).subscribe((function(i){t.alpeggi=i}),(function(t){console.log(t)}))}},{key:"isProduzioneLatte",value:function(){return this.allevamenti.some((function(t){return 310==t.codiceIntervento||311==t.codiceIntervento||322==t.codiceIntervento}))}},{key:"isEtichettatura",value:function(){return this.allevamenti.some((function(t){return 318==t.codiceIntervento}))}},{key:"getProduzioneLatte",value:function(){var t=this;this.istruttoriaDettaglioService.getProduzioneLatteZootecnia(this.annoCampagna,this.cuaa).subscribe((function(i){t.produzioneLatte=i[0],t.showProduzione=!0,t.checkAnalisi()}),(function(i){t.showProduzione=!1,console.log(i)}))}},{key:"getEtichettatura",value:function(){var t=this;this.istruttoriaDettaglioService.getEtichettaturaZootecnia(this.annoCampagna,this.cuaa).subscribe((function(i){t.etichettature=i}),(function(t){console.log(t)}))}},{key:"checkAnalisi",value:function(){this.noAnalisi=null==this.produzioneLatte.tenoreBatteri||null==this.produzioneLatte.tenoreCellule||null==this.produzioneLatte.contenutoProteine}},{key:"onTabOpen",value:function(t,i){i.tableVisible=!0}},{key:"cerca",value:function(t,i){console.log(t),this.changePage(null,i,0,t)}}]),t}()).\u0275fac=function(t){return new(t||Ki)(p.Nb(M.a),p.Nb(n.a),p.Nb(P.d))},Ki.\u0275cmp=p.Hb({type:Ki,selectors:[["app-capi-ammessi"]],viewQuery:function(t,i){var e;1&t&&p.Uc(fi,!0),2&t&&p.Ac(e=p.cc())&&(i.table=e.first)},decls:10,vars:8,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],[4,"ngIf"],[3,"onOpen",4,"ngFor","ngForOf"],["header","PRODUZIONE LATTE"],[1,"h5Title"],[1,"table","table-bordered","tableBorder"],["scope","row"],["class","tdAnalisiLatte",4,"ngFor","ngForOf"],[1,"tdAnalisiLatte"],[1,"table","tableBorder","table-striped"],["style","text-align: center",4,"ngIf"],[2,"text-align","center"],["scope","row",1,"valoriMediTitle"],[1,"valoriMedi"],[4,"ngFor","ngForOf"],[1,"valoriMedi","tdDataAlpeggio"],["header","ETICHETTATURA"],[3,"onOpen"],[3,"header"],[1,"ui-g"],[1,"ui-g-4","titlefamiliari"],[1,"input-group","mb-3"],["type","text","aria-describedby","basic-addon2",1,"form-control",3,"placeholder"],["inputCodiceFiscale",""],[1,"input-group-append"],["appDebounceClick","","pButton","","type","button",1,"btn","btn-outline-secondary",3,"debounceClick"],[1,"material-icons",2,"margin-top","7px"],["dataKey","codiceCapo",3,"columns","value","autoLayout","paginator","rows","totalRecords","responsive","lazy","onLazyLoad",4,"ngIf"],["dataKey","codiceCapo",3,"columns","value","autoLayout","paginator","rows","totalRecords","responsive","lazy","onLazyLoad"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[2,"width","3em"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field",4,"ngIf"],[3,"field"],["href","#",3,"pRowToggler"],[3,"ngClass"],[3,"ngIf"]],template:function(t,i){1&t&&(p.Tb(0,"div",0),p.Tb(1,"div",1),p.Tb(2,"div",2),p.Ob(3,"p-toast",3),p.Tb(4,"div",4),p.Mc(5,Di,74,29,"p-accordion",5),p.Mc(6,zi,5,2,"p-accordion",5),p.Mc(7,Mi,1,0,"hr",5),p.Mc(8,Zi,12,6,"p-accordion",6),p.Mc(9,qi,2,0,"div",5),p.Sb(),p.Sb(),p.Sb(),p.Sb()),2&t&&(p.Bb(3),p.Kc(p.rc(7,Hi)),p.Bb(2),p.mc("ngIf",i.isProduzioneLatte()&&i.showProduzione),p.Bb(1),p.mc("ngIf",i.isEtichettatura()),p.Bb(1),p.mc("ngIf",i.isProduzioneLatte()||i.isEtichettatura()),p.Bb(1),p.mc("ngForOf",i.allevamenti),p.Bb(1),p.mc("ngIf",0==i.allevamenti.length))},directives:[k.a,o.t,o.s,V.a,V.c,mi.a,S.b,G.q,P.e,G.p,G.o,G.k,o.q],pipes:[o.g,o.f],styles:[""]}),Ki),Gi=["table"];function ji(t,i){if(1&t&&p.Ob(0,"p-sortIcon",26),2&t){var e=p.fc().$implicit;p.mc("field",e.header)}}function Ji(t,i){if(1&t&&(p.Tb(0,"th",24),p.Oc(1),p.Mc(2,ji,1,1,"p-sortIcon",25),p.Sb()),2&t){var e=i.$implicit;p.mc("pSortableColumn",e.field)("pSortableColumnDisabled",null==e.field),p.Bb(1),p.Qc(" ",e.header," "),p.Bb(1),p.mc("ngIf",null!=e.field)}}function Wi(t,i){if(1&t&&(p.Tb(0,"tr"),p.Mc(1,Ji,3,4,"th",23),p.Sb()),2&t){var e=i.$implicit;p.Bb(1),p.mc("ngForOf",e)}}function Xi(t,i){if(1&t){var e=p.Ub();p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2),p.Sb(),p.Tb(3,"td"),p.Oc(4),p.Sb(),p.Tb(5,"td"),p.Oc(6),p.Sb(),p.Tb(7,"td"),p.Oc(8),p.Sb(),p.Tb(9,"td"),p.Oc(10),p.Sb(),p.Tb(11,"td",27),p.Tb(12,"p-checkbox",28),p.bc("ngModelChange",(function(t){return p.Ec(e),i.$implicit.duplicato=t}))("onChange",(function(){p.Ec(e);var t=i.$implicit;return p.fc(3).aggiornaCapo(t)})),p.Sb(),p.Sb(),p.Tb(13,"td",27),p.Tb(14,"p-checkbox",28),p.bc("ngModelChange",(function(t){return p.Ec(e),i.$implicit.controlloNonSuperato=t}))("onChange",(function(){p.Ec(e);var t=i.$implicit;return p.fc(3).aggiornaCapo(t)})),p.Sb(),p.Sb(),p.Sb()}if(2&t){var o=i.$implicit,a=p.fc(2).$implicit,n=p.fc();p.Bb(2),p.Pc(o.codiceCapo),p.Bb(2),p.Pc(a.codiceSpecie),p.Bb(2),p.Pc(o.capoBdn.razzaCodice),p.Bb(2),p.Pc(o.esito),p.Bb(2),p.Pc(o.messaggio),p.Bb(2),p.mc("ngModel",o.duplicato)("disabled","PAGAMENTO_AUTORIZZATO"===n.istruttoriaDU.stato),p.Bb(2),p.mc("ngModel",o.controlloNonSuperato)("disabled","PAGAMENTO_AUTORIZZATO"===n.istruttoriaDU.stato)}}function Yi(t,i){if(1&t&&(p.Tb(0,"tr"),p.Tb(1,"td"),p.Oc(2," Calcolo accoppiato zootecnia non ancora effettuato per la domanda. "),p.Sb(),p.Sb()),2&t){var e=i.$implicit;p.Bb(1),p.Cb("colspan",e.length)}}function te(t,i){if(1&t){var e=p.Ub();p.Tb(0,"p-table",18,19),p.bc("onLazyLoad",(function(t){p.Ec(e);var i=p.fc().$implicit;return p.fc().changePage(t,i)})),p.Mc(2,Wi,2,1,"ng-template",20),p.Mc(3,Xi,15,9,"ng-template",21),p.Mc(4,Yi,3,1,"ng-template",22),p.Sb()}if(2&t){var o=p.fc().$implicit,a=p.fc();p.mc("columns",a.cols)("value",o.richiesteAllevamentoDuEsito)("autoLayout",!0)("paginator",!0)("rows",a.elementiPagina)("totalRecords",o.count)("responsive",!0)("lazy",!0)}}function ie(t,i){if(1&t){var e=p.Ub();p.Tb(0,"p-accordion",7),p.bc("onOpen",(function(t){p.Ec(e);var o=i.$implicit;return p.fc().onTabOpen(t,o)})),p.Tb(1,"p-accordionTab",8),p.Tb(2,"div",9),p.Tb(3,"div",10),p.Tb(4,"div",11),p.Ob(5,"input",12,13),p.Tb(7,"div",14),p.Tb(8,"button",15),p.bc("debounceClick",(function(){p.Ec(e);var t=i.$implicit,o=p.Bc(6);return p.fc().cerca(o.value,t)})),p.Tb(9,"i",16),p.Oc(10,"search"),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Sb(),p.Mc(11,te,5,8,"p-table",17),p.Sb(),p.Sb()}if(2&t){var o=i.$implicit,a=p.fc();p.Bb(1),p.qc("header","",o.datiAllevamento.descrizioneAllevamento," - ",o.datiAllevamento.codiceAllevamento," - ",o.codiceIntervento," - Numero Capi: ",o.count,""),p.mc("selected",!1),p.Bb(4),p.nc("placeholder",a.intestazioni.marcaAuricolare),p.Bb(6),p.mc("ngIf",o.tableVisible)}}function ee(t,i){1&t&&(p.Tb(0,"div"),p.Oc(1," Nessun controllo eseguito "),p.Sb())}var oe,ae,ne,ce=function(){return{marginTop:"70px"}},re=((oe=function(){function t(i,e,o,a){_classCallCheck(this,t),this.istruttoriaService=i,this.route=e,this.messageService=o,this.istruttoriaDettaglioService=a,this.allevamenti=[],this.cols=[],this.elementiPagina=10,this.intestazioni=pi.a}return _createClass(t,[{key:"ngOnInit",value:function(){this.istruttoriaDU=this.route.snapshot.data.domandaIstruttoria,this.setCols(),this.setIdIstruttoria(),this.getAllevamentiRichiesti()}},{key:"setCols",value:function(){this.cols=[{field:"codiceCapo",header:this.intestazioni.marcaAuricolare},{field:null,header:this.intestazioni.codiceSpecie},{field:null,header:this.intestazioni.razza},{field:"esito",header:this.intestazioni.ESITO_CONTROLLO},{field:"messaggio",header:this.intestazioni.messaggioEsito},{field:"duplicato",header:this.intestazioni.duplicato},{field:"controlloNonSuperato",header:this.intestazioni.controlloNonSuperato}]}},{key:"setIdIstruttoria",value:function(){var t=this;this.route.paramMap.subscribe((function(i){t.idIstruttoria=i.get("idIstruttoria")}))}},{key:"getAllevamentiRichiesti",value:function(){var t=this;this.istruttoriaDettaglioService.getAllevamentiRichiesti(this.idIstruttoria).subscribe((function(i){i&&(i.forEach((function(i){i.datiAllevamento=JSON.parse(i.datiAllevamento),i.datiDetentore=JSON.parse(i.datiDetentore),i.datiProprietario=JSON.parse(i.datiProprietario),i.count>0&&t.allevamenti.push(i)})),t.allevamenti.sort((function(t,i){return t.codiceIntervento-i.codiceIntervento}))),console.log(t.allevamenti)}),(function(i){console.log(i),t.messageService.add(A.a.getToast("tst",A.b.error,A.a.erroreRecuperoDati))}))}},{key:"changePage",value:function(t,i){var e=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0;null!=t&&(this.sortDirection=1===t.sortOrder?Si.b.ASC:Si.b.DESC,this.sortBy=t.sortField||"id",o=t.first);var n=new gi;n.idAllevamento=i.id,n.richiesto=!0,null!=a&&(n.codiceCapo=a);var c=Si.a.of(Math.round(o/this.elementiPagina),this.elementiPagina,this.sortBy,this.sortDirection||Si.b.ASC);this.istruttoriaDettaglioService.ricercaEsiticapi(n,c).subscribe((function(t){t&&(i.count=t.count,i.richiesteAllevamentoDuEsito=t.risultati,i.richiesteAllevamentoDuEsito.forEach((function(t){t.esito=t.esito.split("_").join(" ")}))),console.log(e.allevamenti)}),(function(t){e.messageService.add(A.a.getToast("tst",A.b.error,A.a.erroreRecuperoDati))}))}},{key:"onTabOpen",value:function(t,i){i.tableVisible=!0}},{key:"aggiornaCapo",value:function(t){var i=this;this.istruttoriaService.aggiornaCapo(this.idIstruttoria,t).subscribe((function(i){t=i}),(function(t){i.messageService.add(A.a.getToast("tst",A.b.error,A.a.salvataggioDatiKo))}))}},{key:"cerca",value:function(t,i){this.changePage(null,i,0,t)}}]),t}()).\u0275fac=function(t){return new(t||oe)(p.Nb(st.a),p.Nb(n.a),p.Nb(P.d),p.Nb(M.a))},oe.\u0275cmp=p.Hb({type:oe,selectors:[["app-capi-richiesti"]],viewQuery:function(t,i){var e;1&t&&p.Uc(Gi,!0),2&t&&p.Ac(e=p.cc())&&(i.table=e.first)},decls:7,vars:5,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],[3,"onOpen",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"onOpen"],[3,"header","selected"],[1,"ui-g"],[1,"ui-g-4","titlefamiliari"],[1,"input-group","mb-3"],["type","text","aria-describedby","basic-addon2",1,"form-control",3,"placeholder"],["inputCodiceFiscale",""],[1,"input-group-append"],["appDebounceClick","","pButton","","type","button",1,"btn","btn-outline-secondary",3,"debounceClick"],[1,"material-icons",2,"margin-top","7px"],["dataKey","codiceCapo",3,"columns","value","autoLayout","paginator","rows","totalRecords","responsive","lazy","onLazyLoad",4,"ngIf"],["dataKey","codiceCapo",3,"columns","value","autoLayout","paginator","rows","totalRecords","responsive","lazy","onLazyLoad"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field",4,"ngIf"],[3,"field"],[2,"text-align","center"],["binary","true",3,"ngModel","disabled","ngModelChange","onChange"]],template:function(t,i){1&t&&(p.Tb(0,"div",0),p.Tb(1,"div",1),p.Tb(2,"div",2),p.Ob(3,"p-toast",3),p.Tb(4,"div",4),p.Mc(5,ie,12,7,"p-accordion",5),p.Mc(6,ee,2,0,"div",6),p.Sb(),p.Sb(),p.Sb(),p.Sb()),2&t&&(p.Bb(3),p.Kc(p.rc(4,ce)),p.Bb(2),p.mc("ngForOf",i.allevamenti),p.Bb(1),p.mc("ngIf",0==i.allevamenti.length))},directives:[k.a,o.s,o.t,V.a,V.c,mi.a,S.b,G.q,P.e,G.p,G.o,E.a,N.s,N.v],styles:[""]}),oe),se=e("XR+H"),le=[{path:"",component:c.a,resolve:{domandaIstruttoria:a.a},children:[{path:"",component:D,children:[{path:"",redirectTo:s.a.controlliSostegno,pathMatch:"full"},{path:s.a.dichiarazioni,component:et},{path:s.a.datiIstruttoria,component:H},{path:s.a.esiticalcoli,component:xt},{path:s.a.controlliSostegno,component:ui},{path:s.a.capiAmmessi,component:Vi},{path:s.a.capiRichiesti,component:re},{path:s.a.datiLiquidazione,component:se.a}],data:{mybreadcrumb:""}}]}],be=((ae=function t(){_classCallCheck(this,t)}).\u0275mod=p.Lb({type:ae}),ae.\u0275inj=p.Kb({factory:function(t){return new(t||ae)},imports:[[n.i.forChild(le)]]}),ae),de=e("cJRl"),ue=e("tZin"),pe=((ne=function t(){_classCallCheck(this,t)}).\u0275mod=p.Lb({type:ne}),ne.\u0275inj=p.Kb({factory:function(t){return new(t||ne)},providers:[a.a],imports:[[o.c,be,de.a,ue.SostegnoSharedModule]]}),ne)}}]);