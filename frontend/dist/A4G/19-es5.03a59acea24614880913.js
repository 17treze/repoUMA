function _createForOfIteratorHelper(i,e){var t="undefined"!=typeof Symbol&&i[Symbol.iterator]||i["@@iterator"];if(!t){if(Array.isArray(i)||(t=_unsupportedIterableToArray(i))||e&&i&&"number"==typeof i.length){t&&(i=t);var o=0,n=function(){};return{s:n,n:function(){return o>=i.length?{done:!0}:{done:!1,value:i[o++]}},e:function(i){throw i},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,c=!1;return{s:function(){t=t.call(i)},n:function(){var i=t.next();return a=i.done,i},e:function(i){c=!0,r=i},f:function(){try{a||null==t.return||t.return()}finally{if(c)throw r}}}}function _unsupportedIterableToArray(i,e){if(i){if("string"==typeof i)return _arrayLikeToArray(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);return"Object"===t&&i.constructor&&(t=i.constructor.name),"Map"===t||"Set"===t?Array.from(i):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(i,e):void 0}}function _arrayLikeToArray(i,e){(null==e||e>i.length)&&(e=i.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=i[t];return o}function _defineProperties(i,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}function _createClass(i,e,t){return e&&_defineProperties(i.prototype,e),t&&_defineProperties(i,t),i}function _classCallCheck(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{eMq4:function(i,e,t){"use strict";t.r(e),t.d(e,"RicercaUtentiModule",(function(){return Yi}));var o=t("R69K"),n=t("rgW5"),r=t("A+aF"),a=t("SnyB"),c=t("GLSp"),l=t("BGwN"),s=t("tyNb"),b=t("ofXK"),f=t("JEAp"),u=t("XNiG"),d=t("cp0P"),p=t("EY2u"),m=t("1G5W"),v=t("JIr8"),g=t("Tn7N"),h=function i(){_classCallCheck(this,i)},T=t("/vOn"),S=t("fXoL"),O=t("69Tm"),y=t("bYf8"),C=t("3Pt+"),U=t("GFTO"),B=t("Vh/Q"),P=t("eIep"),A=t("RtSl"),I=t("sYmb"),z=t("kPZZ"),F=t("A1Yd"),E=t("R5y+"),M=t("AD9J"),k=t("yhG/"),_=function(){return{width:"100%"}};function D(i,e){if(1&i){var t=S.Ub();S.Tb(0,"p-tree",34),S.bc("selectionChange",(function(i){return S.Ec(t),S.fc(6).selectedSediNodes=i})),S.Sb()}if(2&i){var o=S.fc(6);S.Kc(S.rc(4,_)),S.mc("value",o.entiCaaTreeNode)("selection",o.selectedSediNodes)}}function R(i,e){if(1&i&&(S.Tb(0,"div",32),S.Mc(1,D,1,5,"p-tree",33),S.Sb()),2&i){var t=S.fc(5);S.Bb(1),S.mc("ngIf",t.entiCaaTreeNode)}}function N(i,e){if(1&i){var t=S.Ub();S.Tb(0,"div"),S.Tb(1,"div",27),S.Tb(2,"p-checkbox",28),S.bc("onChange",(function(i){S.Ec(t);var e=S.fc().$implicit;return S.fc(3).enableDisableProfileInput(e.id,i.checked)})),S.Sb(),S.Tb(3,"span"),S.Tb(4,"p-checkbox",28,29),S.bc("onChange",(function(i){S.Ec(t);var e=S.fc().$implicit;return S.fc(3).disableInput(e,i.checked)})),S.gc(6,"translate"),S.Sb(),S.Ob(7,"i",30),S.Sb(),S.Sb(),S.Mc(8,R,2,1,"div",31),S.Sb()}if(2&i){var o=S.Bc(5),n=S.fc().$implicit,r=S.fc(3);S.Bb(2),S.mc("label",n.descrizione)("formControl",r.profiloUtenteFormGroup.controls[n.id]),S.Bb(2),S.nc("label",S.hc(6,6,"sospendi")),S.mc("formControl",r.profiloUtenteFormGroup.controls["disabled-"+n.id]),S.Bb(3),S.mc("className",o.checked?"pi pi-lock":"pi pi-unlock"),S.Bb(1),S.mc("ngIf",r.profiloUtenteFormGroup.controls[n.id].value&&!r.profiloUtenteFormGroup.controls["disabled-"+n.id].value)}}function G(i,e){if(1&i&&(S.Tb(0,"div"),S.Tb(1,"span"),S.Tb(2,"b"),S.Oc(3),S.Sb(),S.Oc(4),S.Sb(),S.Sb()),2&i){var t=e.$implicit,o=S.fc(6);S.Bb(3),S.Pc(o.labels.cuaaSigla),S.Bb(1),S.Qc(" ",t.cuaa,"")}}function w(i,e){if(1&i&&(S.Tb(0,"div"),S.Mc(1,G,5,2,"div",15),S.Sb()),2&i){var t=S.fc(5);S.Bb(1),S.mc("ngForOf",t.datiUtente.aziende)}}function x(i,e){if(1&i&&(S.Rb(0),S.Oc(1),S.Qb()),2&i){var t=e.$implicit;S.Bb(1),S.Rc(" ",t.denominazioneAzienda," - ",t.comune,", ")}}function $(i,e){if(1&i&&(S.Tb(0,"div",38),S.Tb(1,"strong"),S.Oc(2),S.gc(3,"translate"),S.Sb(),S.Ob(4,"br"),S.Mc(5,x,2,2,"ng-container",15),S.Sb()),2&i){var t=S.fc(5);S.Bb(2),S.Qc("",S.hc(3,2,"gestioneUtenze.distributori")," "),S.Bb(3),S.mc("ngForOf",t.datiUtente.distributori)}}function j(i,e){if(1&i){var t=S.Ub();S.Tb(0,"div",27),S.Tb(1,"p-checkbox",35),S.bc("onChange",(function(i){S.Ec(t);var e=S.fc().$implicit;return S.fc(3).enableDisableProfileInput(e.id,i.checked)})),S.Sb(),S.Tb(2,"span"),S.Tb(3,"p-checkbox",28,29),S.bc("onChange",(function(i){S.Ec(t);var e=S.fc().$implicit;return S.fc(3).disableInput(e,i.checked)})),S.gc(5,"translate"),S.Sb(),S.Ob(6,"i",30),S.Sb(),S.Sb(),S.Mc(7,w,2,1,"div",36),S.Mc(8,$,6,4,"div",37)}if(2&i){var o=S.Bc(4),n=S.fc().$implicit,r=S.fc(3);S.Bb(1),S.mc("formControl",r.profiloUtenteFormGroup.controls[n.id])("label",n.descrizione),S.Bb(2),S.nc("label",S.hc(5,7,"sospendi")),S.mc("formControl",r.profiloUtenteFormGroup.controls["disabled-"+n.id]),S.Bb(3),S.mc("className",o.checked?"pi pi-lock":"pi pi-unlock"),S.Bb(1),S.mc("ngIf",r.profiloUtenteFormGroup.controls[n.id].value&&"azienda"==n.identificativo),S.Bb(1),S.mc("ngIf",r.profiloUtenteFormGroup.controls[n.id].value&&"operatore_distributore"==n.identificativo)}}function Q(i,e){if(1&i&&(S.Tb(0,"div"),S.Mc(1,N,9,8,"div",25),S.Mc(2,j,9,9,"ng-template",null,26,S.Nc),S.Sb()),2&i){var t=e.$implicit,o=S.Bc(3);S.Bb(1),S.mc("ngIf","caa"==t.identificativo)("ngIfElse",o)}}function L(i,e){if(1&i&&(S.Tb(0,"div"),S.Mc(1,Q,4,2,"div",15),S.Sb()),2&i){var t=e.$implicit;S.Bb(1),S.mc("ngForOf",t.profili)}}function V(i,e){if(1&i){var t=S.Ub();S.Tb(0,"div"),S.Tb(1,"span"),S.Tb(2,"p-checkbox",35),S.bc("onChange",(function(i){S.Ec(t);var o=e.$implicit,n=S.fc().$implicit;return S.fc(2).enableDisableProfileInputByControlsList(o.id,n.profili,i.checked)})),S.Sb(),S.Sb(),S.Sb()}if(2&i){var o=e.$implicit,n=S.fc(3);S.Bb(2),S.mc("formControl",n.profiloUtenteFormGroup.controls[o.id])("label",o.descrizione)}}function H(i,e){if(1&i){var t=S.Ub();S.Tb(0,"p-accordion"),S.Tb(1,"p-accordionTab",39),S.Tb(2,"div",40),S.Tb(3,"span"),S.Tb(4,"p-checkbox",28,29),S.bc("onChange",(function(i){S.Ec(t);var o=e.$implicit;return S.fc(2).disableInputList(o.profili,i.checked,"disabled-MultiProfileInput")})),S.gc(6,"translate"),S.Sb(),S.Ob(7,"i",30),S.Sb(),S.Sb(),S.Tb(8,"div"),S.Mc(9,V,3,2,"div",15),S.Sb(),S.Sb(),S.Sb()}if(2&i){var o=e.$implicit,n=S.Bc(5),r=S.fc(2);S.Bb(1),S.mc("header",r.labels[o.responsabilita])("selected",!1),S.Bb(3),S.nc("label",S.hc(6,6,"sospendi")),S.mc("formControl",r.profiloUtenteFormGroup.controls["disabled-MultiProfileInput"]),S.Bb(3),S.mc("className",n.checked?"pi pi-lock":"pi pi-unlock"),S.Bb(2),S.mc("ngForOf",o.profili)}}function q(i,e){if(1&i&&S.Ob(0,"p-accordionTab",42),2&i){var t=S.fc().$implicit;S.mc("header",t.profili[0].descrizione)("selected",!1)("disabled",!0)}}function K(i,e){if(1&i&&(S.Tb(0,"p-accordion"),S.Mc(1,q,1,3,"p-accordionTab",41),S.Sb()),2&i){var t=e.$implicit;S.Bb(1),S.mc("ngForOf",t.profili)}}function Z(i,e){if(1&i&&(S.Tb(0,"div",8),S.Tb(1,"h4",9),S.Ob(2,"i",17),S.Tb(3,"span"),S.Oc(4),S.gc(5,"translate"),S.Sb(),S.Sb(),S.Tb(6,"div",11),S.Tb(7,"div",43),S.Tb(8,"div",44),S.Ob(9,"p-radioButton",45),S.gc(10,"translate"),S.Sb(),S.Tb(11,"div",44),S.Ob(12,"p-radioButton",46),S.gc(13,"translate"),S.Sb(),S.Tb(14,"div",44),S.Ob(15,"p-radioButton",47),S.gc(16,"translate"),S.Sb(),S.Sb(),S.Sb(),S.Sb()),2&i){var t=S.fc(2);S.Bb(4),S.Qc("",S.hc(5,7,"RICERCA_UTENTE.motivazioneAttivita")," *"),S.Bb(5),S.nc("label",S.hc(10,9,"gestioneUtenze.ALTRO")),S.mc("formControl",t.profiloUtenteFormGroup.controls.motivazioneDisattivazione),S.Bb(3),S.nc("label",S.hc(13,11,"gestioneUtenze.PENSIONAMENTO")),S.mc("formControl",t.profiloUtenteFormGroup.controls.motivazioneDisattivazione),S.Bb(3),S.nc("label",S.hc(16,13,"gestioneUtenze.FINE_RAPPORTO")),S.mc("formControl",t.profiloUtenteFormGroup.controls.motivazioneDisattivazione)}}var J=function(){return{overflow:"auto","max-height":"750px"}};function W(i,e){if(1&i){var t=S.Ub();S.Tb(0,"div",1),S.Tb(1,"p-dialog",2,3),S.bc("visibleChange",(function(i){return S.Ec(t),S.fc().display=i})),S.Tb(3,"form",4),S.Tb(4,"div",5),S.Tb(5,"strong",6),S.Oc(6),S.Sb(),S.Tb(7,"span",7),S.Oc(8),S.Sb(),S.Tb(9,"span"),S.Oc(10),S.Sb(),S.Sb(),S.Tb(11,"div",8),S.Tb(12,"h4",9),S.Ob(13,"i",10),S.Tb(14,"span"),S.Oc(15),S.Sb(),S.Sb(),S.Tb(16,"div",11),S.Tb(17,"p-panel"),S.Tb(18,"p-header",12),S.Ob(19,"img",13),S.Tb(20,"span",14),S.Oc(21),S.Sb(),S.Sb(),S.Mc(22,L,2,1,"div",15),S.Mc(23,H,10,8,"p-accordion",15),S.Mc(24,K,2,1,"p-accordion",15),S.Sb(),S.Sb(),S.Sb(),S.Mc(25,Z,17,15,"div",16),S.Tb(26,"div",8),S.Tb(27,"h4",9),S.Ob(28,"i",17),S.Tb(29,"span"),S.Oc(30),S.gc(31,"translate"),S.Sb(),S.Sb(),S.Tb(32,"div",11),S.Ob(33,"textarea",18),S.Sb(),S.Sb(),S.Ob(34,"hr",19),S.Tb(35,"div",20),S.Tb(36,"div",21),S.Tb(37,"button",22),S.bc("click",(function(){return S.Ec(t),S.fc().onClose()})),S.Sb(),S.Sb(),S.Tb(38,"div",21),S.Tb(39,"div",23),S.Tb(40,"button",24),S.bc("click",(function(){return S.Ec(t),S.fc().onSave()})),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Sb()}if(2&i){var o=S.fc();S.Bb(1),S.mc("visible",o.display)("focusOnShow",!1)("contentStyle",S.rc(20,J)),S.Bb(2),S.mc("formGroup",o.profiloUtenteFormGroup),S.Bb(3),S.Pc(o.datiUtente.nome+" "+o.datiUtente.cognome),S.Bb(2),S.Pc(o.labels.codiceFiscale.toLowerCase()),S.Bb(2),S.Pc(o.datiUtente.codiceFiscale),S.Bb(5),S.Pc(o.labels.configurazioneProfili),S.Bb(6),S.Pc(o.labels.nuovoSistemaInformativoAgricoltura),S.Bb(1),S.mc("ngForOf",o.responsabilitaPresentationSingleProfile),S.Bb(1),S.mc("ngForOf",o.responsabilitaPresentationMultiProfile),S.Bb(1),S.mc("ngForOf",o.responsabilitaPresentationSingleProfileNoRuoli),S.Bb(1),S.mc("ngIf",o.isDisplayMotivation()),S.Bb(5),S.Pc(S.hc(31,18,"RICERCA_UTENTE.variazioniRichiesta")),S.Bb(3),S.mc("rows",3)("formControl",o.profiloUtenteFormGroup.controls.variazioniRichiesta),S.Bb(4),S.mc("label",o.labels.ANNULLA),S.Bb(3),S.mc("label",o.labels.salva)}}var Y,X=function i(){_classCallCheck(this,i)},ii=((Y=function(){function i(e,t,o,n){_classCallCheck(this,i),this.gestioneUtenzeService=e,this.utentiService=t,this.messageService=o,this.translateService=n,this.display=!1,this.displayChange=new S.n,this.componentDestroyed$=new u.a,this.isDisplayMotivazioneDisattivazione=!1,this.labels=O.a;var r={variazioniRichiesta:new C.g("",C.G.required),"disabled-MultiProfileInput":new C.g({value:!1,disabled:!1})};this.profiloUtenteFormGroup=new C.j(r)}return _createClass(i,[{key:"handleUfficiCaaOB",value:function(i){this.entiCaaTreeNode=U.a.getTreeNodes(i)}},{key:"handleProfiliOB",value:function(i){var e,t=this,o=new Map,n=_createForOfIteratorHelper(i);try{for(n.s();!(e=n.n()).done;){var r=e.value;o.has(r.responsabilita)?o.get(r.responsabilita).push(r):o.set(r.responsabilita,[r])}}catch(v){n.e(v)}finally{n.f()}this.responsabilitaPresentationSingleProfileNoRuoli=[],this.responsabilitaPresentationSingleProfile=[],this.responsabilitaPresentationMultiProfile=[];var a,c=_createForOfIteratorHelper(Array.from(o.keys()).sort());try{for(c.s();!(a=c.n()).done;){var l=a.value,s=new X,b=o.get(l).sort();s.responsabilita=l,s.profili=b,1===b.length?b[0].haRuoli?this.responsabilitaPresentationSingleProfile.push(s):this.responsabilitaPresentationSingleProfileNoRuoli.push(s):this.responsabilitaPresentationMultiProfile.push(s)}}catch(v){c.e(v)}finally{c.f()}this.responsabilitaPresentationSingleProfileNoRuoli.sort((function(i,e){return i.responsabilita>e.responsabilita?1:-1})),this.responsabilitaPresentationSingleProfile.sort((function(i,e){return i.profili[0]>e.profili[0]?1:-1})),this.responsabilitaPresentationMultiProfile.sort((function(i,e){return i.responsabilita>e.responsabilita?1:-1}));var f,u=_createForOfIteratorHelper(this.responsabilitaPresentationSingleProfile);try{for(u.s();!(f=u.n()).done;){var d=f.value.profili[0];this.profiloUtenteFormGroup.controls[d.id]=new C.g(!1),this.profiloUtenteFormGroup.controls["disabled-"+d.id]=new C.g({value:!1,disabled:!0})}}catch(v){u.e(v)}finally{u.f()}var p,m=_createForOfIteratorHelper(this.responsabilitaPresentationMultiProfile);try{for(m.s();!(p=m.n()).done;)p.value.profili.forEach((function(i){t.profiloUtenteFormGroup.controls[i.id]=new C.g(!1),t.profiloUtenteFormGroup.controls["disabled-"+i.id]=new C.g({value:!1,disabled:!0})}))}catch(v){m.e(v)}finally{m.f()}}},{key:"isExistDisabledProfiles",value:function(){var i=!1;for(var e in this.profiloUtenteFormGroup.controls)if(e.startsWith("disabled-")&&this.profiloUtenteFormGroup.controls[e].value){console.log("found enabled 'disable button' for input: "+e),i=!0;break}return i}},{key:"disableInput",value:function(i,e){e?(this.profiloUtenteFormGroup.controls[i.id].disable(),this.profiloUtenteFormGroup.controls["disabled-"+i.id].setValue(!0),this.profiloUtenteFormGroup.controls["disabled-"+i.id].enable(),this.isDisplayMotivazioneDisattivazione||(this.isDisplayMotivazioneDisattivazione=!0,this.profiloUtenteFormGroup.addControl("motivazioneDisattivazione",new C.g(null,C.G.required)))):(this.profiloUtenteFormGroup.controls[i.id].enable(),this.profiloUtenteFormGroup.controls["disabled-"+i.id].setValue(!1),this.profiloUtenteFormGroup.controls["disabled-"+i.id].enable(),this.isExistDisabledProfiles()||(this.isDisplayMotivazioneDisattivazione=!1,this.profiloUtenteFormGroup.removeControl("motivazioneDisattivazione")))}},{key:"disableInputList",value:function(i,e,t){t&&(this.profiloUtenteFormGroup.controls[t].setValue(e),e&&this.profiloUtenteFormGroup.controls[t].enable());var o,n=!1,r=_createForOfIteratorHelper(i);try{for(r.s();!(o=r.n()).done;){var a=o.value;t&&!n&&this.profiloUtenteFormGroup.controls[a.id].value&&(this.profiloUtenteFormGroup.controls[t].enable(),n=!0),this.disableInput(a,e)}}catch(c){r.e(c)}finally{r.f()}n||this.profiloUtenteFormGroup.controls[t].disable()}},{key:"enableDisableProfileInput",value:function(i,e){e?this.profiloUtenteFormGroup.controls["disabled-"+i].enable():this.profiloUtenteFormGroup.controls["disabled-"+i].disable()}},{key:"enableDisableProfileInputByControlsList",value:function(i,e,t){var o=this;t?this.profiloUtenteFormGroup.controls["disabled-"+i].enable():this.profiloUtenteFormGroup.controls["disabled-"+i].disable(),e.some((function(i){return o.profiloUtenteFormGroup.controls[i.id].value}))?this.profiloUtenteFormGroup.controls["disabled-MultiProfileInput"].enable():this.profiloUtenteFormGroup.controls["disabled-MultiProfileInput"].disable()}},{key:"getProfiloCaaFormControl",value:function(){var i=this.responsabilitaPresentationSingleProfile.map((function(i){return i.profili})).find((function(i){return!!i.find((function(i){return"caa"===i.identificativo}))}));return i&&i.length>0?i[0]:null}},{key:"popolaDatiDomanda",value:function(){var i=this;this.profiloUtenteFormGroup.reset();var e,t=this.datiUtente.sedi,o=void 0,n=_createForOfIteratorHelper(this.datiUtente.profili);try{var r=function(){var n=e.value,r=i.profiloUtenteFormGroup.controls[n.id];r?(r.setValue(!0),i.disableInput(n,n.disabled),"caa"===n.identificativo?(i.selectedSediNodes=U.a.selectEntiSedi(i.entiCaaTreeNode,t.map((function(i){return i.id}))),i.profiloUtenteFormGroup.controls[n.id].setValue(i.selectedSediNodes.length>0)):i.responsabilitaPresentationMultiProfile.some((function(i){return i.profili.some((function(i){return i.id===n.id}))}))&&(void 0===o&&(o=[],i.responsabilitaPresentationMultiProfile.forEach((function(e){return e.profili.forEach((function(e){var t=i.datiUtente.profili.find((function(i){return i.id===e.id}));t&&o.push(t)}))}))),n.disabled&&i.disableInputList(o,!0,"disabled-MultiProfileInput"))):console.log("[WARN] id controllo mancante: "+n.id)};for(n.s();!(e=n.n()).done;)r()}catch(a){n.e(a)}finally{n.f()}this.profiloUtenteFormGroup.controls.motivazioneDisattivazione&&this.profiloUtenteFormGroup.controls.motivazioneDisattivazione.setValue(this.datiUtente.motivazioneDisattivazione)}},{key:"isDisplayMotivation",value:function(){return this.profiloUtenteFormGroup.controls.motivazioneDisattivazione&&this.isDisplayMotivazioneDisattivazione}},{key:"ngOnInit",value:function(){}},{key:"onClose",value:function(){this.display=!1,this.displayChange.emit(!1)}},{key:"onOpenOnUserID",value:function(i){var e=this;this.gestioneUtenzeService.getDatiUtenteByCodiceFiscale(i).pipe(Object(P.a)((function(i){return e.datiUtente=i,Object(d.a)([e.utentiService.getUfficiCaa().pipe(Object(v.a)((function(i){}))),e.utentiService.getProfiliUtente().pipe(Object(v.a)((function(i){})))])})),Object(m.a)(this.componentDestroyed$)).subscribe((function(i){e.handleUfficiCaaOB(i[0]),e.handleProfiliOB(i[1]),e.popolaDatiDomanda(),e.display=!0,e.displayChange.emit(!0)}))}},{key:"isProfileSelected",value:function(i){return this.profiloUtenteFormGroup.controls[i].value}},{key:"isProfileDisabled",value:function(i){return this.profiloUtenteFormGroup.controls["disabled-"+i].value}},{key:"onSave",value:function(){var i=this;if(this.datiUtente.id)if(this.profiloUtenteFormGroup.valid){var e=this.getProfiloCaaFormControl();if(e&&this.profiloUtenteFormGroup.controls[e.id]&&this.profiloUtenteFormGroup.controls[e.id].value&&0===this.selectedSediNodes.length)this.messageService.add(g.a.getToast("tst",g.b.warn,this.translateService.instant("RICHIESTE_ACCESSO.seProfiloCaaAlmeno1Sede")));else{var t=new y.b;t.profili=[],t.profiliDaDisattivare=[],t.sedi=[];var o,n=_createForOfIteratorHelper(this.responsabilitaPresentationMultiProfile.concat(this.responsabilitaPresentationSingleProfile));try{for(n.s();!(o=n.n()).done;)o.value.profili.forEach((function(e){var o=e.id;i.isProfileSelected(o)&&(i.isProfileDisabled(o)?t.profiliDaDisattivare.push(o):t.profili.push(o))}))}catch(r){n.e(r)}finally{n.f()}this.selectedSediNodes&&this.selectedSediNodes.forEach((function(i,e){i.data&&t.sedi.push(i.data.id)})),t.variazioneRichiesta=this.profiloUtenteFormGroup.controls.variazioniRichiesta.value,t.motivazioneDisattivazione=this.profiloUtenteFormGroup.controls.motivazioneDisattivazione?this.profiloUtenteFormGroup.controls.motivazioneDisattivazione.value:null,this.utentiService.postIstruttoriaProfiloUtenteByUtente(this.datiUtente.id,t).subscribe((function(e){i.messageService.add(g.a.getToast("tst",g.b.success,g.a.OPERAZIONE_OK)),i.onClose()}),(function(e){i.messageService.add(g.a.getToast("tst",g.b.error,g.a.changeStatusKo))}))}}else this.messageService.add(g.a.getToast("tst",g.b.warn,g.a.inputRequiredInvalid));else this.messageService.add(g.a.getToast("tst",g.b.error,g.a.changeStatusKo))}},{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}}]),i}()).\u0275fac=function(i){return new(i||Y)(S.Nb(B.a),S.Nb(T.a),S.Nb(A.d),S.Nb(I.e))},Y.\u0275cmp=S.Hb({type:Y,selectors:[["modifica-configurazione-utente-dialog"]],outputs:{displayChange:"displayChange"},decls:1,vars:1,consts:[["id","confirm",4,"ngIf"],["id","confirm"],["width","900","modal","true","appendTo","body","closable","true","closeOnEscape","true",3,"visible","focusOnShow","contentStyle","visibleChange"],["dialog",""],[3,"formGroup"],[1,"d-flex","align-items-center","p-3","bg-success","text-white"],[1,"mr-3"],[1,"mr-1"],[1,"popup-box"],[1,"popup-box__head"],[1,"pi","pi-cog"],[1,"popup-box__body"],[1,"d-flex","align-items-center"],["src","assets/layout/images/misure_strutturali.png","alt","x"],[1,"ui-panel-title"],[4,"ngFor","ngForOf"],["class","popup-box",4,"ngIf"],[1,"pi","pi-plus-circle"],["autoResize","autoResize","required","",2,"width","100%",3,"rows","formControl"],[1,"my-3"],[1,"row"],[1,"col-6"],["pButton","","type","button",1,"annulla","btn--text",3,"label","click"],[1,"next-button"],["pButton","","type","button",1,"salva",3,"label","click"],[4,"ngIf","ngIfElse"],["selezionaProfilo",""],[1,"checkbox--top-level","profile-checkbox"],["binary","false",3,"label","formControl","onChange"],["isSuspended",""],[3,"className"],["style","margin-bottom: .5em",4,"ngIf"],[2,"margin-bottom",".5em"],["class","profile-checkbox","selectionMode","checkbox",3,"value","selection","style","selectionChange",4,"ngIf"],["selectionMode","checkbox",1,"profile-checkbox",3,"value","selection","selectionChange"],["binary","false",3,"formControl","label","onChange"],[4,"ngIf"],["class","pl-2",4,"ngIf"],[1,"pl-2"],[3,"header","selected"],[1,"multiprofile-disable-button"],[3,"header","selected","disabled",4,"ngFor","ngForOf"],[3,"header","selected","disabled"],[1,"ui-g"],[1,"ui-g-4"],["name","motivazioneDisattivazioneGruppo","value","ALTRO",3,"label","formControl"],["name","motivazioneDisattivazioneGruppo","value","PENSIONAMENTO",3,"label","formControl"],["name","motivazioneDisattivazioneGruppo","value","FINE_RAPPORTO",3,"label","formControl"]],template:function(i,e){1&i&&S.Mc(0,W,41,21,"div",0),2&i&&S.mc("ngIf",e.datiUtente)},directives:[b.t,r.a,C.I,C.t,C.k,z.a,A.c,b.s,C.c,C.D,C.s,C.h,F.b,E.a,M.a,k.a,k.c,l.a],pipes:[I.d],styles:[".dialog-config[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #dedede;border-top:0}.ng-dirty.ng-invalid[_ngcontent-%COMP%]{border-color:red}.profile-checkbox[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex:auto;justify-content:space-between}.multiprofile-disable-button[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex:auto;justify-content:flex-end}"]}),Y),ei=t("arS9"),ti=t("O3Kt"),oi=t("KYTB"),ni=t("+WeO"),ri=["configurazioneUtenteDialog"];function ai(i,e){if(1&i&&(S.Tb(0,"p",35),S.Oc(1),S.Sb()),2&i){S.fc(2);var t=S.Bc(23);S.Bb(1),S.Qc(" ",t.errors.nomeErrato," ")}}function ci(i,e){if(1&i&&(S.Tb(0,"div"),S.Mc(1,ai,2,1,"p",34),S.Sb()),2&i){S.fc();var t=S.Bc(23);S.Bb(1),S.mc("ngIf",null==t.errors?null:t.errors.nomeErrato)}}function li(i,e){if(1&i&&(S.Tb(0,"p",35),S.Oc(1),S.Sb()),2&i){S.fc(2);var t=S.Bc(30);S.Bb(1),S.Qc(" ",t.errors.cognomeErrato," ")}}function si(i,e){if(1&i&&(S.Tb(0,"div"),S.Mc(1,li,2,1,"p",34),S.Sb()),2&i){S.fc();var t=S.Bc(30);S.Bb(1),S.mc("ngIf",null==t.errors?null:t.errors.cognomeErrato)}}function bi(i,e){if(1&i&&(S.Tb(0,"p",35),S.Oc(1),S.Sb()),2&i){S.fc(2);var t=S.Bc(37);S.Bb(1),S.Qc(" ",t.errors.cfErrato," ")}}function fi(i,e){if(1&i&&(S.Tb(0,"div"),S.Mc(1,bi,2,1,"p",34),S.Sb()),2&i){S.fc();var t=S.Bc(37);S.Bb(1),S.mc("ngIf",null==t.errors?null:t.errors.cfErrato)}}function ui(i,e){if(1&i&&(S.Tb(0,"div",44),S.Tb(1,"strong"),S.Oc(2),S.gc(3,"translate"),S.Sb(),S.Oc(4),S.Sb()),2&i){var t=S.fc().$implicit;S.Bb(2),S.Pc(S.hc(3,2,"SRT")),S.Bb(2),S.Qc(" ",t.profili.ruoloSrt," ")}}function di(i,e){1&i&&(S.Tb(0,"div",44),S.Oc(1),S.gc(2,"translate"),S.Sb()),2&i&&(S.Bb(1),S.Qc(" ",S.hc(2,1,"RICERCA_UTENTE.NON_TROVATO_SRT")," "))}function pi(i,e){if(1&i&&(S.Tb(0,"span"),S.Oc(1),S.Sb()),2&i){var t=S.fc().$implicit;S.Bb(1),S.Pc(t.descrizione)}}function mi(i,e){if(1&i&&(S.Tb(0,"del"),S.Oc(1),S.Sb()),2&i){var t=S.fc().$implicit;S.Bb(1),S.Pc(t.descrizione)}}function vi(i,e){1&i&&(S.Tb(0,"i",47),S.Oc(1," lock "),S.Sb())}function gi(i,e){if(1&i&&(S.Tb(0,"div",44),S.Tb(1,"strong"),S.Oc(2,"A4G "),S.Sb(),S.Mc(3,pi,2,1,"span",17),S.Mc(4,mi,2,1,"del",17),S.Mc(5,vi,2,0,"i",46),S.Sb()),2&i){var t=e.$implicit;S.Bb(3),S.mc("ngIf",!t.disabled),S.Bb(1),S.mc("ngIf",t.disabled),S.Bb(1),S.mc("ngIf",t.disabled)}}function hi(i,e){if(1&i&&(S.Tb(0,"div"),S.Mc(1,gi,6,3,"div",45),S.Sb()),2&i){var t=S.fc().$implicit;S.Bb(1),S.mc("ngForOf",t.profili.profiliA4g)}}function Ti(i,e){1&i&&(S.Tb(0,"div"),S.Tb(1,"div",44),S.Oc(2),S.gc(3,"translate"),S.Sb(),S.Sb()),2&i&&(S.Bb(2),S.Qc(" ",S.hc(3,1,"RICERCA_UTENTE.NON_TROVATO_A4G"),""))}function Si(i,e){if(1&i&&(S.Tb(0,"div",44),S.Tb(1,"strong"),S.Oc(2,"AGS"),S.Sb(),S.Oc(3),S.Sb()),2&i){var t=e.$implicit;S.Bb(3),S.Qc(" ",t,"")}}function Oi(i,e){if(1&i&&(S.Tb(0,"div"),S.Mc(1,Si,4,1,"div",45),S.Sb()),2&i){var t=S.fc().$implicit;S.Bb(1),S.mc("ngForOf",t.profili.profiliAgs)}}function yi(i,e){1&i&&(S.Tb(0,"div"),S.Tb(1,"div",44),S.Oc(2),S.gc(3,"translate"),S.Sb(),S.Sb()),2&i&&(S.Bb(2),S.Qc(" ",S.hc(3,1,"RICERCA_UTENTE.NON_TROVATO_AGS"),""))}function Ci(i,e){if(1&i){var t=S.Ub();S.Tb(0,"p-accordionTab",36),S.Tb(1,"p-header"),S.Tb(2,"div"),S.Oc(3),S.gc(4,"translate"),S.Tb(5,"strong",37),S.Oc(6),S.Sb(),S.Sb(),S.Tb(7,"div",38),S.Tb(8,"p-button",39),S.bc("click",(function(i){S.Ec(t);var o=e.$implicit,n=S.fc();return i.preventDefault(),n.vaiAlloStorico(o)})),S.gc(9,"translate"),S.Sb(),S.Tb(10,"p-button",40),S.bc("click",(function(i){S.Ec(t);var o=e.$implicit,n=S.fc();return i.stopPropagation(),n.openConfigura(!!o.profili.profiliA4g,o.cf)})),S.gc(11,"translate"),S.Sb(),S.Sb(),S.Sb(),S.Tb(12,"div",41),S.Tb(13,"div",26),S.Mc(14,ui,5,4,"div",42),S.Mc(15,di,3,3,"ng-template",null,43,S.Nc),S.Sb(),S.Tb(17,"div",26),S.Mc(18,hi,2,1,"div",17),S.Mc(19,Ti,4,3,"div",17),S.Sb(),S.Tb(20,"div",26),S.Mc(21,Oi,2,1,"div",17),S.Mc(22,yi,4,3,"div",17),S.Sb(),S.Sb(),S.Sb()}if(2&i){var o=e.$implicit,n=S.Bc(16);S.mc("selected",!1),S.Bb(3),S.Rc("",S.hc(4,14,"CODICE_FISCALE"),": ",o.cf," "),S.Bb(3),S.Pc(o.profili.denominazione),S.Bb(2),S.nc("label",S.hc(9,16,"RICERCA_UTENTE.STORICO")),S.mc("disabled",!o.profili.profiliA4g),S.Bb(2),S.nc("label",S.hc(11,18,"RICERCA_UTENTE.dettaglioUtente")),S.mc("disabled",!o.profili.profiliA4g),S.Bb(4),S.mc("ngIf",o.profili.ruoloSrt)("ngIfElse",n),S.Bb(4),S.mc("ngIf",o.profili.profiliA4g),S.Bb(1),S.mc("ngIf",!(o.profili.profiliA4g&&o.profili.profiliA4g.length>0)),S.Bb(2),S.mc("ngIf",o.profili.profiliAgs&&o.profili.profiliAgs.length>0),S.Bb(1),S.mc("ngIf",!(o.profili.profiliAgs&&o.profili.profiliAgs.length>0))}}var Ui,Bi=function(){return{marginTop:"70px"}},Pi=function(i){return{"is-invalid":i}},Ai=function(){function i(){_classCallCheck(this,i)}return _createClass(i,[{key:"addA4gProfile",value:function(i,e){this.profiliA4g||(this.profiliA4g=new Array),this.profiliA4g.some((function(e){return e.descrizione===i}))||this.profiliA4g.push({descrizione:i,disabled:e})}},{key:"addAgsProfile",value:function(i){this.profiliAgs||(this.profiliAgs=[]),this.profiliAgs.includes(i)||this.profiliAgs.push(i)}}]),i}(),Ii=function i(){_classCallCheck(this,i)},zi=((Ui=function(){function i(e,t,o,n){_classCallCheck(this,i),this.utentiService=e,this.route=t,this.messages=o,this.router=n,this.componentDestroyed$=new u.a,this.utenti=[]}return _createClass(i,[{key:"ngOnInit",value:function(){var i=this;this.datiUtente=new h,this.route.queryParams.pipe(Object(m.a)(this.componentDestroyed$)).subscribe((function(e){var t=e["ricerca-nome"],o=e["ricerca-cognome"],n=e["ricerca-cf"];(t||o||n)&&(i.nome=t,i.cognome=o,i.codiceFiscale=n,i.eseguiRicerca(t,o,n))}))}},{key:"eseguiRicerca",value:function(i,e,t){var o=this;this.utenti=[],this.datiUtente.nome=i,this.datiUtente.cognome=e,this.datiUtente.codiceFiscale=t,Object(d.a)([this.utentiService.getProfiliSrt(this.datiUtente).pipe(Object(v.a)((function(i){return o.messages.add(g.a.getToast("tst",g.b.error,g.a.erroreRecuperoDatiSrt)),Object(p.b)()}))),this.utentiService.getProfiliAgs(this.datiUtente).pipe(Object(v.a)((function(i){return o.messages.add(g.a.getToast("tst",g.b.error,g.a.erroreRecuperoDatiAgs)),Object(p.b)()}))),this.utentiService.getProfiliA4g(this.datiUtente).pipe(Object(v.a)((function(i){return o.messages.add(g.a.getToast("tst",g.b.error,g.a.erroreRecuperoDatiA4g)),Object(p.b)()})))]).pipe(Object(m.a)(this.componentDestroyed$)).subscribe((function(i){var e=o.getProfilesArray(i[0]),t=o.getProfilesArray(i[1]),n=o.getProfilesArray(i[2]);o.creaUtenteCompleto(e,t,n)}),(function(i){console.log(i)}))}},{key:"onSubmit",value:function(i){var e={};this.nome&&(e["ricerca-nome"]=this.nome),this.cognome&&(e["ricerca-cognome"]=this.cognome),this.codiceFiscale&&(e["ricerca-cf"]=this.codiceFiscale),console.log("onSubmit routre navigaate"),this.router.navigate(["./"],{relativeTo:this.route,queryParams:e})}},{key:"getProfilesArray",value:function(i){var e=[];return i&&i.forEach((function(i){e.push(i)})),e}},{key:"openConfigura",value:function(i,e){return i&&this.configurazioneUtenteDialog.onOpenOnUserID(e),!1}},{key:"onDialogClose",value:function(i){}},{key:"creaUtenteCompleto",value:function(i,e,t){var o=this,n=new Map;if(i&&i.forEach((function(i){if(i){var e=n[o.toUpperCaseAndTrim(i.codiceFiscale)];e?e.ruoloSrt=e.ruoloSrt+", "+i.ruolo:((e=new Ai).denominazione=o.toUpperCaseAndTrim(i.nome)+" "+o.toUpperCaseAndTrim(i.cognome),e.ruoloSrt=i.ruolo,n[o.toUpperCaseAndTrim(i.codiceFiscale)]=e)}})),e&&e.forEach((function(i){if(i){var e=n[o.toUpperCaseAndTrim(i.cf)];e?e.addAgsProfile(i.utenza):((e=new Ai).denominazione=o.toUpperCaseAndTrim(i.nome)+" "+o.toUpperCaseAndTrim(i.cognome),e.addAgsProfile(i.utenza),n[o.toUpperCaseAndTrim(i.cf)]=e)}})),t&&t.forEach((function(i){if(i){var e=n[o.toUpperCaseAndTrim(i.codiceFiscale)];e?(i.profili.forEach((function(i){"UTENZA_TECNICA"!=i.responsabilita&&e.addA4gProfile(i.descrizione,i.disabled)})),e.id=i.id):((e=new Ai).id=i.id,e.denominazione=o.toUpperCaseAndTrim(i.nome)+" "+o.toUpperCaseAndTrim(i.cognome),n[o.toUpperCaseAndTrim(i.codiceFiscale)]=e,i.profili.forEach((function(i){"UTENZA_TECNICA"!=i.responsabilita&&e.addA4gProfile(i.descrizione,i.disabled)})))}})),0===Object.keys(n).length)this.messages.add(g.a.getToast("tst",g.b.warn,g.a.utenteNonTrovato));else{var r=[];Object.keys(n).map((function(i){var e=new Ii;return e.cf=i,e.profili=n[i],r.push(e),r})),r.sort((function(i,e){return i.profili.denominazione>e.profili.denominazione?1:i.profili.denominazione<e.profili.denominazione?-1:i.cf>e.cf?1:i.cf<e.cf?-1:0})),this.utenti=r}}},{key:"downloadUtentiA4gCsv",value:function(){var i=this;this.utentiService.getEsportaUtentiA4gCsv().pipe(Object(m.a)(this.componentDestroyed$)).subscribe((function(i){f.saveAs(i.body,"utentiA4g.csv")}),(function(e){i.messages.add(g.a.getToast("tst",g.b.error,g.a.ERRORE_STAMPA_UTENTI_A4G))}))}},{key:"toUpperCaseAndTrim",value:function(i){return i?i.toUpperCase().trim():""}},{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}},{key:"vaiAlloStorico",value:function(i){this.router.navigate(["./ricercaUtenti/:idUtenza/storicoUtenza".replace(":idUtenza",i.profili.id)],{relativeTo:this.route.parent.parent})}}]),i}()).\u0275fac=function(i){return new(i||Ui)(S.Nb(T.a),S.Nb(s.a),S.Nb(A.d),S.Nb(s.e))},Ui.\u0275cmp=S.Hb({type:Ui,selectors:[["app-ricerca-utenti"]],viewQuery:function(i,e){var t;1&i&&S.Jc(ri,!0),2&i&&S.Ac(t=S.cc())&&(e.configurazioneUtenteDialog=t.first)},decls:65,vars:39,consts:[["key","tst",3,"baseZIndex"],[3,"displayChange"],["configurazioneUtenteDialog",""],[1,"ui-g","ui-fluid","page-ricerca-utenti"],[1,"tophome"],[1,"ui-grid-fixed"],[1,"row","align-items-stretch"],[1,"col","d-inline-flex","justify-content-between","align-items-center"],[1,"btn-border-light"],["pButton","","icon","pi pi-arrow-down","iconPos","right",1,"border","h-100",3,"label","click"],[1,"ui-grid-fixed","boxgrey-user","mt-5"],[3,"ngSubmit"],["f","ngForm"],[1,"col-3","d-inline-flex","align-items-center"],[1,"mb-0","mr-2"],["type","text","name","nome","appValidaNome","","pInputText","",3,"ngModel","ngClass","ngModelChange"],["nomeInput","ngModel"],[4,"ngIf"],["type","text","name","cognome","appValidaCognome","","pInputText","",3,"ngModel","ngClass","ngModelChange"],["cognomeInput","ngModel"],["type","text","name","codiceFiscale","appValidaCf","","pInputText","",3,"ngModel","ngClass","ngModelChange"],["cfInput","ngModel"],[1,"col-3"],[1,"next-button","sm","h-100","command-button"],["pButton","","icon","ui-icon-search","type","submit",1,"h-100",3,"label","disabled"],[1,"ui-g-12","boxlanding","row","w-auto","p-0"],[1,"col-4"],[1,"card"],[1,"topcard"],["alt","logo","src","assets/layout/images/misure_strutturali.png"],["alt","logo","src","assets/layout/images/nuovo_sistema.png"],["alt","logo","src","assets/layout/images/sistema_informativo.png"],[1,"ui-g-12","p-0"],[3,"selected",4,"ngFor","ngForOf"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],[1,"ui-message","ui-messages-error","ui-corner-all"],[3,"selected"],[1,"ml-3"],[1,"ml-auto","d-flex","align-items-center"],["icon","pi pi-replay","iconPos","left",1,"ui-button-secondary","ml-4","command-button",3,"disabled","label","click"],["icon","pi pi-cog","iconPos","left",1,"ml-4","command-button",3,"disabled","label","click"],[1,"row","mb-5"],["class","box-user-role",4,"ngIf","ngIfElse"],["noSrt",""],[1,"box-user-role"],["class","box-user-role",4,"ngFor","ngForOf"],["class","material-icons","style","font-size: 120%;",4,"ngIf"],[1,"material-icons",2,"font-size","120%"]],template:function(i,e){if(1&i){var t=S.Ub();S.Ob(0,"p-toast",0),S.Tb(1,"modifica-configurazione-utente-dialog",1,2),S.bc("displayChange",(function(i){return e.onDialogClose(i)})),S.Sb(),S.Tb(3,"div",3),S.Tb(4,"div",4),S.Tb(5,"div",5),S.Tb(6,"div",6),S.Tb(7,"div",7),S.Tb(8,"h4"),S.Oc(9),S.gc(10,"translate"),S.Sb(),S.Tb(11,"div",8),S.Tb(12,"button",9),S.bc("click",(function(){return e.downloadUtentiA4gCsv()})),S.gc(13,"translate"),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Tb(14,"div",10),S.Tb(15,"form",11,12),S.bc("ngSubmit",(function(){S.Ec(t);var i=S.Bc(16);return e.onSubmit(i)})),S.Tb(17,"div",6),S.Tb(18,"div",13),S.Tb(19,"label",14),S.Oc(20),S.gc(21,"translate"),S.Sb(),S.Tb(22,"input",15,16),S.bc("ngModelChange",(function(i){return e.nome=i})),S.Sb(),S.Mc(24,ci,2,1,"div",17),S.Sb(),S.Tb(25,"div",13),S.Tb(26,"label",14),S.Oc(27),S.gc(28,"translate"),S.Sb(),S.Tb(29,"input",18,19),S.bc("ngModelChange",(function(i){return e.cognome=i})),S.Sb(),S.Mc(31,si,2,1,"div",17),S.Sb(),S.Tb(32,"div",13),S.Tb(33,"label",14),S.Oc(34),S.gc(35,"translate"),S.Sb(),S.Tb(36,"input",20,21),S.bc("ngModelChange",(function(i){return e.codiceFiscale=i})),S.Sb(),S.Mc(38,fi,2,1,"div",17),S.Sb(),S.Tb(39,"div",22),S.Tb(40,"div",23),S.Ob(41,"button",24),S.gc(42,"translate"),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Tb(43,"div",25),S.Tb(44,"div",26),S.Tb(45,"div",27),S.Tb(46,"div",28),S.Ob(47,"img",29),S.Tb(48,"h4"),S.Oc(49,"SRTrento - Misure strutturali"),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Tb(50,"div",26),S.Tb(51,"div",27),S.Tb(52,"div",28),S.Ob(53,"img",30),S.Tb(54,"h4"),S.Oc(55,"A4G - Nuovo Sistema Informativo Agricoltura"),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Tb(56,"div",26),S.Tb(57,"div",27),S.Tb(58,"div",28),S.Ob(59,"img",31),S.Tb(60,"h4"),S.Oc(61,"SIAP - Sistema Informativo Agricoltura"),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Sb(),S.Tb(62,"div",32),S.Tb(63,"p-accordion"),S.Mc(64,Ci,23,20,"p-accordionTab",33),S.Sb(),S.Sb(),S.Sb(),S.Sb()}if(2&i){var o=S.Bc(16),n=S.Bc(23),r=S.Bc(30),a=S.Bc(37);S.Kc(S.rc(32,Bi)),S.mc("baseZIndex",5e4),S.Bb(9),S.Pc(S.hc(10,20,"RICERCA_UTENTE.RICERCA_UTENTI")),S.Bb(3),S.nc("label",S.hc(13,22,"RICERCA_UTENTE.ESPORTA_UTENTI")),S.Bb(8),S.Pc(S.hc(21,24,"Nome")),S.Bb(2),S.mc("ngModel",e.nome)("ngClass",S.sc(33,Pi,n.invalid)),S.Bb(2),S.mc("ngIf",n.errors),S.Bb(3),S.Pc(S.hc(28,26,"Cognome")),S.Bb(2),S.mc("ngModel",e.cognome)("ngClass",S.sc(35,Pi,r.invalid)),S.Bb(2),S.mc("ngIf",r.errors),S.Bb(3),S.Pc(S.hc(35,28,"CF")),S.Bb(2),S.mc("ngModel",e.codiceFiscale)("ngClass",S.sc(37,Pi,a.invalid)),S.Bb(2),S.mc("ngIf",a.errors),S.Bb(3),S.nc("label",S.hc(42,30,"RICERCA_UTENTE.CERCA_UTENTE")),S.mc("disabled",!o.valid||!e.nome&&!e.cognome&&!e.codiceFiscale),S.Bb(23),S.mc("ngForOf",e.utenti)}},directives:[ei.a,ii,F.b,C.I,C.t,C.u,C.c,ti.a,c.a,C.s,C.v,b.q,b.t,oi.a,ni.a,k.a,b.s,k.c,A.c,F.a],pipes:[I.d],styles:[""]}),Ui),Fi=t("eZS7"),Ei=t("yWug");function Mi(i,e){if(1&i&&(S.Tb(0,"tr"),S.Tb(1,"th",14),S.Oc(2),S.Sb(),S.Tb(3,"th",14),S.Oc(4),S.Sb(),S.Tb(5,"th",15),S.Oc(6),S.Sb(),S.Tb(7,"th",15),S.Oc(8),S.Sb(),S.Tb(9,"th",16),S.Oc(10),S.Sb(),S.Sb()),2&i){var t=S.fc(2);S.Bb(2),S.Pc(t.intestazioni.data),S.Bb(2),S.Pc(t.intestazioni.OPE),S.Bb(2),S.Pc(t.intestazioni.PROF),S.Bb(2),S.Pc(t.intestazioni.SEDI_CUAA_DIST),S.Bb(2),S.Pc(t.intestazioni.VAR_RICH_MOT_DISATT)}}function ki(i,e){1&i&&(S.Tb(0,"i",20),S.Oc(1," lock "),S.Sb())}function _i(i,e){if(1&i&&(S.Tb(0,"li"),S.Tb(1,"span",18),S.Oc(2),S.Mc(3,ki,2,0,"i",19),S.Sb(),S.Sb()),2&i){var t=e.$implicit;S.Bb(1),S.mc("ngClass",t.disabled?"disabled":"enabled"),S.Bb(1),S.Qc("",t.descrizione," "),S.Bb(1),S.mc("ngIf",t.disabled)}}function Di(i,e){if(1&i&&(S.Rb(0),S.Tb(1,"ul"),S.Mc(2,_i,4,3,"li",17),S.Sb(),S.Qb()),2&i){var t=S.fc().$implicit;S.Bb(2),S.mc("ngForOf",t.profili)}}function Ri(i,e){if(1&i&&(S.Tb(0,"li"),S.Tb(1,"span"),S.Oc(2),S.Sb(),S.Sb()),2&i){var t=e.$implicit;S.Bb(2),S.Pc(t.descrizione)}}function Ni(i,e){if(1&i&&(S.Rb(0),S.Tb(1,"span"),S.Oc(2),S.Sb(),S.Tb(3,"ul"),S.Mc(4,Ri,3,1,"li",17),S.Sb(),S.Qb()),2&i){var t=S.fc().$implicit,o=S.fc(2);S.Bb(2),S.Pc(o.intestazioni.SEDI),S.Bb(2),S.mc("ngForOf",t.sedi)}}function Gi(i,e){if(1&i&&(S.Tb(0,"li"),S.Tb(1,"span"),S.Oc(2),S.Sb(),S.Sb()),2&i){var t=e.$implicit;S.Bb(2),S.Pc(t.cuaa)}}function wi(i,e){if(1&i&&(S.Rb(0),S.Tb(1,"span"),S.Oc(2),S.Sb(),S.Tb(3,"ul"),S.Mc(4,Gi,3,1,"li",17),S.Sb(),S.Qb()),2&i){var t=S.fc().$implicit,o=S.fc(2);S.Bb(2),S.Pc(o.intestazioni.CUAA),S.Bb(2),S.mc("ngForOf",t.aziende)}}function xi(i,e){if(1&i&&(S.Tb(0,"li"),S.Tb(1,"span"),S.Oc(2),S.Sb(),S.Sb()),2&i){var t=e.$implicit;S.Bb(2),S.Pc(t.denominazioneAzienda)}}function $i(i,e){if(1&i&&(S.Rb(0),S.Tb(1,"span"),S.Oc(2),S.Sb(),S.Tb(3,"ul"),S.Mc(4,xi,3,1,"li",17),S.Sb(),S.Qb()),2&i){var t=S.fc().$implicit,o=S.fc(2);S.Bb(2),S.Pc(o.intestazioni.DIST),S.Bb(2),S.mc("ngForOf",t.distributori)}}function ji(i,e){if(1&i&&(S.Tb(0,"div"),S.Ob(1,"br"),S.Oc(2),S.Sb()),2&i){var t=S.fc().$implicit,o=S.fc(2);S.Bb(2),S.Qc("",o.motiviDisattivazione[t.motivazioneDisattivazione]," ")}}function Qi(i,e){if(1&i&&(S.Tb(0,"tr"),S.Tb(1,"td"),S.Oc(2),S.gc(3,"date"),S.Sb(),S.Tb(4,"td"),S.Oc(5),S.Sb(),S.Tb(6,"td"),S.Mc(7,Di,3,1,"ng-container",9),S.Sb(),S.Tb(8,"td"),S.Mc(9,Ni,5,2,"ng-container",9),S.Mc(10,wi,5,2,"ng-container",9),S.Mc(11,$i,5,2,"ng-container",9),S.Sb(),S.Tb(12,"td"),S.Tb(13,"div"),S.Oc(14),S.Sb(),S.Mc(15,ji,3,1,"div",9),S.Sb(),S.Sb()),2&i){var t=e.$implicit,o=S.fc(2);S.Bb(2),S.Pc(S.ic(3,9,t.dataTermineIstruttoria,o.DATE_FORMAT)),S.Bb(3),S.Rc("",t.istruttore.nome," ",t.istruttore.cognome,""),S.Bb(2),S.mc("ngIf",t.profili&&t.profili.length>0),S.Bb(2),S.mc("ngIf",t.sedi&&t.sedi.length>0),S.Bb(1),S.mc("ngIf",t.aziende&&t.aziende.length>0),S.Bb(1),S.mc("ngIf",t.distributori&&t.distributori.length>0),S.Bb(3),S.Pc(t.variazioneRichiesta),S.Bb(1),S.mc("ngIf",t.motivazioneDisattivazione)}}function Li(i,e){if(1&i&&(S.Tb(0,"tr"),S.Tb(1,"td"),S.Oc(2),S.Sb(),S.Sb()),2&i){var t=S.fc(2);S.Bb(1),S.Cb("colspan",5),S.Bb(1),S.Qc(" ",t.intestazioni.noStoricoContent," ")}}function Vi(i,e){if(1&i&&(S.Tb(0,"div"),S.Tb(1,"p-table",10),S.Mc(2,Mi,11,5,"ng-template",11),S.Mc(3,Qi,16,12,"ng-template",12),S.Mc(4,Li,3,2,"ng-template",13),S.Sb(),S.Sb()),2&i){var t=S.fc();S.Bb(1),S.mc("value",t.istruttorie)("autoLayout",!0)("responsive",!0)}}var Hi,qi,Ki,Zi=[{path:"",component:zi,pathMatch:"full"},{path:":idUtenza/storicoUtenza",component:(Hi=function(){function i(e,t){_classCallCheck(this,i),this.route=e,this.gestioneUtenzeService=t,this.componentDestroyed$=new u.a,this.intestazioni=O.a,this.DATE_FORMAT=Fi.a.PATTERN_DATE_2,this.motiviDisattivazione={ALTRO:"Altro",PENSIONAMENTO:"Pensionamento",FINE_RAPPORTO:"Fine rapporto"}}return _createClass(i,[{key:"ngOnInit",value:function(){this.callServices()}},{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}},{key:"callServices",value:function(){var i=this;this.route.paramMap.pipe(Object(P.a)((function(e){return i.idUtente=e.get("idUtenza"),i.gestioneUtenzeService.getStorico(i.idUtente)})),Object(m.a)(this.componentDestroyed$)).subscribe((function(e){i.istruttorie=e.istruttorie,i.utente=e.utente}))}}]),i}(),Hi.\u0275fac=function(i){return new(i||Hi)(S.Nb(s.a),S.Nb(B.a))},Hi.\u0275cmp=S.Hb({type:Hi,selectors:[["app-storico-utenza"]],decls:16,vars:7,consts:[[1,"ui-g","ui-fluid","page-ricerca-utenti"],[1,"tophome"],[1,"ui-grid-fixed"],[1,"ui-g"],[1,"ui-g-2"],[1,"ui-g-6"],[1,"ui-g-4"],[1,"ui-grid-fixed","boxgrey"],[1,"mb-3"],[4,"ngIf"],[1,"table--gestione-utenze",3,"value","autoLayout","responsive"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[2,"width","15%"],[2,"width","25%"],[2,"width","20%"],[4,"ngFor","ngForOf"],[3,"ngClass"],["class","material-icons ng-star-inserted icon-disabled",4,"ngIf"],[1,"material-icons","ng-star-inserted","icon-disabled"]],template:function(i,e){1&i&&(S.Tb(0,"div",0),S.Tb(1,"div",1),S.Tb(2,"div",2),S.Tb(3,"div",3),S.Tb(4,"div",4),S.Tb(5,"h4"),S.Oc(6),S.Sb(),S.Sb(),S.Tb(7,"div",5),S.Tb(8,"h6"),S.Oc(9),S.Sb(),S.Sb(),S.Ob(10,"div",6),S.Sb(),S.Sb(),S.Sb(),S.Tb(11,"div",7),S.Tb(12,"h3",8),S.Oc(13),S.gc(14,"translate"),S.Sb(),S.Mc(15,Vi,5,3,"div",9),S.Sb(),S.Sb()),2&i&&(S.Bb(6),S.Rc("",null==e.utente?null:e.utente.nome," ",null==e.utente?null:e.utente.cognome," "),S.Bb(3),S.Qc("codice fiscale ",null==e.utente?null:e.utente.codiceFiscale," "),S.Bb(4),S.Pc(S.hc(14,5,"STORICO_UTENZA")),S.Bb(2),S.mc("ngIf",e.istruttorie))},directives:[b.t,Ei.q,A.e,b.s,b.q],pipes:[I.d,b.f],styles:[".ui-g-6[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:18px;letter-spacing:-.2px;padding:27px 0;margin:0}.disabled[_ngcontent-%COMP%]{text-decoration:line-through}.variazione[_ngcontent-%COMP%]{text-align:justify}.icon-disabled[_ngcontent-%COMP%]{font-size:120%}"]}),Hi),data:{mybreadcrumb:O.a.STORICO_UTENZE}}],Ji=((qi=function i(){_classCallCheck(this,i)}).\u0275mod=S.Lb({type:qi}),qi.\u0275inj=S.Kb({factory:function(i){return new(i||qi)},imports:[[b.c,s.i.forChild(Zi)]]}),qi),Wi=t("sqTO"),Yi=((Ki=function i(){_classCallCheck(this,i)}).\u0275mod=S.Lb({type:Ki}),Ki.\u0275inj=S.Kb({factory:function(i){return new(i||Ki)},imports:[[o.a,n.c,r.b,a.b,c.b,Ji,Wi.GestioneUtenzeModule,l.b]]}),Ki)}}]);