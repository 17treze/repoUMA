function _slicedToArray(i,t){return _arrayWithHoles(i)||_iterableToArrayLimit(i,t)||_unsupportedIterableToArray(i,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(i,t){var e=null==i?null:"undefined"!=typeof Symbol&&i[Symbol.iterator]||i["@@iterator"];if(null!=e){var a,o,c=[],n=!0,r=!1;try{for(e=e.call(i);!(n=(a=e.next()).done)&&(c.push(a.value),!t||c.length!==t);n=!0);}catch(l){r=!0,o=l}finally{try{n||null==e.return||e.return()}finally{if(r)throw o}}return c}}function _arrayWithHoles(i){if(Array.isArray(i))return i}function _toConsumableArray(i){return _arrayWithoutHoles(i)||_iterableToArray(i)||_unsupportedIterableToArray(i)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(i){if("undefined"!=typeof Symbol&&null!=i[Symbol.iterator]||null!=i["@@iterator"])return Array.from(i)}function _arrayWithoutHoles(i){if(Array.isArray(i))return _arrayLikeToArray(i)}function _createForOfIteratorHelper(i,t){var e="undefined"!=typeof Symbol&&i[Symbol.iterator]||i["@@iterator"];if(!e){if(Array.isArray(i)||(e=_unsupportedIterableToArray(i))||t&&i&&"number"==typeof i.length){e&&(i=e);var a=0,o=function(){};return{s:o,n:function(){return a>=i.length?{done:!0}:{done:!1,value:i[a++]}},e:function(i){throw i},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,n=!0,r=!1;return{s:function(){e=e.call(i)},n:function(){var i=e.next();return n=i.done,i},e:function(i){r=!0,c=i},f:function(){try{n||null==e.return||e.return()}finally{if(r)throw c}}}}function _unsupportedIterableToArray(i,t){if(i){if("string"==typeof i)return _arrayLikeToArray(i,t);var e=Object.prototype.toString.call(i).slice(8,-1);return"Object"===e&&i.constructor&&(e=i.constructor.name),"Map"===e||"Set"===e?Array.from(i):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(i,t):void 0}}function _arrayLikeToArray(i,t){(null==t||t>i.length)&&(t=i.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=i[e];return a}function _inherits(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),t&&_setPrototypeOf(i,t)}function _setPrototypeOf(i,t){return(_setPrototypeOf=Object.setPrototypeOf||function(i,t){return i.__proto__=t,i})(i,t)}function _createSuper(i){var t=_isNativeReflectConstruct();return function(){var e,a=_getPrototypeOf(i);if(t){var o=_getPrototypeOf(this).constructor;e=Reflect.construct(a,arguments,o)}else e=a.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(i,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(i):t}function _assertThisInitialized(i){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(i){return!1}}function _getPrototypeOf(i){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)})(i)}function _defineProperties(i,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}function _createClass(i,t,e){return t&&_defineProperties(i.prototype,t),e&&_defineProperties(i,e),i}function _classCallCheck(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{Fs4F:function(i,t,e){"use strict";e.r(t),e.d(t,"FascicoloDettaglioModule",(function(){return Vr}));var a,o=function i(){_classCallCheck(this,i)},c=e("tk/3"),n=e("dkQB"),r=e("ofXK"),l=e("fXoL"),s=((a=function(){function i(t,e){_classCallCheck(this,i),this.http=t,this.configuration=e,this.urlTerritorio=""+this.configuration.territorio_server,this.urlConduzioneTerreno=this.urlTerritorio+"/conduzione-terreno"}return _createClass(i,[{key:"urlTipoConduzione",value:function(){return this.urlConduzioneTerreno+"/elenco-tipi-conduzione"}},{key:"urlTitoloConduzione",value:function(i){return"".concat(this.urlConduzioneTerreno,"/salva/").concat(i)}},{key:"getTipoConduzione",value:function(){return this.http.get(this.urlTipoConduzione())}},{key:"putTitoloConduzione",value:function(i,t){t.documentiConduzione.forEach((function(i){i.dataInizioValidita=i.dataInizioValidita?Object(r.I)(i.dataInizioValidita,"yyyy-MM-dd","it-IT"):"",i.dataFineValidita=i.dataFineValidita?Object(r.I)(i.dataFineValidita,"yyyy-MM-dd","it-IT"):""}));var e=new c.f({"Content-Type":"application/json"});return this.http.put(this.urlTitoloConduzione(i),JSON.stringify(t),{headers:e})}}]),i}()).\u0275fac=function(i){return new(i||a)(l.Xb(c.b),l.Xb(n.a))},a.\u0275prov=l.Jb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),b=e("WpDp"),u=e("3Pt+"),d=e("cS1N"),p=e("Tn7N"),m=e("RtSl"),g=e("sYmb"),f=e("arS9"),h=e("A+aF"),v=e("yhG/"),T=e("A1Yd"),S=e("1SSY"),O=e("DYOT");function C(i,t){1&i&&l.Ob(0,"i",16)}function A(i,t){if(1&i){var e=l.Ub();l.Tb(0,"form",17),l.bc("ngSubmit",(function(){return l.Ec(e),l.fc().onSubmit()})),l.Tb(1,"div",18),l.Tb(2,"div",19),l.Tb(3,"label",20),l.Oc(4,"Tipologia"),l.Sb(),l.Tb(5,"p-dropdown",21),l.bc("onChange",(function(i){return l.Ec(e),l.fc().onSelectTipologia(i)})),l.Sb(),l.Sb(),l.Tb(6,"div",19),l.Tb(7,"label",22),l.Oc(8,"Sotto Tipologia"),l.Sb(),l.Tb(9,"p-dropdown",23),l.bc("onChange",(function(i){return l.Ec(e),l.fc().onSelectSottoTipologia(i)})),l.Sb(),l.Sb(),l.Sb(),l.Sb()}if(2&i){var a=l.fc();l.mc("formGroup",a.titoloConduzioneForm),l.Bb(5),l.mc("options",a.ambitoConduzioneList),l.Bb(4),l.mc("options",a.sottotipoConduzioneList)}}function I(i,t){1&i&&l.Ob(0,"i",16)}var F=function(){return{width:"50%"}};function M(i,t){if(1&i){var e=l.Ub();l.Tb(0,"tr",28),l.Tb(1,"td",29),l.Oc(2),l.Sb(),l.Tb(3,"td",30),l.Ob(4,"br"),l.Tb(5,"button",31),l.bc("click",(function(){l.Ec(e);var i=t.index;return l.fc(2).uploadFile("contratto",i)})),l.Sb(),l.Tb(6,"input",32),l.bc("change",(function(i){l.Ec(e);var a=t.index;return l.fc(2).onFileChange(i,a)})),l.Sb(),l.Tb(7,"button",33),l.bc("click",(function(){l.Ec(e);var i=t.index;return l.fc(2).downloadFile(i)})),l.Sb(),l.Sb(),l.Tb(8,"td",30),l.Oc(9," Data inizio validit\xe0: "),l.Ob(10,"p-calendar",34),l.Sb(),l.Tb(11,"td",30),l.Oc(12," Data fine validit\xe0: "),l.Ob(13,"p-calendar",35),l.Sb(),l.Sb()}if(2&i){var a=t.index,o=l.fc(2);l.mc("formGroupName",a),l.Bb(2),l.Qc(" ",o.documenti().at(a).get("descrizione").value," "),l.Bb(3),l.Kc(l.rc(15,F)),l.Db("button-custom-bar-dark"),l.Bb(1),l.nc("id","contratto"+a),l.nc("accept",o.fileExt),l.Bb(1),l.Kc(l.rc(16,F)),l.Db("button-custom-bar-dark"),l.mc("disabled",!o.disabledDownloadFile(a)),l.Bb(3),l.mc("locale",o.calendarService.localeITA),l.Bb(3),l.mc("locale",o.calendarService.localeITA)}}function y(i,t){if(1&i){var e=l.Ub();l.Tb(0,"form",24),l.bc("ngSubmit",(function(){return l.Ec(e),l.fc().onSubmit()})),l.Tb(1,"table",25),l.Tb(2,"tbody"),l.Tb(3,"tr"),l.Tb(4,"th",26),l.Oc(5,"Documenti necessari:"),l.Sb(),l.Sb(),l.Mc(6,M,14,17,"tr",27),l.Sb(),l.Sb(),l.Sb()}if(2&i){var a=l.fc();l.mc("formGroup",a.documentiForm),l.Bb(6),l.mc("ngForOf",a.documenti().controls)}}function z(i,t){1&i&&l.Ob(0,"i",16)}function E(i,t){if(1&i){var e=l.Ub();l.Tb(0,"tr",28),l.Tb(1,"td"),l.Oc(2," Particella: "),l.Ob(3,"input",39),l.Sb(),l.Tb(4,"td"),l.Oc(5," Foglio: "),l.Ob(6,"input",40),l.Sb(),l.Tb(7,"td"),l.Oc(8," Sub: "),l.Ob(9,"input",41),l.Sb(),l.Tb(10,"td"),l.Oc(11," Sezione: "),l.Ob(12,"input",42),l.Sb(),l.Tb(13,"td"),l.Oc(14," Comune: "),l.Ob(15,"input",43),l.Sb(),l.Tb(16,"td"),l.Oc(17," Superficie: "),l.Ob(18,"input",44),l.Sb(),l.Tb(19,"td"),l.Ob(20,"br"),l.Tb(21,"button",45),l.bc("click",(function(){l.Ec(e);var i=t.index;return l.fc(2).removeParticella(i)})),l.Oc(22," Rimuovi "),l.Sb(),l.Sb(),l.Sb()}2&i&&l.mc("formGroupName",t.index)}function D(i,t){if(1&i){var e=l.Ub();l.Tb(0,"form",24),l.bc("ngSubmit",(function(){return l.Ec(e),l.fc().onSubmit()})),l.Tb(1,"table",36),l.Tb(2,"tbody"),l.Tb(3,"tr"),l.Tb(4,"th",37),l.Tb(5,"button",38),l.bc("click",(function(){return l.Ec(e),l.fc().addParticella()})),l.Oc(6," Aggiungi "),l.Sb(),l.Sb(),l.Sb(),l.Mc(7,E,23,1,"tr",27),l.Sb(),l.Sb(),l.Sb()}if(2&i){var a=l.fc();l.mc("formGroup",a.particelleForm),l.Bb(7),l.mc("ngForOf",a.particelle().controls)}}var B,N=function(){return{marginTop:"70px"}},P=function(){return{width:"80vw",height:"90vh"}},_=function(){return{"overflow-y":"auto","overflow-x":"hidden"}},L=((B=function(){function i(t,e,a,o){_classCallCheck(this,i),this.calendarService=t,this.fb=e,this.messageService=a,this.translateService=o,this.chiudiPopup=new l.n,this.saveConduzione=new l.n,this.ambitoConduzioneList=[],this.sottotipoConduzioneList=[],this.listaModalitaPagamento=[],this.fileExt=".pdf"}return _createClass(i,[{key:"ngOnInit",value:function(){this.setAmbitoOptions(),this.initForm(),this.READONLY_MODE=!1,this.calendarService.configITA()}},{key:"setAmbitoOptions",value:function(){var i=this;this.tipoConduzione.forEach((function(t){i.ambitoConduzioneList.push({label:""+t.ambito,value:t.ambito})}))}},{key:"initForm",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;arguments.length>1&&void 0!==arguments[1]&&arguments[1],this.initTitoloConduzioneForm(i),this.initDocumentiForm(),this.initParticelleForm()}},{key:"initTitoloConduzioneForm",value:function(i){this.titoloConduzioneForm=new u.j({ambito:new u.g({value:(null==i?void 0:i.ambito)?i.ambito:null,disabled:this.READONLY_MODE},[u.G.required]),sottotipo:new u.g({value:(null==i?void 0:i.idSottotipo)?i.idSottotipo:null,disabled:this.READONLY_MODE},[u.G.required])})}},{key:"initParticelleForm",value:function(){this.particelleForm=this.fb.group({particelle:this.fb.array([])})}},{key:"initDocumentiForm",value:function(){this.documentiForm=this.fb.group({documenti:this.fb.array([])})}},{key:"particelle",value:function(){return this.particelleForm.get("particelle")}},{key:"documenti",value:function(){return this.documentiForm.get("documenti")}},{key:"newParticella",value:function(){return this.fb.group({particella:new u.g("",[u.G.required]),foglio:new u.g("",[u.G.required]),sub:new u.g("",[u.G.required]),sezione:new u.g("",[u.G.required]),comune:new u.g("",[u.G.required]),superficieCondotta:new u.g("",[u.G.required])})}},{key:"newDocumento",value:function(i,t){return this.fb.group({idTipoDocumento:new u.g(i,[u.G.required]),descrizione:new u.g(t,[u.G.required]),contratto:new u.g("",[u.G.required]),dataInizioValidita:new u.g(""),dataFineValidita:new u.g("")})}},{key:"addParticella",value:function(){this.particelle().push(this.newParticella())}},{key:"addDocumento",value:function(i,t){this.documenti().push(this.newDocumento(i,t))}},{key:"removeParticella",value:function(i){this.particelle().removeAt(i)}},{key:"removeDocumento",value:function(i){this.documenti().removeAt(i)}},{key:"closePopup",value:function(){this.chiudiPopup.emit(!1)}},{key:"onSelectTipologia",value:function(i){var t=this;this.sottotipoConduzioneList=[],this.titoloConduzioneForm.controls.sottotipo.setValue(null),this.tipoConduzione.filter((function(t){return t.ambito===i.value}))[0].sottotipo.forEach((function(i){t.sottotipoConduzioneList.push({label:""+i.descrizione,value:i.id})}))}},{key:"onSelectSottoTipologia",value:function(i){var t=this;this.initDocumentiForm(),this.tipoConduzione.filter((function(i){return i.ambito===t.titoloConduzioneForm.controls.ambito.value})).map((function(e){return e.sottotipo.forEach((function(e){e.id===i.value&&e.documenti&&e.documenti.forEach((function(i){t.addDocumento(i.id,i.descrizione)}))}))}))}},{key:"uploadFile",value:function(i,t){this.openWindowsSelectFile(i,t)}},{key:"openWindowsSelectFile",value:function(i,t){document.getElementById(i+t).click()}},{key:"onFileChange",value:function(i,t){var e=this;if(i.target.files&&i.target.files.length>0){var a=i.target.files[0],o=new d.a(this.fileExt,2);o.isValidFileExtension(a)?o.isValidFileSize(a)?(this.readByteFile(a).then((function(i){e.documenti().at(t).get("contratto").setValue(i)})),this.messageService.add(p.a.getToast("tst-dlg",p.b.success,p.a.UPLOAD_FILE_OK))):this.messageService.add(p.a.getToast("tst-dlg",p.b.error,p.a.UPLOAD_FILE_SIZE)):this.messageService.add(p.a.getToast("tst-dlg",p.b.error,p.a.UPLOAD_FILE_EXT))}}},{key:"downloadFile",value:function(i){var t=this.base64ToBlob(this.documenti().at(i).get("contratto").value),e=URL.createObjectURL(t);window.open(e)}},{key:"base64ToBlob",value:function(i){for(var t=atob(i),e=new Array(t.length),a=0;a<t.length;a++)e[a]=t.charCodeAt(a);var o=new Uint8Array(e);return new Blob([o],{type:"application/pdf"})}},{key:"disabledDownloadFile",value:function(i){return this.documenti().at(i).get("contratto").value}},{key:"disabledDocumenti",value:function(){return this.titoloConduzioneForm.value.sottotipo&&this.documenti().controls.length>0}},{key:"onSubmit",value:function(){if(this.titoloConduzioneForm.invalid)this.messageService.add(p.a.getToast("tst-dlg",p.b.warn,this.translateService.instant("TERRITORIO.TIPO_CONDUZIONE_MANDATORY")));else if(this.documentiForm.invalid)this.messageService.add(p.a.getToast("tst-dlg",p.b.warn,this.translateService.instant("TERRITORIO.DOCUMENTO_MANDATORY")));else if(0===this.particelleForm.get("particelle").value.length||this.particelleForm.invalid)this.messageService.add(p.a.getToast("tst-dlg",p.b.warn,this.translateService.instant("TERRITORIO.PARTICELLE_MANDATORY")));else{var i=new o;i.ambito=this.titoloConduzioneForm.controls.ambito.value,i.idSottotipo=this.titoloConduzioneForm.controls.sottotipo.value,i.documentiConduzione=this.documentiForm.get("documenti").value,i.particelleFondiarie=this.particelleForm.get("particelle").value,this.saveConduzione.emit(i)}}},{key:"readByteFile",value:function(i){return new Promise((function(t,e){var a=new FileReader;p.a.isUndefinedOrNull(i)&&e("Errore nell estrapolare i byte dal file");var o,c="Errore nell estrapolare i byte dal file "+i.name;p.a.isUndefinedOrNull(i)?e(c):(a.readAsDataURL(i),a.onloadend=function(i){null==(o=a.result)?e(c):t(o.toString().split(",")[1])})}))}}]),i}()).\u0275fac=function(i){return new(i||B)(l.Nb(b.a),l.Nb(u.f),l.Nb(m.d),l.Nb(g.e))},B.\u0275cmp=l.Hb({type:B,selectors:[["app-popup-nuovo-titolo-conduzione"]],inputs:{popupOpen:"popupOpen",cuaa:"cuaa",idValidazione:"idValidazione",tipoConduzione:"tipoConduzione"},outputs:{chiudiPopup:"chiudiPopup",saveConduzione:"saveConduzione"},decls:31,vars:30,consts:[["key","tst-dlg"],["id","popup-nuovo-titolo-conduzione","header","Titolo conduzione","position","center","styleClass","large-dialog",3,"visible","focusOnShow","modal","closable","closeOnEscape","blockScroll","contentStyle","dismissableMask","visibleChange","onHide"],["dialogNuovoTitoloConduzione",""],[1,"p-col-12","p-col-align-start","ui-fluid"],[1,"p-grid"],[1,"w-100",3,"multiple"],["accordion",""],["cache","false",3,"selected"],["class","accordion-icon pi pi-check",4,"ngIf"],["pTemplate","content"],["cache","false",3,"selected","disabled"],[1,"p-col-12","p-col-align-end","ui-fluid"],[1,"p-col-12"],[1,"ui-g-9","text-left"],[1,"ui-g-3","text-right"],["pButton","","type","submit","label","Salva titolo di conduzione",1,"ui-button-text-only","p-1","text-uppercase","font-weight-normal","shadow-none","w-10m",3,"disabled","click"],[1,"accordion-icon","pi","pi-check"],["novalidate","",3,"formGroup","ngSubmit"],[1,"p-grid","align-self-center"],[1,"p-col-6"],["for","tipologia-conduzione"],["id","tipologia-conduzione","formControlName","ambito","placeholder","Seleziona",3,"options","onChange"],["for","sotto-tipologia-conduzione"],["id","sotto-tipologia-conduzione","formControlName","sottotipo","placeholder","Seleziona",3,"options","onChange"],[3,"formGroup","ngSubmit"],["formArrayName","documenti",1,"table","table-bordered"],["colspan","4"],[3,"formGroupName",4,"ngFor","ngForOf"],[3,"formGroupName"],[2,"width","40%","vertical-align","middle"],[2,"width","20%"],["pButton","","type","button","label","Carica",3,"click"],["type","file",1,"form-control",2,"display","none",3,"id","accept","change"],["pButton","","type","button","label","Visualizza",3,"disabled","click"],["id","data-inizio-validita","formControlName","dataInizioValidita","dateFormat","dd/mm/yy",3,"locale"],["id","data-inizio-validita","formControlName","dataFineValidita","dateFormat","dd/mm/yy",3,"locale"],["formArrayName","particelle",1,"table","table-bordered"],["colspan","7",2,"border-top","hidden","border-left","hidden","border-right","hidden"],["type","button",1,"btn","btn-primary",3,"click"],["type","text","formControlName","particella",1,"form-control"],["type","text","formControlName","foglio",1,"form-control"],["type","text","formControlName","sub",1,"form-control"],["type","text","formControlName","sezione",1,"form-control"],["type","text","formControlName","comune",1,"form-control"],["type","text","formControlName","superficieCondotta",1,"form-control"],[1,"btn","btn-danger",3,"click"]],template:function(i,t){1&i&&(l.Ob(0,"p-toast",0),l.Tb(1,"p-dialog",1,2),l.bc("visibleChange",(function(i){return t.popupOpen=i}))("onHide",(function(){return t.closePopup()})),l.Tb(3,"div",3),l.Tb(4,"div",4),l.Tb(5,"p-accordion",5,6),l.Tb(7,"p-accordionTab",7),l.Tb(8,"p-header"),l.Oc(9," Tipo conduzione "),l.Mc(10,C,1,0,"i",8),l.Sb(),l.Mc(11,A,10,3,"ng-template",9),l.Sb(),l.Ob(12,"br"),l.Tb(13,"p-accordionTab",10),l.Tb(14,"p-header"),l.Oc(15," Documenti "),l.Mc(16,I,1,0,"i",8),l.Sb(),l.Mc(17,y,7,2,"ng-template",9),l.Sb(),l.Ob(18,"br"),l.Tb(19,"p-accordionTab",7),l.Tb(20,"p-header"),l.Oc(21," Particelle "),l.Mc(22,z,1,0,"i",8),l.Sb(),l.Mc(23,D,8,2,"ng-template",9),l.Sb(),l.Sb(),l.Ob(24,"br"),l.Sb(),l.Sb(),l.Tb(25,"div",11),l.Tb(26,"p-footer"),l.Tb(27,"div",12),l.Ob(28,"div",13),l.Tb(29,"div",14),l.Tb(30,"button",15),l.bc("click",(function(){return t.onSubmit()})),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&i&&(l.Kc(l.rc(27,N)),l.Bb(1),l.Kc(l.rc(28,P)),l.Db(t.idValidazione?"title-grey":""),l.mc("visible",t.popupOpen)("focusOnShow",!1)("modal",!0)("closable",!0)("closeOnEscape",!0)("blockScroll",!0)("contentStyle",l.rc(29,_))("dismissableMask",!0),l.Bb(4),l.Db(t.idValidazione?"accordion-grey":""),l.mc("multiple",!0),l.Bb(2),l.mc("selected",!0),l.Bb(3),l.mc("ngIf",!1),l.Bb(3),l.mc("selected",t.disabledDocumenti())("disabled",!t.disabledDocumenti()),l.Bb(3),l.mc("ngIf",!1),l.Bb(3),l.mc("selected",!0),l.Bb(3),l.mc("ngIf",!1),l.Bb(8),l.Db(t.idValidazione?"button-custom-grey":""),l.mc("disabled",t.READONLY_MODE))},directives:[f.a,h.a,v.a,v.c,m.c,r.t,m.e,m.b,T.b,u.I,u.t,u.k,S.a,u.s,u.i,u.e,r.s,u.l,O.a,u.c],styles:[""]}),B),k=e("JdJL"),R=e("L66S"),w=e("+Rc2"),x=e("tyNb"),G=["popupNuovoTitoloConduzione"];function V(i,t){if(1&i){var e=l.Ub();l.Tb(0,"app-popup-nuovo-titolo-conduzione",16),l.bc("chiudiPopup",(function(i){return l.Ec(e),l.fc().popupConduzioneClose(i)}))("saveConduzione",(function(i){return l.Ec(e),l.fc().saveConduzione(i)}))("onHideDialog",(function(i){return l.Ec(e),l.fc().popupConduzioneClose(i)})),l.Sb()}if(2&i){var a=l.fc();l.mc("popupOpen",a.popupOpen)("cuaa",a.cuaa)("idValidazione",a.idValidazione)("tipoConduzione",a.tipoConduzione)}}var U,q=function(){return{marginTop:"70px"}},Q=((U=function(){function i(t,e,a,o){_classCallCheck(this,i),this.fascicoloDettaglioService=t,this.territorioService=e,this.messageService=a,this.translateService=o,this.popupOpen=!1}return _createClass(i,[{key:"ngOnInit",value:function(){var i=this.fascicoloDettaglioService.fascicoloCorrente.value.stato;this.readonly=i!==w.c.VALIDATO&&i!==w.c.IN_AGGIORNAMENTO||null!=this.idValidazione}},{key:"goBack",value:function(){this.fascicoloDettaglioService.mostraDettaglioSezione.next(R.a.DATI)}},{key:"isFascicoloAttuale",value:function(){return this.fascicoloDettaglioService.fascicoloCorrente&&null==this.idValidazione}},{key:"popupConduzioneOpen",value:function(){var i=this;this.territorioService.getTipoConduzione().subscribe((function(t){i.tipoConduzione=t,i.popupOpen=!0}),(function(t){i.messageService.add(p.a.getToast("tst",p.b.error,i.translateService.instant("TERRITORIO.GET_ELENCO_TIPO_CONDUZIONE_MSG_ERROR")))}))}},{key:"popupConduzioneClose",value:function(){this.popupOpen=!1}},{key:"getCuaa",value:function(){var i,t;return null===(t=null===(i=this.fascicoloDettaglioService.fascicoloCorrente)||void 0===i?void 0:i.value)||void 0===t?void 0:t.cuaa}},{key:"saveConduzione",value:function(i){var t=this;this.territorioService.putTitoloConduzione(this.getCuaa(),i).subscribe((function(i){t.popupConduzioneClose(),t.messageService.add(p.a.getToast("tst",p.b.success,t.translateService.instant("TERRITORIO.PUT_TITOLO_CONDUZIONE_SUCCESS")))}),(function(i){t.messageService.add(p.a.getToast("tst",p.b.error,t.translateService.instant("TERRITORIO.PUT_TITOLO_CONDUZIONE_ERROR")))}))}}]),i}()).\u0275fac=function(i){return new(i||U)(l.Nb(k.a),l.Nb(s),l.Nb(m.d),l.Nb(g.e))},U.\u0275cmp=l.Hb({type:U,selectors:[["app-titoli-conduzione"]],viewQuery:function(i,t){var e;1&i&&l.Uc(G,!0),2&i&&l.Ac(e=l.cc())&&(t.popupNuovoTitoloConduzione=e.first)},decls:20,vars:15,consts:[[3,"popupOpen","cuaa","idValidazione","tipoConduzione","chiudiPopup","saveConduzione","onHideDialog",4,"ngIf"],["key","tst"],[1,"ui-grid-fixed","boxgrey"],[1,"funzioni-grid","boxgrey"],[1,"p-grid","m-0"],[1,"p-col","p-0"],[1,"d-flex","align-items-center","text-decoration-none","color-primary",3,"routerLink","click"],[1,"pi","pi-chevron-left",2,"font-size","2rem","color","black"],["src","assets/img/ico-dotazione.jpg"],[1,"ml-2"],[1,"p-col","w-100","p-0"],[1,"p-col-fixed","p-0"],["pButton","","icon","pi pi-plus-circle","iconPos","right","type","button","label","AGGIUNGI",1,"w-10m","button-large-icon",3,"disabled","click"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],["expandIcon","","collapseIcon",""],["header","TITOLI CONDUZIONE",3,"selected"],[3,"popupOpen","cuaa","idValidazione","tipoConduzione","chiudiPopup","saveConduzione","onHideDialog"]],template:function(i,t){1&i&&(l.Mc(0,V,1,4,"app-popup-nuovo-titolo-conduzione",0),l.Ob(1,"p-toast",1),l.Tb(2,"div",2),l.Tb(3,"div",3),l.Tb(4,"div",4),l.Tb(5,"div",5),l.Tb(6,"a",6),l.bc("click",(function(){return t.goBack()})),l.Ob(7,"i",7),l.Ob(8,"img",8),l.Tb(9,"span",9),l.Oc(10),l.gc(11,"translate"),l.Sb(),l.Sb(),l.Sb(),l.Ob(12,"div",10),l.Tb(13,"div",11),l.Tb(14,"button",12),l.bc("click",(function(){return t.popupConduzioneOpen()})),l.Sb(),l.Sb(),l.Sb(),l.Ob(15,"br"),l.Tb(16,"div",13),l.Tb(17,"p-accordion",14),l.Tb(18,"p-accordionTab",15),l.Oc(19," TODO: lista titoli di conduzione "),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&i&&(l.mc("ngIf",t.popupOpen),l.Bb(1),l.Kc(l.rc(14,q)),l.Bb(8),l.Db(t.isFascicoloAttuale()?"":"back-grey"),l.Bb(1),l.Qc(" ",l.hc(11,12,"FascicoloAziendale.TERRITORIO")," "),l.Bb(4),l.Db(t.isFascicoloAttuale()?"":"button-custom-grey"),l.mc("disabled",t.readonly),l.Bb(4),l.Db(t.isFascicoloAttuale()?"":"title-grey"),l.mc("selected",!0))},directives:[r.t,f.a,x.h,T.b,v.a,v.c,L],pipes:[g.d],styles:[""]}),U),j=e("XNiG"),Z=e("EY2u"),$=e("1G5W"),Y=e("JIr8"),H=e("zLRh"),K=e("yWug");function W(i,t){if(1&i&&l.Ob(0,"p-sortIcon",15),2&i){var e=l.fc().$implicit;l.mc("field",e.field)}}function X(i,t){if(1&i&&(l.Tb(0,"th",13),l.Oc(1),l.Mc(2,W,1,1,"p-sortIcon",14),l.Sb()),2&i){var e=t.$implicit;l.mc("pSortableColumn",e.field),l.Bb(1),l.Qc(" ",e.header," "),l.Bb(1),l.mc("ngIf",e.field)}}function J(i,t){if(1&i&&(l.Tb(0,"tr"),l.Tb(1,"th",11),l.Oc(2,"ID"),l.Sb(),l.Mc(3,X,3,3,"th",12),l.Sb()),2&i){var e=t.$implicit;l.Bb(3),l.mc("ngForOf",e)}}function ii(i,t){if(1&i&&(l.Tb(0,"tr"),l.Tb(1,"td"),l.Oc(2),l.gc(3,"date"),l.Sb(),l.Tb(4,"td"),l.Oc(5),l.Sb(),l.Tb(6,"td"),l.Oc(7),l.gc(8,"date"),l.Sb(),l.Tb(9,"td"),l.Oc(10),l.Sb(),l.Tb(11,"td"),l.Oc(12),l.Sb(),l.Sb()),2&i){var e=t.$implicit;l.Bb(2),l.Qc(" ",l.ic(3,5,e.dataInizio,"dd/MM/yyyy")," "),l.Bb(3),l.Pc(e.motivazioneInizio),l.Bb(2),l.Qc(" ",l.ic(8,8,e.dataFine,"dd/MM/yyyy")," "),l.Bb(3),l.Pc(e.motivazioneFine),l.Bb(2),l.Pc(e.utente)}}function ti(i,t){if(1&i&&(l.Tb(0,"tr"),l.Tb(1,"td"),l.Oc(2),l.gc(3,"translate"),l.Sb(),l.Sb()),2&i){var e=l.fc();l.Bb(1),l.Cb("colspan",e.cols.length),l.Bb(1),l.Qc(" ",l.hc(3,2,"FascicoloAziendale.LISTA_NO_ELEMENTI")," ")}}var ei,ai=function(){return{marginTop:"70px"}},oi=((ei=function(){function i(t,e,a,o,c,n){_classCallCheck(this,i),this.route=t,this.fascicoloService=e,this.fascicoloDettaglioService=a,this.messageService=o,this.router=c,this.translateService=n,this.sospensioniList=[],this.cuaa="",this.componentDestroyed$=new j.a}return _createClass(i,[{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}},{key:"ngOnInit",value:function(){this.cuaa=this.route.snapshot.paramMap.get("cuaa"),this.getDatiSospensione(this.cuaa),this.setCols()}},{key:"setCols",value:function(){this.cols=[{field:"dataInizio",header:this.translateService.instant("SOSPENSIONE.DATA_INIZIO"),date:!0},{field:"motivazioneInizio",header:this.translateService.instant("SOSPENSIONE.MOTIVAZIONE_INIZIO")},{field:"dataFine",header:this.translateService.instant("SOSPENSIONE.DATA_FINE"),date:!0},{field:"motivazioneFine",header:this.translateService.instant("SOSPENSIONE.MOTIVAZIONE_FINE")},{field:"utente",header:"Utente"}]}},{key:"getDatiSospensione",value:function(i){var t=this;this.fascicoloService.getDatiSospensioneFascicolo(i).pipe(Object($.a)(this.componentDestroyed$),Object(Y.a)((function(i){return t.sospensioniList=[],t.messageService.add(p.a.getToast("tst",p.b.error,p.a.erroreRecuperoDati)),Z.a}))).subscribe((function(i){t.sospensioniList=i,t.sospensioniList.sort((function(i,t){return i.dataInizio<t.dataInizio?1:-1}))}))}},{key:"handleClick",value:function(){this.fascicoloDettaglioService.mostraDettaglioSezione.next(R.a.DATI)}}]),i}()).\u0275fac=function(i){return new(i||ei)(l.Nb(x.a),l.Nb(H.a),l.Nb(k.a),l.Nb(m.d),l.Nb(x.e),l.Nb(g.e))},ei.\u0275cmp=l.Hb({type:ei,selectors:[["app-dati-sospensione"]],decls:16,vars:12,consts:[["key","tst"],[1,"ui-grid-fixed","boxgrey"],[1,"d-flex","align-items-center","text-decoration-none","color-primary",3,"routerLink","click"],[1,"pi","pi-chevron-left",2,"font-size","2rem","color","black"],["src","assets/img/ico-anagraf.jpg"],[1,"ml-2"],[1,"mb-3"],[3,"columns","value","autoLayout"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[2,"display","none"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field",4,"ngIf"],[3,"field"]],template:function(i,t){1&i&&(l.Ob(0,"p-toast",0),l.Tb(1,"div",1),l.Tb(2,"a",2),l.bc("click",(function(){return t.handleClick()})),l.Ob(3,"em",3),l.Ob(4,"img",4),l.Tb(5,"span",5),l.Oc(6),l.gc(7,"translate"),l.Sb(),l.Sb(),l.Ob(8,"br"),l.Tb(9,"h3",6),l.Oc(10),l.gc(11,"translate"),l.Sb(),l.Tb(12,"p-table",7),l.Mc(13,J,4,1,"ng-template",8),l.Mc(14,ii,13,11,"ng-template",9),l.Mc(15,ti,4,4,"ng-template",10),l.Sb(),l.Sb()),2&i&&(l.Kc(l.rc(11,ai)),l.Bb(6),l.Qc(" ",l.hc(7,7,"FascicoloAziendale.DATI_ANAGRAFICI_E_FISCALI")," "),l.Bb(4),l.Pc(l.hc(11,9,"FascicoloAziendale.DATI_SOSPENSIONE")),l.Bb(2),l.mc("columns",t.cols)("value",t.sospensioniList)("autoLayout",!0))},directives:[f.a,x.h,K.q,m.e,r.s,K.p,r.t,K.o],pipes:[g.d,r.f],styles:[""]}),ei),ci=e("R69K"),ni=e("69Tm"),ri=e("t5SA"),li=e("6b9K"),si=e("eM/+"),bi=e("GLSp"),ui=e("P028");function di(i,t){1&i&&l.Ob(0,"p-message",18)}var pi,mi=function i(){_classCallCheck(this,i)},gi=((pi=function(){function i(t){_classCallCheck(this,i),this.fascicoloDettaglioService=t,this.search=new l.n,this.language=si.a.itCalendar()}return _createClass(i,[{key:"ngOnInit",value:function(){this.filtersFormGroup=new u.j({annoValidazione:new u.g})}},{key:"onSubmit",value:function(){var i=new mi,t=this.filtersFormGroup.get("annoValidazione").value;t&&(i.annoValidazione=t),this.search.emit(i)}},{key:"handleClick",value:function(){this.fascicoloDettaglioService.mostraDettaglioSezione.next(R.a.DATI)}}]),i}()).\u0275fac=function(i){return new(i||pi)(l.Nb(k.a))},pi.\u0275cmp=l.Hb({type:pi,selectors:[["app-filtro-fascicoli-validati"]],inputs:{resultsNumber:"resultsNumber"},outputs:{search:"search"},decls:27,vars:21,consts:[[1,"ui-grid-fixed","boxwhite"],[1,"d-flex","align-items-center","text-decoration-none","color-primary",3,"routerLink","click"],[1,"pi","pi-chevron-left",2,"font-size","2rem","color","black"],["src","assets/img/ico-home.jpg"],[1,"ml-2"],[1,"text-uppercase","fw-700","fs-20"],[1,"boxgrey","mb-0","pb-0"],[1,"h5","text-uppercase","font-weight-bold","my-4"],[3,"formGroup","ngSubmit","keydown.enter"],[1,"ui-grid-fixed"],[1,"p-grid"],[1,"p-col-2"],["formControlName","annoValidazione","pattern","^([0-9])+$","type","text","pInputText","",1,"form-control",2,"background","white","text-align","center",3,"placeholder","maxlength","minlength"],[1,"searchbutton","h-100"],["pButton","","type","button","type","submit",1,"ui-button","bg-primary","no-shadow","text-uppercase","w-100","h-100",3,"disabled","label"],["submitBtn",""],["class","font-12","severity","error","text","Formato non valido",4,"ngIf"],[1,"labelricerca","my-3"],["severity","error","text","Formato non valido",1,"font-12"]],template:function(i,t){if(1&i){var e=l.Ub();l.Tb(0,"div",0),l.Tb(1,"a",1),l.bc("click",(function(){return t.handleClick()})),l.Ob(2,"em",2),l.Ob(3,"img",3),l.Tb(4,"span",4),l.Tb(5,"strong",5),l.Oc(6),l.gc(7,"translate"),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Tb(8,"div",6),l.Tb(9,"h1",7),l.Oc(10),l.gc(11,"translate"),l.Sb(),l.Tb(12,"form",8),l.bc("ngSubmit",(function(){return t.onSubmit()}))("keydown.enter",(function(){return l.Ec(e),l.Bc(21).click()})),l.Tb(13,"div",9),l.Tb(14,"div",10),l.Tb(15,"div",11),l.Ob(16,"input",12),l.gc(17,"translate"),l.Sb(),l.Tb(18,"div",11),l.Tb(19,"div",13),l.Ob(20,"button",14,15),l.gc(22,"translate"),l.Sb(),l.Sb(),l.Sb(),l.Mc(23,di,1,0,"p-message",16),l.Sb(),l.Tb(24,"label",17),l.Oc(25),l.gc(26,"translate"),l.Sb(),l.Sb(),l.Sb()}2&i&&(l.Bb(6),l.Pc(l.hc(7,11,"FascicoloAziendale.STORICO_VALIDAZIONI")),l.Bb(4),l.Qc(" ",l.hc(11,13,"FascicoloAziendale.RICERCA_FASCICOLI_VALIDATI")," "),l.Bb(2),l.mc("formGroup",t.filtersFormGroup),l.Bb(4),l.nc("placeholder",l.hc(17,15,"FascicoloAziendale.ANNO_VALIDAZIONE")),l.mc("maxlength",4)("minlength",4),l.Bb(4),l.nc("label",l.hc(22,17,"DOMANDA_UNICA_FILTRI.filter")),l.mc("disabled",!t.filtersFormGroup.valid),l.Bb(3),l.mc("ngIf",null==t.filtersFormGroup.get("annoValidazione").errors?null:t.filtersFormGroup.get("annoValidazione").errors.pattern),l.Bb(2),l.Rc(" ",t.resultsNumber," ",l.hc(26,19,"FascicoloAziendale.FASCICOLI_VALIDATI")," "))},directives:[x.h,u.I,u.t,u.k,u.c,u.s,u.i,u.z,bi.a,u.n,u.o,T.b,r.t,ui.b],pipes:[g.d],styles:[""]}),pi),fi=e("Rt+w");function hi(i,t){1&i&&(l.Tb(0,"tr"),l.Tb(1,"th",10),l.Oc(2),l.gc(3,"translate"),l.Ob(4,"p-sortIcon-wrapper",11),l.Sb(),l.Tb(5,"th",12),l.Oc(6),l.gc(7,"translate"),l.Ob(8,"p-sortIcon-wrapper",13),l.Sb(),l.Tb(9,"th",14),l.Oc(10),l.gc(11,"translate"),l.Ob(12,"p-sortIcon-wrapper",15),l.Sb(),l.Tb(13,"th",16),l.Oc(14),l.gc(15,"translate"),l.Sb(),l.Tb(16,"th",16),l.Oc(17),l.gc(18,"translate"),l.Sb(),l.Sb()),2&i&&(l.Bb(2),l.Qc(" ",l.hc(3,5,"FascicoloAziendale.DATA_VALIDAZIONE")," "),l.Bb(4),l.Qc(" ",l.hc(7,7,"FascicoloAziendale.DATA_MODIFICA")," "),l.Bb(4),l.Qc(" ",l.hc(11,9,"FascicoloAziendale.UTENTE_VALIDAZIONE")," "),l.Bb(4),l.Pc(l.hc(15,11,"SEDE_SPORTELLO_CAA")),l.Bb(3),l.Pc(l.hc(18,13,"VEDI")))}function vi(i,t){if(1&i){var e=l.Ub();l.Tb(0,"tr"),l.Tb(1,"td"),l.Oc(2),l.gc(3,"date"),l.Sb(),l.Tb(4,"td"),l.Oc(5),l.gc(6,"date"),l.Sb(),l.Tb(7,"td"),l.Oc(8),l.Sb(),l.Tb(9,"td"),l.Oc(10),l.Sb(),l.Tb(11,"td"),l.Tb(12,"button",17),l.bc("click",(function(){l.Ec(e);var i=t.$implicit;return l.fc().goToValidazione(i.cuaa,i.idValidazione)})),l.gc(13,"translate"),l.Sb(),l.Sb(),l.Sb()}if(2&i){var a=t.$implicit;l.Bb(2),l.Pc(l.ic(3,5,a.dataValidazione,"dd/MM/yyyy")),l.Bb(3),l.Pc(l.ic(6,8,a.dataModifica,"dd/MM/yyyy")),l.Bb(3),l.Qc(" ",a.utenteValidazione," "),l.Bb(2),l.Pc(a.denominazioneSportello),l.Bb(2),l.nc("title",l.hc(13,11,"VEDI"))}}function Ti(i,t){1&i&&(l.Tb(0,"tr"),l.Tb(1,"td"),l.Oc(2),l.gc(3,"translate"),l.Sb(),l.Sb()),2&i&&(l.Bb(1),l.Cb("colspan",5),l.Bb(1),l.Qc(" ",l.hc(3,2,"FascicoloAziendale.LISTA_NO_ELEMENTI")," "))}var Si,Oi=((Si=function(){function i(t,e,a,o,c){_classCallCheck(this,i),this.route=t,this.fascicoloService=e,this.paginatorService=a,this.messageService=o,this.router=c,this.validazioniFascicoloList=[],this.elementiPerPagina=0,this.elementiTotali=0,this.componentDestroyed$=new j.a,this.lastEvent=void 0}return _createClass(i,[{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}},{key:"ngOnInit",value:function(){this.elementiPerPagina=ni.a.defaultStartIndexPaginator}},{key:"goToValidazione",value:function(i,t){this.router.navigate(["../dettaglio"],{relativeTo:this.route.parent,replaceUrl:!1,queryParams:{"id-validazione":t},queryParamsHandling:"merge"})}},{key:"loadList",value:function(i){var t,e=this,a=i.sortField||"dataValidazione";i.sortField&&(t=1===i.sortOrder?li.b.ASC:li.b.DESC);var o=this.paginatorService.getPagination(Math.round(i.first/this.elementiPerPagina),this.elementiPerPagina,a,t||li.b.DESC),c=this.route.snapshot.paramMap.get("cuaa");this.fascicoloService.getFascicoliValidati(c,i.filters,o).pipe(Object($.a)(this.componentDestroyed$),Object(Y.a)((function(i){return e.messageService.add(p.a.getToast("tst",p.b.error,p.a.erroreRecuperoDati)),e.validazioniFascicoloList=[],Z.a}))).subscribe((function(i){e.validazioniFascicoloList=i.risultati,e.elementiTotali=i.count}))}},{key:"lazyLoadData",value:function(i){this.lastEvent&&(i.filters=this.lastEvent.filters),this.lastEvent=i,i.rows&&(this.elementiPerPagina=i.rows),this.loadList(i)}},{key:"onSearch",value:function(i){var t=this.lastEvent;t.filters=i,this.loadList(t)}}]),i}()).\u0275fac=function(i){return new(i||Si)(l.Nb(x.a),l.Nb(H.a),l.Nb(ri.a),l.Nb(m.d),l.Nb(x.e))},Si.\u0275cmp=l.Hb({type:Si,selectors:[["app-fascicoli-validati"]],decls:10,vars:4,consts:[[1,"ui-grid-fixed","boxgrey"],[3,"resultsNumber","search"],[1,"boxgrey","pt-0"],[1,"layout-actionmenu"],["margin-top","30px",1,"table-responsive"],[3,"value","totalRecords","lazy","onLazyLoadPage"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["scope","col","pSortableColumnWrapper","dataValidazione"],["field","dataValidazione"],["scope","col","pSortableColumnWrapper","dataModifica"],["field","dataModifica"],["id","nominativo_validatore","pSortableColumnWrapper","utenteValidazione"],["field","utenteValidazione"],["scope","col"],["pButton","","icon","pi pi-arrow-right","iconPos","left",1,"command-button","no-border-radius","p-button-lg","py-1","px-4","d-block","bg-primary",3,"title","click"]],template:function(i,t){1&i&&(l.Tb(0,"div",0),l.Tb(1,"app-filtro-fascicoli-validati",1),l.bc("search",(function(i){return t.onSearch(i)})),l.Sb(),l.Tb(2,"div",2),l.Tb(3,"div",3),l.Tb(4,"div",4),l.Tb(5,"app-a4g-paged-table",5,6),l.bc("onLazyLoadPage",(function(i){return t.lazyLoadData(i)})),l.Mc(7,hi,19,15,"ng-template",7),l.Mc(8,vi,14,13,"ng-template",8),l.Mc(9,Ti,4,4,"ng-template",9),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&i&&(l.Bb(1),l.mc("resultsNumber",t.elementiTotali),l.Bb(4),l.mc("value",t.validazioniFascicoloList)("totalRecords",t.elementiTotali)("lazy",!0))},directives:[gi,fi.b,m.e,fi.f,fi.e,T.b],pipes:[g.d,r.f],styles:[".command-button.command-button.command-button[_ngcontent-%COMP%]{font-size:22px!important;height:auto!important;width:auto!important;background-color:#4caf50!important}"]}),Si),Ci=e("Lsrs"),Ai=function(i){_inherits(e,i);var t=_createSuper(e);function e(){return _classCallCheck(this,e),t.apply(this,arguments)}return e}(Ci.a),Ii=e("GtbX"),Fi=function(i){return i[i.PRIMARIO_IMPRESA=0]="PRIMARIO_IMPRESA",i[i.PRIMARIO=1]="PRIMARIO",i[i.SECONDARIO=2]="SECONDARIO",i}({}),Mi=function(i){return i.ANAGRAFE_TRIBUTARIA="ANAGRAFE_TRIBUTARIA",i.CAMERA_COMMERCIO="CAMERA_COMMERCIO",i}({}),yi=function(i){return i.CORRETTO="CORRETTO",i.NON_TROVATO_IN_AT="NON_TROVATO_IN_AT",i.PARIX_DIVERSO_DA_AT="PARIX_DIVERSO_DA_AT",i}({}),zi=e("LvDl"),Ei=e("LRne"),Di=e("eIep"),Bi=e("vkgz"),Ni=e("d4kU"),Pi=e("b7oP"),_i=e("wcdC"),Li=["tableFisiche"],ki=["tableGiuridiche"];function Ri(i,t){if(1&i&&(l.Tb(0,"th"),l.Tb(1,"strong"),l.Oc(2),l.Sb(),l.Sb()),2&i){var e=t.$implicit;l.Bb(2),l.Pc(e.header)}}function wi(i,t){if(1&i&&(l.Tb(0,"tr"),l.Mc(1,Ri,3,1,"th",17),l.Sb()),2&i){var e=t.$implicit;l.Bb(1),l.mc("ngForOf",e)}}function xi(i,t){if(1&i&&(l.Tb(0,"div"),l.Oc(1),l.gc(2,"date"),l.Sb()),2&i){var e=t.$implicit;l.Bb(1),l.Qc(" ",e.dataInizio?e.descrizione+" dal "+l.ic(2,1,e.dataInizio,"dd/MM/yyyy"):e.descrizione," ")}}function Gi(i,t){if(1&i&&(l.Tb(0,"tr"),l.Tb(1,"td"),l.Tb(2,"a",18),l.Ob(3,"i",19),l.Sb(),l.Sb(),l.Tb(4,"td"),l.Oc(5),l.Sb(),l.Tb(6,"td"),l.Oc(7),l.Sb(),l.Tb(8,"td"),l.Oc(9),l.Sb(),l.Tb(10,"td"),l.Mc(11,xi,3,4,"div",17),l.Sb(),l.Tb(12,"td"),l.Oc(13),l.gc(14,"translate"),l.Sb(),l.Sb()),2&i){var e=t.$implicit,a=t.expanded,o=l.fc();l.Bb(2),l.mc("pRowToggler",e),l.Bb(1),l.mc("ngClass",a?"pi pi-chevron-down":"pi pi-chevron-right"),l.Bb(2),l.Pc(e.cognome),l.Bb(2),l.Pc(e.nome),l.Bb(2),l.Pc(e.codiceFiscale),l.Bb(2),l.mc("ngForOf",e.cariche),l.Bb(2),l.Qc(" ",l.hc(14,7,e.verificaCodiceFiscale&&e.verificaCodiceFiscale!=o.verificaCodiceFiscaleEnum.CORRETTO?"FascicoloAziendale."+e.verificaCodiceFiscale:"")," ")}}function Vi(i,t){if(1&i&&(l.Tb(0,"tr"),l.Tb(1,"td"),l.Tb(2,"tbody"),l.Tb(3,"tr"),l.Tb(4,"th"),l.Oc(5,"Dati persona fisica"),l.Sb(),l.Ob(6,"th"),l.Sb(),l.Tb(7,"tr"),l.Tb(8,"td"),l.Oc(9,"Cognome:"),l.Sb(),l.Tb(10,"td"),l.Oc(11),l.Sb(),l.Sb(),l.Tb(12,"tr"),l.Tb(13,"td"),l.Oc(14,"Nome:"),l.Sb(),l.Tb(15,"td"),l.Oc(16),l.Sb(),l.Sb(),l.Tb(17,"tr"),l.Tb(18,"td"),l.Oc(19,"Codice Fiscale:"),l.Sb(),l.Tb(20,"td"),l.Oc(21),l.Sb(),l.Sb(),l.Tb(22,"tr"),l.Tb(23,"td"),l.Oc(24,"Sesso:"),l.Sb(),l.Tb(25,"td"),l.Oc(26),l.Sb(),l.Sb(),l.Tb(27,"tr"),l.Tb(28,"td"),l.Oc(29,"Luogo di nascita:"),l.Sb(),l.Tb(30,"td"),l.Oc(31),l.Sb(),l.Sb(),l.Tb(32,"tr"),l.Tb(33,"td"),l.Oc(34,"Data di nascita:"),l.Sb(),l.Tb(35,"td"),l.Oc(36),l.gc(37,"date"),l.Sb(),l.Sb(),l.Ob(38,"br"),l.Tb(39,"tr"),l.Tb(40,"th"),l.Oc(41,"Domicilio fiscale"),l.Sb(),l.Ob(42,"th"),l.Sb(),l.Tb(43,"tr"),l.Tb(44,"td"),l.Oc(45,"Indirizzo:"),l.Sb(),l.Tb(46,"td"),l.Oc(47),l.Sb(),l.Sb(),l.Tb(48,"tr"),l.Tb(49,"td"),l.Oc(50,"Comune:"),l.Sb(),l.Tb(51,"td"),l.Oc(52),l.Sb(),l.Sb(),l.Tb(53,"tr"),l.Tb(54,"td"),l.Oc(55,"CAP:"),l.Sb(),l.Tb(56,"td"),l.Oc(57),l.Sb(),l.Sb(),l.Tb(58,"tr"),l.Tb(59,"td"),l.Oc(60,"Provincia:"),l.Sb(),l.Tb(61,"td"),l.Oc(62),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&i){var e=l.fc(),a=e.columns,o=e.$implicit,c=l.fc();l.Bb(1),l.Cb("colspan",a.length),l.Bb(10),l.Pc(o.cognome),l.Bb(5),l.Pc(o.nome),l.Bb(5),l.Pc(o.codiceFiscale),l.Bb(5),l.Qc(" ",o.sesso?o.sesso:"ND"," "),l.Bb(5),l.Rc(" ",o.comuneNascita?o.comuneNascita:"ND"," (",o.siglaProvinciaNascita?o.siglaProvinciaNascita:"ND",") "),l.Bb(5),l.Qc(" ",o.dataNascita&&o.dataNascita?l.ic(37,12,o.dataNascita,"dd/MM/yyyy"):"ND"," "),l.Bb(11),l.Qc(" ",o.domicilioFiscale?c.costruisciIndirizzo(o.domicilioFiscale):"ND"," "),l.Bb(5),l.Qc(" ",o.domicilioFiscale.comune?o.domicilioFiscale.comune:"ND"," "),l.Bb(5),l.Qc(" ",o.domicilioFiscale.cap?o.domicilioFiscale.cap:"ND"," "),l.Bb(5),l.Qc(" ",o.domicilioFiscale.provincia?o.domicilioFiscale.provincia:"ND"," ")}}function Ui(i,t){1&i&&l.Mc(0,Vi,63,15,"ng-template",20),2&i&&l.mc("ngIf",t.$implicit)}function qi(i,t){if(1&i&&(l.Tb(0,"tr"),l.Tb(1,"td"),l.Oc(2,"Nessun contenuto disponibile"),l.Sb(),l.Sb()),2&i){var e=t.$implicit;l.Bb(1),l.Cb("colspan",e.length)}}function Qi(i,t){if(1&i&&(l.Tb(0,"th"),l.Tb(1,"strong"),l.Oc(2),l.Sb(),l.Sb()),2&i){var e=t.$implicit;l.Bb(2),l.Pc(e.header)}}function ji(i,t){if(1&i&&(l.Tb(0,"tr"),l.Mc(1,Qi,3,1,"th",17),l.Sb()),2&i){var e=t.$implicit;l.Bb(1),l.mc("ngForOf",e)}}function Zi(i,t){if(1&i&&(l.Tb(0,"div"),l.Oc(1),l.gc(2,"date"),l.Sb()),2&i){var e=t.$implicit;l.Bb(1),l.Qc(" ",e.dataInizio?e.descrizione+" dal "+l.ic(2,1,e.dataInizio,"dd/MM/yyyy"):e.descrizione," ")}}function $i(i,t){if(1&i&&(l.Tb(0,"tr",21),l.Tb(1,"td"),l.Tb(2,"a",18),l.Ob(3,"i",19),l.Sb(),l.Sb(),l.Tb(4,"td"),l.Oc(5),l.Sb(),l.Tb(6,"td"),l.Oc(7),l.Sb(),l.Tb(8,"td"),l.Mc(9,Zi,3,4,"div",17),l.Sb(),l.Sb()),2&i){var e=t.$implicit,a=t.expanded;l.mc("pSelectableRow",e),l.Bb(2),l.mc("pRowToggler",e),l.Bb(1),l.mc("ngClass",a?"pi pi-chevron-down":"pi pi-chevron-right"),l.Bb(2),l.Qc(" ",e.denominazione," "),l.Bb(2),l.Qc(" ",e.codiceFiscale," "),l.Bb(2),l.mc("ngForOf",e.cariche)}}function Yi(i,t){1&i&&l.Ob(0,"tr")}function Hi(i,t){1&i&&l.Mc(0,Yi,1,0,"ng-template",20),2&i&&l.mc("ngIf",t.$implicit)}function Ki(i,t){if(1&i&&(l.Tb(0,"tr"),l.Tb(1,"td"),l.Oc(2,"Nessun contenuto disponibile"),l.Sb(),l.Sb()),2&i){var e=t.$implicit;l.Bb(1),l.Cb("colspan",e.length)}}var Wi,Xi=function(){return{marginTop:"70px"}},Ji=function(i,t,e){return[i,t,e,"descrizione","dataInizio"]},it=function(i,t){return[i,t,"descrizione","dataInizio"]},tt=((Wi=function(){function i(t,e){_classCallCheck(this,i),this.anagraficaFascicoloService=t,this.route=e,this.verificaCodiceFiscaleEnum=yi,this.cuaa="",this.idValidazione=void 0,this.componentDestroyed$=new j.a}return _createClass(i,[{key:"ngOnInit",value:function(){var i=this;this.setCols(),this.cuaa=this.route.snapshot.paramMap.get("cuaa"),this.route.queryParams.pipe(Object($.a)(this.componentDestroyed$)).subscribe((function(t){var e=t["id-validazione"];i.idValidazione=e?Number.parseInt(e):0,i.getPersoneFisicheConCarica(i.cuaa,i.idValidazione),i.getPersoneGiuridicheConCarica(i.cuaa,i.idValidazione)}))}},{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}},{key:"setCols",value:function(){this.cols=[{field:"",header:""},{field:"cognome",header:"Cognome"},{field:"nome",header:"Nome"},{field:"codiceFiscale",header:"Codice Fiscale"},{field:"cariche",header:"Carica"},{field:"verificaCodiceFiscale",header:"Anomalie"}],this.cols2=[{field:"",header:""},{field:"denominazione",header:"Denominazione"},{field:"codiceFiscale",header:"Codice Fiscale"},{field:"cariche",header:"Carica"}]}},{key:"getPersoneFisicheConCarica",value:function(i,t){var e=this;this.anagraficaFascicoloService.getPersoneFisicheConCarica(i,t).subscribe((function(i){e.personaFisicaConCarica=i,e.personaFisicaConCarica||(e.personaFisicaConCarica=[]),e.personaFisicaConCarica&&e.personaFisicaConCarica.length>0&&e.personaFisicaConCarica.sort((function(i,t){return i.cognome>t.cognome?1:i.cognome<t.cognome?-1:0})),e.ordinaPersoneFisicheDataCariche()}),(function(i){e.personaFisicaConCarica=[]}))}},{key:"getPersoneGiuridicheConCarica",value:function(i,t){var e=this;this.anagraficaFascicoloService.getPersoneGiuridicheConCarica(i,t).subscribe((function(i){e.personaGiuridicaConCarica=i,e.personaGiuridicaConCarica||(e.personaGiuridicaConCarica=[]),e.personaGiuridicaConCarica&&e.personaGiuridicaConCarica.length>0&&e.personaGiuridicaConCarica.sort((function(i,t){return i.denominazione>t.denominazione?1:i.denominazione<t.denominazione?-1:0})),e.ordinaPersoneGiuridicheDataCariche()}),(function(i){e.personaGiuridicaConCarica=[]}))}},{key:"ordinaPersoneFisicheDataCariche",value:function(){this.personaFisicaConCarica.forEach((function(i){i.cariche&&i.cariche.length>0&&i.cariche.sort((function(i,t){return i.dataInizio>t.dataInizio?1:i.dataInizio<t.dataInizio?-1:0}))}))}},{key:"ordinaPersoneGiuridicheDataCariche",value:function(){this.personaGiuridicaConCarica.forEach((function(i){i.cariche&&i.cariche.length>0&&i.cariche.sort((function(i,t){return i.dataInizio>t.dataInizio?1:i.dataInizio<t.dataInizio?-1:0}))}))}},{key:"costruisciIndirizzo",value:function(i){var t="",e=i&&i.frazione||null,a=i&&i.toponimo||null,o=i&&i.via||null,c=i&&i.civico||null;return e&&(t=t+e+" "),a&&(t=t+a+" "),o&&(t=t+o+", "),c&&(t+=c),t}},{key:"filter",value:function(i){this.tableFisiche.value.forEach((function(i){i.descrizione=i.cariche[0].descrizione,i.dataInizio=i.cariche[0].dataInizio})),this.tableFisiche.filterGlobal(i.target.value,"contains"),this.tableGiuridiche.value.forEach((function(i){i.descrizione=i.cariche[0].descrizione,i.dataInizio=i.cariche[0].dataInizio})),this.tableGiuridiche.filterGlobal(i.target.value,"contains")}}]),i}()).\u0275fac=function(i){return new(i||Wi)(l.Nb(Ii.a),l.Nb(x.a))},Wi.\u0275cmp=l.Hb({type:Wi,selectors:[["app-persone-con-carica"]],viewQuery:function(i,t){var e;1&i&&(l.Jc(Li,!0),l.Jc(ki,!0)),2&i&&(l.Ac(e=l.cc())&&(t.tableFisiche=e.first),l.Ac(e=l.cc())&&(t.tableGiuridiche=e.first))},decls:25,vars:24,consts:[["key","tst"],[1,"funzioni-grid","boxgrey"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],[1,"ui-g"],[1,"ui-g-12"],[1,"globalfilter"],[1,"material-icons"],["type","text","pInputText","","size","50","placeholder","Ricerca...",1,"filter",2,"width","auto",3,"input"],["header","PERSONE FISICHE",3,"selected"],["expandableRows","true","dataKey","codiceFiscale",3,"columns","value","autoLayout","paginator","responsive","globalFilterFields"],["tableFisiche",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],["header","PERSONE GIURIDICHE",3,"selected"],["tableGiuridiche",""],[4,"ngFor","ngForOf"],["href","#",3,"pRowToggler"],[3,"ngClass"],[3,"ngIf"],[3,"pSelectableRow"]],template:function(i,t){1&i&&(l.Ob(0,"p-toast",0),l.Tb(1,"div",1),l.Tb(2,"div",2),l.Tb(3,"div",3),l.Tb(4,"div",4),l.Tb(5,"div",5),l.Tb(6,"i",6),l.Oc(7,"search"),l.Sb(),l.Tb(8,"input",7),l.bc("input",(function(i){return t.filter(i)})),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Tb(9,"p-accordion"),l.Tb(10,"p-accordionTab",8),l.Tb(11,"p-table",9,10),l.Mc(13,wi,2,1,"ng-template",11),l.Mc(14,Gi,15,9,"ng-template",12),l.Mc(15,Ui,1,1,"ng-template",13),l.Mc(16,qi,3,1,"ng-template",14),l.Sb(),l.Sb(),l.Sb(),l.Tb(17,"p-accordion"),l.Tb(18,"p-accordionTab",15),l.Tb(19,"p-table",9,16),l.Mc(21,ji,2,1,"ng-template",11),l.Mc(22,$i,10,6,"ng-template",12),l.Mc(23,Hi,1,1,"ng-template",13),l.Mc(24,Ki,3,1,"ng-template",14),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&i&&(l.Kc(l.rc(16,Xi)),l.Bb(10),l.mc("selected",!0),l.Bb(1),l.mc("columns",t.cols)("value",t.personaFisicaConCarica)("autoLayout",!0)("paginator",!1)("responsive",!0)("globalFilterFields",l.uc(17,Ji,t.cols[1].field,t.cols[2].field,t.cols[3].field)),l.Bb(7),l.mc("selected",!0),l.Bb(1),l.mc("columns",t.cols2)("value",t.personaGiuridicaConCarica)("autoLayout",!0)("paginator",!1)("responsive",!0)("globalFilterFields",l.tc(21,it,t.cols2[1].field,t.cols2[2].field)))},directives:[f.a,bi.a,v.a,v.c,K.q,m.e,r.s,K.k,r.q,r.t,K.m],pipes:[g.d,r.f],styles:[""]}),Wi),et=e("OSEj");function at(i,t){if(1&i&&(l.Tb(0,"th",12),l.Tb(1,"strong"),l.Oc(2),l.Sb(),l.Ob(3,"p-sortIcon",13),l.Sb()),2&i){var e=t.$implicit;l.mc("pSortableColumn",e.field)("pSortableColumnDisabled",null==e.field),l.Bb(2),l.Pc(e.header),l.Bb(1),l.mc("field",e.field)}}function ot(i,t){if(1&i&&(l.Tb(0,"tr"),l.Ob(1,"th",10),l.Mc(2,at,4,4,"th",11),l.Sb()),2&i){var e=t.$implicit;l.Bb(2),l.mc("ngForOf",e)}}function ct(i,t){if(1&i&&(l.Tb(0,"tr"),l.Tb(1,"td"),l.Tb(2,"a",14),l.Ob(3,"i",15),l.Sb(),l.Sb(),l.Tb(4,"td"),l.Oc(5),l.Sb(),l.Tb(6,"td"),l.Oc(7),l.Sb(),l.Tb(8,"td"),l.Oc(9),l.Sb(),l.Sb()),2&i){var e=t.$implicit,a=t.expanded,o=l.fc();l.Bb(2),l.mc("pRowToggler",e),l.Bb(1),l.mc("ngClass",a?"pi pi-chevron-down":"pi pi-chevron-right"),l.Bb(2),l.Pc(e.identificativoUte),l.Bb(2),l.Pc(e.attivita),l.Bb(2),l.Pc(o.getIndirizzo(e))}}function nt(i,t){if(1&i&&(l.Tb(0,"tr"),l.Tb(1,"td"),l.Oc(2),l.Sb(),l.Ob(3,"th"),l.Sb()),2&i){var e=t.$implicit;l.Bb(2),l.Pc(e.descrizione)}}function rt(i,t){if(1&i&&(l.Tb(0,"tr"),l.Tb(1,"td"),l.Oc(2),l.Sb(),l.Tb(3,"td"),l.Oc(4),l.Sb(),l.Ob(5,"br"),l.Sb()),2&i){var e=t.$implicit;l.Bb(2),l.Pc(e.codice),l.Bb(2),l.Pc(e.descrizione)}}function lt(i,t){if(1&i&&(l.Tb(0,"tr"),l.Tb(1,"td"),l.Tb(2,"tbody"),l.Ob(3,"tr"),l.Tb(4,"tr"),l.Tb(5,"td"),l.Oc(6),l.gc(7,"translate"),l.Sb(),l.Tb(8,"td"),l.Oc(9),l.gc(10,"date"),l.Sb(),l.Sb(),l.Ob(11,"br"),l.Tb(12,"tr"),l.Tb(13,"th"),l.Oc(14),l.gc(15,"translate"),l.Sb(),l.Ob(16,"th"),l.Sb(),l.Tb(17,"tr"),l.Tb(18,"td"),l.Oc(19),l.gc(20,"translate"),l.Sb(),l.Tb(21,"td"),l.Oc(22),l.gc(23,"date"),l.Sb(),l.Sb(),l.Tb(24,"tr"),l.Tb(25,"td"),l.Oc(26),l.gc(27,"translate"),l.Sb(),l.Tb(28,"td"),l.Oc(29),l.gc(30,"date"),l.Sb(),l.Sb(),l.Tb(31,"tr"),l.Tb(32,"td"),l.Oc(33),l.gc(34,"translate"),l.Sb(),l.Tb(35,"td"),l.Oc(36),l.Sb(),l.Sb(),l.Ob(37,"br"),l.Tb(38,"tr"),l.Tb(39,"th"),l.Oc(40),l.gc(41,"translate"),l.Sb(),l.Ob(42,"th"),l.Sb(),l.Tb(43,"tr"),l.Tb(44,"td"),l.Oc(45),l.gc(46,"translate"),l.Sb(),l.Tb(47,"td"),l.Oc(48),l.gc(49,"date"),l.Sb(),l.Sb(),l.Tb(50,"tr"),l.Tb(51,"td"),l.Oc(52),l.gc(53,"translate"),l.Sb(),l.Tb(54,"td"),l.Oc(55),l.Sb(),l.Sb(),l.Ob(56,"br"),l.Tb(57,"tr"),l.Tb(58,"td"),l.Oc(59),l.gc(60,"translate"),l.Sb(),l.Tb(61,"td"),l.Oc(62),l.Sb(),l.Sb(),l.Tb(63,"tr"),l.Tb(64,"td"),l.Oc(65),l.gc(66,"translate"),l.Sb(),l.Tb(67,"td"),l.Oc(68),l.Sb(),l.Sb(),l.Ob(69,"br"),l.Tb(70,"tr"),l.Tb(71,"th"),l.Oc(72),l.gc(73,"translate"),l.Sb(),l.Ob(74,"th"),l.Sb(),l.Tb(75,"tr"),l.Tb(76,"td"),l.Oc(77),l.gc(78,"translate"),l.Sb(),l.Tb(79,"td"),l.Oc(80),l.Sb(),l.Sb(),l.Tb(81,"tr"),l.Tb(82,"td"),l.Oc(83),l.gc(84,"translate"),l.Sb(),l.Tb(85,"td"),l.Oc(86),l.Sb(),l.Sb(),l.Tb(87,"tr"),l.Tb(88,"td"),l.Oc(89),l.gc(90,"translate"),l.Sb(),l.Tb(91,"td"),l.Oc(92),l.Sb(),l.Sb(),l.Tb(93,"tr"),l.Tb(94,"td"),l.Oc(95),l.gc(96,"translate"),l.Sb(),l.Tb(97,"td"),l.Oc(98),l.Sb(),l.Sb(),l.Tb(99,"tr"),l.Tb(100,"td"),l.Oc(101),l.gc(102,"translate"),l.Sb(),l.Tb(103,"td"),l.Oc(104),l.Sb(),l.Sb(),l.Tb(105,"tr"),l.Tb(106,"td"),l.Oc(107),l.gc(108,"translate"),l.Sb(),l.Tb(109,"td"),l.Oc(110),l.Sb(),l.Sb(),l.Tb(111,"tr"),l.Tb(112,"td"),l.Oc(113),l.gc(114,"translate"),l.Sb(),l.Tb(115,"td"),l.Oc(116),l.Sb(),l.Sb(),l.Tb(117,"tr"),l.Tb(118,"td"),l.Oc(119),l.gc(120,"translate"),l.Sb(),l.Tb(121,"td"),l.Oc(122),l.Sb(),l.Sb(),l.Ob(123,"br"),l.Tb(124,"tr"),l.Tb(125,"th"),l.Oc(126),l.gc(127,"translate"),l.Sb(),l.Ob(128,"th"),l.Sb(),l.Mc(129,nt,4,1,"tr",16),l.Ob(130,"br"),l.Tb(131,"tr"),l.Tb(132,"th"),l.Oc(133),l.gc(134,"translate"),l.Sb(),l.Ob(135,"th"),l.Sb(),l.Mc(136,rt,6,2,"tr",16),l.Sb(),l.Sb(),l.Sb()),2&i){var e=t.$implicit,a=t.columns;l.Bb(1),l.Cb("colspan",a.length+1),l.Bb(5),l.Qc(" ",l.hc(7,40,"FascicoloAziendale.UNITA_TECNICO_ECONOMICHE.DT_APERTURA"),": "),l.Bb(3),l.Qc(" ",l.ic(10,42,e.dataApertura,"dd/MM/yyyy")," "),l.Bb(5),l.Qc(" ",l.hc(15,45,"FascicoloAziendale.UNITA_TECNICO_ECONOMICHE.DATI_CESSAZIONE")," "),l.Bb(5),l.Qc(" ",l.hc(20,47,"FascicoloAziendale.UNITA_TECNICO_ECONOMICHE.DT_CESSAZIONE"),": "),l.Bb(3),l.Qc(" ",l.ic(23,49,e.dataCessazione,"dd/MM/yyyy")," "),l.Bb(4),l.Qc(" ",l.hc(27,52,"FascicoloAziendale.UNITA_TECNICO_ECONOMICHE.DT_DENUNCIA_CESSAZIONE"),": "),l.Bb(3),l.Qc(" ",l.ic(30,54,e.dataDenunciaCessazione,"dd/MM/yyyy")," "),l.Bb(4),l.Qc(" ",l.hc(34,57,"FascicoloAziendale.UNITA_TECNICO_ECONOMICHE.MOTIVO_CESSAZIONE"),": "),l.Bb(3),l.Pc(e.causaleCessazione),l.Bb(4),l.Qc(" ",l.hc(41,59,"FascicoloAziendale.UNITA_TECNICO_ECONOMICHE.COMMERCIO_DETTAGLIO")," "),l.Bb(5),l.Qc(" ",l.hc(46,61,"FascicoloAziendale.UNITA_TECNICO_ECONOMICHE.DT_INIZIO_ATT_COMM_DETT"),": "),l.Bb(3),l.Qc(" ",l.ic(49,63,e.dataDenunciaInizioAttivita,"dd/MM/yyyy")," "),l.Bb(4),l.Qc(" ",l.hc(53,66,"FascicoloAziendale.UNITA_TECNICO_ECONOMICHE.SETTORE_MERCEOLOGICO"),": "),l.Bb(3),l.Pc(e.settoreMerceologico),l.Bb(4),l.Qc(" ",l.hc(60,68,"FascicoloAziendale.UNITA_TECNICO_ECONOMICHE.RECAPITO_TEL"),": "),l.Bb(3),l.Pc(e.telefono),l.Bb(3),l.Qc(" ",l.hc(66,70,"FascicoloAziendale.UNITA_TECNICO_ECONOMICHE.PEC"),": "),l.Bb(3),l.Pc(e.indirizzoPec),l.Bb(4),l.Qc(" ",l.hc(73,72,"FascicoloAziendale.UNITA_TECNICO_ECONOMICHE.INDIRIZZO")," "),l.Bb(5),l.Qc(" ",l.hc(78,74,"FascicoloAziendale.UNITA_TECNICO_ECONOMICHE.TOPONIMO"),": "),l.Bb(3),l.Pc(e.toponimo),l.Bb(3),l.Qc(" ",l.hc(84,76,"FascicoloAziendale.UNITA_TECNICO_ECONOMICHE.VIA"),": "),l.Bb(3),l.Pc(e.via),l.Bb(3),l.Qc(" ",l.hc(90,78,"FascicoloAziendale.UNITA_TECNICO_ECONOMICHE.CIVICO"),": "),l.Bb(3),l.Pc(e.numeroCivico),l.Bb(3),l.Qc(" ",l.hc(96,80,"FascicoloAziendale.UNITA_TECNICO_ECONOMICHE.COMUNE"),": "),l.Bb(3),l.Pc(e.comune),l.Bb(3),l.Qc(" ",l.hc(102,82,"FascicoloAziendale.UNITA_TECNICO_ECONOMICHE.CAP"),": "),l.Bb(3),l.Pc(e.cap),l.Bb(3),l.Qc(" ",l.hc(108,84,"FascicoloAziendale.UNITA_TECNICO_ECONOMICHE.CODICE_ISTAT"),": "),l.Bb(3),l.Pc(e.codiceIstatComune),l.Bb(3),l.Qc(" ",l.hc(114,86,"FascicoloAziendale.UNITA_TECNICO_ECONOMICHE.FRAZIONE"),": "),l.Bb(3),l.Pc(e.frazione),l.Bb(3),l.Qc(" ",l.hc(120,88,"FascicoloAziendale.UNITA_TECNICO_ECONOMICHE.PROVINCIA"),": "),l.Bb(3),l.Pc(e.provincia),l.Bb(4),l.Qc(" ",l.hc(127,90,"FascicoloAziendale.UNITA_TECNICO_ECONOMICHE.LISTA_DEST_USO")," "),l.Bb(3),l.mc("ngForOf",e.destinazioniUso),l.Bb(4),l.Qc(" ",l.hc(134,92,"FascicoloAziendale.UNITA_TECNICO_ECONOMICHE.LISTA_ATTIVITA_ATECO")," "),l.Bb(3),l.mc("ngForOf",e.attivitaAteco)}}function st(i,t){if(1&i&&(l.Tb(0,"tr"),l.Tb(1,"td"),l.Oc(2,"Nessun contenuto disponibile"),l.Sb(),l.Sb()),2&i){var e=t.$implicit;l.Bb(1),l.Cb("colspan",e.length+1)}}var bt,ut=function(){return{marginTop:"70px"}},dt=((bt=function(){function i(t,e,a){_classCallCheck(this,i),this.route=t,this.anagraficaFascicoloService=e,this.messageService=a,this.componentDestroyed$=new j.a,this.idValidazione=void 0}return _createClass(i,[{key:"ngOnInit",value:function(){var i=this;this.cuaa=this.route.snapshot.paramMap.get("cuaa"),this.setCols(),this.route.queryParams.pipe(Object($.a)(this.componentDestroyed$)).subscribe((function(t){var e=t["id-validazione"];i.idValidazione=e?Number.parseInt(e):0,i.getUnitaTecnicoEconomiche(i.cuaa)}))}},{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}},{key:"setCols",value:function(){this.cols=[{field:"identificativoUte",header:"Identificativo UTE"},{field:"attivita",header:"Attivit\xe0"},{field:"indirizzo",header:"Indirizzo"}]}},{key:"getUnitaTecnicoEconomiche",value:function(i){var t=this;this.anagraficaFascicoloService.getUnitaTecnicoEconomiche(i,this.idValidazione).pipe(Object($.a)(this.componentDestroyed$)).subscribe((function(i){i&&(t.unitaTecnicoEconomiche=i.sort((function(i,t){return i.identificativoUte>t.identificativoUte?1:t.identificativoUte>i.identificativoUte?-1:0})))}),(function(i){t.messageService.add(p.a.getToast("tst",p.b.error,p.a.errorGetUnitaTecnicoEconomiche))}))}},{key:"getIndirizzo",value:function(i){var t=et.a.isNullOrEmpty(i.toponimo),e=et.a.isNullOrEmpty(i.via),a=et.a.isNullOrEmpty(i.numeroCivico),o="";return e||(o=t?a?i.via+" - "+i.comune:i.via+" "+i.numeroCivico+" - "+i.comune:a?i.toponimo+" "+i.via+" - "+i.comune:i.toponimo+" "+i.via+" "+i.numeroCivico+" - "+i.comune),o}}]),i}()).\u0275fac=function(i){return new(i||bt)(l.Nb(x.a),l.Nb(Ii.a),l.Nb(m.d))},bt.\u0275cmp=l.Hb({type:bt,selectors:[["app-unita-tecnico-economiche"]],decls:11,vars:9,consts:[["key","tst"],[1,"funzioni-grid","boxgrey"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],["header","UNIT\xc0 LOCALI",3,"selected"],["dataKey","identificativoUte",3,"columns","value","autoLayout","paginator","responsive"],["tableUnita",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],[2,"width","3em"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"],["href","#",3,"pRowToggler"],[3,"ngClass"],[4,"ngFor","ngForOf"]],template:function(i,t){1&i&&(l.Ob(0,"p-toast",0),l.Tb(1,"div",1),l.Tb(2,"div",2),l.Tb(3,"p-accordion"),l.Tb(4,"p-accordionTab",3),l.Tb(5,"p-table",4,5),l.Mc(7,ot,3,1,"ng-template",6),l.Mc(8,ct,10,5,"ng-template",7),l.Mc(9,lt,137,94,"ng-template",8),l.Mc(10,st,3,1,"ng-template",9),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&i&&(l.Kc(l.rc(8,ut)),l.Bb(4),l.mc("selected",!0),l.Bb(1),l.mc("columns",t.cols)("value",t.unitaTecnicoEconomiche)("autoLayout",!0)("paginator",!1)("responsive",!0))},directives:[f.a,v.a,v.c,K.q,m.e,r.s,K.p,K.o,K.k,r.q],pipes:[g.d,r.f],styles:[""]}),bt);function pt(i,t){if(1&i&&(l.Tb(0,"div",11),l.Tb(1,"p-accordion",12),l.Ob(2,"app-a4g-accordion-tab",13),l.Sb(),l.Sb()),2&i){var e=l.fc();l.Bb(1),l.mc("multiple",!0),l.Bb(1),l.mc("accordionModels",e.templates)}}function mt(i,t){1&i&&(l.Tb(0,"div",11),l.Ob(1,"app-persone-con-carica"),l.Sb())}function gt(i,t){1&i&&(l.Tb(0,"div",11),l.Ob(1,"app-unita-tecnico-economiche"),l.Sb())}var ft,ht=function(){return{marginTop:"70px"}},vt=((ft=function(){function i(t,e,a,o,c,n,r){_classCallCheck(this,i),this.anagraficaFascicoloService=t,this.route=e,this.router=a,this.fascicoloDettaglioService=o,this.translateService=c,this.messageService=n,this.mediatorService=r,this.tabPersoneConCarica=!1,this.tabRegistroImpresa=!1,this.tabUnitaTecnicoEconomiche=!1,this.tabs=[],this.componentDestroyed$=new j.a,this.idValidazione=void 0}return _createClass(i,[{key:"subscribeStatoFascicolo",value:function(){var i=this;this.fascicoloDettaglioService.fascicoloCorrente.pipe(Object($.a)(this.componentDestroyed$)).subscribe((function(t){t&&(i.fascicoloCorrente=t)}))}},{key:"ngOnInit",value:function(){var i=this,t=void 0;this.subscribeStatoFascicolo(),this.route.params.pipe(Object($.a)(this.componentDestroyed$),Object(Di.a)((function(e){return t=e.cuaa,i.route.queryParams})),Object(Di.a)((function(e){var a=e["id-validazione"];return i.idValidazione=a?Number.parseInt(a):0,16===t.length?i.getPersonaFisica(t):11===t.length?i.getPersonaGiuridica(t):Z.a}))).subscribe()}},{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}},{key:"getPersonaGiuridica",value:function(i){var t=this;return this.anagraficaFascicoloService.getPersonaGiuridica(i,this.idValidazione).pipe(Object($.a)(this.componentDestroyed$),Object(Bi.a)((function(i){t.personaGiuridica=i,t.arrangeTabAndAccordionsPersonaGiuridica()})))}},{key:"getPersonaFisica",value:function(i){var t=this;return this.anagraficaFascicoloService.getPersonaFisica(i,this.idValidazione).pipe(Object($.a)(this.componentDestroyed$),Object(Bi.a)((function(i){t.personaFisica=i,t.arrangeTabAndAccordionsPersonaFisica()})))}},{key:"anagrafeTributariaSelected",value:function(){this.prepareTemplatesPersonaFisicaAnagrificaDomicilioFiscaleAT(),this.prepareTemplatesPersonaFisicaDittaIndividualeAT()}},{key:"cameraCommercioSelected",value:function(){this.prepareTemplatesPersonaFisicaDatiCameraCommercio(),this.prepareTemplatesPersonaFisicaSedeLegaleCameraDiCommercio()}},{key:"fascicoloEditable",value:function(){return this.fascicoloCorrente&&0===this.idValidazione&&(this.fascicoloCorrente.stato===w.c.IN_AGGIORNAMENTO||this.fascicoloCorrente.stato===w.c.VALIDATO||this.fascicoloCorrente.stato===w.c.CONTROLLATO_OK||this.fascicoloCorrente.stato===w.c.IN_CHIUSURA)}},{key:"arrangeTabAndAccordionsPersonaFisica",value:function(){var i=this,t=this.personaFisica.impresaIndividuale;t?(this.prepareAtecoVariables(t.sedeLegale),t.sedeLegale&&t.sedeLegale.iscrizioneRegistroImprese&&!t.sedeLegale.iscrizioneRegistroImprese.cessata?(this.anagrafeTributariaSelected(),this.tabs=new Array({label:"Dati Anagrafe Tributaria",command:function(t){i.anagrafeTributariaSelected()}},{label:"Dati Camera Di Commercio",command:function(t){i.cameraCommercioSelected()}},{label:"Persone con cariche",command:function(t){i.setTabDefault(),i.tabPersoneConCarica=!0}})):t.sedeLegale&&(null==t.sedeLegale.iscrizioneRegistroImprese||t.sedeLegale.iscrizioneRegistroImprese.cessata)&&(this.prepareTemplatesPersonaFisicaAnagrificaDomicilioFiscaleAT(),this.prepareTemplatesPersonaFisicaDittaIndividualeAT(),this.tabs=new Array({label:"Dati Anagrafe Tributaria",command:function(t){i.prepareTemplatesPersonaFisicaAnagrificaDomicilioFiscaleAT(),i.prepareTemplatesPersonaFisicaDittaIndividualeAT()}}))):(this.prepareTemplatesPersonaFisicaAnagrificaDomicilioFiscaleAT(),this.tabs=new Array({label:"Dati Anagrafe Tributaria",command:function(t){i.prepareTemplatesPersonaFisicaAnagrificaDomicilioFiscaleAT()}}))}},{key:"getSezioni",value:function(i){var t=this;this.anagraficaFascicoloService.getSezioniImpresa(i).subscribe((function(i){t.sezioniImpresa=i}),(function(i){t.messageService.add(p.a.getToast("tst",p.b.error,p.a.errorGetUnitaTecnicoEconomiche))}))}},{key:"arrangeTabAndAccordionsPersonaGiuridica",value:function(){var i=this,t=this.personaGiuridica;if(t){var e=this.route.snapshot.paramMap.get("cuaa");this.getSezioni(e),this.prepareAtecoVariables(t.sedeLegale),t.sedeLegale&&t.sedeLegale.iscrizioneRegistroImprese&&!t.sedeLegale.iscrizioneRegistroImprese.cessata?(this.prepareTemplatesPersonaGiuridicaAnagrificaRappresentanteLegaleAT(),this.prepareTemplatesPersonaGiuridicaSedeLegaleAT(),this.tabs=new Array({label:"Dati Anagrafe Tributaria",command:function(t){i.setTabDefault(),i.prepareTemplatesPersonaGiuridicaAnagrificaRappresentanteLegaleAT(),i.prepareTemplatesPersonaGiuridicaSedeLegaleAT()}},{label:"Dati Camera Di Commercio",command:function(t){i.setTabDefault(),i.prepareTemplatesPersonaGiuridicaDatiCameraDiCommercio(),i.prepareTemplatesPersonaGiuridicaDatiSedeLegaleCameraDiCommercio()}},{label:"Persone con cariche",command:function(t){i.setTabDefault(),i.tabPersoneConCarica=!0}},{label:"Unit\xe0 locale",command:function(t){i.setTabDefault(),i.tabUnitaTecnicoEconomiche=!0}})):t.sedeLegale&&(null==t.sedeLegale.iscrizioneRegistroImprese||t.sedeLegale.iscrizioneRegistroImprese.cessata)&&(this.prepareTemplatesPersonaGiuridicaAnagrificaRappresentanteLegaleAT(),this.prepareTemplatesPersonaGiuridicaSedeLegaleAT(),this.tabs=new Array({label:"Dati Anagrafe Tributaria",command:function(t){i.prepareTemplatesPersonaGiuridicaAnagrificaRappresentanteLegaleAT(),i.prepareTemplatesPersonaGiuridicaSedeLegaleAT()}}))}}},{key:"prepareTemplatesPersonaFisicaAnagrificaDomicilioFiscaleAT",value:function(){this.templates=[];var i={headerTitle:"DATI PERSONA FISICA"},t=new Array;t.push(this.buildKeyValue("Nome:",this.personaFisica.anagrafica&&this.personaFisica.anagrafica.nome||null)),t.push(this.buildKeyValue("Cognome:",this.personaFisica.anagrafica&&this.personaFisica.anagrafica.cognome||null)),t.push(this.buildKeyValue("Codice Fiscale:",this.personaFisica.codiceFiscale||null)),t.push(this.buildKeyValue("Sesso:",this.personaFisica.anagrafica&&this.personaFisica.anagrafica.sesso||null)),t.push(this.buildKeyValue("Nato a:",this.personaFisica.anagrafica&&this.personaFisica.anagrafica.comuneNascita||null));var e=this.personaFisica.anagrafica&&this.personaFisica.anagrafica.dataNascita||null;if(e&&(e=Object(r.I)(e,"dd/MM/yyyy","it-IT")||null),t.push(this.buildKeyValue("Nato il:",e)),this.personaFisica.anagrafica&&this.personaFisica.anagrafica.deceduto){var a=this.personaFisica.anagrafica&&this.personaFisica.anagrafica.dataMorte||null;a&&(a=Object(r.I)(a,"dd/MM/yyyy","it-IT")||null),t.push(this.buildKeyValue("Morto il:",a))}i.fields=t,this.templates.push(i),(i={}).headerTitle="DOMICILIO FISCALE",t=new Array,this.prepareKeyValueArrayIndirizzoAT(t,this.personaFisica.domicilioFiscale),i.fields=t,this.templates.push(i)}},{key:"prepareTemplatesPersonaFisicaDittaIndividualeAT",value:function(){var i={headerTitle:"DATI DITTA INDIVIDUALE"},t=new Array;t.push(this.buildKeyValue("Denominazione:",this.personaFisica.impresaIndividuale&&this.personaFisica.impresaIndividuale.denominazione||null)),t.push(this.buildKeyValue("Partita IVA:",this.personaFisica.impresaIndividuale&&this.personaFisica.impresaIndividuale.partitaIva||null)),this.prepareKeyValueArrayIndirizzoAT(t,this.personaFisica.impresaIndividuale&&this.personaFisica.impresaIndividuale.sedeLegale?this.personaFisica.impresaIndividuale.sedeLegale.indirizzo:null,!0),i.fields=t,this.templates.push(i),this.ateco[0].fonteDato===Mi.ANAGRAFE_TRIBUTARIA&&this.prepareTemplatesCodiciAteco(this.ateco)}},{key:"prepareTemplatesPersonaFisicaDatiCameraCommercio",value:function(){this.templates=[];var i={headerTitle:"DATI DITTA INDIVIDUALE"},t=new Array;t.push(this.buildKeyValue("Forma giuridica:",this.personaFisica.impresaIndividuale.formaGiuridica)),i.fields=t,this.templates.push(i),(i={}).headerTitle="ISCRIZIONE CAMERA DI COMMERCIO",t=new Array,this.prepareKeyValueIRE(t,this.personaFisica.impresaIndividuale&&this.personaFisica.impresaIndividuale.sedeLegale?this.personaFisica.impresaIndividuale.sedeLegale.iscrizioneRegistroImprese:null),i.fields=t,this.templates.push(i),this.personaFisica.iscrizioniSezione.length>0&&this.prepareKeyValueRegistroImp(this.personaFisica?this.personaFisica:null)}},{key:"prepareTemplatesPersonaFisicaSedeLegaleCameraDiCommercio",value:function(){var i={headerTitle:"SEDE LEGALE"},t=new Array;this.prepareKeyValueArrayIndirizzoCameraDiCommercio(t,this.personaFisica.impresaIndividuale&&this.personaFisica.impresaIndividuale.sedeLegale?this.personaFisica.impresaIndividuale.sedeLegale:null),i.fields=t,this.templates.push(i),this.ateco[0].fonteDato===Mi.CAMERA_COMMERCIO&&this.prepareTemplatesCodiciAteco(this.ateco)}},{key:"prepareTemplatesPersonaGiuridicaAnagrificaRappresentanteLegaleAT",value:function(){this.templates=[];var i={headerTitle:"DATI PERSONA GIURIDICA"},t=new Array;t.push(this.buildKeyValue("Denominazione:",this.personaGiuridica.denominazione||null)),t.push(this.buildKeyValue("Forma giuridica:",this.personaGiuridica.formaGiuridica||null)),t.push(this.buildKeyValue("Codice Fiscale:",this.personaGiuridica.codiceFiscale||null)),t.push(this.buildKeyValue("Partita IVA:",this.personaGiuridica.partitaIva||null)),i.fields=t,this.templates.push(i),(i={}).headerTitle="RAPPRESENTANTE LEGALE",(t=new Array).push(this.buildKeyValue("Nome e Cognome:",this.personaGiuridica.rappresentanteLegale&&this.personaGiuridica.rappresentanteLegale.nominativo||null)),t.push(this.buildKeyValue("Codice Fiscale:",this.personaGiuridica.rappresentanteLegale&&this.personaGiuridica.rappresentanteLegale.codiceFiscale||null)),i.fields=t,this.templates.push(i)}},{key:"prepareTemplatesPersonaGiuridicaSedeLegaleAT",value:function(){var i={headerTitle:"SEDE LEGALE"},t=new Array;this.prepareKeyValueArrayIndirizzoAT(t,this.personaGiuridica.sedeLegale?this.personaGiuridica.sedeLegale.indirizzo:null),i.fields=t,this.templates.push(i),null!=this.ateco&&this.ateco[0].fonteDato===Mi.ANAGRAFE_TRIBUTARIA&&this.prepareTemplatesCodiciAteco(this.ateco)}},{key:"prepareTemplatesPersonaGiuridicaDatiCameraDiCommercio",value:function(){this.templates=[];var i={headerTitle:"DATI PERSONA GIURIDICA"},t=new Array;t.push(this.buildA4gAccordionItem(this.buildKeyValue("Oggetto sociale:",this.personaGiuridica.oggettoSociale||null),!0));var e=this.personaGiuridica.dataCostituzione||null,a=null;e&&(a=Object(r.I)(e,"dd/MM/yyyy","it-IT")),t.push(this.buildKeyValue("Data costituzione:",a));var o=this.personaGiuridica.dataTermine||null,c=null;o&&(c=Object(r.I)(o,"dd/MM/yyyy","it-IT")),t.push(this.buildKeyValue("Data termine:",c));var n=this.personaGiuridica.capitaleSocialeDeliberato||null,l=null;n&&(l=n.toLocaleString()+" euro"),t.push(this.buildKeyValue("Capitale soc. deliberato:",l)),i.fields=t,this.templates.push(i),(i={}).headerTitle="REPERTORIO ECONOMICO AMMINISTRATIVO (REA)",t=new Array,this.prepareKeyValueIRE(t,this.personaGiuridica.sedeLegale?this.personaGiuridica.sedeLegale.iscrizioneRegistroImprese:null),i.fields=t,this.templates.push(i),this.sezioniImpresa.iscrizioniSezione.length>0&&this.prepareKeyValueRegistroImp(this.sezioniImpresa?this.sezioniImpresa:null)}},{key:"prepareTemplatesPersonaGiuridicaDatiSedeLegaleCameraDiCommercio",value:function(){var i={headerTitle:"SEDE LEGALE"},t=new Array;this.prepareKeyValueArrayIndirizzoCameraDiCommercio(t,this.personaGiuridica.sedeLegale?this.personaGiuridica.sedeLegale:null),i.fields=t,this.templates.push(i),null!=this.ateco&&this.ateco[0].fonteDato===Mi.CAMERA_COMMERCIO&&this.prepareTemplatesCodiciAteco(this.ateco)}},{key:"prepareKeyValueArrayIndirizzoCameraDiCommercio",value:function(i,t){var e=this.costruisciIndirizzoSedeLegale(t),a=Object.assign({},t.indirizzoCameraCommercio);a.toponimo=e,this.prepareKeyValueArrayIndirizzoAT(i,a,!0),i.push(this.buildKeyValue("Cod. ISTAT comune:",a?a.codiceIstat:null)),i.push(this.buildKeyValue("Telefono:",t?t.telefono:null)),i.push(this.buildKeyValue("PEC:",t&&t.indirizzoPec||null))}},{key:"prepareKeyValueArrayIndirizzoAT",value:function(i,t,e){i.push(this.buildKeyValue(e?"Indirizzo sede legale:":"Indirizzo:",t&&t.toponimo||null)),i.push(this.buildKeyValue("Comune:",t?t.comune:null)),i.push(this.buildKeyValue("CAP:",t?t.cap:null)),i.push(this.buildKeyValue("Provincia:",t?t.provincia:null))}},{key:"prepareKeyValueIRE",value:function(i,t){var e=t&&t.dataIscrizione||null,a=null;e&&(a=Object(r.I)(e,"dd/MM/yyyy","it-IT")),i.push(this.buildKeyValue("Data Iscrizione:",a)),i.push(this.buildKeyValue("Codice REA:",t&&t.codiceRea||null)),i.push(this.buildKeyValue("Provincia REA:",t&&t.provinciaRea||null))}},{key:"prepareKeyValueRegistroImp",value:function(i){var t=this;this.setTabDefault();var e,a={headerTitle:"REGISTRO IMPRESA"},o=new Array,c=new Ai;i.iscrizioniSezione.forEach((function(i){c.mkey=t.translateService.instant(i.sezione),e=Object(r.I)(i.dataIscrizione,"dd/MM/yyyy","it-IT"),i.qualifica&&(e=e+", "+i.qualifica),i.coltivatoreDiretto&&(e+=", Coltivatore Diretto"),c.mvalue=e||null,o.push(c),c=new Ai})),a.fields=o,this.templates.push(a)}},{key:"prepareAtecoVariables",value:function(i){var t=this;null!=i&&null!=i.attivitaAteco&&i.attivitaAteco.length>0&&(this.ateco=[],i.attivitaAteco.forEach((function(i){i.peso=t.setPeso(i),t.ateco.push(i)})),this.ateco=zi.orderBy(this.ateco,["peso","codice"],["asc","asc"]))}},{key:"setPeso",value:function(i){return i.importanza===Fi[Fi.PRIMARIO_IMPRESA]?0:i.importanza===Fi[Fi.PRIMARIO]?1:i.importanza===Fi[Fi.SECONDARIO]?2:3}},{key:"prepareTemplatesCodiciAteco",value:function(i){var t={headerTitle:"CODICI ATECO"},e=new Array,a=new Ai;i.forEach((function(i){a.mkey=i.codice||null,a.mvalue=i.descrizione||null,a.showButton=i.importanza,a.showButton=i.importanza===Fi[Fi.PRIMARIO_IMPRESA]?"PRIMARIO D'IMPRESA":i.importanza,a.colorButton=i.importanza===Fi[Fi.SECONDARIO]?"grey":"green",e.push(a),a=new Ai})),t.fields=e,this.templates.push(t)}},{key:"costruisciIndirizzoSedeLegale",value:function(i){var t="",e=i&&i.indirizzoCameraCommercio&&i.indirizzoCameraCommercio.frazione||null,a=i&&i.indirizzoCameraCommercio&&i.indirizzoCameraCommercio.toponimo||null,o=i&&i.indirizzoCameraCommercio&&i.indirizzoCameraCommercio.via||null,c=i&&i.indirizzoCameraCommercio&&i.indirizzoCameraCommercio.civico||null;return e&&(t=t+e+" "),a&&(t=t+a+" "),o&&(t=t+o+", "),c&&(t+=c),t}},{key:"buildKeyValue",value:function(i,t){var e=new Ci.a;return e.mkey=i,e.mvalue=t,e}},{key:"buildA4gAccordionItem",value:function(i,t){return Object.assign(Object.assign({},i),{longText:t})}},{key:"setTabDefault",value:function(){this.tabPersoneConCarica=!1,this.tabRegistroImpresa=!1,this.tabUnitaTecnicoEconomiche=!1}},{key:"handleClick",value:function(){this.fascicoloDettaglioService.mostraDettaglioSezione.next(R.a.DATI)}},{key:"update",value:function(){var i=this,t=this.route.snapshot.paramMap.get("cuaa");t&&this.anagraficaFascicoloService.aggiorna(t).pipe(Object($.a)(this.componentDestroyed$),Object(Y.a)((function(t){return i.messageService.add(p.a.getToast("tst",p.b.error,i.translateService.instant("FAS_ANA."+t.error.message))),Z.a})),Object(Di.a)((function(e){var a=e.fascicoloDto,o=e.anomalies;if(i.fascicoloDettaglioService.fascicoloCorrente.next(a),Array.isArray(o)&&o.length){var c,n=_createForOfIteratorHelper(o);try{for(n.s();!(c=n.n()).done;){var r=c.value,l=p.b.warn;"CUAA_MISMATCH_ANAGRAFE_TRIBUTARIA_CAA"===r&&(l=p.b.info,i.router.navigate([i.router.url.replace(t,a.cuaa)])),i.messageService.add(p.a.getToast("tst",l,i.translateService.instant("FAS_ANA.CONTROLLI_COMPLETEZZA_ANOMALIE."+r)))}}catch(s){n.e(s)}finally{n.f()}}return i.anagraficaFascicoloService.getFirmatario(t)})),Object(Y.a)((function(t){return p.a.handleError(i.messageService,t,p.a.ERRORE_GENERICO),Z.a})),Object(Di.a)((function(e){return e&&i.fascicoloDettaglioService.firmatario.next(e),Object(Ei.a)(t)})),Object(Di.a)((function(t){return i.mediatorService.deleteEsitiControlloCompletezza(t)})),Object(Y.a)((function(t){return p.a.handleError(i.messageService,t,p.a.ERRORE_GENERICO),Z.a}))).subscribe((function(t){i.messageService.add(p.a.getToast("tst",p.b.success,p.a.OPERAZIONE_OK))}))}}]),i}()).\u0275fac=function(i){return new(i||ft)(l.Nb(Ii.a),l.Nb(x.a),l.Nb(x.e),l.Nb(k.a),l.Nb(g.e),l.Nb(m.d),l.Nb(Ni.a))},ft.\u0275cmp=l.Hb({type:ft,selectors:[["app-dati-azienda"]],decls:18,vars:15,consts:[[1,"ui-grid-fixed","boxwhite"],["key","tst"],[1,"d-flex","align-items-center","text-decoration-none","color-primary",3,"routerLink","click"],[1,"pi","pi-chevron-left",2,"font-size","2rem","color","black"],["src","assets/img/ico-anagraf.jpg"],[1,"ml-2"],[1,"mb-3"],["pButton","","icon","ui-icon-update","label","AGGIORNA","pButton","",1,"pull-right",2,"background-color","green",3,"disabled","click"],[1,"d-block","mb-4",3,"model","activeItem"],[1,"funzioni-grid","boxgrey"],["class","accordion p-4",4,"ngIf"],[1,"accordion","p-4"],[3,"multiple"],[3,"accordionModels"]],template:function(i,t){1&i&&(l.Tb(0,"div",0),l.Ob(1,"p-toast",1),l.Tb(2,"a",2),l.bc("click",(function(){return t.handleClick()})),l.Ob(3,"em",3),l.Ob(4,"img",4),l.Tb(5,"span",5),l.Oc(6),l.gc(7,"translate"),l.Sb(),l.Sb(),l.Ob(8,"br"),l.Tb(9,"h3",6),l.Oc(10),l.gc(11,"translate"),l.Sb(),l.Tb(12,"button",7),l.bc("click",(function(){return t.update()})),l.Sb(),l.Ob(13,"p-tabMenu",8),l.Tb(14,"div",9),l.Mc(15,pt,3,2,"div",10),l.Mc(16,mt,2,0,"div",10),l.Mc(17,gt,2,0,"div",10),l.Sb(),l.Sb()),2&i&&(l.Bb(1),l.Kc(l.rc(14,ht)),l.Bb(5),l.Qc(" ",l.hc(7,10,"FascicoloAziendale.DATI_ANAGRAFICI_E_FISCALI")," "),l.Bb(4),l.Pc(l.hc(11,12,"FascicoloAziendale.DATI_AZIENDA")),l.Bb(2),l.mc("disabled",!t.fascicoloEditable()),l.Bb(1),l.mc("model",t.tabs)("activeItem",t.tabs[0]),l.Bb(2),l.mc("ngIf",!t.tabPersoneConCarica&&!t.tabUnitaTecnicoEconomiche),l.Bb(1),l.mc("ngIf",t.tabPersoneConCarica),l.Bb(1),l.mc("ngIf",t.tabUnitaTecnicoEconomiche))},directives:[f.a,x.h,T.b,Pi.a,r.t,v.a,_i.a,tt,dt],pipes:[g.d],styles:["[_nghost-%COMP%] .ui-accordion .ui-accordion-header{border-top:3px solid green}[_nghost-%COMP%] .ui-accordion .ui-accordion-header>a{text-decoration:none;vertical-align:center;color:#000;background-color:#fff;border:1}.ui-accordion[_ngcontent-%COMP%]   .ui-icon[_ngcontent-%COMP%]{color:#000}[_nghost-%COMP%] .ui-chkbox .ui-chkbox-box{padding:2px;border-radius:15px;width:1.75em;height:1.75em;overflow:hidden;transition:background-color .3s;border:1px solid grey}[_nghost-%COMP%] .ui-accordion .ui-accordion-content{width:100%;color:#000;background-color:hsla(0,0%,100%,.144);border-block-color:#000}[_nghost-%COMP%] .ui-accordion-header.ui-icon>a{color:#000;background-color:#fff}[_nghost-%COMP%] .ui-accordion .ui-accordion-content{border:1}.boxwhite[_ngcontent-%COMP%]{background-color:#fff;padding:25px;width:100%;margin-bottom:30px}.mb-3[_ngcontent-%COMP%]{color:#0d5f3f;font-weight:700;font-size:20px;text-transform:uppercase;padding-bottom:10px;margin-bottom:15px}"]}),ft),Tt=e("2c1J");function St(i,t){if(1&i&&l.Ob(0,"p-sortIcon",20),2&i){var e=l.fc().$implicit;l.mc("field",e.field)}}function Ot(i,t){if(1&i&&(l.Tb(0,"th",18),l.Oc(1),l.Mc(2,St,1,1,"p-sortIcon",19),l.Sb()),2&i){var e=t.$implicit;l.mc("pSortableColumn",e.field),l.Bb(1),l.Qc(" ",e.header," "),l.Bb(1),l.mc("ngIf",e.field)}}function Ct(i,t){if(1&i&&(l.Tb(0,"tr"),l.Tb(1,"th",16),l.Oc(2,"ID"),l.Sb(),l.Mc(3,Ot,3,3,"th",17),l.Tb(4,"th"),l.Oc(5,"Azioni"),l.Sb(),l.Sb()),2&i){var e=t.$implicit;l.Bb(3),l.mc("ngForOf",e)}}function At(i,t){if(1&i&&(l.Tb(0,"td"),l.Oc(1),l.Sb()),2&i){var e=t.$implicit,a=l.fc().$implicit;l.Bb(1),l.Pc(a[e.field])}}function It(i,t){if(1&i){var e=l.Ub();l.Tb(0,"tr",21),l.Tb(1,"td",16),l.Oc(2),l.Sb(),l.Mc(3,At,2,1,"td",22),l.Tb(4,"td"),l.Tb(5,"button",23),l.bc("click",(function(){l.Ec(e);var i=t.$implicit;return l.fc().cancellaIBAN(i.id,i.iban)})),l.gc(6,"translate"),l.Sb(),l.Sb(),l.Sb()}if(2&i){var a=t.$implicit,o=t.columns,c=l.fc();l.mc("pSelectableRow",a),l.Bb(2),l.Pc(a.id),l.Bb(1),l.mc("ngForOf",o),l.Bb(2),l.nc("label",l.hc(6,5,"ELIMINA")),l.mc("disabled",!c.fascicoloEditable())}}function Ft(i,t){if(1&i&&(l.Tb(0,"div",24),l.Oc(1),l.Sb()),2&i){var e=l.fc();l.Bb(1),l.Pc(e.footerTabella())}}function Mt(i,t){1&i&&(l.Ob(0,"p-message",39),l.gc(1,"translate")),2&i&&l.nc("text",l.hc(1,1,"MODALITA_PAGAMENTO.IBAN_OBBLIGATORIO"))}function yt(i,t){1&i&&(l.Ob(0,"p-message",39),l.gc(1,"translate")),2&i&&l.nc("text",l.hc(1,1,"MODALITA_PAGAMENTO.IBAN_NOT_VALID"))}function zt(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,Mt,2,3,"p-message",38),l.Mc(2,yt,2,3,"p-message",38),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.modalitaPagamentoFormGroup.get("iban").errors?null:e.modalitaPagamentoFormGroup.get("iban").errors.required),l.Bb(1),l.mc("ngIf",null==e.modalitaPagamentoFormGroup.get("iban").errors?null:e.modalitaPagamentoFormGroup.get("iban").errors.iban)}}var Et=function(i){return{inputRef:i}};function Dt(i,t){if(1&i&&(l.Tb(0,"form",30),l.Tb(1,"div",31),l.Tb(2,"div",32),l.Tb(3,"label",33),l.Oc(4),l.gc(5,"translate"),l.Sb(),l.Sb(),l.Tb(6,"div",34),l.Tb(7,"div"),l.Ob(8,"input",35,36),l.Sb(),l.Mc(10,zt,3,2,"div",37),l.Sb(),l.Sb(),l.Sb()),2&i){var e=l.Bc(9),a=l.fc(2);l.mc("formGroup",a.modalitaPagamentoFormGroup),l.Bb(4),l.Qc(" ",l.hc(5,4,"MODALITA_PAGAMENTO.IBAN")," * "),l.Bb(4),l.mc("a4gIban",l.sc(6,Et,e)),l.Bb(2),l.mc("ngIf",a.modalitaPagamentoFormGroup.get("iban").invalid&&(a.modalitaPagamentoFormGroup.get("iban").dirty||a.modalitaPagamentoFormGroup.get("iban").touched))}}var Bt=function(){return{marginTop:"70px"}};function Nt(i,t){if(1&i){var e=l.Ub();l.Tb(0,"p-dialog",25),l.bc("visibleChange",(function(i){return l.Ec(e),l.fc().displayDialog=i})),l.Tb(1,"p-header"),l.Oc(2),l.gc(3,"translate"),l.Sb(),l.Ob(4,"p-toast",26),l.Mc(5,Dt,11,8,"form",27),l.Tb(6,"p-footer"),l.Tb(7,"div",28),l.Tb(8,"button",29),l.bc("click",(function(){return l.Ec(e),l.fc().save()})),l.Sb(),l.Sb(),l.Sb(),l.Sb()}if(2&i){var a=l.fc();l.mc("visible",a.displayDialog)("responsive",!0)("modal",!0),l.Bb(2),l.Qc(" ",l.hc(3,8,"MODALITA_PAGAMENTO.INSERISCI_MODALITA_PAGAMENTO")," "),l.Bb(2),l.Kc(l.rc(10,Bt)),l.Bb(1),l.mc("ngIf",a.modalitaPagamentoFormGroup),l.Bb(3),l.mc("disabled",!a.modalitaPagamentoEditable())}}function Pt(i,t){if(1&i){var e=l.Ub();l.Tb(0,"div",40),l.Ob(1,"i",41),l.Tb(2,"h3"),l.Oc(3),l.Sb(),l.Tb(4,"p"),l.Oc(5),l.Sb(),l.Sb(),l.Tb(6,"div",42),l.Tb(7,"div",43),l.Tb(8,"button",44),l.bc("click",(function(){return l.Ec(e),l.fc().deleteRow()})),l.Sb(),l.Sb(),l.Tb(9,"div",43),l.Tb(10,"button",45),l.bc("click",(function(){return l.Ec(e),l.fc().annulla()})),l.Sb(),l.Sb(),l.Sb()}if(2&i){var a=t.$implicit,o=l.fc();l.Bb(3),l.Pc(a.summary),l.Bb(2),l.Pc(a.detail),l.Bb(3),l.mc("disabled",!o.fascicoloEditable())}}var _t,Lt=((_t=function(){function i(t,e,a,o,c){var n=this;_classCallCheck(this,i),this.anagraficaFascicoloService=t,this.route=e,this.messageService=a,this.fascicoloDettaglioService=o,this.translateService=c,this.cuaa="",this.idDaCancellare=0,this.newModalitaPagamento=!1,this.componentDestroyed$=new j.a,this.idValidazione=void 0,this.eredi=[],this.handleErrorOnPutModalitaPagamento=function(i){var t;return 400===i.error.status?t=n.translateService.instant("MODALITA_PAGAMENTO.IBAN_NON_VALIDO"):510===i.error.status?t=n.translateService.instant("MODALITA_PAGAMENTO.TITOLARE_CONTO_MISMATCH_INTESTATARIO_FASCICOLO"):(t=n.translateService.instant("MODALITA_PAGAMENTO.SALVATAGGIO_KO"),i.error.message.startsWith("Deve essere specificato uno ed un solo erede firmatario")&&(t=n.translateService.instant("MODALITA_PAGAMENTO.EREDE_FIRMATARIO_ASSENTE"))),n.messageService.add(p.a.getToast("tst-dialog",p.b.error,t)),Z.a}}return _createClass(i,[{key:"ngOnInit",value:function(){var i=this;this.cuaa=this.route.snapshot.paramMap.get("cuaa"),this.route.queryParams.pipe(Object($.a)(this.componentDestroyed$)).subscribe((function(t){var e=t["id-validazione"];i.idValidazione=e?Number.parseInt(e):0,i.getModalitaDiPagamento(i.cuaa,i.idValidazione)})),this.subscribeStatoFascicolo(),this.setCols(),this.subscribeEredi()}},{key:"setCols",value:function(){this.cols=[{field:"iban",header:"IBAN"},{field:"bic",header:"BIC"},{field:"denominazioneIstituto",header:"Denominazione Istituto Bancario"},{field:"denominazioneFiliale",header:"Denominazione Filiale"},{field:"cittaFiliale",header:"Citt\xe0 Filiale"}]}},{key:"getModalitaDiPagamento",value:function(i,t){var e=this;this.anagraficaFascicoloService.getModalitaPagamento(i,t).pipe(Object($.a)(this.componentDestroyed$),Object(Y.a)((function(i){return e.listaModalitaPagamento=[],e.messageService.add(p.a.getToast("tst",p.b.error,p.a.erroreRecuperoDati)),Z.a}))).subscribe((function(i){e.listaModalitaPagamento=i,e.listaModalitaPagamento||(e.listaModalitaPagamento=[])}))}},{key:"showDialogToAdd",value:function(){this.displayDialog=!0,this.newModalitaPagamento=!0,this.modalitaPagamentoFormGroup=new u.j({iban:new u.g("",[u.G.required])})}},{key:"annulla",value:function(){console.log("annulla cancellazione"),this.messageService.clear("cancellaModalitaPagamento")}},{key:"cancellaIBAN",value:function(i,t){this.idDaCancellare=i,this.messageService.add(p.a.getToast("cancellaModalitaPagamento",p.b.warn,p.a.checkACancellaModalitaDiPagamento+t+"?"))}},{key:"deleteRow",value:function(){var i=this;this.messageService.clear("cancellaModalitaPagamento"),this.idDaCancellare||(this.idDaCancellare=0),console.log("Cancella record id: "+this.idDaCancellare),this.anagraficaFascicoloService.cancellaModalitaPagamento(this.cuaa,this.idDaCancellare).pipe(Object($.a)(this.componentDestroyed$),Object(Y.a)((function(t){return i.messageService.add(p.a.getToast("tst",p.b.error,p.a.salvataggioDatiKo)),Z.a})),Object(Di.a)((function(t){var e=i.listaModalitaPagamento.findIndex((function(t){return t.id===i.idDaCancellare}));return i.listaModalitaPagamento.splice(e,1),i.messageService.add(p.a.getToast("tst",p.b.success,p.a.OPERAZIONE_OK)),i.idDaCancellare=0,i.anagraficaFascicoloService.getFascicolo(i.cuaa,i.idValidazione)}))).subscribe((function(t){i.fascicoloDettaglioService.fascicoloCorrente.next(t)}))}},{key:"subscribeStatoFascicolo",value:function(){var i=this;this.fascicoloDettaglioService.fascicoloCorrente.pipe(Object($.a)(this.componentDestroyed$)).subscribe((function(t){t&&(i.fascicoloCorrente=t)}))}},{key:"modalitaPagamentoEditable",value:function(){return!this.modalitaPagamentoFormGroup.invalid&&0===this.idValidazione}},{key:"fascicoloEditable",value:function(){return this.fascicoloCorrente&&0===this.idValidazione&&(this.fascicoloCorrente.stato===w.c.IN_AGGIORNAMENTO||this.fascicoloCorrente.stato===w.c.VALIDATO||this.fascicoloCorrente.stato===w.c.CONTROLLATO_OK||this.fascicoloCorrente.stato===w.c.IN_CHIUSURA&&this.eredi.length>0)}},{key:"handleClick",value:function(){this.fascicoloDettaglioService.mostraDettaglioSezione.next(R.a.DATI)}},{key:"save",value:function(){var i=this;this.anagraficaFascicoloService.putModalitaPagamento(this.cuaa,{iban:this.modalitaPagamentoFormGroup.controls.iban.value}).pipe(Object($.a)(this.componentDestroyed$),Object(Y.a)(this.handleErrorOnPutModalitaPagamento),Object(Di.a)((function(t){i.modalitaPagamento=t;var e=_toConsumableArray(i.listaModalitaPagamento);return i.newModalitaPagamento?e.push(i.modalitaPagamento):e[i.listaModalitaPagamento.indexOf(i.selectedModalitaPagamento)]=i.modalitaPagamento,i.listaModalitaPagamento=e,i.modalitaPagamento=null,i.displayDialog=!1,i.messageService.add(p.a.getToast("tst",p.b.success,i.translateService.instant("MODALITA_PAGAMENTO.INSERT_OK"))),i.anagraficaFascicoloService.getFascicolo(i.cuaa,i.idValidazione)}))).subscribe((function(t){i.fascicoloDettaglioService.fascicoloCorrente.next(t),i.getModalitaDiPagamento(i.cuaa,i.idValidazione)}))}},{key:"footerTabella",value:function(){var i="";return this.listaModalitaPagamento&&0===this.listaModalitaPagamento.length?i="Non sono presenti modalit\xe0 di pagamento":this.listaModalitaPagamento&&1===this.listaModalitaPagamento.length?i="\xc8 presente 1 modalit\xe0 di pagamento":this.listaModalitaPagamento&&(i="Sono presenti "+this.listaModalitaPagamento.length+" modalit\xe0 di pagamento."),i}},{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}},{key:"subscribeEredi",value:function(){var i=this;this.fascicoloDettaglioService.eredi.pipe(Object($.a)(this.componentDestroyed$)).subscribe((function(t){i.eredi=t}))}}]),i}()).\u0275fac=function(i){return new(i||_t)(l.Nb(Ii.a),l.Nb(x.a),l.Nb(m.d),l.Nb(k.a),l.Nb(g.e))},_t.\u0275cmp=l.Hb({type:_t,selectors:[["app-modalita-pagamento"]],decls:20,vars:15,consts:[["key","tst"],[1,"ui-grid-fixed","boxgrey"],[1,"d-flex","align-items-center","text-decoration-none","color-primary",3,"routerLink","click"],[1,"pi","pi-chevron-left",2,"font-size","2rem","color","black"],["src","assets/img/ico-anagraf.jpg"],[1,"ml-2"],[1,"mb-3"],[2,"text-align","left"],["type","button","pButton","","icon","pi pi-plus","label","Aggiungi",3,"disabled","click"],[3,"columns","value","autoLayout","selection","selectionChange"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["class","dialog-modalita-pagamento","showEffect","fade",3,"visible","responsive","modal","visibleChange",4,"ngIf"],["position","center","key","cancellaModalitaPagamento",3,"modal","baseZIndex"],["pTemplate","message"],[2,"display","none"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field",4,"ngIf"],[3,"field"],[3,"pSelectableRow"],[4,"ngFor","ngForOf"],["type","button","pButton","","title","Rimuovi modalit\xe0 di pagamento","icon","pi pi-trash",2,"background-color","red",3,"disabled","label","click"],[1,"p-d-flex","p-ai-center","p-jc-between"],["showEffect","fade",1,"dialog-modalita-pagamento",3,"visible","responsive","modal","visibleChange"],["key","tst-dialog"],["class","ui-fluid",3,"formGroup",4,"ngIf"],[1,"ui-dialog-buttonpane","ui-helper-clearfix"],["pButton","","icon","fa ui-icon-check","type","submit","label","Aggiungi",1,"button--success",3,"disabled","click"],[1,"ui-fluid",3,"formGroup"],[1,"p-grid"],[1,"p-col-4","text-uppercase"],["for","iban"],[1,"p-col-8"],["maxlength","40","pInputText","","id","iban","formControlName","iban",3,"a4gIban"],["inputRef",""],[4,"ngIf"],["class","font-12","severity","error",3,"text",4,"ngIf"],["severity","error",1,"font-12",3,"text"],[2,"text-align","center"],[1,"pi","pi-exclamation-triangle",2,"font-size","3em"],[1,"ui-g","ui-fluid","p-formgrid"],[1,"ui-g-6"],["type","button","pButton","","label","Si",1,"ui-button-success",3,"disabled","click"],["type","button","pButton","","label","Annulla",1,"ui-button-secondary",3,"click"]],template:function(i,t){1&i&&(l.Ob(0,"p-toast",0),l.Tb(1,"div",1),l.Tb(2,"a",2),l.bc("click",(function(){return t.handleClick()})),l.Ob(3,"em",3),l.Ob(4,"img",4),l.Tb(5,"span",5),l.Oc(6),l.gc(7,"translate"),l.Sb(),l.Sb(),l.Ob(8,"br"),l.Tb(9,"h3",6),l.Oc(10),l.Sb(),l.Tb(11,"div",7),l.Tb(12,"button",8),l.bc("click",(function(){return t.showDialogToAdd()})),l.Sb(),l.Sb(),l.Tb(13,"p-table",9),l.bc("selectionChange",(function(i){return t.selectedModalitaPagamento=i})),l.Mc(14,Ct,6,1,"ng-template",10),l.Mc(15,It,7,7,"ng-template",11),l.Mc(16,Ft,2,1,"ng-template",12),l.Sb(),l.Mc(17,Nt,9,11,"p-dialog",13),l.Sb(),l.Tb(18,"p-toast",14),l.Mc(19,Pt,11,3,"ng-template",15),l.Sb()),2&i&&(l.Kc(l.rc(14,Bt)),l.Bb(6),l.Qc(" ",l.hc(7,12,"FascicoloAziendale.DATI_ANAGRAFICI_E_FISCALI")," "),l.Bb(4),l.Pc("Modalit\xe0 di pagamento"),l.Bb(2),l.mc("disabled",!t.fascicoloEditable()),l.Bb(1),l.mc("columns",t.cols)("value",t.listaModalitaPagamento)("autoLayout",!0)("selection",t.selectedModalitaPagamento),l.Bb(4),l.mc("ngIf",t.displayDialog),l.Bb(1),l.mc("modal",!0)("baseZIndex",5e3))},directives:[f.a,x.h,T.b,K.q,m.e,r.t,r.s,K.p,K.o,K.m,h.a,m.c,m.b,u.I,u.t,u.k,u.c,u.n,bi.a,u.s,u.i,Tt.a,ui.b],pipes:[g.d],styles:[""]}),_t);e("9ErW");var kt=e("+WeO");function Rt(i,t){1&i&&(l.Tb(0,"small",16),l.Oc(1),l.gc(2,"translate"),l.Sb()),2&i&&(l.Bb(1),l.Qc(" ",l.hc(2,1,"EREDE.CF_MANDATORY")," "))}function wt(i,t){if(1&i){var e=l.Ub();l.Tb(0,"form",2,3),l.Tb(2,"div",4),l.Tb(3,"div",5),l.Tb(4,"label",6),l.Oc(5),l.gc(6,"translate"),l.Sb(),l.Sb(),l.Tb(7,"div",7),l.Tb(8,"div",4),l.Tb(9,"div",8),l.Ob(10,"input",9),l.Sb(),l.Sb(),l.Tb(11,"div",4),l.Tb(12,"div",8),l.Mc(13,Rt,3,3,"small",10),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Tb(14,"div",4),l.Tb(15,"div",11),l.Tb(16,"div",12),l.Tb(17,"button",13),l.bc("click",(function(){return l.Ec(e),l.fc().closePopup()})),l.gc(18,"translate"),l.Sb(),l.Sb(),l.Tb(19,"div",14),l.Tb(20,"button",15),l.bc("click",(function(){return l.Ec(e),l.fc().onSaveErede()})),l.gc(21,"translate"),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb()}if(2&i){var a=l.Bc(1),o=l.fc();l.mc("formGroup",o.eredeFormGroup),l.Bb(5),l.Pc(l.hc(6,10,"EREDE.CF")),l.Bb(8),l.mc("ngIf",o.eredeFormGroup.controls.cfErede.invalid),l.Bb(4),l.Db("button-custom-bar-dark"),l.nc("label",l.hc(18,12,"ANNULLA")),l.Bb(3),l.Db("button-custom-bar-dark"),l.nc("label",l.hc(21,14,"CONFERMA")),l.mc("disabled",a.invalid)}}var xt,Gt=function(){return{overflow:"auto","max-height":"900px"}},Vt=((xt=function(){function i(t){_classCallCheck(this,i),this.anagraficaFascicoloService=t,this.chiudiPopup=new l.n,this.saveErede=new l.n,this.componentDestroyed$=new j.a}return _createClass(i,[{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}},{key:"ngOnInit",value:function(){this.setEredeFormGroup()}},{key:"setEredeFormGroup",value:function(){this.eredeFormGroup=new u.j({cfErede:new u.g(this.erede?this.erede.cfErede:"",[u.G.required])})}},{key:"closePopup",value:function(){this.chiudiPopup.emit(!1)}},{key:"onSaveErede",value:function(){this.saveErede.emit(this.eredeFormGroup.value)}}]),i}()).\u0275fac=function(i){return new(i||xt)(l.Nb(Ii.a))},xt.\u0275cmp=l.Hb({type:xt,selectors:[["app-popup-erede"]],inputs:{popupEredeOpen:"popupEredeOpen",cuaa:"cuaa",idValidazione:"idValidazione",erede:"erede"},outputs:{chiudiPopup:"chiudiPopup",saveErede:"saveErede"},decls:3,vars:10,consts:[["width","auto","showEffect","fade",1,"dialog-rappr-legale",3,"header","visible","responsive","modal","closable","contentStyle","visibleChange","onHide"],["class","ui-fluid",3,"formGroup",4,"ngIf"],[1,"ui-fluid",3,"formGroup"],["f","ngForm"],[1,"p-grid"],[1,"p-col-4","text-uppercase"],["for","cfErede"],[1,"p-col-8"],[1,"p-col"],["size","40","pInputText","","id","cfErede","formControlName","cfErede","appValidaCf",""],["class","p-invalid",4,"ngIf"],[1,"p-col-12"],[1,"ui-g-6","text-left"],["pButton","","type","button",2,"min-height","42px","box-shadow","none",3,"label","click"],[1,"ui-g-6","text-right"],["pButton","","type","submit",2,"min-height","42px","box-shadow","none","margin-right","10px",3,"label","disabled","click"],[1,"p-invalid"]],template:function(i,t){1&i&&(l.Tb(0,"p-dialog",0),l.bc("visibleChange",(function(i){return t.popupEredeOpen=i}))("onHide",(function(){return t.closePopup()})),l.gc(1,"translate"),l.Mc(2,wt,22,16,"form",1),l.Sb()),2&i&&(l.nc("header",l.hc(1,7,"FAS_ANA.EREDI")),l.mc("visible",t.popupEredeOpen)("responsive",!0)("modal",!0)("closable",!0)("contentStyle",l.rc(9,Gt)),l.Bb(2),l.mc("ngIf",t.eredeFormGroup))},directives:[h.a,r.t,u.I,u.t,u.k,u.c,bi.a,u.s,u.i,kt.a,T.b],pipes:[g.d],styles:[""]}),xt);function Ut(i,t){if(1&i){var e=l.Ub();l.Tb(0,"app-popup-erede",16),l.bc("chiudiPopup",(function(i){return l.Ec(e),l.fc().closePopupErede(i)}))("saveErede",(function(i){return l.Ec(e),l.fc().saveErede(i)})),l.Sb()}if(2&i){var a=l.fc();l.mc("popupEredeOpen",a.popupEredeOpen)("cuaa",a.cuaa)("erede",a.erede)("idValidazione",a.idValidazione)}}function qt(i,t){1&i&&(l.Tb(0,"tr",17),l.Tb(1,"th",18),l.Oc(2,"Codice fiscale"),l.Sb(),l.Tb(3,"th",18),l.Oc(4,"Cognome"),l.Sb(),l.Tb(5,"th",18),l.Oc(6,"Nome"),l.Sb(),l.Tb(7,"th",18),l.Oc(8,"Data di nascita"),l.Sb(),l.Tb(9,"th",18),l.Oc(10,"Comune di nascita"),l.Sb(),l.Tb(11,"th",18),l.Oc(12,"Provincia di nascita"),l.Sb(),l.Tb(13,"th",19),l.Oc(14,"Residenza"),l.Sb(),l.Tb(15,"th",20),l.Oc(16," Azioni "),l.Sb(),l.Sb(),l.Tb(17,"tr",17),l.Tb(18,"th"),l.Oc(19,"Via"),l.Sb(),l.Tb(20,"th"),l.Oc(21,"Comune"),l.Sb(),l.Tb(22,"th"),l.Oc(23,"Provincia"),l.Sb(),l.Tb(24,"th"),l.Oc(25,"Cap"),l.Sb(),l.Sb())}function Qt(i,t){if(1&i){var e=l.Ub();l.Tb(0,"tr",21),l.Tb(1,"td"),l.Oc(2),l.Sb(),l.Tb(3,"td"),l.Oc(4),l.Sb(),l.Tb(5,"td"),l.Oc(6),l.Sb(),l.Tb(7,"td"),l.Oc(8),l.gc(9,"date"),l.Sb(),l.Tb(10,"td"),l.Oc(11),l.Sb(),l.Tb(12,"td"),l.Oc(13),l.Sb(),l.Tb(14,"td"),l.Oc(15),l.Sb(),l.Tb(16,"td"),l.Oc(17),l.Sb(),l.Tb(18,"td"),l.Oc(19),l.Sb(),l.Tb(20,"td"),l.Oc(21),l.Sb(),l.Tb(22,"td"),l.Tb(23,"button",22),l.bc("click",(function(){l.Ec(e);var i=t.$implicit;return l.fc().cancellaErede(i.id,i.cfErede)})),l.gc(24,"translate"),l.Sb(),l.Sb(),l.Sb()}if(2&i){var a=t.$implicit,o=l.fc();l.mc("pSelectableRow",a),l.Bb(2),l.Pc(a.cfErede),l.Bb(2),l.Pc(a.cognome),l.Bb(2),l.Pc(a.nome),l.Bb(2),l.Qc(" ",l.ic(9,13,a.dataNascita,"dd/MM/yyyy")," "),l.Bb(3),l.Pc(a.comuneNascita),l.Bb(2),l.Pc(a.provinciaNascita),l.Bb(2),l.Pc(a.indirizzo.descrizioneEstesa),l.Bb(2),l.Pc(a.indirizzo.comune),l.Bb(2),l.Pc(a.indirizzo.provincia),l.Bb(2),l.Pc(a.indirizzo.cap),l.Bb(2),l.nc("label",l.hc(24,16,"ELIMINA")),l.mc("disabled",!o.fascicoloEditable())}}function jt(i,t){if(1&i&&(l.Tb(0,"div",23),l.Oc(1),l.Sb()),2&i){var e=l.fc();l.Bb(1),l.Pc(e.footerTabella())}}function Zt(i,t){if(1&i){var e=l.Ub();l.Tb(0,"div",17),l.Ob(1,"i",24),l.Tb(2,"h3"),l.Oc(3),l.Sb(),l.Tb(4,"p"),l.Oc(5),l.Sb(),l.Sb(),l.Tb(6,"div",25),l.Tb(7,"div",26),l.Tb(8,"button",27),l.bc("click",(function(){return l.Ec(e),l.fc().confermaCancellaErede()})),l.Sb(),l.Sb(),l.Tb(9,"div",26),l.Tb(10,"button",28),l.bc("click",(function(){return l.Ec(e),l.fc().AnnullaCancellaErede()})),l.Sb(),l.Sb(),l.Sb()}if(2&i){var a=t.$implicit,o=l.fc();l.Bb(3),l.Pc(a.summary),l.Bb(2),l.Pc(a.detail),l.Bb(3),l.mc("disabled",!o.fascicoloEditable())}}var $t,Yt=function(){return{marginTop:"70px"}},Ht=(($t=function(){function i(t,e,a,o,c){_classCallCheck(this,i),this.anagraficaFascicoloService=t,this.route=e,this.messageService=a,this.fascicoloDettaglioService=o,this.translateService=c,this.cuaa="",this.idDaCancellare=0,this.componentDestroyed$=new j.a,this.idValidazione=void 0,this.popupEredeOpen=!1}return _createClass(i,[{key:"ngOnInit",value:function(){var i=this;this.cuaa=this.route.snapshot.paramMap.get("cuaa"),this.route.queryParams.pipe(Object($.a)(this.componentDestroyed$)).subscribe((function(t){var e=t["id-validazione"];i.idValidazione=e?Number.parseInt(e):0,i.getEredi(i.cuaa,i.idValidazione)})),this.subscribeStatoFascicolo()}},{key:"getEredi",value:function(i,t){var e=this;this.anagraficaFascicoloService.getEredi(i,t).pipe(Object($.a)(this.componentDestroyed$),Object(Y.a)((function(i){return e.listaEredi=[],e.messageService.add(p.a.getToast("tst",p.b.error,p.a.erroreRecuperoDati)),Z.a}))).subscribe((function(i){e.listaEredi=i,e.listaEredi||(e.listaEredi=[]),e.fascicoloDettaglioService.eredi.next(e.listaEredi)}))}},{key:"aggiungiErede",value:function(){this.erede=null,this.popupEredeOpen=!0}},{key:"cancellaErede",value:function(i,t){this.idDaCancellare=i,this.messageService.add(p.a.getToast("cancellaErede",p.b.warn,p.a.checkACancellaErede+t+"?"))}},{key:"AnnullaCancellaErede",value:function(){this.messageService.clear("cancellaErede")}},{key:"confermaCancellaErede",value:function(){var i=this;this.messageService.clear("cancellaErede"),this.idDaCancellare||(this.idDaCancellare=0),console.log("Cancella record id: "+this.idDaCancellare),this.anagraficaFascicoloService.cancellaErede(this.cuaa,this.idDaCancellare).pipe(Object($.a)(this.componentDestroyed$),Object(Y.a)((function(t){return i.messageService.add(p.a.getToast("tst",p.b.error,p.a.salvataggioDatiKo)),Z.a})),Object(Di.a)((function(t){var e=i.listaEredi.findIndex((function(t){return t.id===i.idDaCancellare}));return i.listaEredi.splice(e,1),i.messageService.add(p.a.getToast("tst",p.b.success,p.a.OPERAZIONE_OK)),i.idDaCancellare=0,i.anagraficaFascicoloService.getFascicolo(i.cuaa,i.idValidazione)}))).subscribe((function(t){i.fascicoloDettaglioService.fascicoloCorrente.next(t)}))}},{key:"subscribeStatoFascicolo",value:function(){var i=this;this.fascicoloDettaglioService.fascicoloCorrente.pipe(Object($.a)(this.componentDestroyed$)).subscribe((function(t){t&&(i.fascicoloCorrente=t)}))}},{key:"eredeEditable",value:function(){return!this.eredeFormGroup.invalid&&0===this.idValidazione}},{key:"fascicoloEditable",value:function(){return this.fascicoloCorrente&&0===this.idValidazione&&this.fascicoloCorrente.stato===w.c.IN_CHIUSURA}},{key:"handleClick",value:function(){this.fascicoloDettaglioService.mostraDettaglioSezione.next(R.a.DATI)}},{key:"footerTabella",value:function(){var i="";return this.listaEredi&&0===this.listaEredi.length?i="Non sono presenti eredi":this.listaEredi&&1===this.listaEredi.length?i="\xc8 presente 1 erede":this.listaEredi&&(i="Sono presenti "+this.listaEredi.length+" eredi."),i}},{key:"saveErede",value:function(i){var t=this;this.anagraficaFascicoloService.salvaErede(i,this.cuaa).pipe(Object($.a)(this.componentDestroyed$),Object(Y.a)((function(i){return t.messageService.add(p.a.getToast("tst",p.b.error,i.error.message)),Z.a}))).subscribe((function(){t.closePopupErede(),t.messageService.add(p.a.getToast("tst",p.b.success,t.translateService.instant("EREDE.SALVATAGGIO_OK"))),t.getEredi(t.cuaa,t.idValidazione)}))}},{key:"closePopupErede",value:function(){this.popupEredeOpen=!1}},{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}}]),i}()).\u0275fac=function(i){return new(i||$t)(l.Nb(Ii.a),l.Nb(x.a),l.Nb(m.d),l.Nb(k.a),l.Nb(g.e))},$t.\u0275cmp=l.Hb({type:$t,selectors:[["app-eredi"]],decls:20,vars:14,consts:[["key","tst"],[3,"popupEredeOpen","cuaa","erede","idValidazione","chiudiPopup","saveErede",4,"ngIf"],[1,"ui-grid-fixed","boxgrey"],[1,"d-flex","align-items-center","text-decoration-none","color-primary",3,"routerLink","click"],[1,"pi","pi-chevron-left",2,"font-size","2rem","color","black"],["src","assets/img/ico-anagraf.jpg"],[1,"ml-2"],[1,"mb-3"],[2,"text-align","left"],["type","button","pButton","","icon","pi pi-plus","label","Aggiungi",3,"disabled","click"],[3,"value","autoLayout","selection","selectionChange"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["position","center","key","cancellaErede",3,"modal","baseZIndex"],["pTemplate","message"],[3,"popupEredeOpen","cuaa","erede","idValidazione","chiudiPopup","saveErede"],[2,"text-align","center"],["rowspan","2"],["colspan","4"],["rowspan","2",2,"width","110px"],[3,"pSelectableRow"],["type","button","pButton","","title","Rimuovi erede","icon","pi pi-trash",2,"background-color","red",3,"disabled","label","click"],[1,"p-d-flex","p-ai-center","p-jc-between"],[1,"pi","pi-exclamation-triangle",2,"font-size","3em"],[1,"ui-g","ui-fluid","p-formgrid"],[1,"ui-g-6"],["type","button","pButton","","label","Si",1,"ui-button-success",3,"disabled","click"],["type","button","pButton","","label","Annulla",1,"ui-button-secondary",3,"click"]],template:function(i,t){1&i&&(l.Ob(0,"p-toast",0),l.Mc(1,Ut,1,4,"app-popup-erede",1),l.Tb(2,"div",2),l.Tb(3,"a",3),l.bc("click",(function(){return t.handleClick()})),l.Ob(4,"em",4),l.Ob(5,"img",5),l.Tb(6,"span",6),l.Oc(7),l.gc(8,"translate"),l.Sb(),l.Sb(),l.Ob(9,"br"),l.Tb(10,"h3",7),l.Oc(11),l.Sb(),l.Tb(12,"div",8),l.Tb(13,"button",9),l.bc("click",(function(){return t.aggiungiErede()})),l.Sb(),l.Sb(),l.Tb(14,"p-table",10),l.bc("selectionChange",(function(i){return t.selectedErede=i})),l.Mc(15,qt,26,0,"ng-template",11),l.Mc(16,Qt,25,18,"ng-template",12),l.Mc(17,jt,2,1,"ng-template",13),l.Sb(),l.Sb(),l.Tb(18,"p-toast",14),l.Mc(19,Zt,11,3,"ng-template",15),l.Sb()),2&i&&(l.Kc(l.rc(13,Yt)),l.Bb(1),l.mc("ngIf",t.popupEredeOpen),l.Bb(6),l.Qc(" ",l.hc(8,11,"FascicoloAziendale.DATI_ANAGRAFICI_E_FISCALI")," "),l.Bb(4),l.Pc("Eredi"),l.Bb(2),l.mc("disabled",!t.fascicoloEditable()),l.Bb(1),l.mc("value",t.listaEredi)("autoLayout",!0)("selection",t.selectedErede),l.Bb(4),l.mc("modal",!0)("baseZIndex",5e3))},directives:[f.a,r.t,x.h,T.b,K.q,m.e,Vt,K.m],pipes:[g.d,r.f],styles:[""]}),$t),Kt=e("6pRi"),Wt=e("G6y3"),Xt=e("cp0P"),Jt=e("xiDf"),ie=e("qXBG"),te=e("DYNa"),ee=e("OlUD"),ae=e("sFKl"),oe=e("ucsd"),ce=e("AytR"),ne=e("0Dnl"),re=e("N00r"),le=e("yuh5"),se=e("4jpa"),be=e("Caez"),ue=e("8X0W"),de=e("s0xf"),pe=e("RFNi"),me=e("Q1Ke"),ge=e("4IZF"),fe=e("Upfa"),he=e("wH++"),ve=e("8PIW");function Te(i,t){1&i&&l.Ob(0,"div",20)}function Se(i,t){if(1&i){var e=l.Ub();l.Tb(0,"tr"),l.Tb(1,"td",11),l.Tb(2,"a",12),l.bc("click",(function(){return l.Ec(e),l.fc().handleClick("eredi")})),l.Oc(3),l.gc(4,"translate"),l.Ob(5,"i",13),l.Sb(),l.Sb(),l.Ob(6,"td",14),l.Sb()}2&i&&(l.Bb(3),l.Qc(" ",l.hc(4,1,"FascicoloAziendale.EREDI")," "))}var Oe,Ce,Ae=function(){return{marginTop:"70px"}},Ie=((Oe=function(){function i(t,e,a,o,c,n,r,l,s,b,u,d,p,m,g,f,h){_classCallCheck(this,i),this.router=t,this.route=e,this.messageService=a,this.fascicoloCorrenteUMA=o,this.errorService=c,this.mandatoService=n,this.httpClientDomandaUmaService=r,this.httpClientDichiarazioneConsumiUma=l,this.authService=s,this.dtoBuilderService=b,this.anagraficaFascicoloService=u,this.fascicoloDettaglioService=d,this.fascicoloService=p,this.myappagService=m,this.dateUtilService=g,this.formatConverterService=f,this.antimafiaService=h,this.popupSchedaValidazioneOpen=!1,this.isPopupPassaAStatoOpen=!1,this.isPopupControlloCompletezzaOpen=!1,this.popupSchedaValidazioneFirmaCaaAziendaOpen=!1,this.isMyappagEnabled=!1,this.statoFascicoloEnum=w.c,this.componentDestroyed$=new j.a,this.idValidazione=void 0,this.UMA_01_01_BR1_ERR_MSG="Solamente il titolare o il rappresentante legale di un'azienda agricola \xe8 autorizzato alla presentazione della Richiesta di carburante on line",this.UMA_FASCICOLO_NON_VALIDO="Non \xe8 possibile reperire il fascicolo selezionato",this.UMA_PERSONA_FISICA_DECEDUTA="Il campo data decesso risulta valorizzato. Il sistema non permette l'inserimento di una richiesta di carburante"}return _createClass(i,[{key:"ngOnInit",value:function(){var i=this;this.isMyappagEnabled=this.myappagService.isMyappagEnabled,this.subscribeStatoFascicolo(),this.route.queryParams.pipe(Object($.a)(this.componentDestroyed$)).subscribe((function(t){var e=t["id-validazione"];i.idValidazione=e?Number.parseInt(e):0}))}},{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete(),this.richiestaCarburanteSubscription&&this.richiestaCarburanteSubscription.unsubscribe(),this.dichiarazioneConsumiSubscription&&this.dichiarazioneConsumiSubscription.unsubscribe(),this.getFascicoloAgsByCuaaSub&&this.getFascicoloAgsByCuaaSub.unsubscribe(),this.prelieviAndRichiesteSubscription&&this.prelieviAndRichiesteSubscription.unsubscribe(),this.getDichiarazioniAntimafiaSub&&this.getDichiarazioniAntimafiaSub.unsubscribe()}},{key:"subscribeStatoFascicolo",value:function(){var i=this;this.fascicoloDettaglioService.fascicoloCorrente.pipe(Object($.a)(this.componentDestroyed$)).subscribe((function(t){console.log("subscribeStatoFascicolo()"),i.fascicoloCorrente=t,null!==i.fascicoloCorrente&&(i.idFascicolo=i.fascicoloCorrente.id,i.idMandato=i.fascicoloCorrente.mandatoDto.id,i.caricaIdFascicoloUMA())}))}},{key:"goToFascicoliValidati",value:function(){this.router.navigate(["./fascicoli-validati"],{relativeTo:this.route})}},{key:"getMandato",value:function(){var i=this;this.mandatoService.getMandatoFile(this.idFascicolo,this.idMandato,this.idValidazione).subscribe((function(t){var e=new Blob([t],{type:"application/pdf"});if(null!=e){var a=URL.createObjectURL(e);window.open(a)}else i.messageService.add(p.a.getToast("tst",p.b.error,p.a.erroreVisualizzazioneMandato))}),(function(t){i.messageService.add(p.a.getToast("tst",p.b.error,p.a.erroreVisualizzazioneMandato))}))}},{key:"handleClick",value:function(i){var t=this.fascicoloCorrente.cuaa;16===t.length||11===t.length?(console.log("Redirect to dati azienda... link: "+i),this.router.navigate([i],{relativeTo:this.route,queryParams:this.idValidazione?{"id-validazione":this.idValidazione}:{},queryParamsHandling:"merge"})):this.messageService.add(p.a.getToast("tst",p.b.error,"WIP"))}},{key:"changeStatusInAggiornamentoFascicolo",value:function(){this.fascicoloCorrente.stato!==w.c.ALLA_FIRMA_CAA&&this.fascicoloCorrente.stato!==w.c.FIRMATO_CAA||this.messageService.add(p.a.getToast("checkChangeStatus",p.b.warn,p.a.CONFERMA_FASCICOLO_IN_AGGIORNAMENTO))}},{key:"reloadDataFascicolo",value:function(){this.fascicoloDettaglioService.fascicoloCorrente.next(this.fascicoloCorrente)}},{key:"setAllaFirmaAzienda",value:function(i){var t=this;this.anagraficaFascicoloService.putStatoAllaFirmaAziendaFascicolo(i).subscribe((function(){t.messageService.add(p.a.getToast("tst",p.b.success,p.a.OPERAZIONE_OK)),t.fascicoloCorrente.stato=w.c.ALLA_FIRMA_AZIENDA,t.reloadDataFascicolo()}),(function(i){var e;e=i.error.message?i.error.message:p.a.salvataggioDatiKo,t.messageService.add(p.a.getToast("tst",p.b.error,e))}))}},{key:"setInAggiornamento",value:function(i){var t=this;this.anagraficaFascicoloService.putSetStatusFascicoloInAggiornamento(i).subscribe((function(){t.messageService.add(p.a.getToast("tst",p.b.success,p.a.changeStatusInAggiornamentoOk)),t.fascicoloCorrente.stato=w.c.IN_AGGIORNAMENTO,t.reloadDataFascicolo()}),(function(i){t.messageService.add(p.a.getToast("tst",p.b.error,p.a.changeStatusInAggiornamentoKo))}))}},{key:"sincronizzazione",value:function(){console.log("Visualizzazione sincronizzazione")}},{key:"anomalie",value:function(){console.log("Visualizzazione anomalie")}},{key:"linkPagina",value:function(){return this.router.navigate(["./"],{relativeTo:this.route})}},{key:"onClickGestioneCarburanteInEsubero",value:function(){var i=this;if(this.isFascicoloSelezionato()){var t=this.dateUtilService.getCurrentYear().toString(),e=this.fascicoloCorrente.cuaa,a={cuaa:e,campagna:[t],stati:[be.a.AUTORIZZATA],numeroElementiPagina:1,pagina:0},o={cuaa:e,campagna:[t],numeroElementiPagina:1,pagina:0};this.prelieviAndRichiesteSubscription=Object(Xt.a)([this.httpClientDomandaUmaService.getDomande(a),this.httpClientDichiarazioneConsumiUma.getDichiarazioniConsumi(o),this.httpClientDichiarazioneConsumiUma.getResiduoAnnoPrecedente(e,this.dateUtilService.getCurrentYear()-1,[oe.a.PROTOCOLLATA]),this.httpClientDomandaUmaService.getPrelieviByCuaaAndCampagna(e,t)]).subscribe((function(t){var e=_slicedToArray(t,4),a=e[0],o=e[1],c=e[2],n=e[3];if(a&&a.length){var r=a[0].id;if(o&&o.length){var l=o.pop();if(oe.a.PROTOCOLLATA===l.stato)return void i.errorService.showErrorWithMessage(de.a.esisteDichiarazioneConsumiAutorizzata,"tst")}var s=new pe.a;if(s.benzina=0,s.gasolio=0,s.gasolioSerre=0,c&&c.length){var b=c.pop(),u=b&&b.rimanenza?b.rimanenza:null;null==u?console.log(de.a.residuoDichiarazioneAnnoPrecedenteNotDisponibile):s=u}else console.log(de.a.dichiarazioneAnnoPrecedenteNotDisponibile);n&&n.totale?(s.benzina+=i.formatConverterService.toNumber(n.totale.benzina),s.gasolio+=i.formatConverterService.toNumber(n.totale.gasolio),s.gasolioSerre+=i.formatConverterService.toNumber(n.totale.gasolioSerre)):console.log(de.a.prelieviNotDisponibile),console.log("Carburante in esubero ",s),s&&(s.benzina>0||s.gasolio>0||s.gasolioSerre>0)?i.router.navigate(["uma/".concat(i.fascicoloCorrenteUMA.fascicoloLegacy.idAgs,"/esubero-carburante/").concat(r)]):i.errorService.showErrorWithMessage(de.a.erroreCarburanteInEsubero,"tst")}else i.errorService.showErrorWithMessage(de.a.richiesteNotPresent,"tst")}),(function(t){i.messageService.clear(),i.errorService.showErrorWithMessage(de.a.erroreModificaCarburanteInEsubero,"tst")}))}}},{key:"onClickRichiestaRettificaUma",value:function(){var i=this;if(this.isFascicoloSelezionato()){var t=this.fascicoloCorrente.cuaa,e=this.anagraficaFascicoloService.getTitolariRappresentantiLegali(t),a=this.authService.getUserNew(!1),o=this.httpClientDomandaUmaService.getDomande(this.dtoBuilderService.buildDomandaUmaFilterWithAllStates(t));this.richiestaCarburanteSubscription=this.anagraficaFascicoloService.getDatiSportelloCAA().pipe(Object(Y.a)((function(t){return i.errorService.showError(t),Z.a})),Object(Di.a)((function(t){var c=null!=t;return console.log("Ruolo selezionato in Home: ",localStorage.getItem("selectedRole")),localStorage.getItem("selectedRole")==ie.a.roleCaa&&c?Object(Xt.a)([e,Object(Ei.a)("ENTE"),o]):localStorage.getItem("selectedRole")==ie.a.rolePrivate?Object(Xt.a)([a,Object(Ei.a)("UTENTE"),o]):(i.messageService.add(p.a.getToast("tst",p.b.warn,p.a.UTENTE_NON_ABILITATO)),Z.a)})),Object(Y.a)((function(t){return i.errorService.showError(t),Z.a})),Object(Di.a)((function(e){var a,o=_slicedToArray(e,3),c=o[0],n=o[1],r=o[2];return"UTENTE"===n?r&&r.length?Object(Ei.a)(r):i.httpClientDomandaUmaService.presentaDomanda(t,c.codiceFiscale):r&&r.length?Object(Ei.a)(r):i.fascicoloCorrenteUMA.isPersonaFisica(t)&&null!=(null===(a=i.fascicoloCorrenteUMA.fascicoloLegacy)||void 0===a?void 0:a.dataMorteTitolare)?(i.errorService.showErrorWithMessage(i.UMA_PERSONA_FISICA_DECEDUTA),Z.a):null!=c&&c.length?(i.router.navigate(["uma/".concat(i.fascicoloCorrenteUMA.fascicoloLegacy.idAgs,"/richiedente/").concat(ee.a.richiesta)]),Z.a):(i.errorService.showErrorWithMessage(i.UMA_01_01_BR1_ERR_MSG),Z.a)}))).subscribe((function(t){"number"==typeof t?i.router.navigate(["uma/".concat(i.fascicoloCorrenteUMA.fascicoloLegacy.idAgs,"/richiesta"),t]):i.router.navigate(["./fascicolo/".concat(i.fascicoloCorrenteUMA.fascicoloLegacy.idAgs,"/rettifiche/").concat(i.fascicoloCorrenteUMA.fascicoloLegacy.cuaa)],{relativeTo:i.route.parent.parent.parent})}),(function(t){return i.errorService.showError(t)}))}}},{key:"onClickDichiarazioneConsumi",value:function(){var i=this;if(this.isFascicoloSelezionato()){var t=this.fascicoloCorrente.cuaa,e=this.anagraficaFascicoloService.getTitolariRappresentantiLegali(t),a=this.authService.getUserNew(!1),o=new Array;o.push(oe.a.IN_COMPILAZIONE),o.push(oe.a.PROTOCOLLATA);var c=new Kt.a;c.stati=o,c.cuaa=t;var n=this.httpClientDichiarazioneConsumiUma.getDichiarazioniConsumi(c),r=new se.a;r.campagna=[this.dateUtilService.getCurrentYear().toString()],r.cuaa=t;var l=new Array;l.push(be.a.AUTORIZZATA),r.stati=l;var s=this.httpClientDomandaUmaService.getDomande(r);this.dichiarazioneConsumiSubscription=this.anagraficaFascicoloService.getDatiSportelloCAA().pipe(Object(Y.a)((function(t){return i.errorService.showError(t),Z.a})),Object(Di.a)((function(t){var o=null!=t;return console.log("Ruolo selezionato in Home: ",localStorage.getItem("selectedRole")),localStorage.getItem("selectedRole")==ie.a.roleCaa&&o?Object(Xt.a)([e,Object(Ei.a)("ENTE"),n,s]):localStorage.getItem("selectedRole")==ie.a.rolePrivate?Object(Xt.a)([a,Object(Ei.a)("UTENTE"),n,s]):(i.messageService.add(p.a.getToast("tst",p.b.warn,p.a.UTENTE_NON_ABILITATO)),Z.a)})),Object(Y.a)((function(t){return i.errorService.showError(t),Z.a})),Object(Di.a)((function(e){var a=_slicedToArray(e,4),o=a[0],c=a[1],n=a[2],r=a[3],l=[];n&&n.length&&(l=n.filter((function(t){return t.campagnaRichiesta==i.dateUtilService.getCurrentYear()||t.campagnaRichiesta==i.dateUtilService.getCurrentYear()-1})));var s=null;if(r&&r.length)s=r[0];else if(i.dateUtilService.getCurrentYear()==ce.a.annoInizioCampagnaUma)return i.errorService.showErrorWithMessage("Non esiste una richiesta di carburante autorizzata"),Z.a;return"UTENTE"===c?null==l||!l.length||null!=s&&!l.find((function(t){return t.campagnaRichiesta==i.dateUtilService.getCurrentYear()}))?i.httpClientDichiarazioneConsumiUma.presentaDichiarazioneConsumi(t,o.codiceFiscale):Object(Ei.a)(l):null==l||!l.length||null!=s&&!l.find((function(t){return t.campagnaRichiesta==i.dateUtilService.getCurrentYear()}))?null!=o&&o.length?(i.router.navigate(["uma/".concat(i.fascicoloCorrenteUMA.fascicoloLegacy.idAgs,"/richiedente/").concat(ee.a["dichiarazione-consumi"])]),Z.a):(i.errorService.showErrorWithMessage(i.UMA_01_01_BR1_ERR_MSG),Z.a):Object(Ei.a)(l)}))).subscribe((function(t){if("number"==typeof t)i.router.navigate(["uma/".concat(i.fascicoloCorrenteUMA.fascicoloLegacy.idAgs,"/dichiarazione-consumi"),t]);else{var e=zi.orderBy(t,["campagnaRichiesta"],["desc"]);i.router.navigate(["uma/".concat(i.fascicoloCorrenteUMA.fascicoloLegacy.idAgs,"/dichiarazione-consumi"),(t=e)[0].id])}}),(function(t){return i.errorService.showError(t)}))}}},{key:"onClickDomandaAntimafia",value:function(){this.controlloStatoFascicolo()&&this.controlloStatoDichiarazioneAntimafia()}},{key:"controlloStatoFascicolo",value:function(){return!!this.fascicoloCorrenteUMA.fascicoloLegacy.stato.match("VALIDO|IN_LAVORAZIONE|IN_ANOMALIA")||(this.errorService.showErrorWithMessage(p.a.CUAA_NON_ATTIVO(this.fascicoloCorrente.cuaa)),!1)}},{key:"controlloStatoDichiarazioneAntimafia",value:function(){var i=this;if(null!=this.fascicoloCorrenteUMA&&null!=this.fascicoloCorrenteUMA.fascicoloLegacy&&null!=this.fascicoloCorrenteUMA.fascicoloLegacy.cuaa){var t=new ge.a;t.azienda=new fe.a,t.azienda.cuaa=this.fascicoloCorrente.cuaa,this.getDichiarazioniAntimafiaSub=this.antimafiaService.getDichiarazioniAntimafia(t).subscribe((function(t){i.dichiarazioniAntimafia=t||[],i.dichiarazioniAntimafia.length&&i.dichiarazioniAntimafia.filter((function(i){return i.stato.identificativo===ve.a.POSITIVO})).length?i.messageService.add(p.a.getToast("tst",p.b.warn,p.a.BRDAMNVL005)):i.router.navigate(["./fascicolo/".concat(i.fascicoloCorrenteUMA.fascicoloLegacy.idAgs,"/antimafia")],{relativeTo:i.route.parent.parent.parent})}),(function(t){return i.errorService.showError(t)}))}}},{key:"isFascicoloSelezionato",value:function(){return!!(this.fascicoloCorrente&&this.fascicoloCorrente.cuaa&&this.fascicoloCorrenteUMA&&this.fascicoloCorrenteUMA.fascicoloLegacy)||(this.errorService.showErrorWithMessage(this.UMA_FASCICOLO_NON_VALIDO),!1)}},{key:"caricaIdFascicoloUMA",value:function(){var i=this;this.getFascicoloAgsByCuaaSub=this.fascicoloService.getUrlGetLegacyByCuaa(this.fascicoloCorrente.cuaa).subscribe((function(t){i.fascicoloCorrenteUMA.fascicoloLegacy=t}),(function(t){return i.errorService.showError(t)}))}},{key:"goMyappag",value:function(){this.myappagService.navigateForCuaa(this.fascicoloCorrente.cuaa)}},{key:"isFascicoloAttuale",value:function(){return 0===this.idValidazione}},{key:"showSectionEredi",value:function(){return this.subscribeEredi(),!!this.fascicoloCorrente&&this.fascicoloCorrenteUMA.isPersonaFisica(this.fascicoloCorrente.cuaa)&&(this.fascicoloCorrente.stato===w.c.IN_CHIUSURA||this.fascicoloCorrente.stato===w.c.CHIUSO&&this.eredi&&this.eredi.length>0)}},{key:"subscribeEredi",value:function(){var i=this;this.fascicoloDettaglioService.eredi.pipe(Object($.a)(this.componentDestroyed$)).subscribe((function(t){i.eredi=t}))}}]),i}()).\u0275fac=function(i){return new(i||Oe)(l.Nb(x.e),l.Nb(x.a),l.Nb(m.d),l.Nb(ne.a),l.Nb(re.a),l.Nb(Wt.a),l.Nb(Jt.a),l.Nb(ae.a),l.Nb(ie.a),l.Nb(te.a),l.Nb(Ii.a),l.Nb(k.a),l.Nb(H.a),l.Nb(le.a),l.Nb(ue.a),l.Nb(me.a),l.Nb(he.a))},Oe.\u0275cmp=l.Hb({type:Oe,selectors:[["app-fascicolo-dettaglio"]],decls:148,vars:81,consts:[["key","tst",3,"baseZIndex"],["key","tst-controllo-completezza-piano-colturale"],[1,"ui-grid-fixed","mt-70"],[1,"boxgrey"],["class","p-grid p-justify-end",4,"ngIf"],[1,"ui-g"],[1,"accordion-custom",3,"multiple"],[3,"selected"],[2,"color","black"],["src","assets/img/ico-anagraf.jpg",1,"d-inline-block","mr-3"],[1,"ui-table-tbody","display-table"],[1,"cell-link"],[3,"routerLink","click"],[1,"pi","pi-arrow-right"],[1,"p-col-6"],[4,"ngIf"],["src","assets/img/ico-zootecnia.jpg",1,"d-inline-block","mr-3"],["src","assets/img/ico-dotazione.jpg",1,"d-inline-block","mr-3"],["src","assets/img/ico-territorio.jpg",1,"d-inline-block","mr-3"],["src","assets/img/ico-domande.jpg",1,"d-inline-block","mr-3"],[1,"p-grid","p-justify-end"]],template:function(i,t){1&i&&(l.Ob(0,"p-toast",0),l.Ob(1,"p-toast",1),l.Tb(2,"div",2),l.Tb(3,"div",3),l.Mc(4,Te,1,0,"div",4),l.Tb(5,"div",5),l.Tb(6,"p-accordion",6),l.Tb(7,"p-accordionTab",7),l.Tb(8,"p-header",8),l.Ob(9,"img",9),l.Tb(10,"strong"),l.Oc(11),l.gc(12,"translate"),l.Sb(),l.Sb(),l.Tb(13,"table"),l.Tb(14,"tbody",10),l.Tb(15,"tr"),l.Tb(16,"td",11),l.Tb(17,"a",12),l.bc("click",(function(){return t.handleClick("dati-azienda")})),l.Oc(18),l.gc(19,"translate"),l.Ob(20,"i",13),l.Sb(),l.Sb(),l.Tb(21,"td",14),l.Tb(22,"a",12),l.bc("click",(function(){return t.handleClick("modalita-pagamento")})),l.Oc(23),l.gc(24,"translate"),l.Ob(25,"i",13),l.Sb(),l.Sb(),l.Sb(),l.Mc(26,Se,7,3,"tr",15),l.Sb(),l.Sb(),l.Sb(),l.Ob(27,"br"),l.Tb(28,"p-accordionTab",7),l.Tb(29,"p-header",8),l.Ob(30,"img",16),l.Tb(31,"strong"),l.Oc(32),l.gc(33,"translate"),l.Sb(),l.Sb(),l.Tb(34,"table"),l.Tb(35,"tbody",10),l.Tb(36,"tr"),l.Tb(37,"td",14),l.Tb(38,"a",12),l.bc("click",(function(){return t.handleClick("allevamenti")})),l.Oc(39),l.gc(40,"translate"),l.Ob(41,"i",13),l.Sb(),l.Sb(),l.Tb(42,"td",14),l.Tb(43,"a",12),l.bc("click",(function(){return t.linkPagina()})),l.Oc(44),l.gc(45,"translate"),l.Ob(46,"i",13),l.Sb(),l.Sb(),l.Sb(),l.Tb(47,"tr"),l.Tb(48,"td",14),l.Tb(49,"a",12),l.bc("click",(function(){return t.linkPagina()})),l.Oc(50),l.gc(51,"translate"),l.Ob(52,"i",13),l.Sb(),l.Sb(),l.Ob(53,"td",14),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Ob(54,"br"),l.Tb(55,"p-accordionTab",7),l.Tb(56,"p-header",8),l.Ob(57,"img",17),l.Tb(58,"strong"),l.Oc(59),l.gc(60,"translate"),l.Sb(),l.Sb(),l.Tb(61,"table"),l.Tb(62,"tbody",10),l.Tb(63,"tr"),l.Tb(64,"td",14),l.Tb(65,"a",12),l.bc("click",(function(){return t.handleClick("fabbricati")})),l.Oc(66),l.gc(67,"translate"),l.Ob(68,"i",13),l.Sb(),l.Sb(),l.Tb(69,"td",14),l.Tb(70,"a",12),l.bc("click",(function(){return t.handleClick("macchine")})),l.Oc(71),l.gc(72,"translate"),l.Ob(73,"i",13),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Ob(74,"br"),l.Tb(75,"p-accordionTab",7),l.Tb(76,"p-header",8),l.Ob(77,"img",18),l.Tb(78,"strong"),l.Oc(79),l.gc(80,"translate"),l.Sb(),l.Sb(),l.Tb(81,"table"),l.Tb(82,"tbody",10),l.Tb(83,"tr"),l.Tb(84,"td",14),l.Tb(85,"a",12),l.bc("click",(function(){return t.handleClick("titoli-conduzione")})),l.Oc(86),l.gc(87,"translate"),l.Ob(88,"i",13),l.Sb(),l.Sb(),l.Tb(89,"td",14),l.Tb(90,"a",12),l.bc("click",(function(){return t.linkPagina()})),l.Oc(91),l.gc(92,"translate"),l.Ob(93,"i",13),l.Sb(),l.Sb(),l.Sb(),l.Tb(94,"tr"),l.Tb(95,"td",14),l.Tb(96,"a",12),l.bc("click",(function(){return t.linkPagina()})),l.Oc(97),l.gc(98,"translate"),l.Ob(99,"i",13),l.Sb(),l.Sb(),l.Tb(100,"td",14),l.Tb(101,"a",12),l.bc("click",(function(){return t.linkPagina()})),l.Oc(102),l.gc(103,"translate"),l.Ob(104,"i",13),l.Sb(),l.Sb(),l.Sb(),l.Tb(105,"tr"),l.Tb(106,"td",14),l.Tb(107,"a",12),l.bc("click",(function(){return t.linkPagina()})),l.Oc(108),l.gc(109,"translate"),l.Ob(110,"i",13),l.Sb(),l.Sb(),l.Tb(111,"td",14),l.Tb(112,"a",12),l.bc("click",(function(){return t.linkPagina()})),l.Oc(113),l.gc(114,"translate"),l.Ob(115,"i",13),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Ob(116,"br"),l.Tb(117,"p-accordionTab",7),l.Tb(118,"p-header",8),l.Ob(119,"img",19),l.Tb(120,"strong"),l.Oc(121),l.gc(122,"translate"),l.Sb(),l.Sb(),l.Tb(123,"table"),l.Tb(124,"tbody"),l.Tb(125,"tr"),l.Tb(126,"td"),l.Tb(127,"a",12),l.bc("click",(function(){return t.onClickDomandaAntimafia()})),l.Oc(128),l.gc(129,"translate"),l.Ob(130,"i",13),l.Sb(),l.Sb(),l.Tb(131,"td"),l.Tb(132,"a",12),l.bc("click",(function(){return t.onClickRichiestaRettificaUma()})),l.Oc(133),l.gc(134,"translate"),l.Ob(135,"i",13),l.Sb(),l.Sb(),l.Sb(),l.Tb(136,"tr"),l.Tb(137,"td"),l.Tb(138,"a",12),l.bc("click",(function(){return t.onClickDichiarazioneConsumi()})),l.Oc(139),l.gc(140,"translate"),l.Ob(141,"i",13),l.Sb(),l.Sb(),l.Tb(142,"td"),l.Tb(143,"a",12),l.bc("click",(function(){return t.onClickGestioneCarburanteInEsubero()})),l.Oc(144),l.gc(145,"translate"),l.Ob(146,"i",13),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Ob(147,"br"),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&i&&(l.Kc(l.rc(79,Ae)),l.mc("baseZIndex",5e4),l.Bb(1),l.Kc(l.rc(80,Ae)),l.Bb(3),l.mc("ngIf",!1),l.Bb(2),l.mc("multiple",!0),l.Bb(1),l.mc("selected",!0),l.Bb(4),l.Pc(l.hc(12,35,"FascicoloAziendale.DATI_ANAGRAFICI_E_FISCALI")),l.Bb(7),l.Qc(" ",l.hc(19,37,"FascicoloAziendale.DATI_AZIENDA")," "),l.Bb(5),l.Qc(" ",l.hc(24,39,"FascicoloAziendale.MODALITA_PAGAMENTO")," "),l.Bb(3),l.mc("ngIf",t.showSectionEredi()),l.Bb(2),l.mc("selected",!0),l.Bb(4),l.Pc(l.hc(33,41,"FascicoloAziendale.ZOOTECNIA")),l.Bb(7),l.Qc(" ",l.hc(40,43,"FascicoloAziendale.ALLEVAMENTI")," "),l.Bb(5),l.Qc(" ",l.hc(45,45,"FascicoloAziendale.CAPI")," "),l.Bb(6),l.Qc(" ",l.hc(51,47,"FascicoloAziendale.CONSISTENZA_ZOOTENICA")," "),l.Bb(5),l.mc("selected",!0),l.Bb(4),l.Pc(l.hc(60,49,"FascicoloAziendale.DOTAZIONE_TECNICA")),l.Bb(7),l.Qc(" ",l.hc(67,51,"FascicoloAziendale.FABBRICATI")," "),l.Bb(5),l.Qc(" ",l.hc(72,53,"FascicoloAziendale.MACCHINE")," "),l.Bb(4),l.mc("selected",!0),l.Bb(4),l.Pc(l.hc(80,55,"FascicoloAziendale.TERRITORIO")),l.Bb(7),l.Qc(" ",l.hc(87,57,"FascicoloAziendale.TITOLI_CONDUZIONE")," "),l.Bb(5),l.Qc(" ",l.hc(92,59,"FascicoloAziendale.PIANI_CULTURALI")," "),l.Bb(6),l.Qc(" ",l.hc(98,61,"FascicoloAziendale.PORTAFOGLIO_TITOLI")," "),l.Bb(5),l.Qc(" ",l.hc(103,63,"FascicoloAziendale.SCHEDARIO_VITICOLO")," "),l.Bb(6),l.Qc(" ",l.hc(109,65,"FascicoloAziendale.SCHEDARIO_ORTOFRUTTICOLO")," "),l.Bb(5),l.Qc(" ",l.hc(114,67,"FascicoloAziendale.SCHEDARIO_OLIVICOLO")," "),l.Bb(4),l.mc("selected",!0),l.Bb(4),l.Pc(l.hc(122,69,"FascicoloAziendale.DOMANDE")),l.Bb(7),l.Qc(" ",l.hc(129,71,"FascicoloAziendale.DOMANDA_ANTIMAFIA")," "),l.Bb(5),l.Qc(" ",l.hc(134,73,"FascicoloAziendale.RICHIESTA_CARBURANTE")," "),l.Bb(6),l.Qc(" ",l.hc(140,75,"FascicoloAziendale.DICHIARAZIONE_CONSUMI")," "),l.Bb(5),l.Qc(" ",l.hc(145,77,"FascicoloAziendale.GESTIONE_CARBURANTE_ESUBERO")," "))},directives:[f.a,r.t,v.a,v.c,m.c,x.h],pipes:[g.d],styles:["[_nghost-%COMP%] .ui-accordion .ui-accordion-header>a{text-decoration:none;vertical-align:center;color:#000;background-color:#fff;border:1}.ui-accordion[_ngcontent-%COMP%]   .ui-icon[_ngcontent-%COMP%]{color:#000}[_nghost-%COMP%] .ui-chkbox .ui-chkbox-box{padding:2px;border-radius:15px;width:1.75em;height:1.75em;overflow:hidden;transition:background-color .3s;border:1px solid grey}[_nghost-%COMP%] .ui-accordion .ui-accordion-content{color:#000;background-color:hsla(0,0%,100%,.144);border-block-color:#000}[_nghost-%COMP%] .ui-accordion-header.ui-icon>a{color:#000;background-color:#fff}[_nghost-%COMP%] .display-table{display:table;width:100%}[_nghost-%COMP%] .accordion-custom{width:100%;display:block}[_nghost-%COMP%] .accordion-custom .ui-accordion-toggle-icon.ui-accordion-toggle-icon{margin-right:10px;color:#000;font-size:36px}[_nghost-%COMP%] .accordion-custom .ui-accordion-content.ui-accordion-content{padding:0;border:0}[_nghost-%COMP%] .accordion-custom .ui-accordion .ui-accordion-header>a{border-top:3px solid green;height:auto;border-left:1px solid #cacaca;border-right:1px solid #cacaca}[_nghost-%COMP%] .accordion-custom table{width:100%;border-collapse:collapse}[_nghost-%COMP%] .accordion-custom table td{border:1px solid #cacaca;padding:0;width:50%}[_nghost-%COMP%] .accordion-custom td a{display:flex;align-items:center;justify-content:space-between;width:100%;height:100%;padding:16px 10px 16px 62px;color:#16314e}[_nghost-%COMP%] .accordion-custom td a:hover{background-color:#daeddb;text-decoration:none}[_nghost-%COMP%] .accordion-custom td a:hover .pi{color:#01985a}[_nghost-%COMP%] .accordion-custom td .pi{font-size:24px;color:inherit}[_nghost-%COMP%] .section-question__header{padding:16px;background-color:#01985a}"]}),Oe),Fe=function(){function i(){_classCallCheck(this,i)}return _createClass(i,null,[{key:"toDto",value:function(t){if(!t)return null;var e=new i;return e.identificativoFiscale=t.identificativoFiscale,e.identificativo=t.identificativo,e.specie=t.specie,e.denominazione=t.denominazione,e.tipoProduzione=t.tipoProduzione,e.orientamentoProduttivo=t.orientamentoProduttivo,e.autorizzazioneSanitariaLatte=t.autorizzazioneSanitariaLatte,e.dtAperturaAllevamento=t.dtAperturaAllevamento,e.dtChiusuraAllevamento=t.dtChiusuraAllevamento,e.cfProprietario=t.cfProprietario,e.denominazioneProprietario=t.denominazioneProprietario,e.cfDetentore=t.cfDetentore,e.denominazioneDetentore=t.denominazioneDetentore,e.dtInizioDetenzione=t.dtInizioDetenzione,e.dtFineDetenzione=t.dtFineDetenzione,e.soccida=t.soccida,e.capiTotali=t.capiTotali,e.dataCalcoloCapi=t.dataCalcoloCapi,e.tipologiaAllevamento=t.tipologiaAllevamento,e.strutturaAllevamentoDto=Me.toDto(t.struttura),e}}]),i}(),Me=function(){function i(){_classCallCheck(this,i)}return _createClass(i,null,[{key:"toDto",value:function(t){if(!t)return null;var e=new i;return e.identificativo=t.identificativo,e.indirizzo=t.indirizzo,e.cap=t.cap,e.localita=t.localita,e.comune=t.comune,e.latitudine=t.latitudine,e.longitudine=t.longitudine,e.foglioCatastale=t.foglioCatastale,e.sezione=t.sezione,e.particella=t.particella,e.subalterno=t.subalterno,e}}]),i}(),ye=((Ce=function(){function i(t,e){_classCallCheck(this,i),this.httpClient=t,this.configuration=e,this.urlZootecnia=this.configuration.zootecnia_server+"/zootecnia"}return _createClass(i,[{key:"getUrlAllevamenti",value:function(i){return"".concat(this.urlZootecnia,"/").concat(i,"/anagrafica-allevamenti")}},{key:"putUrlUpdateAllevamenti",value:function(i){return this.getUrlAllevamenti(i)+"/aggiorna"}},{key:"getAllevamenti",value:function(i){return this.httpClient.get(this.getUrlAllevamenti(i)).pipe(Object(Bi.a)((function(i){return Fe.toDto(i)})))}},{key:"putUpdateAllevamenti",value:function(i,t){var e=new FormData;return e.append("dataRichiesta",t),this.httpClient.put(this.putUrlUpdateAllevamenti(i),e)}},{key:"getUrlControlloCompletezza",value:function(i){return"".concat(this.urlZootecnia,"/").concat(i,"/controllo-completezza")}},{key:"getControlloCompletezza",value:function(i){return console.log("sending request to: "+this.getUrlControlloCompletezza(i)),this.httpClient.get(this.getUrlControlloCompletezza(i))}}]),i}()).\u0275fac=function(i){return new(i||Ce)(l.Xb(c.b),l.Xb(n.a))},Ce.\u0275prov=l.Jb({token:Ce,factory:Ce.\u0275fac,providedIn:"root"}),Ce),ze=e("2Vo4");function Ee(i,t){if(1&i&&(l.Tb(0,"th",19),l.Tb(1,"strong"),l.Oc(2),l.Sb(),l.Ob(3,"p-sortIcon",20),l.Sb()),2&i){var e=t.$implicit;l.mc("pSortableColumn",e.field)("pSortableColumnDisabled",null==e.field),l.Bb(2),l.Pc(e.header),l.Bb(1),l.mc("field",e.field)}}function De(i,t){if(1&i&&(l.Tb(0,"tr"),l.Ob(1,"th",17),l.Mc(2,Ee,4,4,"th",18),l.Sb()),2&i){var e=t.$implicit;l.Bb(2),l.mc("ngForOf",e)}}function Be(i,t){if(1&i&&(l.Tb(0,"tr"),l.Tb(1,"td"),l.Tb(2,"a",21),l.Ob(3,"i",22),l.Sb(),l.Sb(),l.Tb(4,"td"),l.Oc(5),l.gc(6,"translate"),l.gc(7,"translate"),l.Sb(),l.Tb(8,"td"),l.Oc(9),l.Sb(),l.Tb(10,"td"),l.Oc(11),l.Sb(),l.Tb(12,"td"),l.Oc(13),l.Sb(),l.Tb(14,"td"),l.Oc(15),l.Sb(),l.Tb(16,"td"),l.Oc(17),l.Sb(),l.Tb(18,"td"),l.Oc(19),l.gc(20,"translate"),l.gc(21,"translate"),l.Sb(),l.Tb(22,"td"),l.Oc(23),l.gc(24,"translate"),l.gc(25,"translate"),l.Sb(),l.Sb()),2&i){var e=t.$implicit,a=t.expanded;l.Bb(2),l.mc("pRowToggler",e),l.Bb(1),l.mc("ngClass",a?"pi pi-chevron-down":"pi pi-chevron-right"),l.Bb(2),l.Qc("",e.specie?l.hc(6,10,"FascicoloAziendale.SPE_CODICE."+e.specie.trim())!=="FascicoloAziendale.SPE_CODICE."+e.specie.trim()?l.hc(7,12,"FascicoloAziendale.SPE_CODICE."+e.specie.trim()):"("+e.specie.trim()+")":"-"," "),l.Bb(4),l.Qc(" ",e.strutturaAllevamentoDto.identificativo," "),l.Bb(2),l.Qc(" ",e.strutturaAllevamentoDto.comune," "),l.Bb(2),l.Pc(e.cfProprietario),l.Bb(2),l.Pc(e.cfDetentore),l.Bb(2),l.Pc(e.tipologiaAllevamento?"("+e.tipologiaAllevamento+")":"-"),l.Bb(2),l.Qc("",e.tipoProduzione?l.hc(20,14,"FascicoloAziendale.TIPO_PRODUZIONE."+e.tipoProduzione.trim())!=="FascicoloAziendale.TIPO_PRODUZIONE."+e.tipoProduzione.trim()?l.hc(21,16,"FascicoloAziendale.TIPO_PRODUZIONE."+e.tipoProduzione.trim()):"("+e.tipoProduzione.trim()+")":"-"," "),l.Bb(4),l.Qc("",e.orientamentoProduttivo?l.hc(24,18,"FascicoloAziendale.ORIENTAMENTO_PRODUTTIVO."+e.orientamentoProduttivo.trim())!=="FascicoloAziendale.ORIENTAMENTO_PRODUTTIVO."+e.orientamentoProduttivo.trim()?l.hc(25,20,"FascicoloAziendale.ORIENTAMENTO_PRODUTTIVO."+e.orientamentoProduttivo.trim()):"("+e.orientamentoProduttivo.trim()+")":"-"," ")}}function Ne(i,t){if(1&i&&(l.Tb(0,"tr"),l.Tb(1,"td"),l.Tb(2,"tbody"),l.Ob(3,"tr"),l.Tb(4,"tr"),l.Tb(5,"td"),l.Oc(6),l.gc(7,"translate"),l.Sb(),l.Tb(8,"td"),l.Oc(9),l.Sb(),l.Sb(),l.Tb(10,"tr"),l.Tb(11,"td"),l.Oc(12),l.gc(13,"translate"),l.Sb(),l.Tb(14,"td"),l.Oc(15),l.Sb(),l.Sb(),l.Tb(16,"tr"),l.Tb(17,"td"),l.Oc(18),l.gc(19,"translate"),l.Sb(),l.Tb(20,"td"),l.Oc(21),l.Sb(),l.Sb(),l.Tb(22,"tr"),l.Tb(23,"td"),l.Oc(24),l.gc(25,"translate"),l.Sb(),l.Tb(26,"td"),l.Oc(27),l.Sb(),l.Sb(),l.Tb(28,"tr"),l.Tb(29,"td"),l.Oc(30),l.gc(31,"translate"),l.Sb(),l.Tb(32,"td"),l.Oc(33),l.Sb(),l.Sb(),l.Tb(34,"tr"),l.Tb(35,"td"),l.Oc(36),l.gc(37,"translate"),l.Sb(),l.Tb(38,"td"),l.Oc(39),l.Sb(),l.Sb(),l.Tb(40,"tr"),l.Tb(41,"td"),l.Oc(42),l.gc(43,"translate"),l.Sb(),l.Tb(44,"td"),l.Oc(45),l.gc(46,"date"),l.Sb(),l.Sb(),l.Tb(47,"tr"),l.Tb(48,"td"),l.Oc(49),l.gc(50,"translate"),l.Sb(),l.Tb(51,"td"),l.Oc(52),l.gc(53,"date"),l.Sb(),l.Sb(),l.Tb(54,"tr"),l.Tb(55,"td"),l.Oc(56),l.gc(57,"translate"),l.Sb(),l.Tb(58,"td"),l.Oc(59),l.Sb(),l.Sb(),l.Tb(60,"tr"),l.Tb(61,"td"),l.Oc(62),l.gc(63,"translate"),l.Sb(),l.Tb(64,"td"),l.Oc(65),l.gc(66,"translate"),l.gc(67,"translate"),l.Sb(),l.Sb(),l.Tb(68,"tr"),l.Tb(69,"td"),l.Oc(70),l.gc(71,"translate"),l.Sb(),l.Tb(72,"td"),l.Oc(73),l.gc(74,"translate"),l.gc(75,"translate"),l.Sb(),l.Sb(),l.Tb(76,"tr"),l.Tb(77,"td"),l.Oc(78),l.gc(79,"translate"),l.Sb(),l.Tb(80,"td"),l.Oc(81),l.gc(82,"translate"),l.gc(83,"translate"),l.Sb(),l.Sb(),l.Tb(84,"tr"),l.Tb(85,"td"),l.Oc(86),l.gc(87,"translate"),l.Sb(),l.Tb(88,"td"),l.Oc(89),l.gc(90,"date"),l.Sb(),l.Sb(),l.Tb(91,"tr"),l.Tb(92,"td"),l.Oc(93),l.gc(94,"translate"),l.Sb(),l.Tb(95,"td"),l.Oc(96),l.gc(97,"date"),l.Sb(),l.Sb(),l.Tb(98,"tr"),l.Tb(99,"td"),l.Oc(100),l.gc(101,"translate"),l.Sb(),l.Tb(102,"td"),l.Oc(103),l.Sb(),l.Sb(),l.Ob(104,"br"),l.Tb(105,"tr"),l.Tb(106,"th"),l.Oc(107),l.gc(108,"translate"),l.Sb(),l.Ob(109,"th"),l.Sb(),l.Tb(110,"tr"),l.Tb(111,"td"),l.Oc(112),l.gc(113,"translate"),l.Sb(),l.Tb(114,"td"),l.Oc(115),l.Sb(),l.Sb(),l.Tb(116,"tr"),l.Tb(117,"td"),l.Oc(118),l.gc(119,"translate"),l.Sb(),l.Tb(120,"td"),l.Oc(121),l.Sb(),l.Sb(),l.Tb(122,"tr"),l.Tb(123,"td"),l.Oc(124),l.gc(125,"translate"),l.Sb(),l.Tb(126,"td"),l.Oc(127),l.Sb(),l.Sb(),l.Tb(128,"tr"),l.Tb(129,"td"),l.Oc(130),l.gc(131,"translate"),l.Sb(),l.Tb(132,"td"),l.Oc(133),l.Sb(),l.Sb(),l.Tb(134,"tr"),l.Tb(135,"td"),l.Oc(136),l.gc(137,"translate"),l.Sb(),l.Tb(138,"td"),l.Oc(139),l.Sb(),l.Sb(),l.Tb(140,"tr"),l.Tb(141,"td"),l.Oc(142),l.gc(143,"translate"),l.Sb(),l.Tb(144,"td"),l.Oc(145),l.Sb(),l.Sb(),l.Tb(146,"tr"),l.Tb(147,"td"),l.Oc(148),l.gc(149,"translate"),l.Sb(),l.Tb(150,"td"),l.Oc(151),l.Sb(),l.Sb(),l.Tb(152,"tr"),l.Tb(153,"td"),l.Oc(154),l.gc(155,"translate"),l.Sb(),l.Tb(156,"td"),l.Oc(157),l.Sb(),l.Sb(),l.Tb(158,"tr"),l.Tb(159,"td"),l.Oc(160),l.gc(161,"translate"),l.Sb(),l.Tb(162,"td"),l.Oc(163),l.Sb(),l.Sb(),l.Tb(164,"tr"),l.Tb(165,"td"),l.Oc(166),l.gc(167,"translate"),l.Sb(),l.Tb(168,"td"),l.Oc(169),l.Sb(),l.Sb(),l.Tb(170,"tr"),l.Tb(171,"td"),l.Oc(172),l.gc(173,"translate"),l.Sb(),l.Tb(174,"td"),l.Oc(175),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&i){var e=t.$implicit,a=t.columns;l.Bb(1),l.Cb("colspan",a.length+1),l.Bb(5),l.Qc(" ",l.hc(7,54,"FascicoloAziendale.ALLEVAMENTO.IDENTIFICATIVO_FISCALE"),": "),l.Bb(3),l.Pc(e.identificativoFiscale),l.Bb(3),l.Qc(" ",l.hc(13,56,"FascicoloAziendale.ALLEVAMENTO.TIPOLOGIA_ALLEVAMENTO"),": "),l.Bb(3),l.Pc(e.tipologiaAllevamento?"("+e.tipologiaAllevamento+")":"-"),l.Bb(3),l.Qc(" ",l.hc(19,58,"FascicoloAziendale.ALLEVAMENTO.CF_PROPRIETARIO"),": "),l.Bb(3),l.Pc(e.cfProprietario),l.Bb(3),l.Qc(" ",l.hc(25,60,"FascicoloAziendale.ALLEVAMENTO.DENOMINAZIONE_PROPRIETARIO"),": "),l.Bb(3),l.Qc(" ",e.denominazioneProprietario," "),l.Bb(3),l.Qc(" ",l.hc(31,62,"FascicoloAziendale.ALLEVAMENTO.CF_DETENTORE"),": "),l.Bb(3),l.Pc(e.cfDetentore),l.Bb(3),l.Qc(" ",l.hc(37,64,"FascicoloAziendale.ALLEVAMENTO.DENOMINAZIONE_DETENTORE"),": "),l.Bb(3),l.Pc(e.denominazioneDetentore),l.Bb(3),l.Qc(" ",l.hc(43,66,"FascicoloAziendale.ALLEVAMENTO.DT_INIZIO_DETENZIONE"),": "),l.Bb(3),l.Qc(" ",l.ic(46,68,e.dtInizioDetenzione,"dd/MM/yyyy")," "),l.Bb(4),l.Qc(" ",l.hc(50,71,"FascicoloAziendale.ALLEVAMENTO.DT_FINE_DETENZIONE"),": "),l.Bb(3),l.Qc(" ",l.ic(53,73,e.dtFineDetenzione,"dd/MM/yyyy")," "),l.Bb(4),l.Qc(" ",l.hc(57,76,"FascicoloAziendale.ALLEVAMENTO.SOCCIDA"),": "),l.Bb(3),l.Pc(e.soccida),l.Bb(3),l.Qc(" ",l.hc(63,78,"FascicoloAziendale.ALLEVAMENTO.SPECIE"),": "),l.Bb(3),l.Qc("",e.specie?l.hc(66,80,"FascicoloAziendale.SPE_CODICE."+e.specie.trim())!=="FascicoloAziendale.SPE_CODICE."+e.specie.trim()?l.hc(67,82,"FascicoloAziendale.SPE_CODICE."+e.specie.trim()):"("+e.specie.trim()+")":"-"," "),l.Bb(5),l.Qc(" ",l.hc(71,84,"FascicoloAziendale.ALLEVAMENTO.TIPOLOGIA_PRODUZIONE"),": "),l.Bb(3),l.Qc("",e.tipoProduzione?l.hc(74,86,"FascicoloAziendale.TIPO_PRODUZIONE."+e.tipoProduzione.trim())!=="FascicoloAziendale.TIPO_PRODUZIONE."+e.tipoProduzione.trim()?l.hc(75,88,"FascicoloAziendale.TIPO_PRODUZIONE."+e.tipoProduzione.trim()):"("+e.tipoProduzione.trim()+")":"-"," "),l.Bb(5),l.Qc(" ",l.hc(79,90,"FascicoloAziendale.ALLEVAMENTO.ORIENTAMENTO_PRODUTTIVO"),": "),l.Bb(3),l.Qc("",e.orientamentoProduttivo?l.hc(82,92,"FascicoloAziendale.ORIENTAMENTO_PRODUTTIVO."+e.orientamentoProduttivo.trim())!=="FascicoloAziendale.ORIENTAMENTO_PRODUTTIVO."+e.orientamentoProduttivo.trim()?l.hc(83,94,"FascicoloAziendale.ORIENTAMENTO_PRODUTTIVO."+e.orientamentoProduttivo.trim()):"("+e.orientamentoProduttivo.trim()+")":"-"," "),l.Bb(5),l.Qc(" ",l.hc(87,96,"FascicoloAziendale.ALLEVAMENTO.DT_APERTURA_ALLEVAMENTO"),": "),l.Bb(3),l.Qc(" ",l.ic(90,98,e.dtAperturaAllevamento,"dd/MM/yyyy")," "),l.Bb(4),l.Qc(" ",l.hc(94,101,"FascicoloAziendale.ALLEVAMENTO.DT_CHIUSURA_ALLEVAMENTO"),": "),l.Bb(3),l.Qc(" ",l.ic(97,103,e.dtChiusuraAllevamento,"dd/MM/yyyy")," "),l.Bb(4),l.Qc(" ",l.hc(101,106,"FascicoloAziendale.ALLEVAMENTO.AUTORIZZAZIONE_SANITARIA"),": "),l.Bb(3),l.Qc(" ",e.autorizzazioneSanitariaLatte," "),l.Bb(4),l.Qc(" ",l.hc(108,108,"FascicoloAziendale.ALLEVAMENTO.DATI_STRUTTURA")," "),l.Bb(5),l.Qc(" ",l.hc(113,110,"FascicoloAziendale.ALLEVAMENTO.STRUTTURA.IDENTIFICATIVO"),": "),l.Bb(3),l.Qc(" ",e.strutturaAllevamentoDto.identificativo," "),l.Bb(3),l.Qc(" ",l.hc(119,112,"FascicoloAziendale.ALLEVAMENTO.STRUTTURA.INDIRIZZO"),": "),l.Bb(3),l.Qc(" ",e.strutturaAllevamentoDto.indirizzo," "),l.Bb(3),l.Qc(" ",l.hc(125,114,"FascicoloAziendale.ALLEVAMENTO.STRUTTURA.CAP"),": "),l.Bb(3),l.Qc(" ",e.strutturaAllevamentoDto.cap," "),l.Bb(3),l.Qc(" ",l.hc(131,116,"FascicoloAziendale.ALLEVAMENTO.STRUTTURA.LOCALITA"),": "),l.Bb(3),l.Qc(" ",e.strutturaAllevamentoDto.localita," "),l.Bb(3),l.Qc(" ",l.hc(137,118,"FascicoloAziendale.ALLEVAMENTO.STRUTTURA.COMUNE"),": "),l.Bb(3),l.Qc(" ",e.strutturaAllevamentoDto.comune," "),l.Bb(3),l.Qc(" ",l.hc(143,120,"FascicoloAziendale.ALLEVAMENTO.STRUTTURA.LATITUDINE"),": "),l.Bb(3),l.Qc(" ",e.strutturaAllevamentoDto.latitudine," "),l.Bb(3),l.Qc(" ",l.hc(149,122,"FascicoloAziendale.ALLEVAMENTO.STRUTTURA.LONGITUDINE"),": "),l.Bb(3),l.Qc(" ",e.strutturaAllevamentoDto.longitudine," "),l.Bb(3),l.Qc(" ",l.hc(155,124,"FascicoloAziendale.ALLEVAMENTO.STRUTTURA.FOGLIO"),": "),l.Bb(3),l.Qc(" ",e.strutturaAllevamentoDto.foglioCatastale," "),l.Bb(3),l.Qc(" ",l.hc(161,126,"FascicoloAziendale.ALLEVAMENTO.STRUTTURA.SEZIONE"),": "),l.Bb(3),l.Qc(" ",e.strutturaAllevamentoDto.sezione," "),l.Bb(3),l.Qc(" ",l.hc(167,128,"FascicoloAziendale.ALLEVAMENTO.STRUTTURA.PARTICELLA"),": "),l.Bb(3),l.Qc(" ",e.strutturaAllevamentoDto.particella," "),l.Bb(3),l.Qc(" ",l.hc(173,130,"FascicoloAziendale.ALLEVAMENTO.STRUTTURA.SUB"),": "),l.Bb(3),l.Qc(" ",e.strutturaAllevamentoDto.subalterno," ")}}function Pe(i,t){if(1&i&&(l.Tb(0,"tr"),l.Tb(1,"td"),l.Oc(2,"Nessun contenuto disponibile"),l.Sb(),l.Sb()),2&i){var e=t.$implicit;l.Bb(1),l.Cb("colspan",e.length+1)}}var _e,Le=function(){return{marginTop:"70px"}},ke=((_e=function(){function i(t,e,a,o,c,n,r){_classCallCheck(this,i),this.route=t,this.fascicoloDettaglioService=e,this.anagraficaFascicoloService=a,this.zootecniaService=o,this.messageService=c,this.datepipe=n,this.mediatorService=r,this.cuaa="",this.componentDestroyed$=new j.a,this._allevamentoCorrente$=new ze.a(null),this.idValidazione=void 0}return _createClass(i,[{key:"subscribeStatoFascicolo",value:function(){var i=this;this.fascicoloDettaglioService.fascicoloCorrente.pipe(Object($.a)(this.componentDestroyed$)).subscribe((function(t){t&&(i.fascicoloCorrente=t)}))}},{key:"ngOnInit",value:function(){this.setCols(),this.cuaa=this.route.snapshot.paramMap.get("cuaa"),this.subscribeStatoFascicolo();var i=this.route.snapshot.queryParams["id-validazione"];this.idValidazione=i?Number.parseInt(i):0,this.getAllevamentiObservable(this.cuaa).subscribe()}},{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}},{key:"setCols",value:function(){this.cols=[{field:"specie",header:"Specie"},{field:"struttura.identificativo",header:"Identificativo della struttura"},{field:"struttura.comune",header:"Comune della struttura"},{field:"cfProprietario",header:"Codice fiscale proprietario"},{field:"cfDetentore",header:"Codice fiscale detentore"},{field:"tipologiaAllevamento",header:"Tipologia di allevamento"},{field:"tipoProduzione",header:"Tipo produzione"},{field:"orientamentoProduttivo",header:"Orientamento produttivo"}]}},{key:"handleClick",value:function(){this.fascicoloDettaglioService.mostraDettaglioSezione.next(R.a.DATI)}},{key:"getAllevamentiObservable",value:function(i){var t=this;return this.zootecniaService.getAllevamenti(i).pipe(Object($.a)(this.componentDestroyed$),Object(Y.a)((function(i){return t.messageService.add(p.a.getToast("tst",p.b.error,p.a.errorGetAllevamenti)),Z.a})),Object(Bi.a)((function(i){return t.allevamenti=i})))}},{key:"fascicoloEditable",value:function(){return this.fascicoloCorrente&&0===this.idValidazione&&(this.fascicoloCorrente.stato===w.c.IN_AGGIORNAMENTO||this.fascicoloCorrente.stato===w.c.VALIDATO||this.fascicoloCorrente.stato===w.c.CONTROLLATO_OK||this.fascicoloCorrente.stato===w.c.IN_CHIUSURA)}},{key:"updateAllevamenti",value:function(){var i=this,t=this.datepipe.transform(new Date,"yyyy-MM-dd");this.zootecniaService.putUpdateAllevamenti(this.cuaa,t).pipe(Object($.a)(this.componentDestroyed$),Object(Di.a)((function(){return i.anagraficaFascicoloService.getFascicolo(i.cuaa,0)})),Object(Di.a)((function(t){return i.fascicoloDettaglioService.fascicoloCorrente.next(t),i.getAllevamentiObservable(i.cuaa)})),Object(Di.a)((function(t){return t&&i.setInAggiornamento(i.fascicoloCorrente.cuaa),Object(Ei.a)(i.cuaa)})),Object(Y.a)((function(t){return p.a.handleError(i.messageService,t,p.a.ERRORE_GENERICO),Z.a})),Object(Di.a)((function(t){return i.mediatorService.deleteEsitiControlloCompletezza(t)})),Object(Y.a)((function(t){return p.a.handleError(i.messageService,t,p.a.ERRORE_GENERICO),Z.a}))).subscribe((function(t){i.messageService.add(p.a.getToast("tst",p.b.success,p.a.OPERAZIONE_OK))}))}},{key:"setInAggiornamento",value:function(i){var t=this;this.anagraficaFascicoloService.putSetStatusFascicoloInAggiornamento(i).subscribe((function(){t.messageService.add(p.a.getToast("tst",p.b.success,p.a.changeStatusInAggiornamentoOk)),t.fascicoloCorrente.stato=w.c.IN_AGGIORNAMENTO,t.reloadDataFascicolo()}),(function(i){t.messageService.add(p.a.getToast("tst",p.b.error,p.a.changeStatusInAggiornamentoKo))}))}},{key:"reloadDataFascicolo",value:function(){this.fascicoloDettaglioService.fascicoloCorrente.next(this.fascicoloCorrente)}}]),i}()).\u0275fac=function(i){return new(i||_e)(l.Nb(x.a),l.Nb(k.a),l.Nb(Ii.a),l.Nb(ye),l.Nb(m.d),l.Nb(r.f),l.Nb(Ni.a))},_e.\u0275cmp=l.Hb({type:_e,selectors:[["app-allevamenti"]],decls:23,vars:16,consts:[["key","tst"],[1,"ui-grid-fixed","boxgrey"],[1,"d-flex","align-items-center","text-decoration-none","color-primary",3,"routerLink","click"],[1,"pi","pi-chevron-left",2,"font-size","2rem","color","black"],["src","assets/img/ico-zootecnia.jpg"],[1,"ml-2"],[1,"mb-3"],[1,"funzioni-grid","boxgrey"],["pButton","","icon","ui-icon-update","label","AGGIORNA","pButton","",1,"pull-right",2,"background-color","green",3,"disabled","click"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],["header","ALLEVAMENTI",3,"selected"],["dataKey","identificativo",3,"columns","value","autoLayout","paginator","responsive"],["tableUnita",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],[2,"width","3em"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"],["href","#",3,"pRowToggler"],[3,"ngClass"]],template:function(i,t){1&i&&(l.Ob(0,"p-toast",0),l.Tb(1,"div",1),l.Tb(2,"a",2),l.bc("click",(function(){return t.handleClick()})),l.Ob(3,"i",3),l.Ob(4,"img",4),l.Tb(5,"span",5),l.Oc(6),l.gc(7,"translate"),l.Sb(),l.Sb(),l.Ob(8,"br"),l.Tb(9,"h3",6),l.Oc(10),l.gc(11,"translate"),l.Sb(),l.Tb(12,"div",7),l.Tb(13,"button",8),l.bc("click",(function(){return t.updateAllevamenti()})),l.Sb(),l.Tb(14,"div",9),l.Tb(15,"p-accordion"),l.Tb(16,"p-accordionTab",10),l.Tb(17,"p-table",11,12),l.Mc(19,De,3,1,"ng-template",13),l.Mc(20,Be,26,22,"ng-template",14),l.Mc(21,Ne,176,132,"ng-template",15),l.Mc(22,Pe,3,1,"ng-template",16),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&i&&(l.Kc(l.rc(15,Le)),l.Bb(6),l.Qc(" ",l.hc(7,11,"FascicoloAziendale.ZOOTECNIA")," "),l.Bb(4),l.Pc(l.hc(11,13,"FascicoloAziendale.ALLEVAMENTI")),l.Bb(3),l.mc("disabled",!t.fascicoloEditable()),l.Bb(3),l.mc("selected",!0),l.Bb(1),l.mc("columns",t.cols)("value",t.allevamenti)("autoLayout",!0)("paginator",!1)("responsive",!0))},directives:[f.a,x.h,T.b,v.a,v.c,K.q,m.e,r.s,K.p,K.o,K.k,r.q],pipes:[g.d,r.f],styles:[""]}),_e),Re=e("sazn"),we=e("JEAp"),xe=e("7QKl"),Ge=e("2yZY"),Ve=e("EetQ"),Ue=e("XSqH"),qe=e("IEkE"),Qe=function(i){return i.MACCHINE="MACCHINE",i.FABBRICATI="FABBRICATI",i.ZOOTECNIA="ZOOTECNIA",i}({}),je=function(i){return i.FABBRICATI_STRUMENTALI="FABBRICATI_STRUMENTALI",i.STRUTTURE_ZOOTECNICHE="STRUTTURE_ZOOTECNICHE",i.SERRE_E_PROTEZIONI="SERRE_E_PROTEZIONI",i}({}),Ze=function(i){return i.STOCCAGGIO_LIQUAMI="STOCCAGGIO_LIQUAMI",i.STOCCAGGIO_LETAMI="STOCCAGGIO_LETAMI",i.AREE_SCOPERTE="AREE_SCOPERTE",i.STALLE="STALLE",i}({}),$e=e("cIsh"),Ye=e("KwdP"),He=["dialogNuovaMacchina"],Ke=["fileCaricato"],We=["accordion"];function Xe(i,t){1&i&&l.Ob(0,"p-message",39)}function Je(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,Xe,1,0,"p-message",38),l.Sb()),2&i){var e=l.fc(2);l.Bb(1),l.mc("ngIf",null==e.macchinaForm.get("tipologiaMacchinario").errors?null:e.macchinaForm.get("tipologiaMacchinario").errors.required)}}function ia(i,t){1&i&&l.Ob(0,"p-message",39)}function ta(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,ia,1,0,"p-message",38),l.Sb()),2&i){var e=l.fc(2);l.Bb(1),l.mc("ngIf",null==e.macchinaForm.get("classeFunzionaleMacchinario").errors?null:e.macchinaForm.get("classeFunzionaleMacchinario").errors.required)}}function ea(i,t){1&i&&l.Ob(0,"p-message",39)}function aa(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,ea,1,0,"p-message",38),l.Sb()),2&i){var e=l.fc(2);l.Bb(1),l.mc("ngIf",null==e.macchinaForm.get("sottoTipologiaMacchinario").errors?null:e.macchinaForm.get("sottoTipologiaMacchinario").errors.required)}}function oa(i,t){1&i&&l.Ob(0,"p-message",39)}function ca(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,oa,1,0,"p-message",38),l.Sb()),2&i){var e=l.fc(2);l.Bb(1),l.mc("ngIf",null==e.macchinaForm.get("marcaMacchinario").errors?null:e.macchinaForm.get("marcaMacchinario").errors.required)}}function na(i,t){1&i&&l.Ob(0,"p-message",39)}function ra(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,na,1,0,"p-message",38),l.Sb()),2&i){var e=l.fc(2);l.Bb(1),l.mc("ngIf",null==e.macchinaForm.get("modello").errors?null:e.macchinaForm.get("modello").errors.required)}}function la(i,t){1&i&&l.Ob(0,"p-message",39)}function sa(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,la,1,0,"p-message",38),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.macchinaForm.get("targa").errors?null:e.macchinaForm.get("targa").errors.required)}}function ba(i,t){if(1&i&&(l.Tb(0,"div",18),l.Tb(1,"label",40),l.Oc(2,"Targa"),l.Sb(),l.Ob(3,"input",41),l.Mc(4,sa,2,1,"div",21),l.Sb()),2&i){var e=l.fc(2);l.Bb(3),l.mc("maxlength",50),l.Bb(1),l.mc("ngIf",e.macchinaForm.get("targa").invalid&&(e.macchinaForm.get("targa").dirty||e.macchinaForm.get("targa").touched))}}function ua(i,t){1&i&&l.Ob(0,"p-message",39)}function da(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,ua,1,0,"p-message",38),l.Sb()),2&i){var e=l.fc(2);l.Bb(1),l.mc("ngIf",null==e.macchinaForm.get("annoCostruzione").errors?null:e.macchinaForm.get("annoCostruzione").errors.required)}}function pa(i,t){if(1&i){var e=l.Ub();l.Tb(0,"div",42),l.Tb(1,"label",43),l.Oc(2,"Motore"),l.Sb(),l.Tb(3,"p-inputSwitch",44),l.bc("onChange",(function(i){return l.Ec(e),l.fc(2).enableMotore(i)})),l.Sb(),l.Sb()}}function ma(i,t){if(1&i){var e=l.Ub();l.Tb(0,"div",17),l.Tb(1,"div",18),l.Tb(2,"label",19),l.Oc(3,"Tipologia"),l.Sb(),l.Tb(4,"p-dropdown",20),l.bc("onChange",(function(i){return l.Ec(e),l.fc().onSelectTipologia(i)})),l.Sb(),l.Mc(5,Je,2,1,"div",21),l.Sb(),l.Tb(6,"div",18),l.Tb(7,"label",22),l.Oc(8,"Classe funzionale"),l.Sb(),l.Tb(9,"p-dropdown",23),l.bc("onChange",(function(i){return l.Ec(e),l.fc().onSelectClasseFunzionale(i)})),l.Sb(),l.Mc(10,ta,2,1,"div",21),l.Sb(),l.Tb(11,"div",18),l.Tb(12,"label",24),l.Oc(13,"Sotto Tipologia"),l.Sb(),l.Tb(14,"p-dropdown",25),l.bc("onChange",(function(i){return l.Ec(e),l.fc().onSelectSottoTipologia(i)})),l.Sb(),l.Mc(15,aa,2,1,"div",21),l.Sb(),l.Tb(16,"div",18),l.Tb(17,"label",26),l.Oc(18,"Marca"),l.Sb(),l.Ob(19,"input",27),l.Mc(20,ca,2,1,"div",21),l.Sb(),l.Tb(21,"div",18),l.Tb(22,"label",28),l.Oc(23,"Modello"),l.Sb(),l.Ob(24,"input",29),l.Mc(25,ra,2,1,"div",21),l.Sb(),l.Mc(26,ba,5,2,"div",30),l.Tb(27,"div",18),l.Tb(28,"label",31),l.Oc(29,"Numero Matricola*"),l.Sb(),l.Ob(30,"input",32),l.Sb(),l.Tb(31,"div",18),l.Tb(32,"label",33),l.Oc(33,"Numero Telaio*"),l.Sb(),l.Ob(34,"input",34),l.Sb(),l.Tb(35,"div",18),l.Tb(36,"label",33),l.Oc(37,"Anno di immatricolazione"),l.Sb(),l.Ob(38,"p-spinner",35),l.Mc(39,da,2,1,"div",21),l.Sb(),l.Mc(40,pa,4,0,"div",36),l.Tb(41,"p-footer",37),l.Tb(42,"i"),l.Oc(43," *Nota: \xe8 necessario compilare almeno uno dei campi Numero matricola o Numero telaio"),l.Sb(),l.Sb(),l.Sb()}if(2&i){var a=l.fc();l.Bb(4),l.mc("options",a.tipologicheService.tipologiaMacchinario),l.Bb(1),l.mc("ngIf",a.macchinaForm.get("tipologiaMacchinario").invalid&&(a.macchinaForm.get("tipologiaMacchinario").dirty||a.macchinaForm.get("tipologiaMacchinario").touched)),l.Bb(4),l.mc("options",a.tipologicheService.classeFunzionaleMacchinario),l.Bb(1),l.mc("ngIf",a.macchinaForm.get("classeFunzionaleMacchinario").invalid&&(a.macchinaForm.get("classeFunzionaleMacchinario").dirty||a.macchinaForm.get("classeFunzionaleMacchinario").touched)),l.Bb(4),l.mc("options",a.tipologicheService.sottoTipologiaMacchinario),l.Bb(1),l.mc("ngIf",a.macchinaForm.get("sottoTipologiaMacchinario").invalid&&(a.macchinaForm.get("sottoTipologiaMacchinario").dirty||a.macchinaForm.get("sottoTipologiaMacchinario").touched)),l.Bb(4),l.mc("maxlength",50),l.Bb(1),l.mc("ngIf",a.macchinaForm.get("marcaMacchinario").invalid&&(a.macchinaForm.get("marcaMacchinario").dirty||a.macchinaForm.get("marcaMacchinario").touched)),l.Bb(4),l.mc("maxlength",50),l.Bb(1),l.mc("ngIf",a.macchinaForm.get("modello").invalid&&(a.macchinaForm.get("modello").dirty||a.macchinaForm.get("modello").touched)),l.Bb(1),l.mc("ngIf",a.showTarga),l.Bb(4),l.mc("maxlength",50),l.Bb(4),l.mc("maxlength",50),l.Bb(4),l.mc("min",1900)("max",a.currentYear),l.Bb(1),l.mc("ngIf",a.macchinaForm.get("annoCostruzione").invalid&&(a.macchinaForm.get("annoCostruzione").dirty||a.macchinaForm.get("annoCostruzione").touched)),l.Bb(1),l.mc("ngIf",a.showSwitchMotore)}}function ga(i,t){1&i&&l.Ob(0,"p-message",39)}function fa(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,ga,1,0,"p-message",38),l.Sb()),2&i){var e=l.fc(2);l.Bb(1),l.mc("ngIf",null==e.macchinaForm.get("alimentazione").errors?null:e.macchinaForm.get("alimentazione").errors.required)}}function ha(i,t){1&i&&l.Ob(0,"p-message",39)}function va(i,t){1&i&&l.Ob(0,"p-message",56)}function Ta(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,ha,1,0,"p-message",38),l.Mc(2,va,1,0,"p-message",55),l.Sb()),2&i){var e=l.fc(2);l.Bb(1),l.mc("ngIf",null==e.macchinaForm.get("potenza").errors?null:e.macchinaForm.get("potenza").errors.required),l.Bb(1),l.mc("ngIf",null==e.macchinaForm.get("potenza").errors?null:e.macchinaForm.get("potenza").errors.pattern)}}function Sa(i,t){if(1&i){var e=l.Ub();l.Tb(0,"div",17),l.Tb(1,"div",45),l.Tb(2,"label",46),l.Oc(3,"Marca"),l.Sb(),l.Ob(4,"input",47),l.Sb(),l.Tb(5,"div",45),l.Tb(6,"label",48),l.Oc(7,"Tipo"),l.Sb(),l.Ob(8,"input",49),l.Sb(),l.Tb(9,"div",18),l.Tb(10,"label",50),l.Oc(11,"Alimentazione"),l.Sb(),l.Tb(12,"p-dropdown",51),l.bc("onChange",(function(i){return l.Ec(e),l.fc().onSelectAlimentazione(i)})),l.Sb(),l.Mc(13,fa,2,1,"div",21),l.Sb(),l.Tb(14,"div",18),l.Tb(15,"label",52),l.Oc(16,"Potenza in Kw"),l.Sb(),l.Ob(17,"input",53),l.Mc(18,Ta,3,2,"div",21),l.Sb(),l.Tb(19,"div",18),l.Tb(20,"label",33),l.Oc(21,"Matricola"),l.Sb(),l.Ob(22,"input",54),l.Sb(),l.Sb()}if(2&i){var a=l.fc();l.Bb(4),l.mc("maxlength",50),l.Bb(4),l.mc("maxlength",50),l.Bb(4),l.mc("options",a.tipologicheService.alimentazioneMotore),l.Bb(1),l.mc("ngIf",a.macchinaForm.get("alimentazione").invalid&&(a.macchinaForm.get("alimentazione").dirty||a.macchinaForm.get("alimentazione").touched)),l.Bb(4),l.mc("maxlength",20),l.Bb(1),l.mc("ngIf",a.macchinaForm.get("potenza").invalid&&(a.macchinaForm.get("potenza").dirty||a.macchinaForm.get("potenza").touched)),l.Bb(4),l.mc("maxlength",50)}}function Oa(i,t){1&i&&l.Ob(0,"p-message",39)}function Ca(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,Oa,1,0,"p-message",38),l.Sb()),2&i){var e=l.fc(2);l.Bb(1),l.mc("ngIf",null==e.macchinaForm.get("tipologiaPossesso").errors?null:e.macchinaForm.get("tipologiaPossesso").errors.required)}}function Aa(i,t){if(1&i){var e=l.Ub();l.Tb(0,"div",63),l.Tb(1,"button",64),l.bc("click",(function(){return l.Ec(e),l.fc(2).caricaAllegato()})),l.Sb(),l.Tb(2,"input",65,66),l.bc("change",(function(i){return l.Ec(e),l.fc(2).onFileChange(i)})),l.Sb(),l.Sb()}if(2&i){var a=l.fc(2);l.Bb(2),l.nc("accept",a.fileConfig.fileExt)}}function Ia(i,t){if(1&i){var e=l.Ub();l.Tb(0,"div",71),l.Tb(1,"img",72),l.bc("click",(function(i){return l.Ec(e),l.fc(3).eliminaAllegato(i)})),l.Sb(),l.Sb()}}function Fa(i,t){if(1&i){var e=l.Ub();l.Tb(0,"div",67),l.Tb(1,"div",68),l.Tb(2,"div",37),l.Tb(3,"a",69),l.bc("click",(function(){return l.Ec(e),l.fc(2).visualizzaAllegato()})),l.Oc(4),l.Sb(),l.Sb(),l.Mc(5,Ia,2,0,"div",70),l.Sb(),l.Sb()}if(2&i){var a=l.fc(2);l.Bb(4),l.Qc(" ",null==a.allegato?null:a.allegato.name," "),l.Bb(1),l.mc("ngIf",!a.READONLY_MODE)}}function Ma(i,t){if(1&i){var e=l.Ub();l.Tb(0,"div",5),l.Tb(1,"div",37),l.Tb(2,"div",57),l.Tb(3,"div",58),l.Tb(4,"label",59),l.Oc(5," Tipologia di possesso "),l.Sb(),l.Tb(6,"p-dropdown",60),l.bc("onChange",(function(i){return l.Ec(e),l.fc().onSelectTipologiaPossesso(i)})),l.Sb(),l.Mc(7,Ca,2,1,"div",21),l.Sb(),l.Mc(8,Aa,4,1,"div",61),l.Mc(9,Fa,6,2,"div",62),l.Sb(),l.Sb(),l.Sb()}if(2&i){var a=l.fc();l.Bb(6),l.mc("options",a.tipologicheService.tipologiaDiPossesso),l.Bb(1),l.mc("ngIf",a.macchinaForm.get("tipologiaPossesso").invalid&&(a.macchinaForm.get("tipologiaPossesso").dirty||a.macchinaForm.get("tipologiaPossesso").touched)),l.Bb(1),l.mc("ngIf",!a.fileCaricato),l.Bb(1),l.mc("ngIf",a.fileCaricato)}}var ya,za=function(){return{width:"80vw",height:"90vh"}},Ea=function(){return{"overflow-y":"auto","overflow-x":"hidden"}},Da=function(){return{marginTop:"70px"}},Ba=((ya=function(){function i(t,e,a,o,c,n,r,s,b,u,d){_classCallCheck(this,i),this.tipologicheService=t,this.fileService=e,this.messageService=a,this.dateUtilService=o,this.formService=c,this.errorService=n,this.dotazioneTecnicaBuilderService=r,this.httpClientTipologieService=s,this.fascicoloDettaglioService=b,this.httpClientMacchineService=u,this.httpClientMediatorService=d,this.onHideDialog=new l.n}return _createClass(i,[{key:"ngOnInit",value:function(){var i=this;this.getTipologieSubscription=this.httpClientTipologieService.getTipologia(Qe.MACCHINE).subscribe((function(t){(null==t?void 0:t.length)?i.tipologicheService.setTipologiaMacchinario(i.dotazioneTecnicaBuilderService.tipologiaDtoToSelectItemArrayConverter(t)):i.errorService.showErrorWithMessage("Non \xe8 possibile caricare le tipologie di macchinario","tst-macchinario")}),(function(t){return i.errorService.showError(t,"tst-macchinario")})),this.tipologicheService.setAlimentazione(),this.tipologicheService.setTipologiaDiPossesso(),this.fileConfig=this.fileService.loadConfigPdf(),this.currentYear=this.dateUtilService.getCurrentYear(),this.initForm()}},{key:"ngOnDestroy",value:function(){this.getTipologieSubscription&&this.getTipologieSubscription.unsubscribe(),this.getSottoTipologieSubscription&&this.getSottoTipologieSubscription.unsubscribe(),this.getAllegatoSubscription&&this.getAllegatoSubscription.unsubscribe(),this.postMacchinaSubscription&&this.postMacchinaSubscription.unsubscribe()}},{key:"open",value:function(){var i=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;this.display=!0,this.cuaa=e,this.dettaglioMacchina=a,null==this.dettaglioMacchina?(this.READONLY_MODE=!1,this.EDIT_MODE=!1,this.allegato={file:null,name:""},this.fileCaricato=!1,this.motoreDisabled=!0,this.showSwitchMotore=!1,this.showTarga=!1,this.idMacchina=null,this.macchinaForm.get("tipologiaMacchinario").enable(),this.macchinaForm.get("classeFunzionaleMacchinario").enable(),this.macchinaForm.get("sottoTipologiaMacchinario").enable(),this.enableForm(),this.initForm()):(this.READONLY_MODE=t,this.EDIT_MODE=!0,this.idMacchina=a.id,this.idValidazione=o||null,this.motoreDisabled=!a.alimentazione,this.showSwitchMotore="ALTRE ATTREZZATURE"===a.tipologiaMacchinario.label,this.showTarga=this.isTipologiaFromPra(a.tipologiaMacchinario.label),this.initForm(a,this.showTarga),this.getAllegatoSubscription=this.httpClientMacchineService.getAllegato(this.cuaa,this.idMacchina.toString(),this.idValidazione).pipe(Object(Y.a)((function(t){return i.errorService.showError(t,"tst-macchine"),Z.a})),Object(Di.a)((function(t){if(null!=t){var e=new d.a(i.fileConfig.fileExt,i.fileConfig.maxSize).blobToFile(new Blob([t]),i.idMacchina.toString()+"_documento_possesso.pdf");i.allegato={file:e,name:"documento_possesso.pdf"},i.fileCaricato=!0}return i.httpClientTipologieService.getSottoTipologieByIdClasseFunzionale(a.tipologiaMacchinario.value)}))).subscribe((function(t){var e;(null===(e=null==t?void 0:t.tipologie)||void 0===e?void 0:e.length)?i.tipologicheService.setSottoTipologiaMacchinario(i.dotazioneTecnicaBuilderService.tipologiaDtoToSelectItemArrayConverter(t.tipologie)):i.errorService.showErrorWithMessage("Non \xe8 possibile caricare le sottotipologie di macchinario relative a "+a.tipologiaMacchinario.label,"tst-macchinario"),i.EDIT_MODE&&(i.classificazioneMacchinarioVM={},i.classificazioneMacchinarioVM.tipologiaMacchinario=i.macchinaForm.get("tipologiaMacchinario").value,i.classificazioneMacchinarioVM.sottoTipologiaMacchinario=i.macchinaForm.get("sottoTipologiaMacchinario").value,i.macchinaForm.get("tipologiaMacchinario").disable(),i.macchinaForm.get("sottoTipologiaMacchinario").disable()),1==i.READONLY_MODE?i.disableForm():i.enableForm(a)}),(function(t){return i.errorService.showError(t,"tst-macchine")})))}},{key:"onSelectAccordion",value:function(i){}},{key:"onSelectTipologia",value:function(i){var t=this,e=this.tipologicheService.tipologiaMacchinario.filter((function(t){return t.value==i.value}))[0];"MACCHINE E ATTREZZATURE ESCLUSE DA CARBURANTE AGEVOLATO PER USO AGRICOLO"===(null==e?void 0:e.label)||"MACCHINE AGRICOLE OPERATRICI TRAINATE"===(null==e?void 0:e.label)||"ATTREZZATURE PORTATE O SEMIPORTATE"===(null==e?void 0:e.label)||"RIMORCHI AGRICOLI CON MASSA COMPLESSIVA A PIENO CARICO FINO A 1,5T"===(null==e?void 0:e.label)||"RIMORCHI AGRICOLI CON MASSA COMPLESSIVA A PIENO CARICO SUPERIORE A 1,5T"===(null==e?void 0:e.label)?(this.motoreDisabled=!0,this.disableMotoreForm(),this.closeAccordionByIndex(1)):(this.motoreDisabled=!1,this.enableMotoreForm()),"IMPIANTI ED ATTREZZATURE DESTINATI AD ESSERE IMPIEGATI NELLE ATTIVITA' AGRICOLE E FORESTALI"===(null==e?void 0:e.label)||"MACCHINE PER LA PRIMA TRASFORMAZIONE DEI PRODOTTI AGRICOLI"===(null==e?void 0:e.label)?(this.showSwitchMotore=!0,this.macchinaForm.get("switchMotore").setValue(!1)):this.showSwitchMotore=!1,this.showTarga=this.isTipologiaFromPra(null==e?void 0:e.label),this.macchinaForm.get("classeFunzionaleMacchinario").reset(),this.tipologicheService.classeFunzionaleMacchinario=[],this.macchinaForm.get("sottoTipologiaMacchinario").reset(),this.tipologicheService.sottoTipologiaMacchinario=[],null!=i.value&&(this.getClasseFunzionaleSubscription=this.httpClientTipologieService.getClassiFunzionaliByIdTipologia(i.value).subscribe((function(e){var a;(null===(a=null==e?void 0:e.tipologie)||void 0===a?void 0:a.length)?(t.tipologicheService.setClasseFunzionaleMacchinario(t.dotazioneTecnicaBuilderService.tipologiaDtoToSelectItemArrayConverter(e.tipologie)),1==t.tipologicheService.classeFunzionaleMacchinario.length&&(t.macchinaForm.get("classeFunzionaleMacchinario").setValue({label:t.tipologicheService.classeFunzionaleMacchinario[0].label,value:t.tipologicheService.classeFunzionaleMacchinario[0].value}),t.getSottoTipologieSubscription=t.httpClientTipologieService.getSottoTipologieByIdClasseFunzionale(t.tipologicheService.classeFunzionaleMacchinario[0].value).subscribe((function(e){var a;(null===(a=null==e?void 0:e.tipologie)||void 0===a?void 0:a.length)?(t.tipologicheService.setSottoTipologiaMacchinario(t.dotazioneTecnicaBuilderService.tipologiaDtoToSelectItemArrayConverter(e.tipologie)),1==t.tipologicheService.sottoTipologiaMacchinario.length&&t.macchinaForm.get("sottoTipologiaMacchinario").setValue({label:t.tipologicheService.sottoTipologiaMacchinario[0].label,value:t.tipologicheService.sottoTipologiaMacchinario[0].value})):t.errorService.showErrorWithMessage("Non \xe8 possibile caricare le sottotipologie di macchinario relative a "+i.label,"tst-macchinario")}),(function(i){return t.errorService.showError(i,"tst-macchinario")})))):t.errorService.showErrorWithMessage("Non \xe8 possibile caricare le classi funzionali di macchinario relative a "+i.label,"tst-macchinario")}),(function(i){return t.errorService.showError(i,"tst-macchinario")})))}},{key:"onSelectClasseFunzionale",value:function(i){var t=this,e=this.tipologicheService.classeFunzionaleMacchinario.filter((function(t){return t.value==i.value}))[0];"RIMORCHI FINO A 15 QLI"===(null==e?void 0:e.label)||"ATTREZZATURE PORTATE"===(null==e?void 0:e.label)||"ALTRE ATTREZZATURE"===(null==e?void 0:e.label)||"RIMORCHI SUP. A 15 QLI"===(null==e?void 0:e.label)?(this.motoreDisabled=!0,this.disableMotoreForm(),this.closeAccordionByIndex(1)):(this.motoreDisabled=!1,this.enableMotoreForm()),"ALTRE ATTREZZATURE"===(null==e?void 0:e.label)?(this.showSwitchMotore=!0,this.macchinaForm.get("switchMotore").setValue(!1)):this.showSwitchMotore=!1,this.showTarga=this.isTipologiaFromPra(null==e?void 0:e.label),this.macchinaForm.get("sottoTipologiaMacchinario").reset(),this.tipologicheService.sottoTipologiaMacchinario=[],null!=i.value&&(this.getSottoTipologieSubscription=this.httpClientTipologieService.getSottoTipologieByIdClasseFunzionale(i.value).subscribe((function(e){var a;(null===(a=null==e?void 0:e.tipologie)||void 0===a?void 0:a.length)?(t.tipologicheService.setSottoTipologiaMacchinario(t.dotazioneTecnicaBuilderService.tipologiaDtoToSelectItemArrayConverter(e.tipologie)),1==t.tipologicheService.sottoTipologiaMacchinario.length&&(console.log(t.tipologicheService.sottoTipologiaMacchinario[0].label+" "+t.tipologicheService.sottoTipologiaMacchinario[0].value),t.macchinaForm.get("sottoTipologiaMacchinario").setValue({label:t.tipologicheService.sottoTipologiaMacchinario[0].label,value:t.tipologicheService.sottoTipologiaMacchinario[0].value}))):t.errorService.showErrorWithMessage("Non \xe8 possibile caricare le sottotipologie di macchinario relative a "+i.label,"tst-macchinario")}),(function(i){return t.errorService.showError(i,"tst-macchinario")})))}},{key:"onSelectSottoTipologia",value:function(i){}},{key:"onSelectAlimentazione",value:function(i){}},{key:"onSelectTipologiaPossesso",value:function(i){}},{key:"onSubmit",value:function(){this.salvaMacchina()}},{key:"closeDialog",value:function(i){this.closeAllAccordion(),this.READONLY_MODE=!1,this.allegato={file:null,name:""},this.fileCaricato=!1,this.motoreDisabled=!0,this.showTarga=!1,this.onHideDialog.emit(i),this.display=!1}},{key:"annulla",value:function(){this.closeDialog(!1)}},{key:"salvaMacchina",value:function(){var i=this;console.log("Save Form: ",this.macchinaForm.value),console.log("Fascicolo Id: ",this.fascicoloDettaglioService.fascicoloCorrente.value.id),console.log("Cuaa: ",this.fascicoloDettaglioService.fascicoloCorrente.value.cuaa),this.formService.validateForm(this.macchinaForm);var t=this.formService.getInvalids(this.macchinaForm);if(console.log("INVALID FIELDS....",t),zi.isEmpty(this.macchinaForm.get("numeroMatricola").value)&&zi.isEmpty(this.macchinaForm.get("numeroTelaio").value))return this.closeAllAccordion(),this.openAccordionByIndex(0),void this.errorService.showErrorWithMessage(p.a.MACCHINARI.telaioOrMatricolaObbligatorio,"tst-macchinario");if(!this.macchinaForm.valid)return this.closeAllAccordion(),this.openPanelsByField(t),void this.errorService.showErrorWithMessage(p.a.MACCHINARI.datiNonValidi,"tst-macchinario");if(!this.fileCaricato)return this.closeAllAccordion(),this.openAccordionByIndex(2),void this.errorService.showErrorWithMessage(p.a.MACCHINARI.documentoNonPresente,"tst-macchinario");if(this.macchinaForm.valid){var e=this.macchinaForm.value;this.EDIT_MODE&&(e.sottoTipologiaMacchinario=this.classificazioneMacchinarioVM.sottoTipologiaMacchinario);var a=this.dotazioneTecnicaBuilderService.toDettaglioMacchinaDto(e,this.idMacchina);this.postMacchinaSubscription=this.httpClientMediatorService.postMacchina(this.cuaa,a,this.allegato.file).subscribe((function(t){var e=i.fascicoloDettaglioService.fascicoloCorrente.value;e.stato!=w.c.IN_AGGIORNAMENTO&&(e.stato=w.c.IN_AGGIORNAMENTO,i.fascicoloDettaglioService.fascicoloCorrente.next(e)),i.messageService.add(p.a.getToast("tst-macchine",p.b.success,p.a.MACCHINARI.salvataggioOK)),i.macchinaForm.reset(),i.closeDialog(!0)}),(function(t){return i.errorService.showError(t,"tst-macchine")}))}else this.errorService.showErrorWithMessage(p.a.MACCHINARI.datiNonValidi,"tst-macchine")}},{key:"caricaAllegato",value:function(){document.getElementById("fileCaricato").click()}},{key:"onFileChange",value:function(i){if(this.fileCaricato=!1,i.target.files&&i.target.files.length){var t=i.target.files[0],e=new d.a(this.fileConfig.fileExt,this.fileConfig.maxSize);e.isValidFileExtension(t,de.a.FILE_ERRORS.EXT_PDF)&&e.isValidFileSize(t,de.a.FILE_ERRORS.SIZE)&&(this.fileCaricato=!0,this.allegato.file=t,this.allegato.name=t.name),this.showErrors(e.getErrors())}}},{key:"eliminaAllegato",value:function(i){this.fileCaricato=!1,this.allegato.file=null,this.allegato.name=null}},{key:"visualizzaAllegato",value:function(){var i=this;this.fileCaricato&&this.allegato&&null!=this.allegato.file?(URL.createObjectURL(this.allegato.file),we.saveAs(this.allegato.file,this.allegato.name)):this.getAllegatoSubscription=this.httpClientMacchineService.getAllegato(this.cuaa,this.idMacchina.toString(),this.idValidazione).subscribe((function(i){var t=URL.createObjectURL(i);window.open(t)}),(function(t){return i.errorService.showError(t,"tst-macchinario")}))}},{key:"enableMotore",value:function(i){i&&i.checked?(this.motoreDisabled=!1,this.enableMotoreForm(),this.closeAccordionByIndex(1)):(this.motoreDisabled=!0,this.disableMotoreForm())}},{key:"isTipologiaFromPra",value:function(i){return"MOTOAGRICOLE"===i||"TRATTRICI"===i||"RIMORCHI SUP. A 15 QLI"===i?(this.macchinaForm.get("targa").enable(),this.macchinaForm.get("targa").setValidators([u.G.required]),!0):(this.macchinaForm.get("targa").clearValidators(),this.macchinaForm.get("targa").disable(),!1)}},{key:"openPanelsByField",value:function(i){var t=this;i.forEach((function(e){var a=["tipologiaMacchinario","sottoTipologiaMacchinario","marcaMacchinario","modello","targa","numeroMatricola","numeroTelaio","annoCostruzione"];if(i.filter((function(i){return a.indexOf(i.name)>-1})).length)t.openAccordionByIndex(0);else{var o=["marcaMotore","tipo","alimentazione","potenza","matricolaMotore"];if(i.filter((function(i){return o.indexOf(i.name)>-1})).length)t.openAccordionByIndex(1);else{var c=["tipologiaPossesso"];i.filter((function(i){return c.indexOf(i.name)>-1})).length&&t.openAccordionByIndex(2)}}}))}},{key:"showErrors",value:function(i){var t=this;i&&i.length&&i.forEach((function(i){t.messageService.add(p.a.getToast("tst-macchinario",p.b.error,i))}))}},{key:"initForm",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.macchinaForm=new u.j({tipologiaMacchinario:new u.g({value:(null==i?void 0:i.tipologiaMacchinario)?i.tipologiaMacchinario.value:null,disabled:this.READONLY_MODE},[u.G.required]),sottoTipologiaMacchinario:new u.g({value:(null==i?void 0:i.sottoTipologiaMacchinario)?i.sottoTipologiaMacchinario.value:null,disabled:this.READONLY_MODE},[u.G.required]),classeFunzionaleMacchinario:new u.g({value:(null==i?void 0:i.classeFunzionaleMacchinario)?i.classeFunzionaleMacchinario.value:null,disabled:this.READONLY_MODE},[u.G.required]),marcaMacchinario:new u.g({value:i?i.marcaMacchinario:null,disabled:this.READONLY_MODE},[u.G.required]),targa:new u.g({value:i?i.targa:null,disabled:this.READONLY_MODE||!t},[u.G.required]),modello:new u.g({value:i?i.modello:null,disabled:this.READONLY_MODE},[u.G.required]),numeroMatricola:new u.g({value:i?i.numeroMatricola:null,disabled:this.READONLY_MODE}),numeroTelaio:new u.g({value:i?i.numeroTelaio:null,disabled:this.READONLY_MODE}),annoCostruzione:new u.g({value:i?i.annoCostruzione:this.currentYear,disabled:this.READONLY_MODE},[u.G.required]),switchMotore:new u.g({value:i?i.switchMotore:null,disabled:this.READONLY_MODE}),marcaMotore:new u.g({value:i&&i.marcaMotore?i.marcaMotore:null,disabled:this.READONLY_MODE}),tipo:new u.g({value:i&&i.tipo?i.tipo:null,disabled:this.READONLY_MODE}),alimentazione:new u.g({value:(null==i?void 0:i.alimentazione)?i.alimentazione.value:null,disabled:this.READONLY_MODE}),potenza:new u.g({value:(null==i?void 0:i.potenza)?i.potenza:null,disabled:this.READONLY_MODE}),matricolaMotore:new u.g({value:(null==i?void 0:i.matricolaMotore)?i.matricolaMotore:null,disabled:this.READONLY_MODE}),tipologiaPossesso:new u.g({value:(null==i?void 0:i.tipologiaPossesso)?i.tipologiaPossesso.value:null,disabled:this.READONLY_MODE},[u.G.required])})}},{key:"disableMotoreForm",value:function(){this.macchinaForm.get("marcaMotore").disable(),this.macchinaForm.get("tipo").disable(),this.macchinaForm.get("alimentazione").disable(),this.macchinaForm.get("potenza").disable(),this.macchinaForm.get("matricolaMotore").disable(),this.resetMotore(),this.disableValidatorsMotoreForm()}},{key:"resetMotore",value:function(){this.macchinaForm.get("marcaMotore").reset(),this.macchinaForm.get("tipo").reset(),this.macchinaForm.get("alimentazione").reset(),this.macchinaForm.get("potenza").reset(),this.macchinaForm.get("matricolaMotore").reset()}},{key:"disableValidatorsMotoreForm",value:function(){this.macchinaForm.get("marcaMotore").setValidators([]),this.macchinaForm.get("tipo").setValidators([]),this.macchinaForm.get("alimentazione").setValidators([]),this.macchinaForm.get("potenza").setValidators([]),this.macchinaForm.get("matricolaMotore").setValidators([])}},{key:"enableMotoreForm",value:function(){this.macchinaForm.get("marcaMotore").enable(),this.macchinaForm.get("tipo").enable(),this.macchinaForm.get("alimentazione").enable(),this.macchinaForm.get("potenza").enable(),this.macchinaForm.get("matricolaMotore").enable(),this.enableValidatorsMotoreForm()}},{key:"enableValidatorsMotoreForm",value:function(){this.macchinaForm.get("alimentazione").setValidators([u.G.required])}},{key:"enableForm",value:function(i){this.macchinaForm.get("marcaMacchinario").enable(),this.macchinaForm.get("modello").enable(),this.macchinaForm.get("numeroMatricola").enable(),this.macchinaForm.get("numeroTelaio").enable(),this.macchinaForm.get("annoCostruzione").enable(),(null==i?void 0:i.alimentazione)&&this.enableMotoreForm(),this.macchinaForm.get("tipologiaPossesso").enable()}},{key:"disableForm",value:function(){this.macchinaForm.get("marcaMacchinario").disable(),this.macchinaForm.get("modello").disable(),this.macchinaForm.get("numeroMatricola").disable(),this.macchinaForm.get("numeroTelaio").disable(),this.macchinaForm.get("annoCostruzione").disable(),this.disableMotoreForm(),this.macchinaForm.get("tipologiaPossesso").disable()}},{key:"closeAllAccordion",value:function(){this.accordion.tabs.forEach((function(i,t){i.selected=!1}))}},{key:"openAllAccordion",value:function(){this.accordion.tabs.forEach((function(i,t){i.disabled||(i.selected=!0)}))}},{key:"openAccordionByIndex",value:function(i){this.accordion.tabs.forEach((function(t,e){t.disabled||e!=i||(t.selected=!0)}))}},{key:"closeAccordionByIndex",value:function(i){this.accordion.tabs.forEach((function(t,e){e==i&&(t.selected=!1)}))}}]),i}()).\u0275fac=function(i){return new(i||ya)(l.Nb(xe.a),l.Nb(Ge.a),l.Nb(m.d),l.Nb(ue.a),l.Nb(Re.a),l.Nb(re.a),l.Nb(Ve.a),l.Nb(Ue.a),l.Nb(k.a),l.Nb(qe.a),l.Nb(Ni.a))},ya.\u0275cmp=l.Hb({type:ya,selectors:[["app-popup-nuova-macchina"]],viewQuery:function(i,t){var e;1&i&&(l.Uc(He,!0),l.Uc(Ke,!0),l.Uc(We,!0)),2&i&&(l.Ac(e=l.cc())&&(t.dialog=e.first),l.Ac(e=l.cc())&&(t.file=e.first),l.Ac(e=l.cc())&&(t.accordion=e.first))},outputs:{onHideDialog:"onHideDialog"},decls:25,vars:24,consts:[["id","popup-nuova-macchina","header","Macchina","position","center","styleClass","large-dialog",3,"visible","focusOnShow","modal","closable","closeOnEscape","blockScroll","contentStyle","dismissableMask","visibleChange"],["dialogNuovaMacchina",""],["key","tst-macchinario"],["novalidate","",1,"p-grid","h-100",3,"formGroup","ngSubmit"],[1,"p-col-12","p-col-align-start","ui-fluid"],[1,"p-grid"],[1,"w-100",3,"onOpen"],["accordion",""],[1,"accordion-wrapper","dettaglioaccordionmultiple","px-2","boxgrey"],["cache","false","header","MEZZO AGRICOLO"],["pTemplate","content"],["cache","false","header","MOTORE",3,"disabled"],["cache","false","header","POSSESSO"],[1,"p-col-12","p-col-align-end","ui-fluid"],[1,"p-grid","mt-2","p-justify-between"],["pButton","","type","button","label","Annulla",1,"ui-button-secondary","ui-button-text-only","p-1","text-lowercase","font-weight-normal","shadow-none","w-5m",3,"click"],["pButton","","type","submit","label","Salva Macchina",1,"ui-button-text-only","p-1","text-uppercase","font-weight-normal","shadow-none","w-10m",3,"disabled"],[1,"p-grid","align-self-center"],[1,"p-col-4"],["for","tipologia-macchinario"],["id","tipologia-macchinario","formControlName","tipologiaMacchinario",3,"options","onChange"],[4,"ngIf"],["for","classe-funzionale-macchinario"],["id","classe-funzionale-macchinario","formControlName","classeFunzionaleMacchinario",3,"options","onChange"],["for","sotto-tipologia-macchinario"],["id","sotto-tipologia-macchinario","formControlName","sottoTipologiaMacchinario",3,"options","onChange"],["for","marca-input"],["id","marca-input","type","text","pInputText","","formControlName","marcaMacchinario",3,"maxlength"],["for","modello-input"],["id","modello-input","type","text","pInputText","","formControlName","modello",3,"maxlength"],["class","p-col-4",4,"ngIf"],["for","numero-matricola-input"],["id","numero-matricola-input","type","text","pInputText","","formControlName","numeroMatricola",1,"text-right",3,"maxlength"],["for","numero-telaio-input"],["id","numero-telaio-input","type","text","pInputText","","formControlName","numeroTelaio",1,"text-right",3,"maxlength"],["formControlName","annoCostruzione",3,"min","max"],["class","p-col-12",4,"ngIf"],[1,"p-col"],["class","font-12","severity","error","text","Campo Obbligatorio",4,"ngIf"],["severity","error","text","Campo Obbligatorio",1,"font-12"],["for","targa-input"],["id","targa-input","type","text","pInputText","","formControlName","targa",1,"text-right",3,"maxlength"],[1,"p-col-12"],["for","switch-motore"],["id","switch-motore","formControlName","switchMotore",1,"px-4",3,"onChange"],[1,"p-col-6"],["for","marca-motre-input"],["id","marca-motore-input","type","text","pInputText","","formControlName","marcaMotore",3,"maxlength"],["for","tipo-input"],["id","tipo-input","type","text","pInputText","","formControlName","tipo",3,"maxlength"],["for","alimentazione"],["id","alimentazione","formControlName","alimentazione",3,"options","onChange"],["for","potenza-input"],["id","potenza-input","pattern","^([0-9]+\\.?[0-9]*)$","type","text","pInputText","","formControlName","potenza",1,"text-right",3,"maxlength"],["id","numero-telaio-input","type","text","pInputText","","formControlName","matricolaMotore",1,"text-right",3,"maxlength"],["class","font-12","severity","error","text","Formato non valido",4,"ngIf"],["severity","error","text","Formato non valido",1,"font-12"],[1,"p-grid","m-0","p-justify-between","p-align-end"],[1,"p-col-6","p-0"],["for","tipo-possesso-input",1,"pr-0_5m"],["id","tipo-possesso-input","formControlName","tipologiaPossesso",3,"options","onChange"],["class","p-col-3 p-0",4,"ngIf"],["class","p-col p-0 pl-4",4,"ngIf"],[1,"p-col-3","p-0"],["pButton","","type","button","icon","pi pi-attachment","iconPos","right","label","CARICA DOCUMENTO",1,"w-10m","ui-button-secondary","ui-button-text","button-accent-alt",3,"click"],["type","file","id","fileCaricato","name","fileCaricato","onclick","this.value = null",1,"inputUploadFile",2,"display","none",3,"accept","change"],["fileCaricato",""],[1,"p-col","p-0","pl-4"],[1,"p-grid","m-0","p-align-center","p-justify-between","border-bottom","border-top"],["target","_blank",1,"cursor-pointer","p-col",3,"click"],["class","p-col-fixed",4,"ngIf"],[1,"p-col-fixed"],["src","assets/img/ico-x.jpg",1,"cursor-pointer",3,"click"]],template:function(i,t){1&i&&(l.Tb(0,"p-dialog",0,1),l.bc("visibleChange",(function(i){return t.display=i})),l.Ob(2,"p-toast",2),l.Tb(3,"form",3),l.bc("ngSubmit",(function(){return t.onSubmit()})),l.Tb(4,"div",4),l.Tb(5,"div",5),l.Tb(6,"p-accordion",6,7),l.bc("onOpen",(function(i){return t.onSelectAccordion(i)})),l.Tb(8,"div",8),l.Tb(9,"p-accordionTab",9),l.Mc(10,ma,44,17,"ng-template",10),l.Sb(),l.Sb(),l.Tb(11,"div",8),l.Tb(12,"p-accordionTab",11),l.Mc(13,Sa,23,7,"ng-template",10),l.Sb(),l.Sb(),l.Tb(14,"div",8),l.Tb(15,"p-accordionTab",12),l.Mc(16,Ma,10,4,"ng-template",10),l.Sb(),l.Sb(),l.Sb(),l.Ob(17,"br"),l.Sb(),l.Sb(),l.Tb(18,"div",13),l.Tb(19,"p-footer"),l.Tb(20,"div",14),l.Tb(21,"div"),l.Tb(22,"button",15),l.bc("click",(function(){return t.annulla()})),l.Sb(),l.Sb(),l.Tb(23,"div"),l.Ob(24,"button",16),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&i&&(l.Kc(l.rc(21,za)),l.Db(t.idValidazione?"title-grey":""),l.mc("visible",t.display)("focusOnShow",!1)("modal",!0)("closable",!1)("closeOnEscape",!0)("blockScroll",!0)("contentStyle",l.rc(22,Ea))("dismissableMask",!0),l.Bb(2),l.Kc(l.rc(23,Da)),l.Bb(1),l.mc("formGroup",t.macchinaForm),l.Bb(3),l.Db(t.idValidazione?"accordion-grey":""),l.Bb(6),l.mc("disabled",t.motoreDisabled),l.Bb(12),l.Db(t.idValidazione?"button-custom-grey":""),l.mc("disabled",t.READONLY_MODE))},directives:[h.a,f.a,u.I,u.t,u.k,v.a,v.c,m.e,m.b,T.b,S.a,u.s,u.i,r.t,u.c,bi.a,u.n,$e.a,ui.b,Ye.a,u.z],styles:["[_nghost-%COMP%]     .ui-dialog{max-height:100%}[_nghost-%COMP%]     .ui-dialog .ui-dialog-content{height:100%}[_nghost-%COMP%]   p-dropdown[_ngcontent-%COMP%] >   .ui-dropdown label.ui-dropdown-label{height:100%;font-weight:400!important}[_nghost-%COMP%]     input.ui-inputtext.ui-spinner-input:disabled, [_nghost-%COMP%]   input.ui-inputtext[_ngcontent-%COMP%]:disabled{border-bottom:1px dotted;opacity:.9;background:#e8f5e9}[_nghost-%COMP%]     .ui-dropdown.ui-state-disabled .ui-dropdown-label-container>.ui-dropdown-label.ui-inputtext{border-bottom:1px dotted;opacity:.9;background:#b1ddb5}[_nghost-%COMP%]   .cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   .button-accent-alt[_ngcontent-%COMP%]{border:2px solid #01985a;color:#01985a!important;font-weight:700}[_nghost-%COMP%]   .button-accent-alt[_ngcontent-%COMP%] >   span.ui-button-icon-right.pi{color:#01985a!important;font-size:x-large!important}[_nghost-%COMP%]   .no-wrap[_ngcontent-%COMP%]{white-space:nowrap}[_nghost-%COMP%]   .pr-0_5m[_ngcontent-%COMP%]{padding-right:.5em}[_nghost-%COMP%]   .h-90[_ngcontent-%COMP%]{height:90%}[_nghost-%COMP%]   .button-custom-grey[_ngcontent-%COMP%]{background-color:#9b9b9b!important}[_nghost-%COMP%]   .title-grey[_ngcontent-%COMP%]     .ui-dialog .ui-dialog-titlebar .ui-dialog-title{color:#9b9b9b!important}[_nghost-%COMP%]     .ui-accordion .ui-accordion-header{border-top:3px solid green}[_nghost-%COMP%]     .ui-accordion .ui-accordion-header>a{text-decoration:none;vertical-align:center;color:#000;background-color:#fff;border:1}[_nghost-%COMP%]     .ui-accordion .ui-icon{color:#000}[_nghost-%COMP%]     .ui-accordion .ui-accordion-content{width:100%;color:#000;background-color:hsla(0,0%,100%,.144);border-block-color:#000}[_nghost-%COMP%]     .ui-accordion-header.ui-icon>a{color:#000;background-color:#fff}[_nghost-%COMP%]     .ui-accordion .ui-accordion-content{border:1}[_nghost-%COMP%]     .ui-accordion .ui-accordion-header>a .ui-accordion-toggle-icon{color:#0d5f3f;float:right}[_nghost-%COMP%]     .ui-accordion .ui-accordion-header>a .ui-accordion-header-text{color:#0d5f3f;border-bottom:solid;font-size:24px;font-weight:700;display:inline-block;padding-bottom:5px}"]}),ya),Na=e("Pgx+"),Pa=["popupNuovaMacchina"];function _a(i,t){1&i&&l.Ob(0,"th",25)}function La(i,t){if(1&i&&(l.Tb(0,"th",26),l.Tb(1,"strong"),l.Oc(2),l.Sb(),l.Ob(3,"p-sortIcon",27),l.Sb()),2&i){var e=t.$implicit;l.mc("pSortableColumn",e.field)("pSortableColumnDisabled",null==e.field),l.Bb(2),l.Pc(e.header),l.Bb(1),l.mc("field",e.field)}}function ka(i,t){if(1&i&&(l.Tb(0,"tr"),l.Mc(1,_a,1,0,"th",22),l.Mc(2,La,4,4,"th",23),l.Tb(3,"th",24),l.Tb(4,"strong"),l.Oc(5,"Azioni"),l.Sb(),l.Sb(),l.Sb()),2&i){var e=t.$implicit,a=l.fc();l.Bb(1),l.mc("ngIf",!a.readonly),l.Bb(1),l.mc("ngForOf",e)}}function Ra(i,t){if(1&i){var e=l.Ub();l.Tb(0,"td",24),l.Tb(1,"button",30),l.bc("click",(function(){l.Ec(e);var i=l.fc().$implicit;return l.fc().deleteMacchina(i.id)})),l.Sb(),l.Sb()}if(2&i){var a=l.fc(2);l.Bb(1),l.Db(a.isFascicoloAttuale()?"":"button-custom-grey")}}function wa(i,t){if(1&i){var e=l.Ub();l.Tb(0,"tr"),l.Mc(1,Ra,2,2,"td",28),l.Tb(2,"td"),l.Oc(3),l.gc(4,"replaceWithSpaceBy"),l.Sb(),l.Tb(5,"td"),l.Oc(6),l.Sb(),l.Tb(7,"td"),l.Oc(8),l.Sb(),l.Tb(9,"td"),l.Oc(10),l.Sb(),l.Tb(11,"td",24),l.Tb(12,"button",29),l.bc("click",(function(){l.Ec(e);var i=t.$implicit;return l.fc().dettaglioMacchina(i.id)})),l.Sb(),l.Sb(),l.Sb()}if(2&i){var a=t.$implicit,o=l.fc();l.Bb(1),l.mc("ngIf",!o.readonly),l.Bb(2),l.Pc(l.ic(4,7,a.tipologia,"_")),l.Bb(3),l.Pc(a.modello),l.Bb(2),l.Pc(a.targa),l.Bb(2),l.Pc(a.alimentazione),l.Bb(2),l.Db(o.isFascicoloAttuale()?"":"button-custom-grey")}}function xa(i,t){if(1&i&&(l.Tb(0,"tr"),l.Tb(1,"td"),l.Oc(2,"Nessun contenuto disponibile"),l.Sb(),l.Sb()),2&i){var e=t.$implicit;l.Bb(1),l.Cb("colspan",e.length+2)}}var Ga,Va=function(){return{marginTop:"70px"}},Ua=((Ga=function(){function i(t,e,a,o,c,n,r){_classCallCheck(this,i),this.fascicoloDettaglioService=t,this.errorService=e,this.httpClientMacchineService=a,this.dotazioneTecnicaBuilderService=o,this.httpClientMediatorService=c,this.messageService=n,this.route=r}return _createClass(i,[{key:"ngOnInit",value:function(){this.idValidazione=this.route.snapshot.queryParams["id-validazione"];var i=this.fascicoloDettaglioService.fascicoloCorrente.value.stato;this.readonly=i!=w.c.VALIDATO&&i!=w.c.IN_AGGIORNAMENTO||null!=this.idValidazione,this.listaMacchine=[],this.setCols(),this.getMacchine(this.idValidazione?this.idValidazione:null)}},{key:"ngOnDestroy",value:function(){this.macchineSubscription&&this.macchineSubscription.unsubscribe(),this.deleteMacchinaByIdSubscription&&this.deleteMacchinaByIdSubscription.unsubscribe(),this.getMacchineSubscription&&this.getMacchineSubscription.unsubscribe(),this.getMacchinaByIdSubscription&&this.getMacchinaByIdSubscription.unsubscribe()}},{key:"aggiungiMacchina",value:function(){this.popupNuovaMacchina.open(!1,this.getCuaa())}},{key:"goBack",value:function(){this.fascicoloDettaglioService.mostraDettaglioSezione.next(R.a.DATI)}},{key:"deleteMacchina",value:function(i){var t=this;console.log("Cancello macchina id: "+i.toString()),this.deleteMacchinaByIdSubscription=this.httpClientMediatorService.deleteMacchinaById(this.getCuaa(),i.toString()).pipe(Object(Di.a)((function(i){var e=t.fascicoloDettaglioService.fascicoloCorrente.value;return e.stato!=w.c.IN_AGGIORNAMENTO&&(e.stato=w.c.IN_AGGIORNAMENTO,t.fascicoloDettaglioService.fascicoloCorrente.next(e)),t.messageService.add(p.a.getToast("tst-macchine",p.b.success,"La macchina \xe8 stata eliminata dal sistema!")),t.httpClientMacchineService.getMacchine(t.getCuaa())})),Object(Y.a)((function(i){return t.errorService.showError(i,"tst-macchine"),Z.a}))).subscribe((function(i){t.listaMacchine=i&&i.length?i:[]}),(function(i){return t.errorService.showError(i,"tst-macchine")}))}},{key:"onCloseDialog",value:function(i){i&&this.getMacchine()}},{key:"isFascicoloAttuale",value:function(){return this.fascicoloDettaglioService.fascicoloCorrente&&null==this.idValidazione}},{key:"dettaglioMacchina",value:function(i){var t=this;this.getMacchinaByIdSubscription=this.httpClientMacchineService.getMacchinaById(this.getCuaa(),i.toString(),this.idValidazione?this.idValidazione:null).subscribe((function(i){var e=t.dotazioneTecnicaBuilderService.toDettaglioMacchinaVM(i);t.popupNuovaMacchina.open(t.readonly,t.getCuaa(),e,t.idValidazione?t.idValidazione:null)}),(function(i){return t.errorService.showError(i,"tst-macchine")}))}},{key:"setCols",value:function(){this.cols=[{field:"tipologia",header:"Tipologia mezzo"},{field:"modello",header:"Modello"},{field:"targa",header:"Targa"},{field:"alimentazione",header:"Alimentazione"}]}},{key:"getMacchine",value:function(i){var t=this;this.getMacchineSubscription=this.httpClientMacchineService.getMacchine(this.getCuaa(),i).subscribe((function(i){i&&i.length?(t.listaMacchine=[],i.forEach((function(i){i.tipologia=i.tipologia,t.listaMacchine.push(i)}))):t.listaMacchine=[]}),(function(i){return t.errorService.showError(i,"tst-macchine")}))}},{key:"getCuaa",value:function(){var i,t;return null===(t=null===(i=this.fascicoloDettaglioService.fascicoloCorrente)||void 0===i?void 0:i.value)||void 0===t?void 0:t.cuaa}}]),i}()).\u0275fac=function(i){return new(i||Ga)(l.Nb(k.a),l.Nb(re.a),l.Nb(qe.a),l.Nb(Ve.a),l.Nb(Ni.a),l.Nb(m.d),l.Nb(x.a))},Ga.\u0275cmp=l.Hb({type:Ga,selectors:[["app-macchine"]],viewQuery:function(i,t){var e;1&i&&l.Uc(Pa,!0),2&i&&l.Ac(e=l.cc())&&(t.popupNuovaMacchina=e.first)},decls:25,vars:18,consts:[[3,"onHideDialog"],["popupNuovaMacchina",""],["key","tst-macchine"],[1,"ui-grid-fixed","boxgrey"],[1,"funzioni-grid","boxgrey"],[1,"p-grid","m-0"],[1,"p-col","p-0"],[1,"d-flex","align-items-center","text-decoration-none","color-primary",3,"routerLink","click"],[1,"pi","pi-chevron-left",2,"font-size","2rem","color","black"],["src","assets/img/ico-dotazione.jpg"],[1,"ml-2"],[1,"p-col","w-100","p-0"],[1,"p-col-fixed","p-0"],["pButton","","icon","pi pi-plus-circle","iconPos","right","type","button","label","AGGIUNGI",1,"w-10m","button-large-icon",3,"disabled","click"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],["expandIcon","","collapseIcon",""],["header","MACCHINE",3,"selected"],["dataKey","identificativo",3,"columns","value","autoLayout","paginator"],["tableUnita",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","text-center","style","width: 3em",4,"ngIf"],["class","text-center",3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[1,"text-center"],[1,"text-center",2,"width","3em"],[1,"text-center",3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"],["class","text-center",4,"ngIf"],["pButton","","type","button","icon","pi pi-arrow-right",1,"icon-button-rect",3,"click"],["pButton","","type","button","icon","pi pi-times-circle",1,"icon-button-circle",3,"click"]],template:function(i,t){1&i&&(l.Tb(0,"app-popup-nuova-macchina",0,1),l.bc("onHideDialog",(function(i){return t.onCloseDialog(i)})),l.Sb(),l.Ob(2,"p-toast",2),l.Tb(3,"div",3),l.Tb(4,"div",4),l.Tb(5,"div",5),l.Tb(6,"div",6),l.Tb(7,"a",7),l.bc("click",(function(){return t.goBack()})),l.Ob(8,"i",8),l.Ob(9,"img",9),l.Tb(10,"span",10),l.Oc(11),l.gc(12,"translate"),l.Sb(),l.Sb(),l.Sb(),l.Ob(13,"div",11),l.Tb(14,"div",12),l.Tb(15,"button",13),l.bc("click",(function(){return t.aggiungiMacchina()})),l.Sb(),l.Sb(),l.Sb(),l.Ob(16,"br"),l.Tb(17,"div",14),l.Tb(18,"p-accordion",15),l.Tb(19,"p-accordionTab",16),l.Tb(20,"p-table",17,18),l.Mc(22,ka,6,2,"ng-template",19),l.Mc(23,wa,13,10,"ng-template",20),l.Mc(24,xa,3,1,"ng-template",21),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&i&&(l.Bb(2),l.Kc(l.rc(17,Va)),l.Bb(8),l.Db(t.isFascicoloAttuale()?"":"back-grey"),l.Bb(1),l.Qc(" ",l.hc(12,15,"FascicoloAziendale.DOTAZIONE_TECNICA")," "),l.Bb(4),l.Db(t.isFascicoloAttuale()?"":"button-custom-grey"),l.mc("disabled",t.readonly),l.Bb(4),l.Db(t.isFascicoloAttuale()?"":"title-grey"),l.mc("selected",!0),l.Bb(1),l.mc("columns",t.cols)("value",t.listaMacchine)("autoLayout",!0)("paginator",!1))},directives:[Ba,f.a,x.h,T.b,v.a,v.c,K.q,m.e,r.t,r.s,K.p,K.o],pipes:[g.d,Na.a],styles:["[_nghost-%COMP%]   .w-10m[_ngcontent-%COMP%]{width:10em}[_nghost-%COMP%]   .button-large-icon[_ngcontent-%COMP%] >   span.pi{font-size:x-large}[_nghost-%COMP%]   .icon-button-rect[_ngcontent-%COMP%]{background-color:#4caf50!important;border-radius:unset;height:5em!important;width:13em!important;opacity:1}[_nghost-%COMP%]   .icon-button-rect[_ngcontent-%COMP%]:disabled{opacity:.35;background-image:none;cursor:auto!important}[_nghost-%COMP%]   .icon-button-rect[_ngcontent-%COMP%]:hover{background-color:#388e3c!important}[_nghost-%COMP%]   .icon-button-rect[_ngcontent-%COMP%] >   span.ui-button-icon-left{font-size:2.5em}[_nghost-%COMP%]   .icon-button-circle[_ngcontent-%COMP%]{background-color:transparent!important;opacity:1;width:3em!important;height:3em!important}[_nghost-%COMP%]   .icon-button-circle[_ngcontent-%COMP%] >   span.ui-button-icon-left{background:#a9a9a9!important}[_nghost-%COMP%]   .icon-button-circle[_ngcontent-%COMP%] >   span.ui-button-icon-left:hover{background-color:#d3d3d3!important}[_nghost-%COMP%]   .icon-button-circle[_ngcontent-%COMP%]:disabled{opacity:.35;background-image:none;cursor:auto!important}[_nghost-%COMP%]   .icon-button-circle[_ngcontent-%COMP%] >   span.pi{font-size:x-large!important;background:#9ccc65}[_nghost-%COMP%]   .button-custom-grey[_ngcontent-%COMP%]{background-color:#9b9b9b!important}[_nghost-%COMP%]   .back-grey[_ngcontent-%COMP%], [_nghost-%COMP%]   .title-grey[_ngcontent-%COMP%]     .ui-accordion-header>a .ui-accordion-header-text{color:#9b9b9b!important}"]}),Ga),qa=function i(){_classCallCheck(this,i)};function Qa(i,t){if(1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i){var e=l.fc();l.Bb(1),l.Qc(" ",e.macchinario.classe&&e.macchinario.classe.tipologia?e.macchinario.classe.tipologia:"ND"," ")}}function ja(i,t){if(1&i&&(l.Tb(0,"div"),l.Ob(1,"p-dropdown",17),l.Sb()),2&i){var e=l.fc();l.Bb(1),l.mc("options",e.tipologiaOptions)}}function Za(i,t){if(1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i){var e=l.fc();l.Bb(1),l.Qc(" ",e.macchinario.descrizione?e.macchinario.descrizione:"ND"," ")}}function $a(i,t){1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i&&(l.Bb(1),l.Pc("Campo Obbligatorio"))}function Ya(i,t){if(1&i&&(l.Tb(0,"div",21),l.Mc(1,$a,2,1,"div",15),l.Sb()),2&i){var e=l.fc(2);l.Bb(1),l.mc("ngIf",e.modificaMacchina.controls.modelloMacchina.errors.required)}}function Ha(i,t){if(1&i&&(l.Tb(0,"div"),l.Tb(1,"span",18),l.Ob(2,"input",19),l.Sb(),l.Mc(3,Ya,2,1,"div",20),l.Sb()),2&i){var e=l.fc();l.Bb(2),l.mc("formControl",e.modificaMacchina.controls.modelloMacchina),l.Bb(1),l.mc("ngIf",e.modificaMacchina.controls.modelloMacchina.invalid&&(e.modificaMacchina.controls.modelloMacchina.dirty||e.modificaMacchina.controls.modelloMacchina.touched))}}function Ka(i,t){if(1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i){var e=l.fc();l.Bb(1),l.Qc(" ",e.macchinario.targa?e.macchinario.targa:"ND"," ")}}function Wa(i,t){1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i&&(l.Bb(1),l.Pc("Campo Obbligatorio"))}function Xa(i,t){if(1&i&&(l.Tb(0,"div",21),l.Mc(1,Wa,2,1,"div",15),l.Sb()),2&i){var e=l.fc(2);l.Bb(1),l.mc("ngIf",e.modificaMacchina.controls.targaMacchina.errors.required)}}function Ja(i,t){if(1&i&&(l.Tb(0,"div"),l.Tb(1,"span",18),l.Ob(2,"input",22),l.Sb(),l.Mc(3,Xa,2,1,"div",20),l.Sb()),2&i){var e=l.fc();l.Bb(2),l.mc("formControl",e.modificaMacchina.controls.targaMacchina),l.Bb(1),l.mc("ngIf",e.modificaMacchina.controls.targaMacchina.invalid&&(e.modificaMacchina.controls.targaMacchina.dirty||e.modificaMacchina.controls.targaMacchina.touched))}}function io(i,t){if(1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i){var e=l.fc();l.Bb(1),l.Qc(" ",e.macchinario.alimentazione&&e.macchinario.alimentazione.alimentazione?e.macchinario.alimentazione.alimentazione:"ND"," ")}}function to(i,t){if(1&i&&(l.Tb(0,"div"),l.Ob(1,"p-dropdown",23),l.Sb()),2&i){var e=l.fc();l.Bb(1),l.mc("options",e.alimentazioneOptions)}}function eo(i,t){if(1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i){var e=l.fc();l.Bb(1),l.Qc(" ",e.macchinario.possesso?e.macchinario.possesso:"ND"," ")}}function ao(i,t){1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i&&(l.Bb(1),l.Pc("Campo Obbligatorio"))}function oo(i,t){if(1&i&&(l.Tb(0,"div",21),l.Mc(1,ao,2,1,"div",15),l.Sb()),2&i){var e=l.fc(2);l.Bb(1),l.mc("ngIf",e.modificaMacchina.controls.possessoMacchina.errors.required)}}function co(i,t){if(1&i&&(l.Tb(0,"div"),l.Tb(1,"span",18),l.Ob(2,"input",24),l.Sb(),l.Mc(3,oo,2,1,"div",20),l.Sb()),2&i){var e=l.fc();l.Bb(2),l.mc("formControl",e.modificaMacchina.controls.possessoMacchina),l.Bb(1),l.mc("ngIf",e.modificaMacchina.controls.possessoMacchina.invalid&&(e.modificaMacchina.controls.possessoMacchina.dirty||e.modificaMacchina.controls.possessoMacchina.touched))}}function no(i,t){if(1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i){var e=l.fc();l.Bb(1),l.Qc(" ",e.macchinario.marca?e.macchinario.marca:"ND"," ")}}function ro(i,t){1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i&&(l.Bb(1),l.Pc("Campo Obbligatorio"))}function lo(i,t){if(1&i&&(l.Tb(0,"div",21),l.Mc(1,ro,2,1,"div",15),l.Sb()),2&i){var e=l.fc(2);l.Bb(1),l.mc("ngIf",e.modificaMacchina.controls.marcaMacchina.errors.required)}}function so(i,t){if(1&i&&(l.Tb(0,"div"),l.Tb(1,"span",18),l.Ob(2,"input",25),l.Sb(),l.Mc(3,lo,2,1,"div",20),l.Sb()),2&i){var e=l.fc();l.Bb(2),l.mc("formControl",e.modificaMacchina.controls.marcaMacchina),l.Bb(1),l.mc("ngIf",e.modificaMacchina.controls.marcaMacchina.invalid&&(e.modificaMacchina.controls.marcaMacchina.dirty||e.modificaMacchina.controls.marcaMacchina.touched))}}function bo(i,t){if(1&i&&(l.Tb(0,"div"),l.Oc(1),l.gc(2,"date"),l.Sb()),2&i){var e=l.fc();l.Bb(1),l.Qc(" ",e.macchinario.dataIscrizione?l.ic(2,1,e.macchinario.dataIscrizione,"dd/MM/yyyy"):"ND"," ")}}function uo(i,t){1&i&&(l.Tb(0,"div"),l.Oc(1),l.gc(2,"translate"),l.Sb()),2&i&&(l.Bb(1),l.Qc(" ",l.hc(2,1,"ANTIMAFIA.CAMPO_OBBLIGATORIO")," "))}function po(i,t){if(1&i&&(l.Tb(0,"div",21),l.Mc(1,uo,3,3,"div",15),l.Sb()),2&i){var e=l.fc(2);l.Bb(1),l.mc("ngIf",e.modificaMacchina.controls.dataIscrizione.errors.required)}}function mo(i,t){if(1&i&&(l.Tb(0,"div"),l.Ob(1,"p-calendar",26),l.Mc(2,po,2,1,"div",20),l.Sb()),2&i){var e=l.fc();l.Bb(1),l.mc("locale",e.language)("formControl",e.modificaMacchina.controls.dataIscrizione),l.Bb(1),l.mc("ngIf",e.modificaMacchina.controls.dataIscrizione.invalid&&(e.modificaMacchina.controls.dataIscrizione.dirty||e.modificaMacchina.controls.dataIscrizione.touched))}}function go(i,t){if(1&i){var e=l.Ub();l.Tb(0,"div"),l.Ob(1,"br"),l.Tb(2,"div",27),l.Ob(3,"div",28),l.Tb(4,"div",29),l.Tb(5,"p",11),l.Tb(6,"button",30),l.bc("click",(function(){return l.Ec(e),l.fc().annullaModifica()})),l.Sb(),l.Sb(),l.Sb(),l.Tb(7,"div",29),l.Tb(8,"p",11),l.Ob(9,"button",31),l.Sb(),l.Sb(),l.Sb(),l.Sb()}if(2&i){var a=l.fc();l.Bb(6),l.mc("disabled",!a.modificaAttiva),l.Bb(3),l.mc("disabled",!a.modificaAttiva)}}var fo,ho,vo=function(){return{marginTop:"70px"}},To=((ho=function(){function i(t,e,a,o,c){_classCallCheck(this,i),this.fb=t,this.route=e,this.fascicoloDettaglioService=a,this.messageService=o,this.router=c,this.cuaa="",this.idMacchina="",this.modificaAttiva=!1,this.language=si.a.itCalendar()}return _createClass(i,[{key:"ngOnInit",value:function(){this.modificaAttiva=!1,this.cuaa=this.route.snapshot.paramMap.get("cuaa"),this.idMacchina=this.route.snapshot.paramMap.get("idMacchina"),this.getMacchina(this.idMacchina),this.initValue(),this.initForm()}},{key:"ngOnDestroy",value:function(){this.macchineSubscription&&this.macchineSubscription.unsubscribe()}},{key:"initValue",value:function(){this.alimentazioneOptions=[{id:"BENZ",alimentazione:"BENZINA"},{id:"GASOL",alimentazione:"GASOLIO"},{id:"ELETTR",alimentazione:"ELETTRICO"},{id:"GPL",alimentazione:"GPL"},{id:"METANO",alimentazione:"METANO"},{id:"IBRIDO",alimentazione:"IBRIDO"},{id:"B/ETA",alimentazione:"BENZINA / ETANOLO"},{id:"B/GPL",alimentazione:"BENZINA / GPL"},{id:"B/MET",alimentazione:"BENZINA / METANO"},{id:"B/OLIO",alimentazione:"BENZINA / OLIO"},{id:"B/WANK",alimentazione:"BENZINA / WANKEL"},{id:"G - GPL",alimentazione:"GPL G"},{id:"G - MET",alimentazione:"METANO G"},{id:"GNL",alimentazione:"GAS NATURALE LIQUEFATTO"},{id:"MISCELA",alimentazione:"MISCELA"},{id:"PETROLIO",alimentazione:"PETROLIO"}],this.tipologiaOptions=[{id:"1",tipologia:"TRATTRICI"},{id:"2",tipologia:"RIMORCHI SUP. A 15 QLI"},{id:"3",tipologia:"MOTOFALCIATRICI"},{id:"4",tipologia:"TIPOLOGIA 4"},{id:"5",tipologia:"TIPOLOGIA 5"},{id:"6",tipologia:"TIPOLOGIA 6"},{id:"7",tipologia:"TIPOLOGIA 7"},{id:"99",tipologia:"ALTRE MACCHINE"}]}},{key:"initForm",value:function(){this.modificaMacchina=this.fb.group({alimentazioneMacchina:[this.macchinario.alimentazione,u.G.required],modelloMacchina:[this.macchinario.descrizione,u.G.required],tipologiaMacchina:[this.macchinario.classe,u.G.required],targaMacchina:[this.macchinario.targa,u.G.required],possessoMacchina:[this.macchinario.possesso,u.G.required],marcaMacchina:[this.macchinario.marca,u.G.required],dataIscrizione:[this.macchinario.dataIscrizione,u.G.required]})}},{key:"handleClick",value:function(){this.fascicoloDettaglioService.mostraDettaglioSezione.next(R.a.LISTA_MACCHINARI)}},{key:"getMacchina",value:function(i){this.initDati()}},{key:"initDati",value:function(){this.macchinario=new qa,this.macchinario.idAgs=Number(this.idMacchina),this.macchinario.descrizione="FiatAgri G210",this.macchinario.targa="XX00000",this.macchinario.classe={id:"1",tipologia:"TRATTRICI"},this.macchinario.marca="Fiat",this.macchinario.alimentazione={id:"GASOL",alimentazione:"GASOLIO"},this.macchinario.possesso="Possesso",this.macchinario.motore="Motore",this.macchinario.rimorchio="Si",this.macchinario.immatricolazione=null,this.macchinario.documentoPossesso="Documento Possesso",this.macchinario.dataIscrizione="01/01/2021",this.macchinario.dataChiusura=null}},{key:"deleteMacchina",value:function(i){console.log("Cancello macchina id: "+i.toString())}},{key:"dettaglioMacchina",value:function(i){console.log("Dettaglio macchina id: "+i.toString()),this.router.navigate([i.toString()+"/dettaglio-macchina"])}},{key:"modificaDettaglio",value:function(){this.initForm(),this.modificaAttiva=!0}},{key:"annullaModifica",value:function(){this.modificaAttiva=!1}},{key:"onSubmit",value:function(){console.log("submit "+this.idMacchina),this.modificaMacchina.invalid?this.messageService.add(p.a.getToast("tst-macchine",p.b.error,"Dati non validi")):this.salva()}},{key:"salva",value:function(){this.macchinario.idAgs=Number(this.idMacchina),this.macchinario.classe=this.modificaMacchina.value.tipologiaMacchina,this.macchinario.descrizione=this.modificaMacchina.value.modelloMacchina,this.macchinario.targa=this.modificaMacchina.value.targaMacchina,this.macchinario.alimentazione=this.modificaMacchina.value.alimentazioneMacchina,this.macchinario.possesso=this.modificaMacchina.value.possessoMacchina,this.macchinario.marca=this.modificaMacchina.value.marcaMacchina,this.macchinario.dataIscrizione=this.modificaMacchina.value.dataIscrizione,this.messageService.add(p.a.getToast("tst-macchine",p.b.success,"Dati salvati")),this.modificaAttiva=!1}}]),i}()).\u0275fac=function(i){return new(i||ho)(l.Nb(u.f),l.Nb(x.a),l.Nb(k.a),l.Nb(m.d),l.Nb(x.e))},ho.\u0275cmp=l.Hb({type:ho,selectors:[["app-dettaglio-macchina"]],decls:106,vars:37,consts:[["key","tst-macchine"],[1,"ui-grid-fixed","boxgrey"],[1,"funzioni-grid","boxgrey"],[1,"d-flex","align-items-center","text-decoration-none","color-primary",3,"routerLink","click"],[1,"pi","pi-chevron-left",2,"font-size","2rem","color","black"],["src","assets/img/ico-dotazione.jpg"],[1,"text-uppercase","ml-2"],[3,"formGroup","ngSubmit"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],["expandIcon","","collapseIcon",""],["header","DETTAGLIO MACCHINA",3,"selected"],["align","right"],["pButton","","label","MODIFICA","pButton","",1,"pull-right",2,"background-color","green",3,"disabled","click"],[1,"table","table-hoover"],["width","25%"],[4,"ngIf"],["width","15%"],["placeholder","Seleziona tipologia macchina","optionLabel","tipologia","optionValue","id","formControlName","tipologiaMacchina",3,"options"],[1,"md-inputfield"],["size","80","pInputText","","id","modelloMacchina",2,"border","1px solid rgb(180, 178, 178)","width","100%",3,"formControl"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"],["size","20","pInputText","","id","targaMacchina",2,"border","1px solid rgb(180, 178, 178)",3,"formControl"],["placeholder","Seleziona alimentazione macchina","optionLabel","alimentazione","optionValue","id","formControlName","alimentazioneMacchina",3,"options"],["size","80","pInputText","","id","possessoMacchina",2,"border","1px solid rgb(180, 178, 178)","width","100%",3,"formControl"],["size","80","pInputText","","id","marcaMacchina",2,"border","1px solid rgb(180, 178, 178)","width","100%",3,"formControl"],["formControlName","dataIscrizione","dateFormat","dd/mm/yy","required","",1,"form-control",3,"locale","formControl"],[1,"p-grid"],[1,"p-col-10"],[1,"p-col-1"],["pButton","","label","ANNULLA","pButton","",1,"pull-right",2,"background-color","green",3,"disabled","click"],["pButton","","label","SALVA","type","submit","pButton","",1,"pull-right",2,"background-color","green",3,"disabled"]],template:function(i,t){1&i&&(l.Ob(0,"p-toast",0),l.Tb(1,"div",1),l.Tb(2,"div",2),l.Tb(3,"a",3),l.bc("click",(function(){return t.handleClick()})),l.Ob(4,"i",4),l.Ob(5,"img",5),l.Tb(6,"span",6),l.Oc(7),l.gc(8,"translate"),l.gc(9,"translate"),l.Sb(),l.Sb(),l.Ob(10,"br"),l.Tb(11,"form",7),l.bc("ngSubmit",(function(){return t.onSubmit()})),l.Tb(12,"div",8),l.Tb(13,"p-accordion",9),l.Tb(14,"p-accordionTab",10),l.Tb(15,"p",11),l.Tb(16,"button",12),l.bc("click",(function(){return t.modificaDettaglio()})),l.Sb(),l.Sb(),l.Tb(17,"table",13),l.Tb(18,"tbody"),l.Tb(19,"tr"),l.Tb(20,"td",14),l.Tb(21,"strong"),l.Oc(22,"Tipologia:"),l.Sb(),l.Sb(),l.Tb(23,"td"),l.Mc(24,Qa,2,1,"div",15),l.Mc(25,ja,2,1,"div",15),l.Sb(),l.Ob(26,"td",16),l.Sb(),l.Tb(27,"tr"),l.Tb(28,"td"),l.Tb(29,"strong"),l.Oc(30,"Modello:"),l.Sb(),l.Sb(),l.Tb(31,"td"),l.Mc(32,Za,2,1,"div",15),l.Mc(33,Ha,4,2,"div",15),l.Sb(),l.Ob(34,"td"),l.Sb(),l.Tb(35,"tr"),l.Tb(36,"td"),l.Tb(37,"strong"),l.Oc(38,"Targa:"),l.Sb(),l.Sb(),l.Tb(39,"td"),l.Mc(40,Ka,2,1,"div",15),l.Mc(41,Ja,4,2,"div",15),l.Sb(),l.Ob(42,"td"),l.Sb(),l.Tb(43,"tr"),l.Tb(44,"td"),l.Tb(45,"strong"),l.Oc(46,"Carburante:"),l.Sb(),l.Sb(),l.Tb(47,"td"),l.Mc(48,io,2,1,"div",15),l.Mc(49,to,2,1,"div",15),l.Sb(),l.Ob(50,"td"),l.Sb(),l.Tb(51,"tr"),l.Tb(52,"td"),l.Tb(53,"strong"),l.Oc(54,"Possesso:"),l.Sb(),l.Sb(),l.Tb(55,"td"),l.Mc(56,eo,2,1,"div",15),l.Mc(57,co,4,2,"div",15),l.Sb(),l.Ob(58,"td"),l.Sb(),l.Tb(59,"tr"),l.Tb(60,"td"),l.Tb(61,"strong"),l.Oc(62,"Motore:"),l.Sb(),l.Sb(),l.Tb(63,"td"),l.Mc(64,no,2,1,"div",15),l.Mc(65,so,4,2,"div",15),l.Sb(),l.Ob(66,"td"),l.Sb(),l.Tb(67,"tr"),l.Tb(68,"td"),l.Tb(69,"strong"),l.Oc(70,"Rimorchio:"),l.Sb(),l.Sb(),l.Tb(71,"td"),l.Oc(72),l.Sb(),l.Ob(73,"td"),l.Sb(),l.Tb(74,"tr"),l.Tb(75,"td"),l.Tb(76,"strong"),l.Oc(77,"Immatricolazione:"),l.Sb(),l.Sb(),l.Tb(78,"td"),l.Oc(79),l.gc(80,"date"),l.Sb(),l.Ob(81,"td"),l.Sb(),l.Tb(82,"tr"),l.Tb(83,"td"),l.Tb(84,"strong"),l.Oc(85,"Documento Possesso:"),l.Sb(),l.Sb(),l.Tb(86,"td"),l.Oc(87),l.Sb(),l.Ob(88,"td"),l.Sb(),l.Tb(89,"tr"),l.Tb(90,"td"),l.Tb(91,"strong"),l.Oc(92,"Data Iscrizione:"),l.Sb(),l.Sb(),l.Tb(93,"td"),l.Mc(94,bo,3,4,"div",15),l.Mc(95,mo,3,3,"div",15),l.Sb(),l.Ob(96,"td"),l.Sb(),l.Tb(97,"tr"),l.Tb(98,"td"),l.Tb(99,"strong"),l.Oc(100,"Data Chiusura:"),l.Sb(),l.Sb(),l.Tb(101,"td"),l.Oc(102),l.gc(103,"date"),l.Sb(),l.Ob(104,"td"),l.Sb(),l.Sb(),l.Sb(),l.Mc(105,go,10,2,"div",15),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&i&&(l.Kc(l.rc(36,vo)),l.Bb(7),l.Rc(" ",l.hc(8,26,"FascicoloAziendale.DOTAZIONE_TECNICA")," / ",l.hc(9,28,"FascicoloAziendale.MACCHINE")," "),l.Bb(4),l.mc("formGroup",t.modificaMacchina),l.Bb(3),l.mc("selected",!0),l.Bb(2),l.mc("disabled",t.modificaAttiva),l.Bb(8),l.mc("ngIf",!t.modificaAttiva),l.Bb(1),l.mc("ngIf",t.modificaAttiva),l.Bb(7),l.mc("ngIf",!t.modificaAttiva),l.Bb(1),l.mc("ngIf",t.modificaAttiva),l.Bb(7),l.mc("ngIf",!t.modificaAttiva),l.Bb(1),l.mc("ngIf",t.modificaAttiva),l.Bb(7),l.mc("ngIf",!t.modificaAttiva),l.Bb(1),l.mc("ngIf",t.modificaAttiva),l.Bb(7),l.mc("ngIf",!t.modificaAttiva),l.Bb(1),l.mc("ngIf",t.modificaAttiva),l.Bb(7),l.mc("ngIf",!t.modificaAttiva),l.Bb(1),l.mc("ngIf",t.modificaAttiva),l.Bb(7),l.Qc(" ",t.macchinario.rimorchio?t.macchinario.rimorchio:"ND"," "),l.Bb(7),l.Qc(" ",t.macchinario.immatricolazione?l.ic(80,30,t.macchinario.immatricolazione,"dd/MM/yyyy"):"ND"," "),l.Bb(8),l.Qc(" ",t.macchinario.documentoPossesso?t.macchinario.documentoPossesso:"ND"," "),l.Bb(7),l.mc("ngIf",!t.modificaAttiva),l.Bb(1),l.mc("ngIf",t.modificaAttiva),l.Bb(7),l.Qc(" ",t.macchinario.dataChiusura?l.ic(103,33,t.macchinario.dataChiusura,"dd/MM/yyyy"):"ND"," "),l.Bb(3),l.mc("ngIf",t.modificaAttiva))},directives:[f.a,x.h,u.I,u.t,u.k,v.a,v.c,T.b,r.t,S.a,u.s,u.i,u.c,bi.a,u.h,O.a,u.D],pipes:[g.d,r.f],styles:["[_nghost-%COMP%]   .w-10m[_ngcontent-%COMP%]{width:10em}[_nghost-%COMP%]   .icon-button-rect[_ngcontent-%COMP%]{background-color:#4caf50!important;border-radius:unset;height:5em!important;width:13em!important;opacity:1}[_nghost-%COMP%]   .icon-button-rect[_ngcontent-%COMP%]:disabled{opacity:.35;background-image:none;cursor:auto!important}[_nghost-%COMP%]   .icon-button-rect[_ngcontent-%COMP%]:hover{background-color:#388e3c!important}[_nghost-%COMP%]   .icon-button-rect[_ngcontent-%COMP%] >   span.ui-button-icon-left{font-size:2.5em}[_nghost-%COMP%]   .icon-button-square[_ngcontent-%COMP%]{background-color:#4caf50!important;border:1px solid #81c784;border-radius:unset;height:5em!important;width:5em!important;opacity:1}[_nghost-%COMP%]   .icon-button-square[_ngcontent-%COMP%]:disabled{opacity:.35;background-image:none;cursor:auto!important}[_nghost-%COMP%]   .icon-button-square[_ngcontent-%COMP%]:hover{background-color:#388e3c!important}"]}),ho),So=((fo=function(){function i(t,e){_classCallCheck(this,i),this.http=t,this.configuration=e,this.urlDotazioneTecnica=""+this.configuration.dotazione_tecnica_server}return _createClass(i,[{key:"getMacchineByCuaa",value:function(i){return this.http.get(this.urlMacchina(i))}},{key:"getFabbricatiByCuaaAndIdValidazione",value:function(i,t){var e=new c.g;return t&&(e=e.set("idValidazione",String(t))),this.http.get(this.urlFabbricato(i),{params:e,responseType:"json"})}},{key:"getFabbricatoByIdAndIdValidazione",value:function(i,t,e){var a=new c.g;return e&&(a=a.set("idValidazione",String(e))),this.http.get(this.urlFabbricato(i)+"/"+t,{params:a})}},{key:"urlMacchina",value:function(i){return"".concat(this.urlDotazioneTecnica,"/macchina?cuaa=").concat(i.cuaa,"&data=").concat(i.data,"&tipiCarburante=").concat(i.tipiCarburante)}},{key:"urlFabbricati",value:function(){return this.urlDotazioneTecnica+"/fabbricati"}},{key:"urlFabbricato",value:function(i){return"".concat(this.urlDotazioneTecnica,"/fascicolo/").concat(i,"/fabbricati")}},{key:"urlGetVerificaParticellaCatasto",value:function(){return this.urlDotazioneTecnica+"/fascicolo/fabbricati/catasto"}},{key:"urlGetElencoSubalterniParticellaCatasto",value:function(){return this.urlDotazioneTecnica+"/fascicolo/fabbricati/catasto/elenco-subalterni-particella"}},{key:"postFabbricato",value:function(i,t){return this.http.post(this.urlFabbricato(i),t)}},{key:"deleteFabbricato",value:function(i,t){return this.http.delete(this.urlFabbricato(i)+"/"+t)}},{key:"verificaParticellaCatasto",value:function(i,t,e,a,o){var n=new c.g;return n=n.set("numeroParticella",i),null!=t&&(n=n.set("denominatore",t)),n=(n=n.set("tipologia",e)).set("codiceComuneCatastale",String(a)),null!=o&&(n=n.set("subalterno",o)),this.http.get(this.urlGetVerificaParticellaCatasto(),{params:n})}},{key:"getElencoSubalterniParticellaCatasto",value:function(i,t){var e=new c.g;return e=(e=e.set("numeroParticella",i)).set("codiceComuneCatastale",String(t)),this.http.get(this.urlGetElencoSubalterniParticellaCatasto(),{params:e})}}]),i}()).\u0275fac=function(i){return new(i||fo)(l.Xb(c.b),l.Xb(n.a))},fo.\u0275prov=l.Jb({token:fo,factory:fo.\u0275fac,providedIn:"root"}),fo),Oo=e("vizZ"),Co=e("KDHY"),Ao=e("x3AQ"),Io=e("R5y+"),Fo=e("rgW5"),Mo=["accordion"];function yo(i,t){if(1&i){var e=l.Ub();l.Tb(0,"div",27),l.Ob(1,"i",28),l.Tb(2,"h3"),l.Oc(3),l.Sb(),l.Tb(4,"p"),l.Oc(5),l.Sb(),l.Sb(),l.Tb(6,"div",29),l.Tb(7,"div",30),l.Tb(8,"button",31),l.bc("click",(function(){return l.Ec(e),l.fc().onConfirmAggiornaDichiarazione()})),l.Sb(),l.Sb(),l.Tb(9,"div",30),l.Tb(10,"button",32),l.bc("click",(function(){return l.Ec(e),l.fc().onRejectAggiornaDichiarazione()})),l.Sb(),l.Sb(),l.Sb()}if(2&i){var a=t.$implicit;l.Bb(3),l.Pc(a.summary),l.Bb(2),l.Pc(a.detail)}}function zo(i,t){1&i&&l.Ob(0,"p-message",34)}function Eo(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,zo,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc();l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("tipologiaFabbricato").errors?null:e.fabbricatoForm.get("tipologiaFabbricato").errors.required)}}function Do(i,t){1&i&&l.Ob(0,"p-message",34)}function Bo(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,Do,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc();l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("sottoTipologiaFabbricato").errors?null:e.fabbricatoForm.get("sottoTipologiaFabbricato").errors.required)}}function No(i,t){1&i&&l.Ob(0,"p-message",34)}function Po(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,No,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc(2);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("sottoTipo").errors?null:e.fabbricatoForm.get("sottoTipo").errors.required)}}function _o(i,t){if(1&i){var e=l.Ub();l.Tb(0,"div",14),l.Tb(1,"label",35),l.Oc(2,"Sotto Tipologia*"),l.Sb(),l.Tb(3,"p-dropdown",36),l.bc("onChange",(function(i){return l.Ec(e),l.fc().onSelectSottoTipo(i)})),l.Sb(),l.Mc(4,Po,2,1,"div",17),l.Sb()}if(2&i){var a=l.fc();l.Bb(3),l.mc("disabled",a.READONLY_MODE)("options",a.tipologicheService.sottoTipoFabbricato),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("sottoTipo").invalid&&(a.fabbricatoForm.get("sottoTipo").dirty||a.fabbricatoForm.get("sottoTipo").touched))}}function Lo(i,t){1&i&&l.Ob(0,"p-message",34)}function ko(i,t){1&i&&l.Ob(0,"p-message",62)}function Ro(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,Lo,1,0,"p-message",33),l.Mc(2,ko,1,0,"p-message",61),l.Sb()),2&i){var e=l.fc(4);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("datiCatastali.comune").errors?null:e.fabbricatoForm.get("datiCatastali.comune").errors.required),l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("datiCatastali.comune").errors?null:e.fabbricatoForm.get("datiCatastali.comune").errors.pattern)}}function wo(i,t){1&i&&l.Ob(0,"p-message",34)}function xo(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,wo,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc(4);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("datiCatastali.particella").errors?null:e.fabbricatoForm.get("datiCatastali.particella").errors.required)}}function Go(i,t){1&i&&l.Ob(0,"p-message",34)}function Vo(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,Go,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc(4);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("datiCatastali.denominatore").errors?null:e.fabbricatoForm.get("datiCatastali.denominatore").errors.required)}}function Uo(i,t){1&i&&l.Ob(0,"p-message",34)}function qo(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,Uo,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc(4);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("datiCatastali.tipologia").errors?null:e.fabbricatoForm.get("datiCatastali.tipologia").errors.required)}}function Qo(i,t){1&i&&l.Ob(0,"p-message",34)}function jo(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,Qo,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc(5);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("datiCatastali.subalterno").errors?null:e.fabbricatoForm.get("datiCatastali.subalterno").errors.required)}}function Zo(i,t){if(1&i&&(l.Tb(0,"div",55),l.Tb(1,"label",63),l.Oc(2,"Subalterno"),l.Sb(),l.Ob(3,"p-dropdown",64),l.Mc(4,jo,2,1,"div",17),l.Sb()),2&i){var e=l.fc(4);l.Bb(3),l.mc("options",e.subalternoList),l.Bb(1),l.mc("ngIf",e.fabbricatoForm.get("datiCatastali.subalterno").invalid&&(e.fabbricatoForm.get("datiCatastali.subalterno").dirty||e.fabbricatoForm.get("datiCatastali.subalterno").touched))}}function $o(i,t){if(1&i){var e=l.Ub();l.Tb(0,"div",65),l.Tb(1,"button",66),l.bc("click",(function(i){return l.Ec(e),l.fc(4).aggiungiParticellaInTrentino(i)})),l.Sb(),l.Sb()}}function Yo(i,t){if(1&i){var e=l.Ub();l.Tb(0,"div",23),l.Tb(1,"div",48),l.Tb(2,"div",13),l.Tb(3,"div",14),l.Tb(4,"label",49),l.Oc(5,"Comune catastale*"),l.Sb(),l.Tb(6,"input",50),l.bc("change",(function(){return l.Ec(e),l.fc(3).getElencoSubalterniParticellaCatasto()})),l.Sb(),l.Mc(7,Ro,3,2,"div",17),l.Sb(),l.Tb(8,"div",14),l.Tb(9,"label",51),l.Oc(10,"Numero particella*"),l.Sb(),l.Tb(11,"input",52),l.bc("change",(function(){return l.Ec(e),l.fc(3).getElencoSubalterniParticellaCatasto()})),l.Sb(),l.Mc(12,xo,2,1,"div",17),l.Sb(),l.Tb(13,"div",14),l.Tb(14,"label",53),l.Oc(15,"Denominatore"),l.Sb(),l.Ob(16,"input",54),l.Mc(17,Vo,2,1,"div",17),l.Sb(),l.Sb(),l.Tb(18,"div",13),l.Tb(19,"div",55),l.Tb(20,"label",56),l.Oc(21,"Tipologia*"),l.Sb(),l.Tb(22,"p-dropdown",57),l.bc("onChange",(function(i){return l.Ec(e),l.fc(3).onSelectTipologiaCatasto(i)})),l.Sb(),l.Mc(23,qo,2,1,"div",17),l.Sb(),l.Mc(24,Zo,5,2,"div",58),l.Sb(),l.Tb(25,"div",59),l.Mc(26,$o,2,0,"div",60),l.Sb(),l.Sb(),l.Sb()}if(2&i){var a=l.fc(3);l.Bb(6),l.mc("maxlength",50),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("datiCatastali.comune").invalid&&(a.fabbricatoForm.get("datiCatastali.comune").dirty||a.fabbricatoForm.get("datiCatastali.comune").touched)),l.Bb(4),l.mc("maxlength",25),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("datiCatastali.particella").invalid&&(a.fabbricatoForm.get("datiCatastali.particella").dirty||a.fabbricatoForm.get("datiCatastali.particella").touched)),l.Bb(4),l.mc("maxlength",25),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("datiCatastali.denominatore").invalid&&(a.fabbricatoForm.get("datiCatastali.denominatore").dirty||a.fabbricatoForm.get("datiCatastali.denominatore").touched)),l.Bb(5),l.mc("disabled",a.READONLY_MODE)("options",a.tipologicheService.tipologiaCatasto),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("datiCatastali.tipologia").invalid&&(a.fabbricatoForm.get("datiCatastali.tipologia").dirty||a.fabbricatoForm.get("datiCatastali.tipologia").touched)),l.Bb(1),l.mc("ngIf","EDIFICIALE"===a.fabbricatoForm.get("datiCatastali.tipologia").value),l.Bb(2),l.mc("ngIf",!a.READONLY_MODE)}}function Ho(i,t){1&i&&l.Ob(0,"p-message",34)}function Ko(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,Ho,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc(4);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("datiCatastali.sezione").errors?null:e.fabbricatoForm.get("datiCatastali.sezione").errors.required)}}function Wo(i,t){1&i&&l.Ob(0,"p-message",34)}function Xo(i,t){1&i&&l.Ob(0,"p-message",62)}function Jo(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,Wo,1,0,"p-message",33),l.Mc(2,Xo,1,0,"p-message",61),l.Sb()),2&i){var e=l.fc(4);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("datiCatastali.foglio").errors?null:e.fabbricatoForm.get("datiCatastali.foglio").errors.required),l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("datiCatastali.foglio").errors?null:e.fabbricatoForm.get("datiCatastali.foglio").errors.pattern)}}function ic(i,t){1&i&&l.Ob(0,"p-message",34)}function tc(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,ic,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc(4);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("datiCatastali.particella").errors?null:e.fabbricatoForm.get("datiCatastali.particella").errors.required)}}function ec(i,t){1&i&&l.Ob(0,"p-message",34)}function ac(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,ec,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc(4);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("datiCatastali.denominatore").errors?null:e.fabbricatoForm.get("datiCatastali.denominatore").errors.required)}}function oc(i,t){1&i&&l.Ob(0,"p-message",34)}function cc(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,oc,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc(4);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("datiCatastali.tipologia").errors?null:e.fabbricatoForm.get("datiCatastali.tipologia").errors.required)}}function nc(i,t){if(1&i){var e=l.Ub();l.Tb(0,"button",73),l.bc("click",(function(i){return l.Ec(e),l.fc(5).annullaModifica(i)})),l.Sb()}}function rc(i,t){if(1&i&&(l.Tb(0,"div",65),l.Mc(1,nc,1,0,"button",72),l.Sb()),2&i){var e=l.fc(4);l.Bb(1),l.mc("ngIf",null!=e.particellaModificaInCorso)}}function lc(i,t){if(1&i){var e=l.Ub();l.Tb(0,"button",66),l.bc("click",(function(i){return l.Ec(e),l.fc(5).aggiungiParticellaFuoriTrentino(i)})),l.Sb()}}function sc(i,t){if(1&i){var e=l.Ub();l.Tb(0,"button",76),l.bc("click",(function(i){return l.Ec(e),l.fc(5).aggiornaParticellaFuoriTrentino(i)})),l.Sb()}}function bc(i,t){if(1&i&&(l.Tb(0,"div",65),l.Mc(1,lc,1,0,"button",74),l.Mc(2,sc,1,0,"button",75),l.Sb()),2&i){var e=l.fc(4);l.Bb(1),l.mc("ngIf",null===e.particellaModificaInCorso),l.Bb(1),l.mc("ngIf",null!=e.particellaModificaInCorso)}}function uc(i,t){if(1&i){var e=l.Ub();l.Tb(0,"div",23),l.Tb(1,"div",48),l.Tb(2,"div",13),l.Tb(3,"div",55),l.Tb(4,"label",67),l.Oc(5,"Sezione (codice nazionale)*"),l.Sb(),l.Ob(6,"input",68),l.Mc(7,Ko,2,1,"div",17),l.Sb(),l.Tb(8,"div",55),l.Tb(9,"label",69),l.Oc(10,"Foglio*"),l.Sb(),l.Ob(11,"input",70),l.Mc(12,Jo,3,2,"div",17),l.Sb(),l.Sb(),l.Tb(13,"div",13),l.Tb(14,"div",14),l.Tb(15,"label",51),l.Oc(16,"Numero particella*"),l.Sb(),l.Ob(17,"input",71),l.Mc(18,tc,2,1,"div",17),l.Sb(),l.Tb(19,"div",14),l.Tb(20,"label",53),l.Oc(21,"Denominatore"),l.Sb(),l.Ob(22,"input",54),l.Mc(23,ac,2,1,"div",17),l.Sb(),l.Tb(24,"div",14),l.Tb(25,"label",56),l.Oc(26,"Tipologia*"),l.Sb(),l.Tb(27,"p-dropdown",57),l.bc("onChange",(function(i){return l.Ec(e),l.fc(3).onSelectTipologiaCatasto(i)})),l.Sb(),l.Mc(28,cc,2,1,"div",17),l.Sb(),l.Sb(),l.Tb(29,"div",59),l.Mc(30,rc,2,1,"div",60),l.Mc(31,bc,3,2,"div",60),l.Sb(),l.Sb(),l.Sb()}if(2&i){var a=l.fc(3);l.Bb(6),l.mc("maxlength",25),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("datiCatastali.sezione").invalid&&(a.fabbricatoForm.get("datiCatastali.sezione").dirty||a.fabbricatoForm.get("datiCatastali.sezione").touched)),l.Bb(4),l.mc("maxlength",25),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("datiCatastali.foglio").invalid&&(a.fabbricatoForm.get("datiCatastali.foglio").dirty||a.fabbricatoForm.get("datiCatastali.foglio").touched)),l.Bb(5),l.mc("maxlength",25),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("datiCatastali.particella").invalid&&(a.fabbricatoForm.get("datiCatastali.particella").dirty||a.fabbricatoForm.get("datiCatastali.particella").touched)),l.Bb(4),l.mc("maxlength",25),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("datiCatastali.denominatore").invalid&&(a.fabbricatoForm.get("datiCatastali.denominatore").dirty||a.fabbricatoForm.get("datiCatastali.denominatore").touched)),l.Bb(4),l.mc("disabled",a.READONLY_MODE)("options",a.tipologicheService.tipologiaCatasto),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("datiCatastali.tipologia").invalid&&(a.fabbricatoForm.get("datiCatastali.tipologia").dirty||a.fabbricatoForm.get("datiCatastali.tipologia").touched)),l.Bb(2),l.mc("ngIf",!a.READONLY_MODE),l.Bb(1),l.mc("ngIf",!a.READONLY_MODE)}}function dc(i,t){if(1&i&&(l.Tb(0,"th"),l.Tb(1,"strong"),l.Oc(2),l.Sb(),l.Sb()),2&i){var e=t.$implicit;l.Bb(2),l.Pc(e.header)}}function pc(i,t){if(1&i&&(l.Tb(0,"tr"),l.Mc(1,dc,3,1,"th",84),l.Sb()),2&i){var e=t.$implicit;l.Bb(1),l.mc("ngForOf",e)}}function mc(i,t){if(1&i){var e=l.Ub();l.Tb(0,"button",90),l.bc("click",(function(){l.Ec(e);var i=l.fc(),t=i.$implicit,a=i.rowIndex;return l.fc(4).modificaParticella(t,a)})),l.Sb()}}function gc(i,t){if(1&i){var e=l.Ub();l.Tb(0,"tr"),l.Tb(1,"td"),l.Tb(2,"a",85),l.Ob(3,"i",86),l.Sb(),l.Sb(),l.Tb(4,"td",87),l.Oc(5),l.Sb(),l.Tb(6,"td",87),l.Oc(7),l.Sb(),l.Tb(8,"td",87),l.Oc(9),l.Sb(),l.Tb(10,"td",87),l.Oc(11),l.Sb(),l.Tb(12,"td",87),l.Oc(13),l.Sb(),l.Tb(14,"td",87),l.Mc(15,mc,1,0,"button",88),l.Tb(16,"button",89),l.bc("click",(function(){l.Ec(e);var i=t.$implicit;return l.fc(4).eliminaParticella(i)})),l.Sb(),l.Sb(),l.Sb()}if(2&i){var a=t.$implicit,o=t.expanded,c=l.fc(4);l.Bb(2),l.mc("pRowToggler",a),l.Bb(1),l.mc("ngClass",o?"pi pi-chevron-down":"pi pi-chevron-right"),l.Bb(2),l.Pc(a.particella),l.Bb(2),l.Pc(a.denominatore),l.Bb(2),l.Pc(a.tipologia),l.Bb(2),l.Pc(a.inTrentino?"S\xec":"No"),l.Bb(2),l.Pc(a.esito),l.Bb(2),l.mc("ngIf",!a.inTrentino),l.Bb(1),l.mc("disabled",c.READONLY_MODE)}}function fc(i,t){if(1&i&&(l.Tb(0,"tbody"),l.Tb(1,"tr"),l.Tb(2,"th"),l.Oc(3,"Dati particella In Trentino"),l.Sb(),l.Ob(4,"th"),l.Sb(),l.Tb(5,"tr"),l.Tb(6,"td"),l.Oc(7,"Numero Particella:"),l.Sb(),l.Tb(8,"td"),l.Oc(9),l.Sb(),l.Sb(),l.Tb(10,"tr"),l.Tb(11,"td"),l.Oc(12,"Denominatore:"),l.Sb(),l.Tb(13,"td"),l.Oc(14),l.Sb(),l.Sb(),l.Tb(15,"tr"),l.Tb(16,"td"),l.Oc(17,"Tipologia:"),l.Sb(),l.Tb(18,"td"),l.Oc(19),l.Sb(),l.Sb(),l.Tb(20,"tr"),l.Tb(21,"td"),l.Oc(22,"Comune catastale:"),l.Sb(),l.Tb(23,"td"),l.Oc(24),l.Sb(),l.Sb(),l.Tb(25,"tr"),l.Tb(26,"td"),l.Oc(27,"Subalterno:"),l.Sb(),l.Tb(28,"td"),l.Oc(29),l.Sb(),l.Sb(),l.Tb(30,"tr"),l.Tb(31,"td"),l.Oc(32,"Indirizzo:"),l.Sb(),l.Tb(33,"td"),l.Oc(34),l.Sb(),l.Sb(),l.Tb(35,"tr"),l.Tb(36,"td"),l.Oc(37,"Superficie:"),l.Sb(),l.Tb(38,"td"),l.Oc(39),l.Sb(),l.Sb(),l.Tb(40,"tr"),l.Tb(41,"td"),l.Oc(42,"Consistenza:"),l.Sb(),l.Tb(43,"td"),l.Oc(44),l.Sb(),l.Sb(),l.Tb(45,"tr"),l.Tb(46,"td"),l.Oc(47,"Categoria:"),l.Sb(),l.Tb(48,"td"),l.Oc(49),l.Sb(),l.Sb(),l.Tb(50,"tr"),l.Tb(51,"td"),l.Oc(52,"Note:"),l.Sb(),l.Tb(53,"td"),l.Oc(54),l.Sb(),l.Sb(),l.Sb()),2&i){var e=l.fc(2).$implicit;l.Bb(9),l.Pc(e.particella),l.Bb(5),l.Pc(e.denominatore),l.Bb(5),l.Pc(e.tipologia),l.Bb(5),l.Pc(e.comune),l.Bb(5),l.Pc(e.subalterno||"ND"),l.Bb(5),l.Pc(e.indirizzo||"ND"),l.Bb(5),l.Pc(e.superficie||"ND"),l.Bb(5),l.Pc(e.consistenza||"ND"),l.Bb(5),l.Pc(e.categoria||"ND"),l.Bb(5),l.Pc(e.note||"ND")}}function hc(i,t){if(1&i&&(l.Tb(0,"tbody"),l.Tb(1,"tr"),l.Tb(2,"th"),l.Oc(3,"Dati particella Fuori Trentino"),l.Sb(),l.Ob(4,"th"),l.Sb(),l.Tb(5,"tr"),l.Tb(6,"td"),l.Oc(7,"Numero Particella:"),l.Sb(),l.Tb(8,"td"),l.Oc(9),l.Sb(),l.Sb(),l.Tb(10,"tr"),l.Tb(11,"td"),l.Oc(12,"Denominatore:"),l.Sb(),l.Tb(13,"td"),l.Oc(14),l.Sb(),l.Sb(),l.Tb(15,"tr"),l.Tb(16,"td"),l.Oc(17,"Tipologia:"),l.Sb(),l.Tb(18,"td"),l.Oc(19),l.Sb(),l.Sb(),l.Tb(20,"tr"),l.Tb(21,"td"),l.Oc(22,"Sezione:"),l.Sb(),l.Tb(23,"td"),l.Oc(24),l.Sb(),l.Sb(),l.Tb(25,"tr"),l.Tb(26,"td"),l.Oc(27,"Foglio:"),l.Sb(),l.Tb(28,"td"),l.Oc(29),l.Sb(),l.Sb(),l.Sb()),2&i){var e=l.fc(2).$implicit;l.Bb(9),l.Pc(e.particella),l.Bb(5),l.Pc(e.denominatore),l.Bb(5),l.Pc(e.tipologia),l.Bb(5),l.Pc(e.sezione),l.Bb(5),l.Pc(e.foglio)}}function vc(i,t){if(1&i&&(l.Tb(0,"tr"),l.Tb(1,"td"),l.Mc(2,fc,55,10,"tbody",17),l.Mc(3,hc,30,5,"tbody",17),l.Sb(),l.Sb()),2&i){var e=l.fc(),a=e.columns,o=e.$implicit;l.Bb(1),l.Cb("colspan",a.length),l.Bb(1),l.mc("ngIf",o.inTrentino),l.Bb(1),l.mc("ngIf",!o.inTrentino)}}function Tc(i,t){1&i&&l.Mc(0,vc,4,3,"ng-template",91),2&i&&l.mc("ngIf",t.$implicit)}function Sc(i,t){if(1&i&&(l.Tb(0,"tr"),l.Tb(1,"td"),l.Oc(2,"Nessun contenuto disponibile"),l.Sb(),l.Sb()),2&i){var e=t.$implicit;l.Bb(1),l.Cb("colspan",e.length)}}function Oc(i,t){if(1&i&&(l.Tb(0,"div",77),l.Tb(1,"p-table",78,79),l.Mc(3,pc,2,1,"ng-template",80),l.Mc(4,gc,17,9,"ng-template",81),l.Mc(5,Tc,1,1,"ng-template",82),l.Mc(6,Sc,3,1,"ng-template",83),l.Sb(),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("columns",e.cols)("value",e.particelleList)("autoLayout",!0)("paginator",!1)("responsive",!0)}}function Cc(i,t){if(1&i){var e=l.Ub();l.Tb(0,"div",40),l.Tb(1,"div",13),l.Tb(2,"p-fieldset",41),l.Tb(3,"p-header",42),l.Oc(4,"Particella"),l.Sb(),l.Tb(5,"div",13),l.Tb(6,"div",43),l.Tb(7,"label",44),l.Oc(8," In Trentino "),l.Sb(),l.Tb(9,"p-inputSwitch",45),l.bc("onChange",(function(i){return l.Ec(e),l.fc(2).onSelectTrentinoInOut(i)})),l.Sb(),l.Tb(10,"label",44),l.Oc(11," Fuori Trentino "),l.Sb(),l.Sb(),l.Mc(12,Yo,27,11,"div",46),l.Mc(13,uc,32,13,"div",46),l.Sb(),l.Mc(14,Oc,7,5,"div",47),l.Sb(),l.Sb(),l.Sb()}if(2&i){var a=l.fc(2);l.Bb(9),l.mc("disabled",null!=a.particellaModificaInCorso),l.Bb(3),l.mc("ngIf",!a.fabbricatoForm.get("fuoriTrentino").value),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("fuoriTrentino").value),l.Bb(1),l.mc("ngIf",null==a.particelleList?null:a.particelleList.length)}}function Ac(i,t){1&i&&(l.Tb(0,"div",37),l.Tb(1,"p-accordionTab",38),l.Mc(2,Cc,15,4,"ng-template",39),l.Sb(),l.Sb()),2&i&&(l.Bb(1),l.mc("selected",!0))}function Ic(i,t){1&i&&l.Ob(0,"p-message",34)}function Fc(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,Ic,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("fabbricati.comune").errors?null:e.fabbricatoForm.get("fabbricati.comune").errors.required)}}function Mc(i,t){1&i&&l.Ob(0,"p-message",62)}function yc(i,t){1&i&&l.Ob(0,"p-message",34)}function zc(i,t){1&i&&l.Ob(0,"p-message",62)}function Ec(i,t){1&i&&l.Ob(0,"p-message",115)}function Dc(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,yc,1,0,"p-message",33),l.Mc(2,zc,1,0,"p-message",61),l.Mc(3,Ec,1,0,"p-message",114),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("fabbricati.superficie").errors?null:e.fabbricatoForm.get("fabbricati.superficie").errors.required),l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("fabbricati.superficie").errors?null:e.fabbricatoForm.get("fabbricati.superficie").errors.pattern),l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("fabbricati.superficie").errors?null:e.fabbricatoForm.get("fabbricati.superficie").errors.maxArray)}}function Bc(i,t){1&i&&l.Ob(0,"p-message",62)}function Nc(i,t){if(1&i&&l.Ob(0,"p-message",116),2&i){var e=l.fc(3);l.nc("text","Attenzione! Le superfici digitate eccedono la superficie totale: "+(e.fabbricatoForm.get("fabbricati.superficie").value?e.fabbricatoForm.get("fabbricati.superficie").value:0))}}function Pc(i,t){1&i&&l.Ob(0,"p-message",62)}function _c(i,t){if(1&i&&l.Ob(0,"p-message",116),2&i){var e=l.fc(3);l.nc("text","Attenzione! Le superfici digitate eccedono la superficie totale: "+(e.fabbricatoForm.get("fabbricati.superficie").value?e.fabbricatoForm.get("fabbricati.superficie").value:0))}}function Lc(i,t){1&i&&l.Ob(0,"p-message",34)}function kc(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,Lc,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("fabbricati.tipoConduzione").errors?null:e.fabbricatoForm.get("fabbricati.tipoConduzione").errors.required)}}var Rc=function(){return["superficieCoperta","superficieScoperta"]},wc=function(i){return{toSum:i,limit:"superficie"}};function xc(i,t){if(1&i&&(l.Tb(0,"div",40),l.Tb(1,"div",93),l.Tb(2,"div",55),l.Tb(3,"label",94),l.Oc(4,"Denominazione"),l.Sb(),l.Ob(5,"input",95),l.Sb(),l.Tb(6,"div",55),l.Tb(7,"label",96),l.Oc(8,"Indirizzo"),l.Sb(),l.Ob(9,"input",97),l.Sb(),l.Tb(10,"div",55),l.Tb(11,"label",98),l.Oc(12,"Comune Amministrativo*"),l.Sb(),l.Ob(13,"input",99),l.Mc(14,Fc,2,1,"div",17),l.Sb(),l.Tb(15,"div",55),l.Tb(16,"label",100),l.Oc(17,"Volume (mc.)"),l.Sb(),l.Ob(18,"input",101),l.Mc(19,Mc,1,0,"p-message",61),l.Sb(),l.Tb(20,"div",55),l.Tb(21,"label",102),l.Oc(22,"Superficie totale (mq.)*"),l.Sb(),l.Ob(23,"input",103),l.Mc(24,Dc,4,3,"div",17),l.Sb(),l.Tb(25,"div",55),l.Tb(26,"label",104),l.Oc(27,"Superficie coperta (mq.)"),l.Sb(),l.Ob(28,"input",105),l.Mc(29,Bc,1,0,"p-message",61),l.Mc(30,Nc,1,1,"p-message",106),l.Sb(),l.Tb(31,"div",55),l.Tb(32,"label",107),l.Oc(33,"Superficie scoperta (mq.)"),l.Sb(),l.Ob(34,"input",108),l.Mc(35,Pc,1,0,"p-message",61),l.Mc(36,_c,1,1,"p-message",106),l.Sb(),l.Tb(37,"div",55),l.Tb(38,"label",109),l.Oc(39,"Tipo conduzione*"),l.Sb(),l.Ob(40,"p-dropdown",110),l.Mc(41,kc,2,1,"div",17),l.Sb(),l.Tb(42,"div",23),l.Tb(43,"label",111),l.Oc(44,"Descrizione sintetica del fabbricato"),l.Sb(),l.Ob(45,"input",112),l.Sb(),l.Sb(),l.Tb(46,"div",113),l.Tb(47,"div",12),l.Tb(48,"p-footer",41),l.Tb(49,"i"),l.Oc(50," * Campo obbligatorio"),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&i){var e=l.fc(2);l.Bb(5),l.mc("maxlength",100),l.Bb(4),l.mc("maxlength",50),l.Bb(4),l.mc("maxlength",50),l.Bb(1),l.mc("ngIf",e.fabbricatoForm.get("fabbricati.comune").invalid&&(e.fabbricatoForm.get("fabbricati.comune").dirty||e.fabbricatoForm.get("fabbricati.comune").touched)),l.Bb(4),l.mc("maxlength",10),l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("fabbricati.volume").errors?null:e.fabbricatoForm.get("fabbricati.volume").errors.pattern),l.Bb(4),l.mc("maxlength",20)("a4gLimitSumNoInput",l.sc(22,wc,l.rc(21,Rc))),l.Bb(1),l.mc("ngIf",e.fabbricatoForm.get("fabbricati.superficie").invalid&&(e.fabbricatoForm.get("fabbricati.superficie").dirty||e.fabbricatoForm.get("fabbricati.superficie").touched)),l.Bb(4),l.mc("maxlength",10)("a4gLimitSumNoInput",l.sc(25,wc,l.rc(24,Rc))),l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("fabbricati.superficieCoperta").errors?null:e.fabbricatoForm.get("fabbricati.superficieCoperta").errors.pattern),l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("fabbricati.superficieCoperta").errors?null:e.fabbricatoForm.get("fabbricati.superficieCoperta").errors.maxArray),l.Bb(4),l.mc("maxlength",10)("a4gLimitSumNoInput",l.sc(28,wc,l.rc(27,Rc))),l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("fabbricati.superficieScoperta").errors?null:e.fabbricatoForm.get("fabbricati.superficieScoperta").errors.pattern),l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("fabbricati.superficieScoperta").errors?null:e.fabbricatoForm.get("fabbricati.superficieScoperta").errors.maxArray),l.Bb(4),l.mc("disabled",e.READONLY_MODE)("options",e.tipologicheService.tipoConduzione),l.Bb(1),l.mc("ngIf",e.fabbricatoForm.get("fabbricati.tipoConduzione").invalid&&(e.fabbricatoForm.get("fabbricati.tipoConduzione").dirty||e.fabbricatoForm.get("fabbricati.tipoConduzione").touched)),l.Bb(4),l.mc("maxlength",200)}}function Gc(i,t){1&i&&(l.Tb(0,"div",37),l.Tb(1,"p-accordionTab",92),l.Mc(2,xc,51,30,"ng-template",39),l.Sb(),l.Sb()),2&i&&(l.Bb(1),l.mc("selected",!0))}function Vc(i,t){1&i&&l.Ob(0,"p-message",34)}function Uc(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,Vc,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("serre.comune").errors?null:e.fabbricatoForm.get("serre.comune").errors.required)}}function qc(i,t){1&i&&l.Ob(0,"p-message",34)}function Qc(i,t){1&i&&l.Ob(0,"p-message",62)}function jc(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,qc,1,0,"p-message",33),l.Mc(2,Qc,1,0,"p-message",61),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("serre.volume").errors?null:e.fabbricatoForm.get("serre.volume").errors.required),l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("serre.volume").errors?null:e.fabbricatoForm.get("serre.volume").errors.pattern)}}function Zc(i,t){1&i&&l.Ob(0,"p-message",62)}function $c(i,t){1&i&&l.Ob(0,"p-message",62)}function Yc(i,t){1&i&&l.Ob(0,"p-message",34)}function Hc(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,Yc,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("serre.tipoConduzione").errors?null:e.fabbricatoForm.get("serre.tipoConduzione").errors.required)}}function Kc(i,t){1&i&&l.Ob(0,"p-message",62)}function Wc(i,t){if(1&i&&(l.Tb(0,"div",40),l.Tb(1,"div",118),l.Tb(2,"div",55),l.Tb(3,"label",94),l.Oc(4,"Denominazione"),l.Sb(),l.Ob(5,"input",95),l.Sb(),l.Tb(6,"div",55),l.Tb(7,"label",96),l.Oc(8,"Indirizzo"),l.Sb(),l.Ob(9,"input",97),l.Sb(),l.Tb(10,"div",55),l.Tb(11,"label",98),l.Oc(12,"Comune Amministrativo*"),l.Sb(),l.Ob(13,"input",99),l.Mc(14,Uc,2,1,"div",17),l.Sb(),l.Tb(15,"div",55),l.Tb(16,"label",100),l.Oc(17,"Volume (mc.)*"),l.Sb(),l.Ob(18,"input",101),l.Mc(19,jc,3,2,"div",17),l.Sb(),l.Tb(20,"div",55),l.Tb(21,"label",119),l.Oc(22,"Superficie occupata (mq.)"),l.Sb(),l.Ob(23,"input",120),l.Mc(24,Zc,1,0,"p-message",61),l.Sb(),l.Tb(25,"div",55),l.Tb(26,"label",121),l.Oc(27,"Anno di costruzione"),l.Sb(),l.Ob(28,"input",122),l.Mc(29,$c,1,0,"p-message",61),l.Sb(),l.Tb(30,"div",55),l.Tb(31,"label",123),l.Oc(32,"Titolo di conformit\xe0 urbanistica"),l.Sb(),l.Ob(33,"input",124),l.Sb(),l.Tb(34,"div",125),l.Tb(35,"div",41),l.Tb(36,"label",126),l.Oc(37,"Presenza impianto di riscaldamento"),l.Sb(),l.Ob(38,"p-checkbox",127),l.Sb(),l.Sb(),l.Tb(39,"div",55),l.Tb(40,"label",128),l.Oc(41,"Tipo conduzione*"),l.Sb(),l.Ob(42,"p-dropdown",129),l.Mc(43,Hc,2,1,"div",17),l.Sb(),l.Tb(44,"div",23),l.Tb(45,"label",130),l.Oc(46,"Descrizione sintetica della serra"),l.Sb(),l.Ob(47,"input",131),l.Sb(),l.Tb(48,"div",23),l.Tb(49,"p-fieldset",41),l.Tb(50,"p-header",42),l.Oc(51,"Materiale di copertura"),l.Sb(),l.Tb(52,"div",13),l.Tb(53,"div",41),l.Tb(54,"label",132),l.Oc(55,"Tipologia materiale"),l.Sb(),l.Ob(56,"input",133),l.Sb(),l.Tb(57,"div",41),l.Tb(58,"label",134),l.Oc(59,"Anno di acquisto"),l.Sb(),l.Ob(60,"input",135),l.Mc(61,Kc,1,0,"p-message",61),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Tb(62,"div",113),l.Tb(63,"div",12),l.Tb(64,"p-footer",41),l.Tb(65,"i"),l.Oc(66," * Campo obbligatorio"),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&i){var e=l.fc(2);l.Bb(5),l.mc("maxlength",100),l.Bb(4),l.mc("maxlength",50),l.Bb(4),l.mc("maxlength",50),l.Bb(1),l.mc("ngIf",e.fabbricatoForm.get("serre.comune").invalid&&(e.fabbricatoForm.get("serre.comune").dirty||e.fabbricatoForm.get("serre.comune").touched)),l.Bb(4),l.mc("maxlength",10),l.Bb(1),l.mc("ngIf",e.fabbricatoForm.get("serre.volume").invalid&&(e.fabbricatoForm.get("serre.volume").dirty||e.fabbricatoForm.get("serre.volume").touched)),l.Bb(4),l.mc("maxlength",20),l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("serre.superficie").errors?null:e.fabbricatoForm.get("serre.superficie").errors.pattern),l.Bb(4),l.mc("maxlength",4),l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("serre.annoCostruzione").errors?null:e.fabbricatoForm.get("serre.annoCostruzione").errors.pattern),l.Bb(4),l.mc("maxlength",50),l.Bb(5),l.mc("formControl",e.fabbricatoForm.get("serre.impiantoRiscaldamento")),l.Bb(4),l.mc("disabled",e.READONLY_MODE)("options",e.tipologicheService.tipoConduzione),l.Bb(1),l.mc("ngIf",e.fabbricatoForm.get("serre.tipoConduzione").invalid&&(e.fabbricatoForm.get("serre.tipoConduzione").dirty||e.fabbricatoForm.get("serre.tipoConduzione").touched)),l.Bb(4),l.mc("maxlength",200),l.Bb(9),l.mc("maxlength",100),l.Bb(4),l.mc("maxlength",4),l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("serre.annoAcquisto").errors?null:e.fabbricatoForm.get("serre.annoAcquisto").errors.pattern)}}function Xc(i,t){1&i&&(l.Tb(0,"div",37),l.Tb(1,"p-accordionTab",117),l.Mc(2,Wc,67,19,"ng-template",39),l.Sb(),l.Sb()),2&i&&(l.Bb(1),l.mc("selected",!0))}function Jc(i,t){1&i&&l.Ob(0,"p-message",34)}function tn(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,Jc,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("strutture.stoccaggioLetami.comune").errors?null:e.fabbricatoForm.get("strutture.stoccaggioLetami.comune").errors.required)}}function en(i,t){1&i&&l.Ob(0,"p-message",34)}function an(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,en,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("strutture.stoccaggioLetami.copertura").errors?null:e.fabbricatoForm.get("strutture.stoccaggioLetami.copertura").errors.required)}}function on(i,t){1&i&&l.Ob(0,"p-message",34)}function cn(i,t){1&i&&l.Ob(0,"p-message",62)}function nn(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,on,1,0,"p-message",33),l.Mc(2,cn,1,0,"p-message",61),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("strutture.stoccaggioLetami.superficie").errors?null:e.fabbricatoForm.get("strutture.stoccaggioLetami.superficie").errors.required),l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("strutture.stoccaggioLetami.superficie").errors?null:e.fabbricatoForm.get("strutture.stoccaggioLetami.superficie").errors.pattern)}}function rn(i,t){1&i&&l.Ob(0,"p-message",34)}function ln(i,t){1&i&&l.Ob(0,"p-message",62)}function sn(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,rn,1,0,"p-message",33),l.Mc(2,ln,1,0,"p-message",61),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("strutture.stoccaggioLetami.altezza").errors?null:e.fabbricatoForm.get("strutture.stoccaggioLetami.altezza").errors.required),l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("strutture.stoccaggioLetami.altezza").errors?null:e.fabbricatoForm.get("strutture.stoccaggioLetami.altezza").errors.pattern)}}function bn(i,t){1&i&&l.Ob(0,"p-message",34)}function un(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,bn,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("strutture.stoccaggioLetami.tipoConduzione").errors?null:e.fabbricatoForm.get("strutture.stoccaggioLetami.tipoConduzione").errors.required)}}function dn(i,t){1&i&&l.Ob(0,"p-message",34)}function pn(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,dn,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("strutture.stoccaggioLiquami.comune").errors?null:e.fabbricatoForm.get("strutture.stoccaggioLiquami.comune").errors.required)}}function mn(i,t){1&i&&l.Ob(0,"p-message",34)}function gn(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,mn,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("strutture.stoccaggioLiquami.copertura").errors?null:e.fabbricatoForm.get("strutture.stoccaggioLiquami.copertura").errors.required)}}function fn(i,t){1&i&&l.Ob(0,"p-message",34)}function hn(i,t){1&i&&l.Ob(0,"p-message",62)}function vn(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,fn,1,0,"p-message",33),l.Mc(2,hn,1,0,"p-message",61),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("strutture.stoccaggioLiquami.superficie").errors?null:e.fabbricatoForm.get("strutture.stoccaggioLiquami.superficie").errors.required),l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("strutture.stoccaggioLiquami.superficie").errors?null:e.fabbricatoForm.get("strutture.stoccaggioLiquami.superficie").errors.pattern)}}function Tn(i,t){1&i&&l.Ob(0,"p-message",34)}function Sn(i,t){1&i&&l.Ob(0,"p-message",62)}function On(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,Tn,1,0,"p-message",33),l.Mc(2,Sn,1,0,"p-message",61),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("strutture.stoccaggioLiquami.altezza").errors?null:e.fabbricatoForm.get("strutture.stoccaggioLiquami.altezza").errors.required),l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("strutture.stoccaggioLiquami.altezza").errors?null:e.fabbricatoForm.get("strutture.stoccaggioLiquami.altezza").errors.pattern)}}function Cn(i,t){1&i&&l.Ob(0,"p-message",34)}function An(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,Cn,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("strutture.stoccaggioLiquami.tipoConduzione").errors?null:e.fabbricatoForm.get("strutture.stoccaggioLiquami.tipoConduzione").errors.required)}}function In(i,t){1&i&&l.Ob(0,"p-message",34)}function Fn(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,In,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("strutture.areeScoperte.comune").errors?null:e.fabbricatoForm.get("strutture.areeScoperte.comune").errors.required)}}function Mn(i,t){1&i&&l.Ob(0,"p-message",34)}function yn(i,t){1&i&&l.Ob(0,"p-message",62)}function zn(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,Mn,1,0,"p-message",33),l.Mc(2,yn,1,0,"p-message",61),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("strutture.areeScoperte.superficie").errors?null:e.fabbricatoForm.get("strutture.areeScoperte.superficie").errors.required),l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("strutture.areeScoperte.superficie").errors?null:e.fabbricatoForm.get("strutture.areeScoperte.superficie").errors.pattern)}}function En(i,t){1&i&&l.Ob(0,"p-message",34)}function Dn(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,En,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("strutture.areeScoperte.tipoConduzione").errors?null:e.fabbricatoForm.get("strutture.areeScoperte.tipoConduzione").errors.required)}}function Bn(i,t){1&i&&l.Ob(0,"p-message",34)}function Nn(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,Bn,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("strutture.stalle.comune").errors?null:e.fabbricatoForm.get("strutture.stalle.comune").errors.required)}}function Pn(i,t){1&i&&l.Ob(0,"p-message",62)}function _n(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,Pn,1,0,"p-message",61),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("strutture.stalle.volume").errors?null:e.fabbricatoForm.get("strutture.stalle.volume").errors.pattern)}}function Ln(i,t){1&i&&l.Ob(0,"p-message",34)}function kn(i,t){1&i&&l.Ob(0,"p-message",62)}function Rn(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,Ln,1,0,"p-message",33),l.Mc(2,kn,1,0,"p-message",61),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("strutture.stalle.superficie").errors?null:e.fabbricatoForm.get("strutture.stalle.superficie").errors.required),l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("strutture.stalle.superficie").errors?null:e.fabbricatoForm.get("strutture.stalle.superficie").errors.pattern)}}function wn(i,t){1&i&&l.Ob(0,"p-message",34)}function xn(i,t){if(1&i&&(l.Tb(0,"div"),l.Mc(1,wn,1,0,"p-message",33),l.Sb()),2&i){var e=l.fc(3);l.Bb(1),l.mc("ngIf",null==e.fabbricatoForm.get("strutture.stalle.tipoConduzione").errors?null:e.fabbricatoForm.get("strutture.stalle.tipoConduzione").errors.required)}}function Gn(i,t){if(1&i){var e=l.Ub();l.Tb(0,"div",137),l.Tb(1,"p-tabView",138),l.Tb(2,"p-tabPanel",139),l.Tb(3,"div",40),l.Tb(4,"div",140),l.Tb(5,"div",14),l.Tb(6,"label",94),l.Oc(7,"Denominazione"),l.Sb(),l.Ob(8,"input",95),l.Sb(),l.Tb(9,"div",14),l.Tb(10,"label",96),l.Oc(11,"Indirizzo"),l.Sb(),l.Ob(12,"input",97),l.Sb(),l.Tb(13,"div",14),l.Tb(14,"label",98),l.Oc(15,"Comune Amministrativo*"),l.Sb(),l.Ob(16,"input",99),l.Mc(17,tn,2,1,"div",17),l.Sb(),l.Tb(18,"div",55),l.Tb(19,"label",141),l.Oc(20,"Copertura*"),l.Sb(),l.Ob(21,"p-dropdown",142),l.Mc(22,an,2,1,"div",17),l.Sb(),l.Ob(23,"div",55),l.Tb(24,"div",14),l.Tb(25,"label",143),l.Oc(26,"Superficie (mq.)*"),l.Sb(),l.Tb(27,"input",144),l.bc("blur",(function(){return l.Ec(e),l.fc(2).calcVolume("LETAMI")})),l.Sb(),l.Mc(28,nn,3,2,"div",17),l.Sb(),l.Tb(29,"div",14),l.Tb(30,"label",145),l.Oc(31,"Altezza (m)*"),l.Sb(),l.Tb(32,"input",146),l.bc("blur",(function(){return l.Ec(e),l.fc(2).calcVolume("LETAMI")})),l.Sb(),l.Mc(33,sn,3,2,"div",17),l.Sb(),l.Tb(34,"div",14),l.Tb(35,"label",100),l.Oc(36,"Volume (mc.)*"),l.Sb(),l.Ob(37,"input",147),l.Sb(),l.Tb(38,"div",55),l.Tb(39,"label",148),l.Oc(40,"Tipo conduzione*"),l.Sb(),l.Ob(41,"p-dropdown",149),l.Mc(42,un,2,1,"div",17),l.Sb(),l.Tb(43,"div",23),l.Tb(44,"label",150),l.Oc(45,"Descrizione sintetica della struttura"),l.Sb(),l.Ob(46,"input",151),l.Sb(),l.Sb(),l.Tb(47,"div",113),l.Tb(48,"div",12),l.Tb(49,"p-footer",41),l.Tb(50,"i"),l.Oc(51," * Campo obbligatorio"),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Tb(52,"p-tabPanel",152),l.Tb(53,"div",40),l.Tb(54,"div",153),l.Tb(55,"div",14),l.Tb(56,"label",94),l.Oc(57,"Denominazione"),l.Sb(),l.Ob(58,"input",95),l.Sb(),l.Tb(59,"div",14),l.Tb(60,"label",96),l.Oc(61,"Indirizzo"),l.Sb(),l.Ob(62,"input",97),l.Sb(),l.Tb(63,"div",14),l.Tb(64,"label",98),l.Oc(65,"Comune Amministrativo*"),l.Sb(),l.Ob(66,"input",99),l.Mc(67,pn,2,1,"div",17),l.Sb(),l.Tb(68,"div",55),l.Tb(69,"label",154),l.Oc(70,"Copertura*"),l.Sb(),l.Ob(71,"p-dropdown",155),l.Mc(72,gn,2,1,"div",17),l.Sb(),l.Ob(73,"div",55),l.Tb(74,"div",14),l.Tb(75,"label",156),l.Oc(76,"Superficie (mq.)*"),l.Sb(),l.Tb(77,"input",157),l.bc("blur",(function(){return l.Ec(e),l.fc(2).calcVolume("LIQUAMI")})),l.Sb(),l.Mc(78,vn,3,2,"div",17),l.Sb(),l.Tb(79,"div",14),l.Tb(80,"label",158),l.Oc(81,"Altezza (m)*"),l.Sb(),l.Tb(82,"input",159),l.bc("blur",(function(){return l.Ec(e),l.fc(2).calcVolume("LIQUAMI")})),l.Sb(),l.Mc(83,On,3,2,"div",17),l.Sb(),l.Tb(84,"div",14),l.Tb(85,"label",100),l.Oc(86,"Volume (mc.)*"),l.Sb(),l.Ob(87,"input",147),l.Sb(),l.Tb(88,"div",55),l.Tb(89,"label",148),l.Oc(90,"Tipo conduzione*"),l.Sb(),l.Ob(91,"p-dropdown",149),l.Mc(92,An,2,1,"div",17),l.Sb(),l.Tb(93,"div",23),l.Tb(94,"label",150),l.Oc(95,"Descrizione sintetica della struttura"),l.Sb(),l.Ob(96,"input",151),l.Sb(),l.Sb(),l.Tb(97,"div",113),l.Tb(98,"div",12),l.Tb(99,"p-footer",41),l.Tb(100,"i"),l.Oc(101," * Campo obbligatorio"),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Tb(102,"p-tabPanel",160),l.Tb(103,"div",40),l.Tb(104,"div",161),l.Tb(105,"div",14),l.Tb(106,"label",162),l.Oc(107,"Denominazione"),l.Sb(),l.Ob(108,"input",163),l.Sb(),l.Tb(109,"div",14),l.Tb(110,"label",164),l.Oc(111,"Indirizzo"),l.Sb(),l.Ob(112,"input",165),l.Sb(),l.Tb(113,"div",14),l.Tb(114,"label",166),l.Oc(115,"Comune Amministrativo*"),l.Sb(),l.Ob(116,"input",167),l.Mc(117,Fn,2,1,"div",17),l.Sb(),l.Tb(118,"div",55),l.Tb(119,"label",168),l.Oc(120,"Superficie scoperta (mq.)*"),l.Sb(),l.Ob(121,"input",169),l.Mc(122,zn,3,2,"div",17),l.Sb(),l.Ob(123,"div",55),l.Tb(124,"div",55),l.Tb(125,"label",170),l.Oc(126,"Tipo conduzione*"),l.Sb(),l.Ob(127,"p-dropdown",171),l.Mc(128,Dn,2,1,"div",17),l.Sb(),l.Tb(129,"div",23),l.Tb(130,"label",172),l.Oc(131,"Descrizione sintetica della struttura"),l.Sb(),l.Ob(132,"input",173),l.Sb(),l.Sb(),l.Tb(133,"div",113),l.Tb(134,"div",12),l.Tb(135,"p-footer",41),l.Tb(136,"i"),l.Oc(137," * Campo obbligatorio"),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Tb(138,"p-tabPanel",174),l.Tb(139,"div",40),l.Tb(140,"div",175),l.Tb(141,"div",14),l.Tb(142,"label",94),l.Oc(143,"Denominazione"),l.Sb(),l.Ob(144,"input",95),l.Sb(),l.Tb(145,"div",14),l.Tb(146,"label",96),l.Oc(147,"Indirizzo"),l.Sb(),l.Ob(148,"input",97),l.Sb(),l.Tb(149,"div",14),l.Tb(150,"label",98),l.Oc(151,"Comune Amministrativo*"),l.Sb(),l.Ob(152,"input",99),l.Mc(153,Nn,2,1,"div",17),l.Sb(),l.Tb(154,"div",55),l.Tb(155,"label",100),l.Oc(156,"Volume (mc.)"),l.Sb(),l.Ob(157,"input",101),l.Mc(158,_n,2,1,"div",17),l.Sb(),l.Tb(159,"div",55),l.Tb(160,"label",143),l.Oc(161,"Superficie (mq.)*"),l.Sb(),l.Ob(162,"input",176),l.Mc(163,Rn,3,2,"div",17),l.Sb(),l.Tb(164,"div",55),l.Tb(165,"label",148),l.Oc(166,"Tipo conduzione*"),l.Sb(),l.Ob(167,"p-dropdown",149),l.Mc(168,xn,2,1,"div",17),l.Sb(),l.Tb(169,"div",23),l.Tb(170,"label",150),l.Oc(171,"Descrizione sintetica della struttura"),l.Sb(),l.Ob(172,"input",151),l.Sb(),l.Sb(),l.Tb(173,"div",113),l.Tb(174,"div",12),l.Tb(175,"p-footer",41),l.Tb(176,"i"),l.Oc(177," * Campo obbligatorio"),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb()}if(2&i){var a=l.fc(2);l.Bb(1),l.mc("activeIndex",a.activeTab),l.Bb(1),l.mc("selected",a.sottoTipoLogiaSelected===a.sottoTipologiaZootecnia.STOCCAGGIO_LETAMI)("disabled",a.sottoTipoLogiaSelected!=a.sottoTipologiaZootecnia.STOCCAGGIO_LETAMI),l.Bb(6),l.mc("maxlength",100),l.Bb(4),l.mc("maxlength",50),l.Bb(4),l.mc("maxlength",50),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("strutture.stoccaggioLetami.comune").invalid&&(a.fabbricatoForm.get("strutture.stoccaggioLetami.comune").dirty||a.fabbricatoForm.get("strutture.stoccaggioLetami.comune").touched)),l.Bb(4),l.mc("disabled",a.READONLY_MODE)("options",a.tipologicheService.copertura),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("strutture.stoccaggioLetami.copertura").invalid&&(a.fabbricatoForm.get("strutture.stoccaggioLetami.copertura").dirty||a.fabbricatoForm.get("strutture.stoccaggioLetami.copertura").touched)),l.Bb(5),l.mc("maxlength",20),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("strutture.stoccaggioLetami.superficie").invalid&&(a.fabbricatoForm.get("strutture.stoccaggioLetami.superficie").dirty||a.fabbricatoForm.get("strutture.stoccaggioLetami.superficie").touched)),l.Bb(4),l.mc("maxlength",10),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("strutture.stoccaggioLetami.altezza").invalid&&(a.fabbricatoForm.get("strutture.stoccaggioLetami.altezza").dirty||a.fabbricatoForm.get("strutture.stoccaggioLetami.altezza").touched)),l.Bb(4),l.mc("maxlength",10),l.Bb(4),l.mc("disabled",a.READONLY_MODE)("options",a.tipologicheService.tipoConduzione),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("strutture.stoccaggioLetami.tipoConduzione").invalid&&(a.fabbricatoForm.get("strutture.stoccaggioLetami.tipoConduzione").dirty||a.fabbricatoForm.get("strutture.stoccaggioLetami.tipoConduzione").touched)),l.Bb(4),l.mc("maxlength",200),l.Bb(6),l.mc("selected",a.sottoTipoLogiaSelected===a.sottoTipologiaZootecnia.STOCCAGGIO_LIQUAMI)("disabled",a.sottoTipoLogiaSelected!=a.sottoTipologiaZootecnia.STOCCAGGIO_LIQUAMI),l.Bb(6),l.mc("maxlength",100),l.Bb(4),l.mc("maxlength",50),l.Bb(4),l.mc("maxlength",50),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("strutture.stoccaggioLiquami.comune").invalid&&(a.fabbricatoForm.get("strutture.stoccaggioLiquami.comune").dirty||a.fabbricatoForm.get("strutture.stoccaggioLiquami.comune").touched)),l.Bb(4),l.mc("disabled",a.READONLY_MODE)("options",a.tipologicheService.copertura),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("strutture.stoccaggioLiquami.copertura").invalid&&(a.fabbricatoForm.get("strutture.stoccaggioLiquami.copertura").dirty||a.fabbricatoForm.get("strutture.stoccaggioLiquami.copertura").touched)),l.Bb(5),l.mc("maxlength",20),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("strutture.stoccaggioLiquami.superficie").invalid&&(a.fabbricatoForm.get("strutture.stoccaggioLiquami.superficie").dirty||a.fabbricatoForm.get("strutture.stoccaggioLiquami.superficie").touched)),l.Bb(4),l.mc("maxlength",10),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("strutture.stoccaggioLiquami.altezza").invalid&&(a.fabbricatoForm.get("strutture.stoccaggioLiquami.altezza").dirty||a.fabbricatoForm.get("strutture.stoccaggioLiquami.altezza").touched)),l.Bb(4),l.mc("maxlength",10),l.Bb(4),l.mc("disabled",a.READONLY_MODE)("options",a.tipologicheService.tipoConduzione),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("strutture.stoccaggioLiquami.tipoConduzione").invalid&&(a.fabbricatoForm.get("strutture.stoccaggioLiquami.tipoConduzione").dirty||a.fabbricatoForm.get("strutture.stoccaggioLiquami.tipoConduzione").touched)),l.Bb(4),l.mc("maxlength",200),l.Bb(6),l.mc("selected",a.sottoTipoLogiaSelected===a.sottoTipologiaZootecnia.AREE_SCOPERTE)("disabled",a.sottoTipoLogiaSelected!=a.sottoTipologiaZootecnia.AREE_SCOPERTE),l.Bb(6),l.mc("maxlength",100),l.Bb(4),l.mc("maxlength",50),l.Bb(4),l.mc("maxlength",50),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("strutture.areeScoperte.comune").invalid&&(a.fabbricatoForm.get("strutture.areeScoperte.comune").dirty||a.fabbricatoForm.get("strutture.areeScoperte.comune").touched)),l.Bb(4),l.mc("maxlength",20),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("strutture.areeScoperte.superficie").invalid&&(a.fabbricatoForm.get("strutture.areeScoperte.superficie").dirty||a.fabbricatoForm.get("strutture.areeScoperte.superficie").touched)),l.Bb(5),l.mc("disabled",a.READONLY_MODE)("options",a.tipologicheService.tipoConduzione),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("strutture.areeScoperte.tipoConduzione").invalid&&(a.fabbricatoForm.get("strutture.areeScoperte.tipoConduzione").dirty||a.fabbricatoForm.get("strutture.areeScoperte.tipoConduzione").touched)),l.Bb(4),l.mc("maxlength",200),l.Bb(6),l.mc("selected",a.sottoTipoLogiaSelected===a.sottoTipologiaZootecnia.STALLE)("disabled",a.sottoTipoLogiaSelected!=a.sottoTipologiaZootecnia.STALLE),l.Bb(6),l.mc("maxlength",100),l.Bb(4),l.mc("maxlength",50),l.Bb(4),l.mc("maxlength",50),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("strutture.stalle.comune").invalid&&(a.fabbricatoForm.get("strutture.stalle.comune").dirty||a.fabbricatoForm.get("strutture.stalle.comune").touched)),l.Bb(4),l.mc("maxlength",10),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("strutture.stalle.volume").invalid&&(a.fabbricatoForm.get("strutture.stalle.volume").dirty||a.fabbricatoForm.get("strutture.stalle.volume").touched)),l.Bb(4),l.mc("maxlength",20),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("strutture.stalle.superficie").invalid&&(a.fabbricatoForm.get("strutture.stalle.superficie").dirty||a.fabbricatoForm.get("strutture.stalle.superficie").touched)),l.Bb(4),l.mc("disabled",a.READONLY_MODE)("options",a.tipologicheService.tipoConduzione),l.Bb(1),l.mc("ngIf",a.fabbricatoForm.get("strutture.stalle.tipoConduzione").invalid&&(a.fabbricatoForm.get("strutture.stalle.tipoConduzione").dirty||a.fabbricatoForm.get("strutture.stalle.tipoConduzione").touched)),l.Bb(4),l.mc("maxlength",200)}}function Vn(i,t){1&i&&(l.Tb(0,"div",37),l.Tb(1,"p-accordionTab",136),l.Mc(2,Gn,178,63,"ng-template",39),l.Sb(),l.Sb()),2&i&&(l.Bb(1),l.mc("selected",!0))}var Un,qn=function(){return{marginTop:"70px"}},Qn=function(){return{width:"80vw",height:"90vh"}},jn=function(){return{"overflow-y":"auto","overflow-x":"hidden"}},Zn=((Un=function(){function i(t,e,a,o,c,n,r,s,b){_classCallCheck(this,i),this.tipologicheService=t,this.httpClientTipologieService=e,this.dotazioneTecnicaBuilderService=a,this.dotazioneTecnicaService=o,this.formService=c,this.errorService=n,this.messageService=r,this.fascicoloDettaglioService=s,this.formatConverterService=b,this.onHideDialog=new l.n,this.tipologiaFabbricato=je,this.sottoTipologiaZootecnia=Ze,this.infoCatasto={}}return _createClass(i,[{key:"ngOnDestroy",value:function(){this.getTipologieSubscription&&this.getTipologieSubscription.unsubscribe(),this.getSottoTipologieSubscription&&this.getSottoTipologieSubscription.unsubscribe(),this.getSottoTipoSubscription&&this.getSottoTipoSubscription.unsubscribe(),this.postFabbricatoSubscription&&this.postFabbricatoSubscription.unsubscribe()}},{key:"ngOnInit",value:function(){this.initForm(),this.initData(),this.getTipologia()}},{key:"open",value:function(i,t,e,a,o){if(this.display=!0,this.cuaa=t,this.dettaglioFabbricato=e,this.particelleList=[],this.particellaModificaInCorso=null,null==this.dettaglioFabbricato)this.READONLY_MODE=!1,this.EDIT_MODE=!1,this.fabbricatoForm.get("tipologiaFabbricato").enable(),this.fabbricatoForm.get("sottoTipologiaFabbricato").enable(),this.fabbricatoForm.get("sottoTipo").enable(),this.initData(),this.initForm();else{if(this.READONLY_MODE=i,this.EDIT_MODE=!0,this.initData(),this.particelleList=this.dotazioneTecnicaBuilderService.toParticelleVm(a),e.type===Oo.a.STRUMENTALE)this.setupFabbricatoStrumentale(),this.getSottoTipologieFabbricatiOSerre(this.dettaglioFabbricato.tipologiaFabbricato);else if(e.type===Oo.a.SERRA)this.setupSerre(),this.getSottoTipologieFabbricatiOSerre(this.dettaglioFabbricato.tipologiaFabbricato);else{var c=this.tipologicheService.tipologiaFabbricato.filter((function(i){return i.label==je.STRUTTURE_ZOOTECNICHE.split("_").join(" ")}))[0];this.dettaglioFabbricato.tipologiaFabbricato=c,this.checkOpenZootecniaTab(e),this.getSottoTipologieZootecnia(),this.getSottoTipoByValueSottoTipologia(this.dettaglioFabbricato.sottoTipologiaFabbricato)}this.initForm(this.dettaglioFabbricato)}}},{key:"onSelectTrentinoInOut",value:function(i){var t=this;console.log("Selezionato: ",i),this.fabbricatoForm.get("datiCatastali").reset(),setTimeout((function(){t.fabbricatoForm.get("datiCatastali").get("tipologia").reset(),t.fabbricatoForm.get("datiCatastali").get("tipologia").setErrors({required:null}),t.fabbricatoForm.get("datiCatastali").get("tipologia").updateValueAndValidity()}))}},{key:"onSelectTipologiaCatasto",value:function(i){this.fabbricatoForm.get("fuoriTrentino").value?this.setCatastoFuoriTrentino():(this.setCatastoInTrentino(),this.getElencoSubalterniParticellaCatasto())}},{key:"getElencoSubalterniParticellaCatasto",value:function(){var i=this,t=this.fabbricatoForm.get("datiCatastali").value.particella,e=this.fabbricatoForm.get("datiCatastali").value.comune,a=this.fabbricatoForm.get("datiCatastali.tipologia").value;t&&e&&"EDIFICIALE"===a&&(this.subalternoList=[],this.dotazioneTecnicaService.getElencoSubalterniParticellaCatasto(t,e).subscribe((function(t){t&&t.forEach((function(t){i.subalternoList.push({label:t,value:t})}))})))}},{key:"onSelectTipologia",value:function(i){if(this.closeAccordion(),this.fabbricatoForm.get("sottoTipologiaFabbricato").reset(),this.fabbricatoForm.get("sottoTipo").reset(),null==i.value)return this.tipologicheService.sottoTipologiaFabbricato=[],this.tipologicheService.sottoTipologiaFabbricato.unshift({label:"Seleziona una sotto tipologia",value:null}),this.tipologicheService.sottoTipoFabbricato=[],void this.tipologicheService.sottoTipoFabbricato.unshift({label:"Seleziona un sotto tipo",value:null});var t=this.tipologicheService.tipologiaFabbricato.filter((function(t){return t.value==i.value}))[0];this.getSottoTipologie(t)}},{key:"aggiungiParticellaFuoriTrentino",value:function(i){i.preventDefault(),this.formService.validateForm(this.fabbricatoForm.get("datiCatastali"));var t=this.formService.getInvalids(this.fabbricatoForm.get("datiCatastali"));if(console.log("ADDING PARTICELLA FUORI TRENTINO",this.fabbricatoForm.get("datiCatastali").value),console.log("INVALID FIELDS....",t),this.fabbricatoForm.get("datiCatastali").valid){var e=this.fabbricatoForm.get("datiCatastali").value,a=this.dotazioneTecnicaBuilderService.buildParticellaFuoriTrentino(e);return this.particelleList.push(a),this.fabbricatoForm.get("datiCatastali").reset(),!0}return this.validateAllFormFields(this.fabbricatoForm.get("datiCatastali")),this.errorService.showErrorWithMessage("E\u2019 necessario compilare i campi obbligatori!","tst-fabbricati"),!1}},{key:"aggiornaParticellaFuoriTrentino",value:function(i){this.aggiungiParticellaFuoriTrentino(i)&&(this.eliminaParticella(this.particellaModificaInCorso),this.particellaModificaInCorso=null)}},{key:"aggiungiParticellaInTrentino",value:function(i){var t=this;i.preventDefault(),this.formService.validateForm(this.fabbricatoForm.get("datiCatastali"));var e=this.formService.getInvalids(this.fabbricatoForm.get("datiCatastali"));if(console.log("ADDING PARTICELLA IN TRENTINO",this.fabbricatoForm.get("datiCatastali").value),console.log("INVALID FIELDS....",e),!this.fabbricatoForm.get("datiCatastali").valid)return this.validateAllFormFields(this.fabbricatoForm.get("datiCatastali")),void this.errorService.showErrorWithMessage("E\u2019 necessario compilare i campi obbligatori!","tst-fabbricati");var a=this.fabbricatoForm.get("datiCatastali").value.comune,o=this.fabbricatoForm.get("datiCatastali").value.particella,c=this.fabbricatoForm.get("datiCatastali").value.denominatore,n=this.fabbricatoForm.get("datiCatastali").value.tipologia,r=this.fabbricatoForm.get("datiCatastali").value.subalterno;this.dotazioneTecnicaService.verificaParticellaCatasto(o,c,n,a,r).subscribe((function(i){var e;i?(t.infoCatasto.categoria=i.categoria,t.infoCatasto.consistenza=i.consistenza,t.infoCatasto.indirizzo=i.indirizzo,t.infoCatasto.note=i.note,t.infoCatasto.superficie=null===(e=i.superficie)||void 0===e?void 0:e.toString(),t.messageService.add({key:"aggiungiParticellaInTrentino",sticky:!0,severity:"warn",summary:"Comune catastale "+i.comune+", Particella "+i.particella+", Denominatore "+i.denominatore+", Tipologia "+i.tipologia+", Sub "+i.sub,detail:"Si desidera procedere con l\u2019inserimento dei dati recuperati?"})):t.messageService.add(p.a.getToast("tst-fabbricati",p.b.warn,"Particella non trovata"))}),(function(i){t.messageService.add(p.a.getToast("tst-fabbricati",p.b.error,i.error.message))}))}},{key:"onConfirmAggiornaDichiarazione",value:function(){var i=this.fabbricatoForm.get("datiCatastali").value;console.log("Particella da aggiungere: ",i);var t=this.dotazioneTecnicaBuilderService.buildParticellaInTrentino(i,this.infoCatasto);this.particelleList.push(t),this.onRejectAggiornaDichiarazione()}},{key:"onRejectAggiornaDichiarazione",value:function(){this.fabbricatoForm.get("datiCatastali").reset(),this.messageService.clear("aggiungiParticellaInTrentino")}},{key:"eliminaParticella",value:function(i){var t=this;this.particelleList=this.particelleList.filter((function(e){return!t.equalsParticella(e,i)}))}},{key:"modificaParticella",value:function(i){var t=this;this.particellaModificaInCorso=null,i.inTrentino?this.fabbricatoForm.get("fuoriTrentino").setValue(!1):this.fabbricatoForm.get("fuoriTrentino").setValue(!0),this.fabbricatoForm.get("datiCatastali").get("sezione").setValue(i.sezione),this.fabbricatoForm.get("datiCatastali").get("foglio").setValue(i.foglio),this.fabbricatoForm.get("datiCatastali").get("subalterno").setValue(i.subalterno),this.fabbricatoForm.get("datiCatastali").get("particella").setValue(i.particella),this.fabbricatoForm.get("datiCatastali").get("tipologia").setValue(i.tipologia),this.fabbricatoForm.get("datiCatastali").get("comune").setValue(i.comuneCatastale),this.fabbricatoForm.get("datiCatastali").get("denominatore").setValue(i.denominatore),this.particelleList.forEach((function(e){t.equalsParticella(e,i)&&(t.particellaModificaInCorso=e)}))}},{key:"annullaModifica",value:function(i){i.preventDefault(),this.particellaModificaInCorso=null,this.fabbricatoForm.get("datiCatastali").get("sezione").setValue(null),this.fabbricatoForm.get("datiCatastali").get("foglio").setValue(null),this.fabbricatoForm.get("datiCatastali").get("subalterno").setValue(null),this.fabbricatoForm.get("datiCatastali").get("particella").setValue(null),this.fabbricatoForm.get("datiCatastali").get("tipologia").setValue(null),this.fabbricatoForm.get("datiCatastali").get("comune").setValue(null),this.fabbricatoForm.get("datiCatastali").get("denominatore").setValue(null),this.formService.resetForm(this.fabbricatoForm.get("datiCatastali"))}},{key:"onSelectAccordion",value:function(i){}},{key:"onSelectSottoTipologia",value:function(i){if(null==i.value)return this.tipologicheService.sottoTipoFabbricato=[],this.tipologicheService.sottoTipoFabbricato.unshift({label:"Seleziona un sotto tipo",value:null}),void(this.struttureEnabled=!1);var t=this.tipologicheService.sottoTipologiaFabbricato&&this.tipologicheService.sottoTipologiaFabbricato.filter((function(t){return t.value==i.value}))[0];this.getSottoTipoByValueSottoTipologia(t),this.fabbricatoForm.get("sottoTipo").reset()}},{key:"onSelectSottoTipo",value:function(i){null!=i.value&&(this.struttureEnabled=!0)}},{key:"isSelctedStruttureZootecniche",value:function(){var i,t=this.fabbricatoForm.get("tipologiaFabbricato").value;if(null==t)return!1;var e=null===(i=this.tipologicheService.tipologiaFabbricato)||void 0===i?void 0:i.filter((function(i){return i.value==t}))[0];return(null==e?void 0:e.label.split(" ").join("_"))===je.STRUTTURE_ZOOTECNICHE}},{key:"calcVolume",value:function(i){if("LIQUAMI"===i){var t=this.formatConverterService.toNumber(this.fabbricatoForm.get("strutture.stoccaggioLiquami.superficie").value),e=this.formatConverterService.toNumber(this.fabbricatoForm.get("strutture.stoccaggioLiquami.altezza").value);this.fabbricatoForm.get("strutture.stoccaggioLiquami.volume").setValue(t*e)}else if("LETAMI"===i){var a=this.formatConverterService.toNumber(this.fabbricatoForm.get("strutture.stoccaggioLetami.superficie").value),o=this.formatConverterService.toNumber(this.fabbricatoForm.get("strutture.stoccaggioLetami.altezza").value);this.fabbricatoForm.get("strutture.stoccaggioLetami.volume").setValue(a*o)}}},{key:"annulla",value:function(){this.closeDialog(!1)}},{key:"onSubmit",value:function(i){var t=this;i.preventDefault();var e=this.fabbricatoForm.get("tipologiaFabbricato").value,a=this.tipologicheService.tipologiaFabbricato.filter((function(i){return i.value==e}))[0],o=this.disableValidatorsByTipologiaAndGetType(a.label.split(" ").join("_"));this.formService.validateFormWithSkip(this.fabbricatoForm,["datiCatastali"]);var c=this.formService.getInvalids(this.fabbricatoForm);if(console.log("INVALID FIELDS....",c),this.particelleList&&this.particelleList.length){if(!this.fabbricatoForm.valid&&c.length>1||!this.fabbricatoForm.valid&&1==c.length&&"datiCatastali"!=c[0].name)return this.validateAllFormFields(this.fabbricatoForm),void this.errorService.showErrorWithMessage("E\u2019 necessario compilare i campi obbligatori!","tst-fabbricati");var n=this.fabbricatoForm.value;this.EDIT_MODE&&(n.id=this.dettaglioFabbricato.id,n.tipologiaFabbricato=this.classificazioneFabbricatoVM.tipologiaFabbricato,n.sottoTipologiaFabbricato=this.classificazioneFabbricatoVM.sottoTipologiaFabbricato,n.sottoTipo=this.classificazioneFabbricatoVM.sottoTipo);var r=this.dotazioneTecnicaBuilderService.toDettaglioFabbricatoDto(n,o,this.dotazioneTecnicaBuilderService.toParticelleDto(this.particelleList));console.log("SAVING FABBRICATO....",r),this.postFabbricatoSubscription=this.dotazioneTecnicaService.postFabbricato(this.cuaa,r).subscribe((function(i){var e=t.fascicoloDettaglioService.fascicoloCorrente.value;e.stato!==w.c.IN_AGGIORNAMENTO&&(e.stato=w.c.IN_AGGIORNAMENTO,t.fascicoloDettaglioService.fascicoloCorrente.next(e)),t.messageService.add(p.a.getToast("tst-fabbricati",p.b.success,"Il fabbricato \xe8 stato inserito con successo!")),t.closeDialog(!0)}),(function(i){return t.errorService.showError(i,"tst-fabbricati")}))}else this.errorService.showErrorWithMessage("Attenzione! Particella non presente o non valida: non \xe8 possibile procedere con l\u2019inserimento.","tst-fabbricati")}},{key:"disabledAccordionParticelle",value:function(){return this.isSelctedStruttureZootecniche()?!this.fabbricatoForm.get("sottoTipo").value:this.fabbricatoForm.get("sottoTipologiaFabbricato").invalid}},{key:"getSottoTipologie",value:function(i){i.label.split(" ").join("_")===je.STRUTTURE_ZOOTECNICHE?this.getSottoTipologieZootecnia():i.label.split(" ").join("_")===je.FABBRICATI_STRUMENTALI?(this.setupFabbricatoStrumentale(),this.getSottoTipologieFabbricatiOSerre(i)):i.label.split(" ").join("_")===je.SERRE_E_PROTEZIONI?(this.setupSerre(),this.getSottoTipologieFabbricatiOSerre(i)):this.errorService.showErrorWithMessage("Non \xe8 possibile caricare le tipologie di fabbricato relative a "+i.label,"tst-fabbricato")}},{key:"getSottoTipologieZootecnia",value:function(){var i=this;this.getTipologieSubscription=this.httpClientTipologieService.getTipologia(Qe.ZOOTECNIA).subscribe((function(t){(null==t?void 0:t.length)?i.tipologicheService.setSottoTipologiaFabbricato(i.dotazioneTecnicaBuilderService.tipologiaDtoToSelectItemArrayConverter(t)):i.errorService.showErrorWithMessage("Non \xe8 possibile caricare le tipologie di fabbricato","tst-fabbricato")}),(function(t){return i.errorService.showError(t,"tst-fabbricato")}))}},{key:"getSottoTipologieFabbricatiOSerre",value:function(i){var t=this;this.getSottoTipologieSubscription=this.httpClientTipologieService.getSottoTipologieByIdTipologia(i.value).subscribe((function(e){var a;(null===(a=null==e?void 0:e.tipologie)||void 0===a?void 0:a.length)?t.tipologicheService.setSottoTipologiaFabbricato(t.dotazioneTecnicaBuilderService.tipologiaDtoToSelectItemArrayConverter(e.tipologie)):t.errorService.showErrorWithMessage("Non \xe8 possibile caricare le tipologie di fabbricato relative a "+i.label,"tst-fabbricato"),t.disableTipologie()}),(function(i){return t.errorService.showError(i,"tst-fabbricato")}))}},{key:"setupFabbricatoStrumentale",value:function(){this.fabbricatoEnabled=!0,this.READONLY_MODE||(this.enableFabbricato(),this.disableSerre(),this.disableZootecnia(),this.fabbricatoForm.get("sottoTipo").clearValidators())}},{key:"setupSerre",value:function(){this.serreEnabled=!0,this.READONLY_MODE||(this.enableSerre(),this.disableFabbricato(),this.disableZootecnia(),this.fabbricatoForm.get("sottoTipo").clearValidators())}},{key:"checkOpenZootecniaTab",value:function(i){this.READONLY_MODE||(this.disableFabbricato(),this.disableSerre(),this.enableZootecnia(),this.fabbricatoForm.get("sottoTipo").setValidators([u.G.required]),i.sottoTipologiaFabbricato.label.split(" ").join("_")===this.sottoTipologiaZootecnia.STOCCAGGIO_LETAMI?(this.sottoTipoLogiaSelected=this.sottoTipologiaZootecnia.STOCCAGGIO_LETAMI,this.activeTab=0):i.sottoTipologiaFabbricato.label.split(" ").join("_")===this.sottoTipologiaZootecnia.STOCCAGGIO_LIQUAMI?(this.sottoTipoLogiaSelected=this.sottoTipologiaZootecnia.STOCCAGGIO_LIQUAMI,this.activeTab=1):i.sottoTipologiaFabbricato.label.split(" ").join("_")===this.sottoTipologiaZootecnia.AREE_SCOPERTE?(this.sottoTipoLogiaSelected=this.sottoTipologiaZootecnia.AREE_SCOPERTE,this.activeTab=2):i.sottoTipologiaFabbricato.label.split(" ").join("_")===this.sottoTipologiaZootecnia.STALLE&&(this.sottoTipoLogiaSelected=this.sottoTipologiaZootecnia.STALLE,this.activeTab=3),this.enableTipoZootecniaByIndex(this.activeTab))}},{key:"initData",value:function(){this.closeAccordion(),this.cols=[{field:"",header:""},{field:"particella",header:"Numero particella"},{field:"denominatore",header:"Denominatore"},{field:"tipologia",header:"Tipologia"},{field:"inTrentino",header:"In Trentino"},{field:"esito",header:"Esito"},{field:"",header:"Azioni"}],this.tipologicheService.setTipoConduzioneFabbricato(),this.tipologicheService.setCopertura(),this.tipologicheService.setTipologiaCatasto()}},{key:"getTipologia",value:function(){var i=this;this.getTipologieSubscription=this.httpClientTipologieService.getTipologia(Qe.FABBRICATI).subscribe((function(t){t&&t.length?i.tipologicheService.setTipologiaFabbricato(i.dotazioneTecnicaBuilderService.tipologiaDtoToSelectItemArrayConverter(t)):i.errorService.showErrorWithMessage("Non \xe8 possibile caricare un ambito per il fabbricato","tst-fabbricato")}),(function(t){return i.errorService.showError(t,"tst-fabbricato")}))}},{key:"initForm",value:function(i){var t,e,a,o,c,n,r,l,s,b,d,p,m,g,f,h,v,T,S,O,C,A,I,F,M,y,z,E,D,B,N,P,_,L,k,R,w,x,G,V,U,q,Q,j,Z,$,Y,H,K,W,X,J,ii,ti,ei,ai,oi,ci,ni,ri,li,si,bi,ui,di,pi,mi,gi,fi,hi,vi,Ti,Si,Oi,Ci,Ai,Ii,Fi,Mi,yi,zi,Ei,Di,Bi,Ni,Pi,_i,Li,ki,Ri,wi,xi,Gi,Vi,Ui,qi,Qi,ji,Zi,$i;this.fabbricatoForm=new u.j({tipologiaFabbricato:new u.g({value:(null===(t=null==i?void 0:i.tipologiaFabbricato)||void 0===t?void 0:t.value)?i.tipologiaFabbricato.value:null,disabled:this.READONLY_MODE},[u.G.required]),sottoTipologiaFabbricato:new u.g({value:(null===(e=null==i?void 0:i.sottoTipologiaFabbricato)||void 0===e?void 0:e.value)?i.sottoTipologiaFabbricato.value:null,disabled:this.READONLY_MODE},[u.G.required]),sottoTipo:new u.g({value:(null===(a=null==i?void 0:i.sottoTipo)||void 0===a?void 0:a.value)?i.sottoTipo.value:null,disabled:this.READONLY_MODE}),fuoriTrentino:new u.g({value:!!i&&i.fuoriTrentino,disabled:this.READONLY_MODE}),datiCatastali:new u.j({sezione:new u.g({value:(null===(o=null==i?void 0:i.datiCatastali)||void 0===o?void 0:o.sezione)?i.datiCatastali.sezione:null,disabled:this.READONLY_MODE}),foglio:new u.g({value:(null===(c=null==i?void 0:i.datiCatastali)||void 0===c?void 0:c.foglio)?i.datiCatastali.foglio:null,disabled:this.READONLY_MODE}),subalterno:new u.g({value:(null===(n=null==i?void 0:i.datiCatastali)||void 0===n?void 0:n.subalterno)?i.datiCatastali.subalterno:null,disabled:this.READONLY_MODE}),particella:new u.g({value:(null===(r=null==i?void 0:i.datiCatastali)||void 0===r?void 0:r.particella)?i.datiCatastali.particella:null,disabled:this.READONLY_MODE},[u.G.required]),tipologia:new u.g({value:(null===(s=null===(l=null==i?void 0:i.datiCatastali)||void 0===l?void 0:l.tipologia)||void 0===s?void 0:s.value)?i.datiCatastali.tipologia.value:null,disabled:this.READONLY_MODE},[u.G.required]),comune:new u.g({value:(null===(b=null==i?void 0:i.datiCatastali)||void 0===b?void 0:b.comuneCatastale)?i.datiCatastali.comuneCatastale:null,disabled:this.READONLY_MODE}),denominatore:new u.g({value:(null===(d=null==i?void 0:i.datiCatastali)||void 0===d?void 0:d.denominatore)?i.datiCatastali.denominatore:null,disabled:this.READONLY_MODE})}),fabbricati:new u.j({denominazione:new u.g({value:(null===(p=null==i?void 0:i.fabbricati)||void 0===p?void 0:p.denominazione)?i.fabbricati.denominazione:null,disabled:this.READONLY_MODE}),indirizzo:new u.g({value:(null===(m=null==i?void 0:i.fabbricati)||void 0===m?void 0:m.indirizzo)?i.fabbricati.indirizzo:null,disabled:this.READONLY_MODE}),comune:new u.g({value:(null===(g=null==i?void 0:i.fabbricati)||void 0===g?void 0:g.comune)?i.fabbricati.comune:null,disabled:this.READONLY_MODE},[u.G.required]),volume:new u.g({value:(null===(f=null==i?void 0:i.fabbricati)||void 0===f?void 0:f.volume)?i.fabbricati.volume:null,disabled:this.READONLY_MODE}),superficie:new u.g({value:(null===(h=null==i?void 0:i.fabbricati)||void 0===h?void 0:h.superficie)?i.fabbricati.superficie:null,disabled:this.READONLY_MODE},[u.G.required]),superficieCoperta:new u.g({value:(null===(v=null==i?void 0:i.fabbricati)||void 0===v?void 0:v.superficieCoperta)?i.fabbricati.superficieCoperta:null,disabled:this.READONLY_MODE}),superficieScoperta:new u.g({value:(null===(T=null==i?void 0:i.fabbricati)||void 0===T?void 0:T.superficieScoperta)?i.fabbricati.superficieScoperta:null,disabled:this.READONLY_MODE}),tipoConduzione:new u.g({value:(null===(O=null===(S=null==i?void 0:i.fabbricati)||void 0===S?void 0:S.tipoConduzione)||void 0===O?void 0:O.value)?i.fabbricati.tipoConduzione.value:null,disabled:this.READONLY_MODE},[u.G.required]),descrizione:new u.g({value:(null===(C=null==i?void 0:i.fabbricati)||void 0===C?void 0:C.descrizione)?i.fabbricati.descrizione:null,disabled:this.READONLY_MODE})}),serre:new u.j({denominazione:new u.g({value:(null===(A=null==i?void 0:i.serre)||void 0===A?void 0:A.denominazione)?i.serre.denominazione:null,disabled:this.READONLY_MODE}),indirizzo:new u.g({value:(null===(I=null==i?void 0:i.serre)||void 0===I?void 0:I.indirizzo)?i.serre.indirizzo:null,disabled:this.READONLY_MODE}),comune:new u.g({value:(null===(F=null==i?void 0:i.serre)||void 0===F?void 0:F.comune)?i.serre.comune:null,disabled:this.READONLY_MODE},[u.G.required]),volume:new u.g({value:(null===(M=null==i?void 0:i.serre)||void 0===M?void 0:M.volume)?i.serre.volume:null,disabled:this.READONLY_MODE},[u.G.required]),superficie:new u.g({value:(null===(y=null==i?void 0:i.serre)||void 0===y?void 0:y.superficie)?i.serre.superficie:null,disabled:this.READONLY_MODE}),impiantoRiscaldamento:new u.g({value:(null===(z=null==i?void 0:i.serre)||void 0===z?void 0:z.impiantoRiscaldamento)?i.serre.impiantoRiscaldamento:null,disabled:this.READONLY_MODE}),annoCostruzione:new u.g({value:(null===(E=null==i?void 0:i.serre)||void 0===E?void 0:E.annoCostruzione)?i.serre.annoCostruzione:null,disabled:this.READONLY_MODE}),tipologiaMateriale:new u.g({value:(null===(D=null==i?void 0:i.serre)||void 0===D?void 0:D.tipologiaMateriale)?i.serre.tipologiaMateriale:null,disabled:this.READONLY_MODE}),annoAcquisto:new u.g({value:(null===(B=null==i?void 0:i.serre)||void 0===B?void 0:B.annoAcquisto)?i.serre.annoAcquisto:null,disabled:this.READONLY_MODE}),titoloConformitaUrbanistica:new u.g({value:(null===(N=null==i?void 0:i.serre)||void 0===N?void 0:N.titoloConformitaUrbanistica)?i.serre.titoloConformitaUrbanistica:null,disabled:this.READONLY_MODE}),tipoConduzione:new u.g({value:(null===(_=null===(P=null==i?void 0:i.serre)||void 0===P?void 0:P.tipoConduzione)||void 0===_?void 0:_.value)?i.serre.tipoConduzione.value:null,disabled:this.READONLY_MODE},[u.G.required]),descrizione:new u.g({value:(null===(L=null==i?void 0:i.serre)||void 0===L?void 0:L.descrizione)?i.serre.descrizione:null,disabled:this.READONLY_MODE})}),strutture:new u.j({stoccaggioLiquami:new u.j({denominazione:new u.g({value:(null===(R=null===(k=null==i?void 0:i.strutture)||void 0===k?void 0:k.stoccaggioLiquami)||void 0===R?void 0:R.denominazione)?i.strutture.stoccaggioLiquami.denominazione:null,disabled:this.READONLY_MODE}),indirizzo:new u.g({value:(null===(x=null===(w=null==i?void 0:i.strutture)||void 0===w?void 0:w.stoccaggioLiquami)||void 0===x?void 0:x.indirizzo)?i.strutture.stoccaggioLiquami.indirizzo:null,disabled:this.READONLY_MODE}),comune:new u.g({value:(null===(V=null===(G=null==i?void 0:i.strutture)||void 0===G?void 0:G.stoccaggioLiquami)||void 0===V?void 0:V.comune)?i.strutture.stoccaggioLiquami.comune:null,disabled:this.READONLY_MODE},[u.G.required]),copertura:new u.g({value:(null===(q=null===(U=null==i?void 0:i.strutture)||void 0===U?void 0:U.stoccaggioLiquami)||void 0===q?void 0:q.copertura)?i.strutture.stoccaggioLiquami.copertura.value:null,disabled:this.READONLY_MODE},[u.G.required]),superficie:new u.g({value:(null===(j=null===(Q=null==i?void 0:i.strutture)||void 0===Q?void 0:Q.stoccaggioLiquami)||void 0===j?void 0:j.superficie)?i.strutture.stoccaggioLiquami.superficie:null,disabled:this.READONLY_MODE},[u.G.required]),altezza:new u.g({value:(null===($=null===(Z=null==i?void 0:i.strutture)||void 0===Z?void 0:Z.stoccaggioLiquami)||void 0===$?void 0:$.altezza)?i.strutture.stoccaggioLiquami.altezza:null,disabled:this.READONLY_MODE},[u.G.required]),volume:new u.g({value:(null===(H=null===(Y=null==i?void 0:i.strutture)||void 0===Y?void 0:Y.stoccaggioLiquami)||void 0===H?void 0:H.volume)?i.strutture.stoccaggioLiquami.volume:null,disabled:this.READONLY_MODE}),tipoConduzione:new u.g({value:(null===(X=null===(W=null===(K=null==i?void 0:i.strutture)||void 0===K?void 0:K.stoccaggioLiquami)||void 0===W?void 0:W.tipoConduzione)||void 0===X?void 0:X.value)?i.strutture.stoccaggioLiquami.tipoConduzione.value:null,disabled:this.READONLY_MODE},[u.G.required]),descrizione:new u.g({value:(null===(ii=null===(J=null==i?void 0:i.strutture)||void 0===J?void 0:J.stoccaggioLiquami)||void 0===ii?void 0:ii.descrizione)?i.strutture.stoccaggioLiquami.descrizione:null,disabled:this.READONLY_MODE})}),stoccaggioLetami:new u.j({denominazione:new u.g({value:(null===(ei=null===(ti=null==i?void 0:i.strutture)||void 0===ti?void 0:ti.stoccaggioLetami)||void 0===ei?void 0:ei.denominazione)?i.strutture.stoccaggioLetami.denominazione:null,disabled:this.READONLY_MODE}),indirizzo:new u.g({value:(null===(oi=null===(ai=null==i?void 0:i.strutture)||void 0===ai?void 0:ai.stoccaggioLetami)||void 0===oi?void 0:oi.indirizzo)?i.strutture.stoccaggioLetami.indirizzo:null,disabled:this.READONLY_MODE}),comune:new u.g({value:(null===(ni=null===(ci=null==i?void 0:i.strutture)||void 0===ci?void 0:ci.stoccaggioLetami)||void 0===ni?void 0:ni.comune)?i.strutture.stoccaggioLetami.comune:null,disabled:this.READONLY_MODE},[u.G.required]),copertura:new u.g({value:(null===(li=null===(ri=null==i?void 0:i.strutture)||void 0===ri?void 0:ri.stoccaggioLetami)||void 0===li?void 0:li.copertura)?i.strutture.stoccaggioLetami.copertura.value:null,disabled:this.READONLY_MODE},[u.G.required]),altezza:new u.g({value:(null===(bi=null===(si=null==i?void 0:i.strutture)||void 0===si?void 0:si.stoccaggioLetami)||void 0===bi?void 0:bi.altezza)?i.strutture.stoccaggioLetami.altezza:null,disabled:this.READONLY_MODE},[u.G.required]),superficie:new u.g({value:(null===(di=null===(ui=null==i?void 0:i.strutture)||void 0===ui?void 0:ui.stoccaggioLetami)||void 0===di?void 0:di.superficie)?i.strutture.stoccaggioLetami.superficie:null,disabled:this.READONLY_MODE},[u.G.required]),volume:new u.g({value:(null===(mi=null===(pi=null==i?void 0:i.strutture)||void 0===pi?void 0:pi.stoccaggioLetami)||void 0===mi?void 0:mi.volume)?i.strutture.stoccaggioLetami.volume:null,disabled:this.READONLY_MODE}),tipoConduzione:new u.g({value:(null===(hi=null===(fi=null===(gi=null==i?void 0:i.strutture)||void 0===gi?void 0:gi.stoccaggioLetami)||void 0===fi?void 0:fi.tipoConduzione)||void 0===hi?void 0:hi.value)?i.strutture.stoccaggioLetami.tipoConduzione.value:null,disabled:this.READONLY_MODE},[u.G.required]),descrizione:new u.g({value:(null===(Ti=null===(vi=null==i?void 0:i.strutture)||void 0===vi?void 0:vi.stoccaggioLetami)||void 0===Ti?void 0:Ti.descrizione)?i.strutture.stoccaggioLetami.descrizione:null,disabled:this.READONLY_MODE})}),areeScoperte:new u.j({denominazione:new u.g({value:(null===(Oi=null===(Si=null==i?void 0:i.strutture)||void 0===Si?void 0:Si.areeScoperte)||void 0===Oi?void 0:Oi.denominazione)?i.strutture.areeScoperte.denominazione:null,disabled:this.READONLY_MODE}),indirizzo:new u.g({value:(null===(Ai=null===(Ci=null==i?void 0:i.strutture)||void 0===Ci?void 0:Ci.areeScoperte)||void 0===Ai?void 0:Ai.indirizzo)?i.strutture.areeScoperte.indirizzo:null,disabled:this.READONLY_MODE}),comune:new u.g({value:(null===(Fi=null===(Ii=null==i?void 0:i.strutture)||void 0===Ii?void 0:Ii.areeScoperte)||void 0===Fi?void 0:Fi.comune)?i.strutture.areeScoperte.comune:null,disabled:this.READONLY_MODE},[u.G.required]),superficie:new u.g({value:(null===(yi=null===(Mi=null==i?void 0:i.strutture)||void 0===Mi?void 0:Mi.areeScoperte)||void 0===yi?void 0:yi.superficie)?i.strutture.areeScoperte.superficie:null,disabled:this.READONLY_MODE},[u.G.required]),tipoConduzione:new u.g({value:(null===(Di=null===(Ei=null===(zi=null==i?void 0:i.strutture)||void 0===zi?void 0:zi.areeScoperte)||void 0===Ei?void 0:Ei.tipoConduzione)||void 0===Di?void 0:Di.value)?i.strutture.areeScoperte.tipoConduzione.value:null,disabled:this.READONLY_MODE},[u.G.required]),descrizione:new u.g({value:(null===(Ni=null===(Bi=null==i?void 0:i.strutture)||void 0===Bi?void 0:Bi.areeScoperte)||void 0===Ni?void 0:Ni.descrizione)?i.strutture.areeScoperte.descrizione:null,disabled:this.READONLY_MODE})}),stalle:new u.j({denominazione:new u.g({value:(null===(_i=null===(Pi=null==i?void 0:i.strutture)||void 0===Pi?void 0:Pi.stalle)||void 0===_i?void 0:_i.denominazione)?i.strutture.stalle.denominazione:null,disabled:this.READONLY_MODE}),indirizzo:new u.g({value:(null===(ki=null===(Li=null==i?void 0:i.strutture)||void 0===Li?void 0:Li.stalle)||void 0===ki?void 0:ki.indirizzo)?i.strutture.stalle.indirizzo:null,disabled:this.READONLY_MODE}),comune:new u.g({value:(null===(wi=null===(Ri=null==i?void 0:i.strutture)||void 0===Ri?void 0:Ri.stalle)||void 0===wi?void 0:wi.comune)?i.strutture.stalle.comune:null,disabled:this.READONLY_MODE},[u.G.required]),volume:new u.g({value:(null===(Gi=null===(xi=null==i?void 0:i.strutture)||void 0===xi?void 0:xi.stalle)||void 0===Gi?void 0:Gi.volume)?i.strutture.stalle.volume:null,disabled:this.READONLY_MODE}),superficie:new u.g({value:(null===(Ui=null===(Vi=null==i?void 0:i.strutture)||void 0===Vi?void 0:Vi.stalle)||void 0===Ui?void 0:Ui.superficie)?i.strutture.stalle.superficie:null,disabled:this.READONLY_MODE},[u.G.required]),tipoConduzione:new u.g({value:(null===(ji=null===(Qi=null===(qi=null==i?void 0:i.strutture)||void 0===qi?void 0:qi.stalle)||void 0===Qi?void 0:Qi.tipoConduzione)||void 0===ji?void 0:ji.value)?i.strutture.stalle.tipoConduzione.value:null,disabled:this.READONLY_MODE},[u.G.required]),descrizione:new u.g({value:(null===($i=null===(Zi=null==i?void 0:i.strutture)||void 0===Zi?void 0:Zi.stalle)||void 0===$i?void 0:$i.descrizione)?i.strutture.stalle.descrizione:null,disabled:this.READONLY_MODE})})})})}},{key:"disableFabbricato",value:function(){this.fabbricatoForm.get("fabbricati").disable()}},{key:"disableSerre",value:function(){this.fabbricatoForm.get("serre").disable()}},{key:"disableZootecnia",value:function(){this.fabbricatoForm.get("strutture").disable()}},{key:"setCatastoInTrentino",value:function(){this.fabbricatoForm.get("datiCatastali.comune").setValidators([u.G.required,u.G.pattern("^([0-9])+$")]),this.fabbricatoForm.get("datiCatastali.sezione").clearValidators(),this.fabbricatoForm.get("datiCatastali.foglio").clearValidators(),this.fabbricatoForm.updateValueAndValidity()}},{key:"setCatastoFuoriTrentino",value:function(){this.fabbricatoForm.get("datiCatastali.sezione").setValidators([u.G.required]),this.fabbricatoForm.get("datiCatastali.foglio").setValidators([u.G.required,u.G.pattern("^([0-9])+$")]),this.fabbricatoForm.get("datiCatastali.comune").clearValidators(),this.fabbricatoForm.get("datiCatastali.subalterno").clearValidators(),this.fabbricatoForm.updateValueAndValidity()}},{key:"disableTipoStrutturaByIndex",value:function(i){0===i?(this.fabbricatoForm.get("strutture.stoccaggioLiquami").disable(),this.fabbricatoForm.get("strutture.areeScoperte").disable(),this.fabbricatoForm.get("strutture.stalle").disable()):1===i?(this.fabbricatoForm.get("strutture.stoccaggioLetami").disable(),this.fabbricatoForm.get("strutture.areeScoperte").disable(),this.fabbricatoForm.get("strutture.stalle").disable()):2===i?(this.fabbricatoForm.get("strutture.stoccaggioLiquami").disable(),this.fabbricatoForm.get("strutture.stoccaggioLetami").disable(),this.fabbricatoForm.get("strutture.stalle").disable()):3===i&&(this.fabbricatoForm.get("strutture.stoccaggioLiquami").disable(),this.fabbricatoForm.get("strutture.stoccaggioLetami").disable(),this.fabbricatoForm.get("strutture.areeScoperte").disable())}},{key:"enableFabbricato",value:function(){this.fabbricatoForm.get("fabbricati").enable()}},{key:"enableSerre",value:function(){this.fabbricatoForm.get("serre").enable()}},{key:"enableZootecnia",value:function(){this.fabbricatoForm.get("strutture").enable()}},{key:"disableTipologie",value:function(){this.EDIT_MODE&&(this.classificazioneFabbricatoVM={},this.classificazioneFabbricatoVM.tipologiaFabbricato=this.fabbricatoForm.get("tipologiaFabbricato").value,this.classificazioneFabbricatoVM.sottoTipologiaFabbricato=this.fabbricatoForm.get("sottoTipologiaFabbricato").value,this.classificazioneFabbricatoVM.sottoTipo=this.fabbricatoForm.get("sottoTipo").value,this.fabbricatoForm.get("tipologiaFabbricato").disable(),this.fabbricatoForm.get("sottoTipologiaFabbricato").disable(),this.fabbricatoForm.get("sottoTipo").disable())}},{key:"enableTipoZootecniaByIndex",value:function(i){0===i?(this.fabbricatoForm.get("strutture.stoccaggioLetami").enable(),this.fabbricatoForm.get("strutture.stoccaggioLiquami").disable(),this.fabbricatoForm.get("strutture.areeScoperte").disable(),this.fabbricatoForm.get("strutture.stalle").disable()):1===i?(this.fabbricatoForm.get("strutture.stoccaggioLetami").disable(),this.fabbricatoForm.get("strutture.stoccaggioLiquami").enable(),this.fabbricatoForm.get("strutture.areeScoperte").disable(),this.fabbricatoForm.get("strutture.stalle").disable()):2===i?(this.fabbricatoForm.get("strutture.areeScoperte").enable(),this.fabbricatoForm.get("strutture.stoccaggioLiquami").disable(),this.fabbricatoForm.get("strutture.stoccaggioLetami").disable(),this.fabbricatoForm.get("strutture.stalle").disable()):3===i&&(this.fabbricatoForm.get("strutture.stalle").enable(),this.fabbricatoForm.get("strutture.stoccaggioLiquami").disable(),this.fabbricatoForm.get("strutture.stoccaggioLetami").disable(),this.fabbricatoForm.get("strutture.areeScoperte").disable())}},{key:"closeAccordion",value:function(){this.fabbricatoEnabled=!1,this.serreEnabled=!1,this.struttureEnabled=!1}},{key:"getSottoTipoByValueSottoTipologia",value:function(i){return(null==i?void 0:i.label.split(" ").join("_"))===this.sottoTipologiaZootecnia.STOCCAGGIO_LETAMI?(this.struttureEnabled=!0,this.sottoTipoLogiaSelected=this.sottoTipologiaZootecnia.STOCCAGGIO_LETAMI,this.activeTab=0,this.enableTipoZootecniaByIndex(this.activeTab),this.fabbricatoForm.get("sottoTipo").setValidators([u.G.required]),void this.getSottoTipiFabbricato(i)):(null==i?void 0:i.label.split(" ").join("_"))===this.sottoTipologiaZootecnia.STOCCAGGIO_LIQUAMI?(this.struttureEnabled=!0,this.sottoTipoLogiaSelected=this.sottoTipologiaZootecnia.STOCCAGGIO_LIQUAMI,this.activeTab=1,this.enableTipoZootecniaByIndex(this.activeTab),this.fabbricatoForm.get("sottoTipo").setValidators([u.G.required]),void this.getSottoTipiFabbricato(i)):(null==i?void 0:i.label.split(" ").join("_"))===this.sottoTipologiaZootecnia.AREE_SCOPERTE?(this.struttureEnabled=!0,this.sottoTipoLogiaSelected=this.sottoTipologiaZootecnia.AREE_SCOPERTE,this.activeTab=2,this.enableTipoZootecniaByIndex(this.activeTab),this.fabbricatoForm.get("sottoTipo").setValidators([u.G.required]),void this.getSottoTipiFabbricato(i)):(null==i?void 0:i.label.split(" ").join("_"))===this.sottoTipologiaZootecnia.STALLE?(this.struttureEnabled=!0,this.sottoTipoLogiaSelected=this.sottoTipologiaZootecnia.STALLE,this.activeTab=3,this.enableTipoZootecniaByIndex(this.activeTab),this.fabbricatoForm.get("sottoTipo").setValidators([u.G.required]),void this.getSottoTipiFabbricato(i)):void this.fabbricatoForm.get("sottoTipo").clearValidators()}},{key:"getSottoTipiFabbricato",value:function(i){var t=this;this.getSottoTipoSubscription=this.httpClientTipologieService.getSottoTipologieByIdTipologia(i.value).subscribe((function(e){var a;(null===(a=null==e?void 0:e.tipologie)||void 0===a?void 0:a.length)?t.tipologicheService.setSottoTipoFabbricato(t.dotazioneTecnicaBuilderService.tipologiaDtoToSelectItemArrayConverter(e.tipologie)):t.errorService.showErrorWithMessage("Non \xe8 possibile caricare le sotto tipologie di fabbricato relative a "+i.label,"tst-fabbricato"),t.disableTipologie()}),(function(i){return t.errorService.showError(i,"tst-fabbricato")}))}},{key:"validateAllFormFields",value:function(i){var t=this;Object.keys(i.controls).forEach((function(e){var a=i.get(e);a instanceof u.g?a.markAsTouched({onlySelf:!0}):a instanceof u.j&&t.validateAllFormFields(a)}))}},{key:"equalsParticella",value:function(i,t){return i.particella===t.particella&&i.denominatore===t.denominatore&&i.foglio===t.foglio&&i.sezione===t.sezione&&i.tipologia===t.tipologia}},{key:"disableValidatorsByTipologiaAndGetType",value:function(i){return i===je.STRUTTURE_ZOOTECNICHE?(this.disableFabbricato(),this.disableSerre(),this.disableTipoStrutturaByIndex(this.activeTab),0===this.activeTab||1===this.activeTab?Oo.a.STOCCAGGIO:Oo.a.FABBRICATO):i===je.SERRE_E_PROTEZIONI?(this.disableFabbricato(),this.disableZootecnia(),Oo.a.SERRA):i===je.FABBRICATI_STRUMENTALI?(this.disableSerre(),this.disableZootecnia(),Oo.a.STRUMENTALE):void 0}},{key:"closeDialog",value:function(i){this.fabbricatoForm.reset(),this.cuaa=null,this.dettaglioFabbricato=null,this.onHideDialog.emit(i),this.display=!1}},{key:"openAccordionByIndex",value:function(i){this.accordion.tabs.forEach((function(t,e){t.selected=e===i}))}}]),i}()).\u0275fac=function(i){return new(i||Un)(l.Nb(xe.a),l.Nb(Ue.a),l.Nb(Ve.a),l.Nb(So),l.Nb(Re.a),l.Nb(re.a),l.Nb(m.d),l.Nb(k.a),l.Nb(me.a))},Un.\u0275cmp=l.Hb({type:Un,selectors:[["app-popup-nuovo-fabbricato"]],viewQuery:function(i,t){var e;1&i&&l.Uc(Mo,!0),2&i&&l.Ac(e=l.cc())&&(t.accordion=e.first)},outputs:{onHideDialog:"onHideDialog"},decls:35,vars:36,consts:[["key","tst-fabbricato"],["position","center","key","aggiungiParticellaInTrentino",3,"modal","baseZIndex","onClose"],["pTemplate","message"],["id","popup-nuovo-fabbricato","header","Fabbricato","position","center","styleClass","large-dialog",3,"visible","focusOnShow","modal","closable","closeOnEscape","blockScroll","contentStyle","dismissableMask","visibleChange","onHide"],["dialogNuovoFabbricato",""],["novalidate","",1,"p-grid","h-100",3,"formGroup","ngSubmit"],[1,"p-grid","w-100","m-0"],[1,"p-col-12","p-col-align-start","ui-fluid"],[1,"p-grid"],[1,"w-100",3,"onOpen"],["accordion",""],[1,"p-grid","p-4","boxgrey"],[1,"p-col","p-0"],[1,"p-grid","m-0"],[1,"p-col-4"],["for","tipologia-fabbricato"],["id","tipologia-fabbricato","formControlName","tipologiaFabbricato",3,"disabled","options","onChange"],[4,"ngIf"],["for","sotto-tipologia-fabbricato"],["id","sotto-tipologia-fabbricato","formControlName","sottoTipologiaFabbricato",3,"disabled","options","onChange"],["class","p-col-4",4,"ngIf"],["class","accordion-wrapper dettaglioaccordionmultiple px-2 boxgrey",4,"ngIf"],[1,"p-col-12","p-col-align-end","ui-fluid"],[1,"p-col-12"],[1,"ui-g-9","text-left"],[1,"ui-g-3","text-right"],["pButton","","type","submit","label","Salva Fabbricato",1,"ui-button-text-only","p-1","text-uppercase","font-weight-normal","shadow-none","w-10m",3,"disabled"],[2,"text-align","center"],[1,"pi","pi-exclamation-triangle",2,"font-size","3em"],[1,"ui-g","ui-fluid"],[1,"ui-g-6"],["type","button","pButton","","label","Si",1,"ui-button-success",3,"click"],["type","button","pButton","","label","No",1,"ui-button-secondary",3,"click"],["class","font-12","severity","error","text","Campo Obbligatorio",4,"ngIf"],["severity","error","text","Campo Obbligatorio",1,"font-12"],["for","sotto-tipo-fabbricato"],["id","sotto-tipo-fabbricato","formControlName","sottoTipo",3,"disabled","options","onChange"],[1,"accordion-wrapper","dettaglioaccordionmultiple","px-2","boxgrey"],["header","DATI CATASTALI","cache","false",3,"selected"],["pTemplate","content"],[1,"p-grid","align-self-center"],[1,"p-col"],[1,"color-primary","font-weight-bold"],[1,"p-col-12","pl-3"],["for","scelta-in-out",1,"fs-18","align-text-top"],["id","scelta-in-out","formControlName","fuoriTrentino",1,"large-switch","p-4",3,"disabled","onChange"],["class","p-col-12",4,"ngIf"],["class","p-col-12 p-3",4,"ngIf"],["formGroupName","datiCatastali",1,"p-col","p-0"],["for","comune-catastale-input"],["id","comune-catastale-input","type","text","pInputText","","formControlName","comune","pattern","^([0-9])+$",3,"maxlength","change"],["for","numero-particella-input"],["id","numero-particella-input","type","text","pInputText","","formControlName","particella",3,"maxlength","change"],["for","denominatore-input"],["id","denominatore-input","type","text","pInputText","","formControlName","denominatore",3,"maxlength"],[1,"p-col-6"],["for","tipologia-catasto"],["id","tipologia-catasto","formControlName","tipologia",3,"disabled","options","onChange"],["class","p-col-6",4,"ngIf"],[1,"p-grid","m-0","p-justify-end","p-align-center"],["class","p-col-fixed",4,"ngIf"],["class","font-12","severity","error","text","Formato non valido",4,"ngIf"],["severity","error","text","Formato non valido",1,"font-12"],["for","subalterno-input"],["id","subalterno-input","formControlName","subalterno","editable","true","placeholder","Seleziona o digita un subalterno",3,"options"],[1,"p-col-fixed"],["pButton","","label","AGGIUNGI PARTICELLA","icon","pi pi-plus-circle","iconPos","right",1,"ui-button-secondary","ui-button-text","button-accent-alt",3,"click"],["for","sezione-input"],["id","sezione-input","type","text","pInputText","","formControlName","sezione",3,"maxlength"],["for","foglio"],["id","foglio-input","type","text","pInputText","","formControlName","foglio","pattern","^([0-9])+$",3,"maxlength"],["id","numero-particella-input","type","text","pInputText","","formControlName","particella",3,"maxlength"],["pButton","","class","ui-button-secondary ui-button-text button-accent-alt","label","ANNULLA MODIFICA","icon","pi pi-undo","iconPos","right",3,"click",4,"ngIf"],["pButton","","label","ANNULLA MODIFICA","icon","pi pi-undo","iconPos","right",1,"ui-button-secondary","ui-button-text","button-accent-alt",3,"click"],["pButton","","class","ui-button-secondary ui-button-text button-accent-alt","label","AGGIUNGI PARTICELLA","icon","pi pi-plus-circle","iconPos","right",3,"click",4,"ngIf"],["pButton","","class","ui-button-secondary ui-button-text button-accent-alt","label","AGGIORNA PARTICELLA","icon","pi pi-save","iconPos","right",3,"click",4,"ngIf"],["pButton","","label","AGGIORNA PARTICELLA","icon","pi pi-save","iconPos","right",1,"ui-button-secondary","ui-button-text","button-accent-alt",3,"click"],[1,"p-col-12","p-3"],["pandableRows","true","dataKey","particella",3,"columns","value","autoLayout","paginator","responsive"],["tableParticelle",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],[4,"ngFor","ngForOf"],["href","#",3,"pRowToggler"],["title","Dettaglio particella",3,"ngClass"],[1,"text-center"],["pButton","","type","button","title","Modifica particella","class","icon-button-square","icon","pi pi-pencil",3,"click",4,"ngIf"],["pButton","","type","button","title","Elimina particella","icon","pi pi-times-circle",1,"icon-button-square","ml-2",3,"disabled","click"],["pButton","","type","button","title","Modifica particella","icon","pi pi-pencil",1,"icon-button-square",3,"click"],[3,"ngIf"],["header","FABBRICATI STRUMENTALI","cache","false",3,"selected"],["formGroupName","fabbricati",1,"p-grid","m-0","w-100"],["for","denominazione-input"],["id","denominazione-input","type","text","pInputText","","formControlName","denominazione",3,"maxlength"],["for","indirizzo-input"],["id","indirizzo-input","type","text","pInputText","","formControlName","indirizzo",3,"maxlength"],["for","comune-amministrativo-input"],["id","comune-amministrativo-input","type","text","pInputText","","formControlName","comune",3,"maxlength"],["for","volume-input"],["id","volume-input","pattern","^([0-9])+$","type","text","pInputText","","formControlName","volume",1,"text-right",3,"maxlength"],["for","superficie-totale-input"],["id","superficie-totale-input","pattern","^([0-9])+$","type","text","pInputText","","formControlName","superficie",1,"text-right",3,"maxlength","a4gLimitSumNoInput"],["for","superficie-coperta-input"],["id","superficie-coperta-input","pattern","^([0-9])+$","type","text","pInputText","","formControlName","superficieCoperta",1,"text-right",3,"maxlength","a4gLimitSumNoInput"],["class","font-12","severity","error",3,"text",4,"ngIf"],["for","superficie-scoperta-input"],["id","superficie-scoperta-input","pattern","^([0-9])+$","type","text","pInputText","","formControlName","superficieScoperta",1,"text-right",3,"maxlength","a4gLimitSumNoInput"],["for","tipo-conduzione-fabbricato"],["id","tipo-conduzione-fabbricato","formControlName","tipoConduzione",3,"disabled","options"],["for","descrizione-fabbricato-input"],["id","descrizione-fabbricato-input","type","text","pInputText","","formControlName","descrizione",3,"maxlength"],[1,"p-grid","m-0","w-100"],["class","font-12","severity","error","text","Attenzione! La somma di superficie scoperta e coperta non pu\xf2 eccedere la superficie totale!",4,"ngIf"],["severity","error","text","Attenzione! La somma di superficie scoperta e coperta non pu\xf2 eccedere la superficie totale!",1,"font-12"],["severity","error",1,"font-12",3,"text"],["header","SERRE E PROTEZIONI","cache","false",3,"selected"],["formGroupName","serre",1,"p-grid","m-0","w-100"],["for","superficie-occupata-input"],["id","superficie-occupata-input","pattern","^([0-9])+$","type","text","pInputText","","formControlName","superficie",1,"text-right",3,"maxlength"],["for","anno-costruzione-input"],["id","anno-costruzione-input","pattern","^([0-9])+$","type","text","pInputText","","formControlName","annoCostruzione",1,"text-right",3,"maxlength"],["for","conformita-urbanistica-input"],["id","conformita-urbanistica-input","type","text","pInputText","","formControlName","titoloConformitaUrbanistica",3,"maxlength"],[1,"p-col-6","p-grid","align-content-end"],["for","impianto-riscaldamento-input"],["id","impianto-riscaldamento-input","binary","true",1,"pl-4",3,"formControl"],["for","tipo-conduzione-serre"],["id","tipo-conduzione-serre","formControlName","tipoConduzione",3,"disabled","options"],["for","descrizione-serra-input"],["id","descrizione-serra-input","type","text","pInputText","","formControlName","descrizione",3,"maxlength"],["for","tipologia-materiale-input"],["id","tipologia-materiale-input","type","text","pInputText","","formControlName","tipologiaMateriale",3,"maxlength"],["for","anno-acquisto-input"],["id","anno-acquisto-input","pattern","^([0-9])+$","type","text","pInputText","","formControlName","annoAcquisto",1,"text-right",3,"maxlength"],["header","STRUTTURE ZOOTECNICHE","cache","false",3,"selected"],["formGroupName","strutture",1,"p-grid","m-0","p-0"],[3,"activeIndex"],["header","STOCCAGGIO LETAMI",3,"selected","disabled"],["formGroupName","stoccaggioLetami",1,"p-grid","m-0","w-100"],["for","copertura-letami"],["id","copertura-letami","formControlName","copertura",3,"disabled","options"],["for","superficie-input"],["id","superficie-input","pattern","^([0-9])+$","type","text","pInputText","","formControlName","superficie",1,"text-right",3,"maxlength","blur"],["for","altezza-letami"],["id","altezza-letami","pattern","^([0-9])+$","type","text","pInputText","","formControlName","altezza",1,"text-right",3,"maxlength","blur"],["id","volume-input","pattern","^([0-9])+$","type","text","pInputText","","formControlName","volume","readonly","",1,"text-right",3,"maxlength"],["for","tipo-conduzione-strutture"],["id","tipo-conduzione-strutture","formControlName","tipoConduzione",3,"disabled","options"],["for","descrizione-struttura-input"],["id","descrizione-struttura-input","type","text","pInputText","","formControlName","descrizione",3,"maxlength"],["header","STOCCAGGIO LIQUAMI",3,"selected","disabled"],["formGroupName","stoccaggioLiquami",1,"p-grid","m-0","w-100"],["for","copertura-liquami"],["id","copertura-liquami","formControlName","copertura",3,"disabled","options"],["for","superficie-liquami"],["id","superficie-liquami","pattern","^([0-9])+$","type","text","pInputText","","formControlName","superficie",1,"text-right",3,"maxlength","blur"],["for","altezza-liquami"],["id","altezza-liquami","pattern","^([0-9])+$","type","text","pInputText","","formControlName","altezza",1,"text-right",3,"maxlength","blur"],["header","AREE SCOPERTE",3,"selected","disabled"],["formGroupName","areeScoperte",1,"p-grid","m-0","w-100"],["for","denominazione-aree"],["id","denominazione-aree","type","text","pInputText","","formControlName","denominazione",3,"maxlength"],["for","indirizzo-aree"],["id","indirizzo-aree","type","text","pInputText","","formControlName","indirizzo",3,"maxlength"],["for","comune-amministrativo-aree"],["id","comune-amministrativo-aree","type","text","pInputText","","formControlName","comune",3,"maxlength"],["for","superficie-aree"],["id","superficie-aree","pattern","^([0-9])+$","type","text","pInputText","","formControlName","superficie",1,"text-right",3,"maxlength"],["for","tipo-conduzione-aree"],["id","tipo-conduzione-aree","formControlName","tipoConduzione",3,"disabled","options"],["for","descrizione-struttura-aree"],["id","descrizione-struttura-aree","type","text","pInputText","","formControlName","descrizione",3,"maxlength"],["header","STALLE",3,"selected","disabled"],["formGroupName","stalle",1,"p-grid","m-0","w-100"],["id","superficie-input","pattern","^([0-9])+$","type","text","pInputText","","formControlName","superficie",1,"text-right",3,"maxlength"]],template:function(i,t){1&i&&(l.Ob(0,"p-toast",0),l.Tb(1,"p-toast",1),l.bc("onClose",(function(){return t.onRejectAggiornaDichiarazione()})),l.Mc(2,yo,11,2,"ng-template",2),l.Sb(),l.Tb(3,"p-dialog",3,4),l.bc("visibleChange",(function(i){return t.display=i}))("onHide",(function(){return t.annulla()})),l.Tb(5,"form",5),l.bc("ngSubmit",(function(i){return t.onSubmit(i)})),l.Tb(6,"div",6),l.Tb(7,"div",7),l.Tb(8,"div",8),l.Tb(9,"p-accordion",9,10),l.bc("onOpen",(function(i){return t.onSelectAccordion(i)})),l.Tb(11,"div",11),l.Tb(12,"div",12),l.Tb(13,"div",13),l.Tb(14,"div",14),l.Tb(15,"label",15),l.Oc(16,"Ambito*"),l.Sb(),l.Tb(17,"p-dropdown",16),l.bc("onChange",(function(i){return t.onSelectTipologia(i)})),l.Sb(),l.Mc(18,Eo,2,1,"div",17),l.Sb(),l.Tb(19,"div",14),l.Tb(20,"label",18),l.Oc(21,"Tipologia*"),l.Sb(),l.Tb(22,"p-dropdown",19),l.bc("onChange",(function(i){return t.onSelectSottoTipologia(i)})),l.Sb(),l.Mc(23,Bo,2,1,"div",17),l.Sb(),l.Mc(24,_o,5,3,"div",20),l.Sb(),l.Sb(),l.Sb(),l.Mc(25,Ac,3,1,"div",21),l.Mc(26,Gc,3,1,"div",21),l.Mc(27,Xc,3,1,"div",21),l.Mc(28,Vn,3,1,"div",21),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Tb(29,"div",22),l.Tb(30,"p-footer"),l.Tb(31,"div",23),l.Ob(32,"div",24),l.Tb(33,"div",25),l.Ob(34,"button",26),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&i&&(l.Kc(l.rc(33,qn)),l.Bb(1),l.mc("modal",!0)("baseZIndex",5e3),l.Bb(2),l.Kc(l.rc(34,Qn)),l.Db(t.idValidazione?"title-grey":""),l.mc("visible",t.display)("focusOnShow",!1)("modal",!0)("closable",!0)("closeOnEscape",!0)("blockScroll",!0)("contentStyle",l.rc(35,jn))("dismissableMask",!1),l.Bb(2),l.mc("formGroup",t.fabbricatoForm),l.Bb(4),l.Db(t.idValidazione?"accordion-grey":""),l.Bb(8),l.mc("disabled",t.READONLY_MODE)("options",t.tipologicheService.tipologiaFabbricato),l.Bb(1),l.mc("ngIf",t.fabbricatoForm.get("tipologiaFabbricato").invalid&&(t.fabbricatoForm.get("tipologiaFabbricato").dirty||t.fabbricatoForm.get("tipologiaFabbricato").touched)),l.Bb(4),l.mc("disabled",t.READONLY_MODE)("options",t.tipologicheService.sottoTipologiaFabbricato),l.Bb(1),l.mc("ngIf",t.fabbricatoForm.get("sottoTipologiaFabbricato").invalid&&(t.fabbricatoForm.get("sottoTipologiaFabbricato").dirty||t.fabbricatoForm.get("sottoTipologiaFabbricato").touched)),l.Bb(1),l.mc("ngIf",t.isSelctedStruttureZootecniche()),l.Bb(1),l.mc("ngIf",!t.disabledAccordionParticelle()),l.Bb(1),l.mc("ngIf",t.fabbricatoEnabled),l.Bb(1),l.mc("ngIf",t.serreEnabled),l.Bb(1),l.mc("ngIf",t.struttureEnabled),l.Bb(6),l.Db(t.idValidazione?"button-custom-grey":""),l.mc("disabled",t.READONLY_MODE))},directives:[f.a,m.e,h.a,u.I,u.t,u.k,v.a,S.a,u.s,u.i,r.t,m.b,T.b,ui.b,v.c,Co.a,m.c,Ye.a,u.l,u.c,bi.a,u.z,u.n,K.q,r.s,K.k,r.q,Ao.a,Io.a,u.h,Fo.b,Fo.a],styles:["[_nghost-%COMP%]     .ui-dialog{max-height:100%}[_nghost-%COMP%]     .ui-dialog .ui-dialog-content{height:100%}[_nghost-%COMP%]   p-dropdown[_ngcontent-%COMP%] >   .ui-dropdown label.ui-dropdown-label{height:100%;font-weight:400!important}[_nghost-%COMP%]     input.ui-inputtext.ui-spinner-input:disabled, [_nghost-%COMP%]   input.ui-inputtext[_ngcontent-%COMP%]:disabled{border-bottom:1px dotted;opacity:.9;background:#e8f5e9}[_nghost-%COMP%]     .ui-dropdown.ui-state-disabled .ui-dropdown-label-container>.ui-dropdown-label.ui-inputtext{border-bottom:1px dotted;opacity:.9;background:#b1ddb5}[_nghost-%COMP%]   .cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]     .large-switch>.ui-inputswitch{height:1.5em;width:4em!important}[_nghost-%COMP%]     .large-switch>.ui-inputswitch .ui-inputswitch-slider{font-size:1.5em}[_nghost-%COMP%]     .large-switch>.ui-accordion .ui-accordion-header{margin-top:.25em}[_nghost-%COMP%]   .button-accent-alt[_ngcontent-%COMP%]{border:2px solid #01985a;color:#01985a!important;font-weight:700}[_nghost-%COMP%]   .button-accent-alt[_ngcontent-%COMP%] >   span.ui-button-icon-right.pi{color:#01985a!important;font-size:x-large!important}[_nghost-%COMP%]   .no-wrap[_ngcontent-%COMP%]{white-space:nowrap}[_nghost-%COMP%]   .pr-0_5m[_ngcontent-%COMP%]{padding-right:.5em}[_nghost-%COMP%]   .h-90[_ngcontent-%COMP%]{height:90%}[_nghost-%COMP%]   .button-custom-grey[_ngcontent-%COMP%]{background-color:#9b9b9b!important}[_nghost-%COMP%]   .title-grey[_ngcontent-%COMP%]     .ui-dialog .ui-dialog-titlebar .ui-dialog-title{color:#9b9b9b!important}[_nghost-%COMP%]     .ui-tabview .ui-tabview-nav>li.ui-state-active{background-color:#fff;border-color:#fff}[_nghost-%COMP%]     .ui-tabview .ui-tabview-nav>li.ui-state-active .ui-tabview-title, [_nghost-%COMP%]     .ui-tabview .ui-tabview-nav>li .ui-tabview-title{color:#fff}[_nghost-%COMP%]   .w-5m[_ngcontent-%COMP%]{width:5em}[_nghost-%COMP%]   .w-10m[_ngcontent-%COMP%]{width:10em}[_nghost-%COMP%]     .ui-accordion .ui-accordion-header{border-top:3px solid green}[_nghost-%COMP%]     .ui-accordion .ui-accordion-header>a{text-decoration:none;vertical-align:center;color:#000;background-color:#fff;border:1}[_nghost-%COMP%]     .ui-accordion .ui-icon{color:#000}[_nghost-%COMP%]     .ui-accordion .ui-accordion-content{width:100%;color:#000;background-color:hsla(0,0%,100%,.144);border-block-color:#000}[_nghost-%COMP%]     .ui-accordion-header.ui-icon>a{color:#000;background-color:#fff}[_nghost-%COMP%]     .ui-accordion .ui-accordion-content{border:1}[_nghost-%COMP%]     .ui-accordion .ui-accordion-header>a .ui-accordion-toggle-icon{color:#0d5f3f;float:right}[_nghost-%COMP%]     .ui-accordion .ui-accordion-header>a .ui-accordion-header-text{color:#0d5f3f;border-bottom:solid;font-size:24px;font-weight:700;display:inline-block;padding-bottom:5px}[_nghost-%COMP%]     .ui-dialog-content{padding:0!important}[_nghost-%COMP%]   .icon-button-square[_ngcontent-%COMP%]{background-color:#fff!important;border:1px solid #01985a;border-radius:unset;height:4em!important;width:4em!important;opacity:1}[_nghost-%COMP%]   .icon-button-square[_ngcontent-%COMP%]:disabled{opacity:.35;background-image:none;cursor:auto!important}[_nghost-%COMP%]   .icon-button-square[_ngcontent-%COMP%]:hover{background-color:#e8e8e8!important}[_nghost-%COMP%]   .icon-button-square[_ngcontent-%COMP%] >   span.pi{font-size:x-large!important;color:#01985a!important}"]}),Un),$n=["popupNuovoFabbricato"];function Yn(i,t){1&i&&l.Ob(0,"th",25)}function Hn(i,t){if(1&i&&(l.Tb(0,"th",26),l.Tb(1,"strong"),l.Oc(2),l.Sb(),l.Ob(3,"p-sortIcon",27),l.Sb()),2&i){var e=t.$implicit;l.mc("pSortableColumn",e.field)("pSortableColumnDisabled",null==e.field),l.Bb(2),l.Pc(e.header),l.Bb(1),l.mc("field",e.field)}}function Kn(i,t){if(1&i&&(l.Tb(0,"tr"),l.Mc(1,Yn,1,0,"th",22),l.Mc(2,Hn,4,4,"th",23),l.Tb(3,"th",24),l.Tb(4,"strong"),l.Oc(5,"Azioni"),l.Sb(),l.Sb(),l.Sb()),2&i){var e=t.$implicit,a=l.fc();l.Bb(1),l.mc("ngIf",!a.readonly),l.Bb(1),l.mc("ngForOf",e)}}function Wn(i,t){if(1&i){var e=l.Ub();l.Tb(0,"td",24),l.Tb(1,"button",30),l.bc("click",(function(){l.Ec(e);var i=l.fc().$implicit;return l.fc().deleteFabbricato(i.id)})),l.Sb(),l.Sb()}}function Xn(i,t){if(1&i){var e=l.Ub();l.Tb(0,"tr"),l.Mc(1,Wn,2,0,"td",28),l.Tb(2,"td"),l.Oc(3),l.Sb(),l.Tb(4,"td"),l.Oc(5),l.Sb(),l.Tb(6,"td",24),l.Oc(7),l.Sb(),l.Tb(8,"td",24),l.Oc(9),l.Sb(),l.Tb(10,"td",24),l.Tb(11,"button",29),l.bc("click",(function(){l.Ec(e);var i=t.$implicit;return l.fc().dettaglioFabbricato(i.id)})),l.Sb(),l.Sb(),l.Sb()}if(2&i){var a=t.$implicit,o=l.fc();l.Bb(1),l.mc("ngIf",!o.readonly),l.Bb(2),l.Pc(a.tipologia),l.Bb(2),l.Pc(a.comune),l.Bb(2),l.Pc(a.volume),l.Bb(2),l.Pc(a.superficie),l.Bb(2),l.Db(o.isFascicoloAttuale()?"":"button-custom-grey")}}function Jn(i,t){if(1&i&&(l.Tb(0,"tr"),l.Tb(1,"td"),l.Oc(2,"Nessun contenuto disponibile"),l.Sb(),l.Sb()),2&i){var e=t.$implicit;l.Bb(1),l.Cb("colspan",e.length+2)}}var ir,tr=function(){return{marginTop:"70px"}},er=((ir=function(){function i(t,e,a,o,c,n){_classCallCheck(this,i),this.fascicoloDettaglioService=t,this.route=e,this.dotazioneTecnicaService=a,this.dotazioneTecnicaBuiler=o,this.messageService=c,this.errorService=n}return _createClass(i,[{key:"ngOnInit",value:function(){this.idValidazione=this.route.snapshot.queryParams["id-validazione"];var i=this.fascicoloDettaglioService.fascicoloCorrente.value.stato;this.readonly=i!==w.c.VALIDATO&&i!==w.c.IN_AGGIORNAMENTO||null!=this.idValidazione,this.listaFabbricati=[],this.setCols(),this.getFabbricati()}},{key:"ngOnDestroy",value:function(){this.fabbricatiSubscription&&this.fabbricatiSubscription.unsubscribe(),this.deleteFabbricatoByIdSubscription&&this.deleteFabbricatoByIdSubscription.unsubscribe(),this.getFabbricatiSubscription&&this.getFabbricatiSubscription.unsubscribe(),this.getFabbricatoByIdSubscription&&this.getFabbricatoByIdSubscription.unsubscribe(),this.getFabbricatoByCuaaSubscription&&this.getFabbricatoByCuaaSubscription.unsubscribe()}},{key:"aggiungiFabbricato",value:function(){this.popupNuovoFabbricato.open(!1,this.getCuaa())}},{key:"goBack",value:function(){this.fascicoloDettaglioService.mostraDettaglioSezione.next(R.a.DATI)}},{key:"deleteFabbricato",value:function(i){var t=this;this.deleteFabbricatoByIdSubscription=this.dotazioneTecnicaService.deleteFabbricato(this.getCuaa(),i.toString()).subscribe((function(i){t.messageService.add(p.a.getToast("tst-fabbricati",p.b.success,"Il fabbricato \xe8 stato eliminato dal sistema!")),t.getFabbricati()}),(function(i){return t.errorService.showError(i,"tst-fabbricati")}))}},{key:"dettaglioFabbricato",value:function(i){var t=this;console.log("Dettaglio fabricato Id:"+i),this.getFabbricatoByIdSubscription=this.dotazioneTecnicaService.getFabbricatoByIdAndIdValidazione(this.getCuaa(),i.toString(),this.idValidazione).subscribe((function(i){t.popupNuovoFabbricato.open(t.readonly,t.getCuaa(),t.dotazioneTecnicaBuiler.toDettaglioFabbricatoVM(i,i.type),i.datiCatastali,null!=t.idValidazione?t.idValidazione:null)}),(function(i){return t.errorService.showError(i,"tst-fabbricati")}))}},{key:"onCloseDialog",value:function(i){i&&this.getFabbricati()}},{key:"setCols",value:function(){this.cols=[{field:"tipologia",header:"Tipologia"},{field:"comune",header:"Comune"},{field:"volume",header:"Volume"},{field:"superficie",header:"Superficie"}]}},{key:"getFabbricati",value:function(){var i=this;this.getFabbricatoByCuaaSubscription=this.dotazioneTecnicaService.getFabbricatiByCuaaAndIdValidazione(this.getCuaa(),this.idValidazione).subscribe((function(t){i.listaFabbricati=[],t&&t.length&&(i.listaFabbricati=t,i.listaFabbricati.forEach((function(i){return i.tipologia=i.tipologia.replace(/[_]/g," ")})))}),(function(t){return i.errorService.showError(t,"tst-fabbricati")}))}},{key:"getCuaa",value:function(){var i,t;return null===(t=null===(i=this.fascicoloDettaglioService.fascicoloCorrente)||void 0===i?void 0:i.value)||void 0===t?void 0:t.cuaa}},{key:"isFascicoloAttuale",value:function(){return this.fascicoloDettaglioService.fascicoloCorrente&&null==this.idValidazione}}]),i}()).\u0275fac=function(i){return new(i||ir)(l.Nb(k.a),l.Nb(x.a),l.Nb(So),l.Nb(Ve.a),l.Nb(m.d),l.Nb(re.a))},ir.\u0275cmp=l.Hb({type:ir,selectors:[["app-fabbricati"]],viewQuery:function(i,t){var e;1&i&&l.Uc($n,!0),2&i&&l.Ac(e=l.cc())&&(t.popupNuovoFabbricato=e.first)},decls:25,vars:15,consts:[[3,"onHideDialog"],["popupNuovoFabbricato",""],["key","tst-fabbricati"],[1,"ui-grid-fixed","boxgrey"],[1,"funzioni-grid","boxgrey"],[1,"p-grid","m-0"],[1,"p-col","p-0"],[1,"d-flex","align-items-center","text-decoration-none","color-primary",3,"routerLink","click"],[1,"pi","pi-chevron-left",2,"font-size","2rem","color","black"],["src","assets/img/ico-dotazione.jpg"],[1,"ml-2"],[1,"p-col","w-100","p-0"],[1,"p-col-fixed","p-0"],["pButton","","icon","pi pi-plus-circle","iconPos","right","type","button","label","AGGIUNGI",1,"w-10m","button-large-icon",3,"disabled","click"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],["expandIcon","","collapseIcon",""],["header","FABBRICATI",3,"selected"],["dataKey","identificativo",3,"columns","value","autoLayout","paginator","responsive"],["tableUnita",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["class","text-center","style","width: 3em",4,"ngIf"],["class","text-center",3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[1,"text-center"],[1,"text-center",2,"width","3em"],[1,"text-center",3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"],["class","text-center",4,"ngIf"],["pButton","","type","button","icon","pi pi-arrow-right",1,"icon-button-rect",3,"click"],["pButton","","type","button","icon","pi pi-times-circle",1,"icon-button-circle",3,"click"]],template:function(i,t){1&i&&(l.Tb(0,"app-popup-nuovo-fabbricato",0,1),l.bc("onHideDialog",(function(i){return t.onCloseDialog(i)})),l.Sb(),l.Ob(2,"p-toast",2),l.Tb(3,"div",3),l.Tb(4,"div",4),l.Tb(5,"div",5),l.Tb(6,"div",6),l.Tb(7,"a",7),l.bc("click",(function(){return t.goBack()})),l.Ob(8,"i",8),l.Ob(9,"img",9),l.Tb(10,"span",10),l.Oc(11),l.gc(12,"translate"),l.Sb(),l.Sb(),l.Sb(),l.Ob(13,"div",11),l.Tb(14,"div",12),l.Tb(15,"button",13),l.bc("click",(function(){return t.aggiungiFabbricato()})),l.Sb(),l.Sb(),l.Sb(),l.Ob(16,"br"),l.Tb(17,"div",14),l.Tb(18,"p-accordion",15),l.Tb(19,"p-accordionTab",16),l.Tb(20,"p-table",17,18),l.Mc(22,Kn,6,2,"ng-template",19),l.Mc(23,Xn,12,7,"ng-template",20),l.Mc(24,Jn,3,1,"ng-template",21),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&i&&(l.Bb(2),l.Kc(l.rc(14,tr)),l.Bb(9),l.Qc(" ",l.hc(12,12,"FascicoloAziendale.DOTAZIONE_TECNICA")," "),l.Bb(4),l.Db(t.isFascicoloAttuale()?"":"button-custom-grey"),l.mc("disabled",t.readonly),l.Bb(4),l.mc("selected",!0),l.Bb(1),l.mc("columns",t.cols)("value",t.listaFabbricati)("autoLayout",!0)("paginator",!1)("responsive",!0))},directives:[Zn,f.a,x.h,T.b,v.a,v.c,K.q,m.e,r.t,r.s,K.p,K.o],pipes:[g.d],styles:["[_nghost-%COMP%]   .w-10m[_ngcontent-%COMP%]{width:10em}[_nghost-%COMP%]   .button-large-icon[_ngcontent-%COMP%] >   span.pi{font-size:x-large}[_nghost-%COMP%]   .icon-button-rect[_ngcontent-%COMP%]{background-color:#4caf50!important;border-radius:unset;height:5em!important;width:13em!important;opacity:1}[_nghost-%COMP%]   .icon-button-rect[_ngcontent-%COMP%]:disabled{opacity:.35;background-image:none;cursor:auto!important}[_nghost-%COMP%]   .icon-button-rect[_ngcontent-%COMP%]:hover{background-color:#388e3c!important}[_nghost-%COMP%]   .icon-button-rect[_ngcontent-%COMP%] >   span.ui-button-icon-left{font-size:2.5em}[_nghost-%COMP%]   .icon-button-circle[_ngcontent-%COMP%]{background-color:transparent!important;opacity:1;width:3em!important;height:3em!important}[_nghost-%COMP%]   .icon-button-circle[_ngcontent-%COMP%] >   span.ui-button-icon-left{background:#a9a9a9!important}[_nghost-%COMP%]   .icon-button-circle[_ngcontent-%COMP%] >   span.ui-button-icon-left:hover{background-color:#d3d3d3!important}[_nghost-%COMP%]   .icon-button-circle[_ngcontent-%COMP%]:disabled{opacity:.35;background-image:none;cursor:auto!important}[_nghost-%COMP%]   .icon-button-circle[_ngcontent-%COMP%] >   span.pi{font-size:x-large!important;background:#9ccc65}"]}),ir),ar=function i(){_classCallCheck(this,i)};function or(i,t){if(1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i){var e=l.fc();l.Bb(1),l.Qc(" ",e.fabbricato.ubicazione?e.fabbricato.ubicazione:"ND"," ")}}function cr(i,t){1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i&&(l.Bb(1),l.Pc("Campo Obbligatorio"))}function nr(i,t){if(1&i&&(l.Tb(0,"div",20),l.Mc(1,cr,2,1,"div",15),l.Sb()),2&i){var e=l.fc(2);l.Bb(1),l.mc("ngIf",e.modificaFabbricato.controls.ubicazioneFabbricato.errors.required)}}function rr(i,t){if(1&i&&(l.Tb(0,"div"),l.Tb(1,"span",17),l.Ob(2,"input",18),l.Sb(),l.Mc(3,nr,2,1,"div",19),l.Sb()),2&i){var e=l.fc();l.Bb(2),l.mc("formControl",e.modificaFabbricato.controls.ubicazioneFabbricato),l.Bb(1),l.mc("ngIf",e.modificaFabbricato.controls.ubicazioneFabbricato.invalid&&(e.modificaFabbricato.controls.ubicazioneFabbricato.dirty||e.modificaFabbricato.controls.ubicazioneFabbricato.touched))}}function lr(i,t){if(1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i){var e=l.fc();l.Bb(1),l.Qc(" ",e.fabbricato.tipologia?e.fabbricato.tipologia:"ND"," ")}}function sr(i,t){1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i&&(l.Bb(1),l.Pc("Campo Obbligatorio"))}function br(i,t){if(1&i&&(l.Tb(0,"div",20),l.Mc(1,sr,2,1,"div",15),l.Sb()),2&i){var e=l.fc(2);l.Bb(1),l.mc("ngIf",e.modificaFabbricato.controls.tipologiaFabbricato.errors.required)}}function ur(i,t){if(1&i&&(l.Tb(0,"div"),l.Tb(1,"span",17),l.Ob(2,"input",21),l.Sb(),l.Mc(3,br,2,1,"div",19),l.Sb()),2&i){var e=l.fc();l.Bb(2),l.mc("formControl",e.modificaFabbricato.controls.tipologiaFabbricato),l.Bb(1),l.mc("ngIf",e.modificaFabbricato.controls.tipologiaFabbricato.invalid&&(e.modificaFabbricato.controls.tipologiaFabbricato.dirty||e.modificaFabbricato.controls.tipologiaFabbricato.touched))}}function dr(i,t){if(1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i){var e=l.fc();l.Bb(1),l.Qc(" ",e.fabbricato.destinazione?e.fabbricato.destinazione:"ND"," ")}}function pr(i,t){1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i&&(l.Bb(1),l.Pc("Campo Obbligatorio"))}function mr(i,t){if(1&i&&(l.Tb(0,"div",20),l.Mc(1,pr,2,1,"div",15),l.Sb()),2&i){var e=l.fc(2);l.Bb(1),l.mc("ngIf",e.modificaFabbricato.controls.destinazioneFabbricato.errors.required)}}function gr(i,t){if(1&i&&(l.Tb(0,"div"),l.Tb(1,"span",17),l.Ob(2,"input",22),l.Sb(),l.Mc(3,mr,2,1,"div",19),l.Sb()),2&i){var e=l.fc();l.Bb(2),l.mc("formControl",e.modificaFabbricato.controls.destinazioneFabbricato),l.Bb(1),l.mc("ngIf",e.modificaFabbricato.controls.destinazioneFabbricato.invalid&&(e.modificaFabbricato.controls.destinazioneFabbricato.dirty||e.modificaFabbricato.controls.destinazioneFabbricato.touched))}}function fr(i,t){if(1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i){var e=l.fc();l.Bb(1),l.Qc(" ",e.fabbricato.utilizzatori?e.fabbricato.utilizzatori:"ND"," ")}}function hr(i,t){1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i&&(l.Bb(1),l.Pc("Campo Obbligatorio"))}function vr(i,t){if(1&i&&(l.Tb(0,"div",20),l.Mc(1,hr,2,1,"div",15),l.Sb()),2&i){var e=l.fc(2);l.Bb(1),l.mc("ngIf",e.modificaFabbricato.controls.utilizzatoriFabbricato.errors.required)}}function Tr(i,t){if(1&i&&(l.Tb(0,"div"),l.Tb(1,"span",17),l.Ob(2,"input",23),l.Sb(),l.Mc(3,vr,2,1,"div",19),l.Sb()),2&i){var e=l.fc();l.Bb(2),l.mc("formControl",e.modificaFabbricato.controls.utilizzatoriFabbricato),l.Bb(1),l.mc("ngIf",e.modificaFabbricato.controls.utilizzatoriFabbricato.invalid&&(e.modificaFabbricato.controls.utilizzatoriFabbricato.dirty||e.modificaFabbricato.controls.utilizzatoriFabbricato.touched))}}function Sr(i,t){if(1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i){var e=l.fc();l.Bb(1),l.Qc(" ",e.fabbricato.superficieCoperta?e.fabbricato.superficieCoperta:"ND"," ")}}function Or(i,t){1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i&&(l.Bb(1),l.Pc("Campo Obbligatorio"))}function Cr(i,t){if(1&i&&(l.Tb(0,"div",20),l.Mc(1,Or,2,1,"div",15),l.Sb()),2&i){var e=l.fc(2);l.Bb(1),l.mc("ngIf",e.modificaFabbricato.controls.superficieCopertaFabbricato.errors.required)}}function Ar(i,t){if(1&i&&(l.Tb(0,"div"),l.Tb(1,"span",17),l.Ob(2,"input",24),l.Sb(),l.Mc(3,Cr,2,1,"div",19),l.Sb()),2&i){var e=l.fc();l.Bb(2),l.mc("formControl",e.modificaFabbricato.controls.superficieCopertaFabbricato),l.Bb(1),l.mc("ngIf",e.modificaFabbricato.controls.superficieCopertaFabbricato.invalid&&(e.modificaFabbricato.controls.superficieCopertaFabbricato.dirty||e.modificaFabbricato.controls.superficieCopertaFabbricato.touched))}}function Ir(i,t){if(1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i){var e=l.fc();l.Bb(1),l.Qc(" ",e.fabbricato.superficieScoperta?e.fabbricato.superficieScoperta:"ND"," ")}}function Fr(i,t){1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i&&(l.Bb(1),l.Pc("Campo Obbligatorio"))}function Mr(i,t){if(1&i&&(l.Tb(0,"div",20),l.Mc(1,Fr,2,1,"div",15),l.Sb()),2&i){var e=l.fc(2);l.Bb(1),l.mc("ngIf",e.modificaFabbricato.controls.superficieScopertaFabbricato.errors.required)}}function yr(i,t){if(1&i&&(l.Tb(0,"div"),l.Tb(1,"span",17),l.Ob(2,"input",25),l.Sb(),l.Mc(3,Mr,2,1,"div",19),l.Sb()),2&i){var e=l.fc();l.Bb(2),l.mc("formControl",e.modificaFabbricato.controls.superficieScopertaFabbricato),l.Bb(1),l.mc("ngIf",e.modificaFabbricato.controls.superficieScopertaFabbricato.invalid&&(e.modificaFabbricato.controls.superficieScopertaFabbricato.dirty||e.modificaFabbricato.controls.superficieScopertaFabbricato.touched))}}function zr(i,t){if(1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i){var e=l.fc();l.Bb(1),l.Qc(" ",e.fabbricato.volume?e.fabbricato.volume:"ND"," ")}}function Er(i,t){1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i&&(l.Bb(1),l.Pc("Campo Obbligatorio"))}function Dr(i,t){if(1&i&&(l.Tb(0,"div",20),l.Mc(1,Er,2,1,"div",15),l.Sb()),2&i){var e=l.fc(2);l.Bb(1),l.mc("ngIf",e.modificaFabbricato.controls.volumeFabbricato.errors.required)}}function Br(i,t){if(1&i&&(l.Tb(0,"div"),l.Tb(1,"span",17),l.Ob(2,"input",26),l.Sb(),l.Mc(3,Dr,2,1,"div",19),l.Sb()),2&i){var e=l.fc();l.Bb(2),l.mc("formControl",e.modificaFabbricato.controls.volumeFabbricato),l.Bb(1),l.mc("ngIf",e.modificaFabbricato.controls.volumeFabbricato.invalid&&(e.modificaFabbricato.controls.volumeFabbricato.dirty||e.modificaFabbricato.controls.volumeFabbricato.touched))}}function Nr(i,t){if(1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i){var e=l.fc();l.Bb(1),l.Qc(" ",e.fabbricato.nrPosti?e.fabbricato.nrPosti:"ND"," ")}}function Pr(i,t){1&i&&(l.Tb(0,"div"),l.Oc(1),l.Sb()),2&i&&(l.Bb(1),l.Pc("Campo Obbligatorio"))}function _r(i,t){if(1&i&&(l.Tb(0,"div",20),l.Mc(1,Pr,2,1,"div",15),l.Sb()),2&i){var e=l.fc(2);l.Bb(1),l.mc("ngIf",e.modificaFabbricato.controls.nrPostiFabbricato.errors.required)}}function Lr(i,t){if(1&i&&(l.Tb(0,"div"),l.Tb(1,"span",17),l.Ob(2,"input",27),l.Sb(),l.Mc(3,_r,2,1,"div",19),l.Sb()),2&i){var e=l.fc();l.Bb(2),l.mc("formControl",e.modificaFabbricato.controls.nrPostiFabbricato),l.Bb(1),l.mc("ngIf",e.modificaFabbricato.controls.nrPostiFabbricato.invalid&&(e.modificaFabbricato.controls.nrPostiFabbricato.dirty||e.modificaFabbricato.controls.nrPostiFabbricato.touched))}}function kr(i,t){if(1&i){var e=l.Ub();l.Tb(0,"div"),l.Ob(1,"br"),l.Tb(2,"div",28),l.Ob(3,"div",29),l.Tb(4,"div",30),l.Tb(5,"p",11),l.Tb(6,"button",31),l.bc("click",(function(){return l.Ec(e),l.fc().annullaModifica()})),l.Sb(),l.Sb(),l.Sb(),l.Tb(7,"div",30),l.Tb(8,"p",11),l.Ob(9,"button",32),l.Sb(),l.Sb(),l.Sb(),l.Sb()}if(2&i){var a=l.fc();l.Bb(6),l.mc("disabled",!a.modificaAttiva),l.Bb(3),l.mc("disabled",!a.modificaAttiva)}}var Rr,wr,xr=function(){return{marginTop:"70px"}},Gr=[{path:"",component:Ie,data:{mybreadcrumb:ni.a.FASCICOLO_DETTAGLIO}},{path:"dati-azienda",component:vt,data:{mybreadcrumb:ni.a.FASCICOLO_DETTAGLIO_DATI_AZIENDA}},{path:"modalita-pagamento",component:Lt,data:{mybreadcrumb:ni.a.FASCICOLO_DETTAGLIO_MODALITA_PAGAMENTO}},{path:"eredi",component:Ht,data:{mybreadcrumb:ni.a.FASCICOLO_DETTAGLIO_EREDE}},{path:"allevamenti",component:ke,data:{mybreadcrumb:ni.a.FASCICOLO_DETTAGLIO_ALLEVAMENTI}},{path:"macchine",component:Ua,data:{mybreadcrumb:ni.a.FASCICOLO_MACCHINARI}},{path:"macchine/:idMacchina/dettaglio-macchina",component:To,data:{mybreadcrumb:ni.a.FASCICOLO_DETTAGLIO_MACCHINARI}},{path:"fascicoli-validati",component:Oi,data:{mybreadcrumb:ni.a.FASCICOLI_VALIDATI}},{path:"fabbricati",component:er,data:{mybreadcrumb:ni.a.FASCICOLO_FABBRICATI}},{path:"fabbricati/:idFabbricato/dettaglio-fabbricato",component:(Rr=function(){function i(t,e,a,o,c){_classCallCheck(this,i),this.fb=t,this.route=e,this.fascicoloDettaglioService=a,this.messageService=o,this.router=c,this.cuaa="",this.idFabbricato="",this.modificaAttiva=!1,this.language=si.a.itCalendar()}return _createClass(i,[{key:"ngOnInit",value:function(){this.modificaAttiva=!1,this.cuaa=this.route.snapshot.paramMap.get("cuaa"),this.idFabbricato=this.route.snapshot.paramMap.get("idFabbricato"),this.getFabbricato(this.idFabbricato),this.initForm()}},{key:"ngOnDestroy",value:function(){this.fabbricatiSubscription&&this.fabbricatiSubscription.unsubscribe()}},{key:"initForm",value:function(){this.modificaFabbricato=this.fb.group({destinazioneFabbricato:[this.fabbricato.destinazione,u.G.required],tipologiaFabbricato:[this.fabbricato.tipologia,u.G.required],ubicazioneFabbricato:[this.fabbricato.ubicazione,u.G.required],utilizzatoriFabbricato:[this.fabbricato.utilizzatori,u.G.required],nrPostiFabbricato:[this.fabbricato.nrPosti,u.G.required],superficieCopertaFabbricato:[this.fabbricato.superficieCoperta,u.G.required],superficieScopertaFabbricato:[this.fabbricato.superficieScoperta,u.G.required],volumeFabbricato:[this.fabbricato.volume,u.G.required]})}},{key:"handleClick",value:function(){this.fascicoloDettaglioService.mostraDettaglioSezione.next(R.a.LISTA_FABBRICATI)}},{key:"getFabbricato",value:function(i){this.initDati()}},{key:"initDati",value:function(){this.fabbricato=new ar,this.fabbricato.id=Number(this.idFabbricato),this.fabbricato.destinazione="Agricola",this.fabbricato.tipologia="Propriet\xe0",this.fabbricato.ubicazione="Trento",this.fabbricato.utilizzatori="Utilizzatori",this.fabbricato.volume=777,this.fabbricato.nrPosti=5,this.fabbricato.superficieCoperta=333,this.fabbricato.superficieScoperta=444}},{key:"deleteFabbricato",value:function(i){console.log("Cancello fabbricato id: "+i.toString())}},{key:"dettaglioFabbricato",value:function(i){console.log("Dettaglio fabbricato id: "+i.toString()),this.router.navigate([i.toString()+"/dettaglio-fabbricato"])}},{key:"modificaDettaglio",value:function(){this.initForm(),this.modificaAttiva=!0}},{key:"annullaModifica",value:function(){this.modificaAttiva=!1}},{key:"onSubmit",value:function(){console.log("submit "+this.idFabbricato),this.modificaFabbricato.invalid?this.messageService.add(p.a.getToast("tst-fabbricati",p.b.error,"Dati non validi")):this.salva()}},{key:"salva",value:function(){this.fabbricato.id=Number(this.idFabbricato),this.fabbricato.destinazione=this.modificaFabbricato.value.destinazioneFabbricato,this.fabbricato.tipologia=this.modificaFabbricato.value.tipologiaFabbricato,this.fabbricato.ubicazione=this.modificaFabbricato.value.ubicazioneFabbricato,this.fabbricato.utilizzatori=this.modificaFabbricato.value.utilizzatoriFabbricato,this.fabbricato.volume=this.modificaFabbricato.value.volumeFabbricato,this.fabbricato.nrPosti=this.modificaFabbricato.value.nrPostiFabbricato,this.fabbricato.superficieCoperta=this.modificaFabbricato.value.superficieCopertaFabbricato,this.fabbricato.superficieScoperta=this.modificaFabbricato.value.superficieScopertaFabbricato,this.messageService.add(p.a.getToast("tst-fabbricati",p.b.success,"Dati salvati")),this.modificaAttiva=!1}}]),i}(),Rr.\u0275fac=function(i){return new(i||Rr)(l.Nb(u.f),l.Nb(x.a),l.Nb(k.a),l.Nb(m.d),l.Nb(x.e))},Rr.\u0275cmp=l.Hb({type:Rr,selectors:[["app-dettaglio-fabbricato"]],decls:84,vars:29,consts:[["key","tst-fabbricati"],[1,"ui-grid-fixed","boxgrey"],[1,"funzioni-grid","boxgrey"],[1,"d-flex","align-items-center","text-decoration-none","color-primary",3,"routerLink","click"],[1,"pi","pi-chevron-left",2,"font-size","2rem","color","black"],["src","assets/img/ico-dotazione.jpg"],[1,"text-uppercase","ml-2"],[3,"formGroup","ngSubmit"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],["expandIcon","","collapseIcon",""],["header","DETTAGLIO FABBRICATO",3,"selected"],["align","right"],["pButton","","label","MODIFICA","pButton","",1,"pull-right",2,"background-color","green",3,"disabled","click"],[1,"table","table-hoover"],["width","25%"],[4,"ngIf"],["width","15%"],[1,"md-inputfield"],["size","80","pInputText","","id","ubicazioneFabbricato",2,"border","1px solid rgb(180, 178, 178)","width","100%",3,"formControl"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"],["size","80","pInputText","","id","tipologiaFabbricato",2,"border","1px solid rgb(180, 178, 178)","width","100%",3,"formControl"],["size","20","pInputText","","id","destinazioneFabbricato",2,"border","1px solid rgb(180, 178, 178)",3,"formControl"],["size","20","pInputText","","id","utilizzatoriFabbricato",2,"border","1px solid rgb(180, 178, 178)",3,"formControl"],["size","80","pInputText","","id","superficieCopertaFabbricato",2,"border","1px solid rgb(180, 178, 178)","width","100%",3,"formControl"],["size","80","pInputText","","id","superficieScopertaFabbricato",2,"border","1px solid rgb(180, 178, 178)","width","100%",3,"formControl"],["size","80","pInputText","","id","volumeFabbricato",2,"border","1px solid rgb(180, 178, 178)","width","100%",3,"formControl"],["size","80","pInputText","","id","nrPostiFabbricato",2,"border","1px solid rgb(180, 178, 178)","width","100%",3,"formControl"],[1,"p-grid"],[1,"p-col-10"],[1,"p-col-1"],["pButton","","label","ANNULLA","pButton","",1,"pull-right",2,"background-color","green",3,"disabled","click"],["pButton","","label","SALVA","type","submit","pButton","",1,"pull-right",2,"background-color","green",3,"disabled"]],template:function(i,t){1&i&&(l.Ob(0,"p-toast",0),l.Tb(1,"div",1),l.Tb(2,"div",2),l.Tb(3,"a",3),l.bc("click",(function(){return t.handleClick()})),l.Ob(4,"i",4),l.Ob(5,"img",5),l.Tb(6,"span",6),l.Oc(7),l.gc(8,"translate"),l.gc(9,"translate"),l.Sb(),l.Sb(),l.Ob(10,"br"),l.Tb(11,"form",7),l.bc("ngSubmit",(function(){return t.onSubmit()})),l.Tb(12,"div",8),l.Tb(13,"p-accordion",9),l.Tb(14,"p-accordionTab",10),l.Tb(15,"p",11),l.Tb(16,"button",12),l.bc("click",(function(){return t.modificaDettaglio()})),l.Sb(),l.Sb(),l.Tb(17,"table",13),l.Tb(18,"tbody"),l.Tb(19,"tr"),l.Tb(20,"td",14),l.Tb(21,"strong"),l.Oc(22,"Ubicazione:"),l.Sb(),l.Sb(),l.Tb(23,"td"),l.Mc(24,or,2,1,"div",15),l.Mc(25,rr,4,2,"div",15),l.Sb(),l.Ob(26,"td",16),l.Sb(),l.Tb(27,"tr"),l.Tb(28,"td"),l.Tb(29,"strong"),l.Oc(30,"Tipologia:"),l.Sb(),l.Sb(),l.Tb(31,"td"),l.Mc(32,lr,2,1,"div",15),l.Mc(33,ur,4,2,"div",15),l.Sb(),l.Ob(34,"td"),l.Sb(),l.Tb(35,"tr"),l.Tb(36,"td"),l.Tb(37,"strong"),l.Oc(38,"Destinazione:"),l.Sb(),l.Sb(),l.Tb(39,"td"),l.Mc(40,dr,2,1,"div",15),l.Mc(41,gr,4,2,"div",15),l.Sb(),l.Ob(42,"td"),l.Sb(),l.Tb(43,"tr"),l.Tb(44,"td"),l.Tb(45,"strong"),l.Oc(46,"Utilizzatori:"),l.Sb(),l.Sb(),l.Tb(47,"td"),l.Mc(48,fr,2,1,"div",15),l.Mc(49,Tr,4,2,"div",15),l.Sb(),l.Ob(50,"td"),l.Sb(),l.Tb(51,"tr"),l.Tb(52,"td"),l.Tb(53,"strong"),l.Oc(54,"Superficie coperta:"),l.Sb(),l.Sb(),l.Tb(55,"td"),l.Mc(56,Sr,2,1,"div",15),l.Mc(57,Ar,4,2,"div",15),l.Sb(),l.Ob(58,"td"),l.Sb(),l.Tb(59,"tr"),l.Tb(60,"td"),l.Tb(61,"strong"),l.Oc(62,"Superficie scoperta:"),l.Sb(),l.Sb(),l.Tb(63,"td"),l.Mc(64,Ir,2,1,"div",15),l.Mc(65,yr,4,2,"div",15),l.Sb(),l.Ob(66,"td"),l.Sb(),l.Tb(67,"tr"),l.Tb(68,"td"),l.Tb(69,"strong"),l.Oc(70,"Volume:"),l.Sb(),l.Sb(),l.Tb(71,"td"),l.Mc(72,zr,2,1,"div",15),l.Mc(73,Br,4,2,"div",15),l.Sb(),l.Ob(74,"td"),l.Sb(),l.Tb(75,"tr"),l.Tb(76,"td"),l.Tb(77,"strong"),l.Oc(78,"Nr. posti:"),l.Sb(),l.Sb(),l.Tb(79,"td"),l.Mc(80,Nr,2,1,"div",15),l.Mc(81,Lr,4,2,"div",15),l.Sb(),l.Ob(82,"td"),l.Sb(),l.Sb(),l.Sb(),l.Mc(83,kr,10,2,"div",15),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb(),l.Sb()),2&i&&(l.Kc(l.rc(28,xr)),l.Bb(7),l.Rc(" ",l.hc(8,24,"FascicoloAziendale.DOTAZIONE_TECNICA")," / ",l.hc(9,26,"FascicoloAziendale.FABBRICATI")," "),l.Bb(4),l.mc("formGroup",t.modificaFabbricato),l.Bb(3),l.mc("selected",!0),l.Bb(2),l.mc("disabled",t.modificaAttiva),l.Bb(8),l.mc("ngIf",!t.modificaAttiva),l.Bb(1),l.mc("ngIf",t.modificaAttiva),l.Bb(7),l.mc("ngIf",!t.modificaAttiva),l.Bb(1),l.mc("ngIf",t.modificaAttiva),l.Bb(7),l.mc("ngIf",!t.modificaAttiva),l.Bb(1),l.mc("ngIf",t.modificaAttiva),l.Bb(7),l.mc("ngIf",!t.modificaAttiva),l.Bb(1),l.mc("ngIf",t.modificaAttiva),l.Bb(7),l.mc("ngIf",!t.modificaAttiva),l.Bb(1),l.mc("ngIf",t.modificaAttiva),l.Bb(7),l.mc("ngIf",!t.modificaAttiva),l.Bb(1),l.mc("ngIf",t.modificaAttiva),l.Bb(7),l.mc("ngIf",!t.modificaAttiva),l.Bb(1),l.mc("ngIf",t.modificaAttiva),l.Bb(7),l.mc("ngIf",!t.modificaAttiva),l.Bb(1),l.mc("ngIf",t.modificaAttiva),l.Bb(2),l.mc("ngIf",t.modificaAttiva))},directives:[f.a,x.h,u.I,u.t,u.k,v.a,v.c,T.b,r.t,u.c,bi.a,u.s,u.h],pipes:[g.d],styles:["[_nghost-%COMP%]   .w-10m[_ngcontent-%COMP%]{width:10em}[_nghost-%COMP%]   .icon-button-rect[_ngcontent-%COMP%]{background-color:#4caf50!important;border-radius:unset;height:5em!important;width:13em!important;opacity:1}[_nghost-%COMP%]   .icon-button-rect[_ngcontent-%COMP%]:disabled{opacity:.35;background-image:none;cursor:auto!important}[_nghost-%COMP%]   .icon-button-rect[_ngcontent-%COMP%]:hover{background-color:#388e3c!important}[_nghost-%COMP%]   .icon-button-rect[_ngcontent-%COMP%] >   span.ui-button-icon-left{font-size:2.5em}[_nghost-%COMP%]   .icon-button-square[_ngcontent-%COMP%]{background-color:#4caf50!important;border:1px solid #81c784;border-radius:unset;height:5em!important;width:5em!important;opacity:1}[_nghost-%COMP%]   .icon-button-square[_ngcontent-%COMP%]:disabled{opacity:.35;background-image:none;cursor:auto!important}[_nghost-%COMP%]   .icon-button-square[_ngcontent-%COMP%]:hover{background-color:#388e3c!important}"]}),Rr),data:{mybreadcrumb:ni.a.FASCICOLO_DETTAGLIO_FABBRICATI}},{path:"dati-sospensione",component:oi,data:{mybreadcrumb:ni.a.DATI_SOSPENSIONE}},{path:"titoli-conduzione",component:Q,data:{mybreadcrumb:ni.a.TITOLI_CONDUZIONE}}],Vr=((wr=function i(){_classCallCheck(this,i)}).\u0275mod=l.Lb({type:wr}),wr.\u0275inj=l.Kb({factory:function(i){return new(i||wr)},providers:[],imports:[[ci.a,h.b,x.i.forChild(Gr)]]}),wr)},"eM/+":function(i,t,e){"use strict";e.d(t,"a",(function(){return a}));var a=function(){function i(){_classCallCheck(this,i)}return _createClass(i,null,[{key:"itCalendar",value:function(){return{firstDayOfWeek:0,dayNames:["Domenica","Luned\xec","Marted\xec","Mercoled\xec","Gioved\xec","Venerd\xec","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],today:"Oggi",clear:"Cancella"}}}]),i}()}}]);