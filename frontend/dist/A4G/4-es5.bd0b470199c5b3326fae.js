function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,i){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=_unsupportedIterableToArray(t))||i&&t&&"number"==typeof t.length){e&&(t=e);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,c=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return r=t.done,t},e:function(t){c=!0,n=t},f:function(){try{r||null==e.return||e.return()}finally{if(c)throw n}}}}function _unsupportedIterableToArray(t,i){if(t){if("string"==typeof t)return _arrayLikeToArray(t,i);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(t,i):void 0}}function _arrayLikeToArray(t,i){(null==i||i>t.length)&&(i=t.length);for(var e=0,a=new Array(i);e<i;e++)a[e]=t[e];return a}function _defineProperties(t,i){for(var e=0;e<i.length;e++){var a=i[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,i,e){return i&&_defineProperties(t.prototype,i),e&&_defineProperties(t,e),t}function _inherits(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&_setPrototypeOf(t,i)}function _setPrototypeOf(t,i){return(_setPrototypeOf=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}function _createSuper(t){var i=_isNativeReflectConstruct();return function(){var e,a=_getPrototypeOf(t);if(i){var o=_getPrototypeOf(this).constructor;e=Reflect.construct(a,arguments,o)}else e=a.apply(this,arguments);return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(t,i){return!i||"object"!=typeof i&&"function"!=typeof i?_assertThisInitialized(t):i}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"4AYi":function(t,i,e){"use strict";e.d(i,"a",(function(){return a}));var a=function t(){_classCallCheck(this,t)}},"4waU":function(t,i,e){"use strict";e.r(i),e.d(i,"SuperficiModule",(function(){return S}));var a,o,n,r=e("ofXK"),c=e("tyNb"),s=e("TW8+"),l=e("iU1L"),u=e("Y7ag"),d=e("fXoL"),b=e("b7oP"),p=e("sYmb"),g=[{path:"",redirectTo:s.a.PREMIO,pathMatch:"full"},{path:"",component:(a=function(t){_inherits(e,t);var i=_createSuper(e);function e(t){var a;return _classCallCheck(this,e),(a=i.call(this,t,l.a.SUPERFICIE)).tipoIstruttoria="saldo",a}return e}(u.a),a.\u0275fac=function(t){return new(t||a)(d.Nb(c.a))},a.\u0275cmp=d.Hb({type:a,selectors:[["app-container-elenco-istruttorie"]],features:[d.yb],decls:15,vars:6,consts:[[1,"ui-g","ui-fluid"],[1,"tophome"],[1,"ui-grid-fixed"],[1,"top-sub-green"],[1,"ui-g-12"],[3,"model"],[1,"funzioni-grid","tab-new"],[1,"disaccoppiato",2,"width","100%"]],template:function(t,i){1&t&&(d.Tb(0,"div",0),d.Tb(1,"div",1),d.Tb(2,"div",2),d.Tb(3,"h4"),d.Oc(4),d.gc(5,"translate"),d.Sb(),d.Sb(),d.Sb(),d.Tb(6,"div",3),d.Tb(7,"div",4),d.Tb(8,"div",2),d.Ob(9,"p-tabMenu",5),d.Sb(),d.Sb(),d.Sb(),d.Tb(10,"div",4),d.Tb(11,"div",2),d.Tb(12,"div",6),d.Tb(13,"div",7),d.Ob(14,"router-outlet"),d.Sb(),d.Sb(),d.Sb(),d.Sb(),d.Sb()),2&t&&(d.Bb(4),d.Sc("",d.hc(5,4,"SOSTEGNO."+i.sostegno)," - ",i.annoCampagna," - ",i.tipoIstruttoria,""),d.Bb(5),d.mc("model",i.menu))},directives:[b.a,c.j],pipes:[p.d],styles:[""]}),a),children:[{path:s.a.PREMIO,loadChildren:function(){return Promise.all([e.e(6),e.e(24)]).then(e.bind(null,"fRCj")).then((function(t){return t.SuperficiCalcoloPremioModule}))},data:{mybreadcrumb:"Calcolo Premio"}},{path:s.a.LIQUIDABILITA,loadChildren:function(){return Promise.all([e.e(6),e.e(25)]).then(e.bind(null,"TGxC")).then((function(t){return t.SuperficiControlliLiquidabilitaModule}))},data:{mybreadcrumb:"Controlli Liquidabilit\xe0"}},{path:s.a.LIQUIDAZIONE,loadChildren:function(){return Promise.all([e.e(6),e.e(26)]).then(e.bind(null,"/tTZ")).then((function(t){return t.SuperficiLiquidazioneModule}))},data:{mybreadcrumb:"Liquidazione"}}]},{path:"istruttoria/:idIstruttoria",loadChildren:function(){return Promise.all([e.e(5),e.e(0),e.e(31)]).then(e.bind(null,"YOdh")).then((function(t){return t.SostegnoDettaglioSuperficiModule}))},data:{mybreadcrumb:"Dettaglio"}}],m=((o=function t(){_classCallCheck(this,t)}).\u0275mod=d.Lb({type:o}),o.\u0275inj=d.Kb({factory:function(t){return new(t||o)},imports:[[c.i.forChild(g)]]}),o),f=e("R69K"),v=e("kQyY"),h=e("A+aF"),S=((n=function t(){_classCallCheck(this,t)}).\u0275mod=d.Lb({type:n}),n.\u0275inj=d.Kb({factory:function(t){return new(t||n)},imports:[[r.c,f.a,m,v.b,h.b],h.b]}),n)},"8bNH":function(t,i,e){"use strict";e.d(i,"a",(function(){return a}));var a=function t(){_classCallCheck(this,t)}},EOOO:function(t,i,e){"use strict";e.d(i,"k",(function(){return a})),e.d(i,"h",(function(){return o})),e.d(i,"i",(function(){return n})),e.d(i,"j",(function(){return r})),e.d(i,"d",(function(){return c})),e.d(i,"a",(function(){return s})),e.d(i,"b",(function(){return l})),e.d(i,"f",(function(){return u})),e.d(i,"g",(function(){return d})),e.d(i,"c",(function(){return b})),e.d(i,"l",(function(){return p})),e.d(i,"e",(function(){return g})),e.d(i,"m",(function(){return m}));var a=function t(){_classCallCheck(this,t)},o=function t(){_classCallCheck(this,t)},n=function t(){_classCallCheck(this,t)},r=function t(){_classCallCheck(this,t)},c=function t(){_classCallCheck(this,t)},s=function t(){_classCallCheck(this,t)},l=function t(){_classCallCheck(this,t)},u=function t(){_classCallCheck(this,t)},d=function t(){_classCallCheck(this,t)},b=function t(){_classCallCheck(this,t)},p=function t(){_classCallCheck(this,t)},g=function t(){_classCallCheck(this,t)},m=function t(){_classCallCheck(this,t)}},F5kq:function(t,i,e){var a,o,n;!function(r){if("object"==typeof t.exports){var c=r(0,i);void 0!==c&&(t.exports=c)}else o=[e,i],void 0===(n="function"==typeof(a=r)?a.apply(i,o):a)||(t.exports=n)}((function(t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=void 0;i.default=[[["mezzanotte","mezzogiorno","di mattina","di pomeriggio","di sera","di notte"],e,["mezzanotte","mezzogiorno","di mattina","del pomeriggio","di sera","di notte"]],[["mezzanotte","mezzogiorno","mattina","pomeriggio","sera","notte"],e,e],["00:00","12:00",["06:00","12:00"],["12:00","18:00"],["18:00","24:00"],["00:00","06:00"]]]}))},FcGh:function(t,i,e){"use strict";e.d(i,"a",(function(){return I}));var a=e("fXoL"),o=e("5RHE"),n=e.n(o),r=e("DaQG"),c=e.n(r),s=e("cAab"),l=e("tyNb"),u=e("A+aF"),d=e("RtSl"),b=e("yWug"),p=e("A1Yd"),g=e("ofXK"),m=e("sYmb");function f(t,i){if(1&t){var e=a.Ub();a.Tb(0,"div",9),a.Tb(1,"button",10),a.bc("click",(function(){return a.Ec(e),a.fc(),a.Bc(6).exportCSV()})),a.gc(2,"translate"),a.Sb(),a.Tb(3,"button",11),a.bc("click",(function(){a.Ec(e);var t=a.fc(),i=a.Bc(6);return t.exportPdf(i)})),a.gc(4,"translate"),a.Sb(),a.Sb()}2&t&&(a.Bb(1),a.nc("label",a.hc(2,2,"EXPORT_CSV")),a.Bb(2),a.nc("label",a.hc(4,4,"EXPORT_PDF")))}function v(t,i){if(1&t&&(a.Tb(0,"th",13),a.Oc(1),a.Ob(2,"p-sortIcon",14),a.Sb()),2&t){var e=i.$implicit;a.mc("pSortableColumn",e.field)("pSortableColumnDisabled",null==e.field),a.Bb(1),a.Qc(" ",e.header," "),a.Bb(1),a.mc("field",e.field)}}function h(t,i){if(1&t&&(a.Tb(0,"tr"),a.Mc(1,v,3,4,"th",12),a.Sb()),2&t){var e=i.$implicit;a.Bb(1),a.mc("ngForOf",e)}}function S(t,i){if(1&t&&(a.Tb(0,"tr"),a.Tb(1,"td"),a.Oc(2),a.Sb(),a.Tb(3,"td"),a.Oc(4),a.Sb(),a.Tb(5,"td"),a.Oc(6),a.Sb(),a.Tb(7,"td"),a.Oc(8),a.Sb(),a.Tb(9,"td"),a.Oc(10),a.Sb(),a.Sb()),2&t){var e=i.$implicit;a.Bb(2),a.Pc(e.codiceAgea),a.Bb(2),a.Pc(e.descrizioneBreve),a.Bb(2),a.Pc(e.totali),a.Bb(2),a.Pc(e.ammissibili),a.Bb(2),a.Pc(e.ammissibiliConSanzione)}}function T(t,i){1&t&&(a.Tb(0,"tr"),a.Tb(1,"td"),a.Oc(2,"dati non presenti"),a.Sb(),a.Sb()),2&t&&(a.Bb(1),a.Cb("colspan",5))}var I=function(){var t=function(){function t(i,e){_classCallCheck(this,t),this.route=i,this.domandaIntegrativaService=e,this.chiudiPopup=new a.n,this.cols=[{field:"codiceAgea",header:"Codice intervento AGEA"},{field:"descrizioneBreve",header:"Descrizione intervento"},{field:"",header:"Numero Capi Richiesti"},{field:"",header:"Di cui ammissibili"},{field:"",header:"Di cui ammissibili con sanzione"}]}return _createClass(t,[{key:"exportPdf",value:function(t){var i=new n.a;c()(i,{html:t.tableViewChild.nativeElement}),i.save("tabella-istruttoria-accoppiato-zootecnia.pdf")}},{key:"ngOnInit",value:function(){var t=this;this.route.params.subscribe((function(i){var e=Number(i.annoCampagna);t.domandaIntegrativaService.getStatisticheZootecnia(e).subscribe((function(i){t.datiAggregati=i}))}))}},{key:"closePopup",value:function(){this.chiudiPopup.emit()}}]),t}();return t.\u0275fac=function(i){return new(i||t)(a.Nb(l.a),a.Nb(s.a))},t.\u0275cmp=a.Hb({type:t,selectors:[["app-popup-dati-aggregati-zootecnia"]],inputs:{popupVisibile:"popupVisibile"},outputs:{chiudiPopup:"chiudiPopup"},decls:15,vars:17,consts:[["showEffect","fade",3,"visible","responsive","modal","closable","blockScroll","visibleChange"],[1,"boxpopup"],["tableStyleClass","mb-3",3,"columns","value","autoLayout","paginator","rows","responsive"],["tableAggregati",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["type","button","pButton","",1,"btn","btn-darkgreen","mt-0","mr-0",3,"label","click"],[1,"d-flex"],["type","button","pButton","","icon","pi pi-file","iconPos","left",1,"ml-auto",2,"margin-right","0.5em",3,"label","click"],["type","button","pButton","","icon","pi pi-file","iconPos","left",2,"margin-right","0.5em",3,"label","click"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"]],template:function(t,i){1&t&&(a.Tb(0,"p-dialog",0),a.bc("visibleChange",(function(t){return i.popupVisibile=t})),a.Tb(1,"p-header"),a.Oc(2),a.gc(3,"translate"),a.Sb(),a.Tb(4,"div",1),a.Tb(5,"p-table",2,3),a.Mc(7,f,5,6,"ng-template",4),a.Mc(8,h,2,1,"ng-template",5),a.Mc(9,S,11,5,"ng-template",6),a.Mc(10,T,3,1,"ng-template",7),a.Sb(),a.Ob(11,"div"),a.Sb(),a.Tb(12,"p-footer"),a.Tb(13,"button",8),a.bc("click",(function(){return i.closePopup()})),a.gc(14,"translate"),a.Sb(),a.Sb(),a.Sb()),2&t&&(a.mc("visible",i.popupVisibile)("responsive",!0)("modal",!0)("closable",!0)("blockScroll",!0),a.Bb(2),a.Qc(" ",a.hc(3,13,"ISTRUTTORIA_PAC.ISTRUTTORIA_DOMANDA_UNICA_ACCOPPIATO_ZOOTECNIA")," "),a.Bb(3),a.mc("columns",i.cols)("value",i.datiAggregati)("autoLayout",!0)("paginator",!1)("rows",5)("responsive",!0),a.Bb(8),a.nc("label",a.hc(14,15,"chiudi")))},directives:[u.a,d.c,b.q,d.e,d.b,p.b,g.s,b.p,b.o],pipes:[m.d],styles:["p-dialog .ui-dialog{max-height:100%;display:flex;flex-direction:column}  p-dialog .ui-dialog .ui-dialog-content{overflow-y:auto}  table.tableDatiAggregati tr:last-child{font-weight:700}"]}),t}()},IWBs:function(t,i,e){"use strict";e.r(i),e.d(i,"ZootecniaModule",(function(){return h}));var a,o,n,r=e("ofXK"),c=e("R69K"),s=e("tyNb"),l=e("TW8+"),u=e("iU1L"),d=e("Y7ag"),b=e("fXoL"),p=e("b7oP"),g=e("sYmb"),m=[{path:"",redirectTo:l.a.PREMIO,pathMatch:"full"},{path:"",component:(a=function(t){_inherits(e,t);var i=_createSuper(e);function e(t){var a;return _classCallCheck(this,e),(a=i.call(this,t,u.a.ZOOTECNIA)).tipoIstruttoria="saldo",a}return e}(d.a),a.\u0275fac=function(t){return new(t||a)(b.Nb(s.a))},a.\u0275cmp=b.Hb({type:a,selectors:[["app-container-zootecnia"]],features:[b.yb],decls:15,vars:6,consts:[[1,"ui-g","ui-fluid"],[1,"tophome"],[1,"ui-grid-fixed"],[1,"top-sub-green"],[1,"ui-g-12"],[3,"model"],[1,"funzioni-grid","tab-new"],[1,"disaccoppiato",2,"width","100%"]],template:function(t,i){1&t&&(b.Tb(0,"div",0),b.Tb(1,"div",1),b.Tb(2,"div",2),b.Tb(3,"h4"),b.Oc(4),b.gc(5,"translate"),b.Sb(),b.Sb(),b.Sb(),b.Tb(6,"div",3),b.Tb(7,"div",4),b.Tb(8,"div",2),b.Ob(9,"p-tabMenu",5),b.Sb(),b.Sb(),b.Sb(),b.Tb(10,"div",4),b.Tb(11,"div",2),b.Tb(12,"div",6),b.Tb(13,"div",7),b.Ob(14,"router-outlet"),b.Sb(),b.Sb(),b.Sb(),b.Sb(),b.Sb()),2&t&&(b.Bb(4),b.Sc("",b.hc(5,4,"SOSTEGNO."+i.sostegno)," - ",i.annoCampagna," - ",i.tipoIstruttoria,""),b.Bb(5),b.mc("model",i.menu))},directives:[p.a,s.j],pipes:[g.d],styles:[""]}),a),children:[{path:l.a.PREMIO,loadChildren:function(){return Promise.all([e.e(7),e.e(27)]).then(e.bind(null,"l/i0")).then((function(t){return t.AzCalcoloPremioModule}))},data:{mybreadcrumb:"Calcolo Premio"}},{path:l.a.LIQUIDABILITA,loadChildren:function(){return Promise.all([e.e(7),e.e(0),e.e(28)]).then(e.bind(null,"m/At")).then((function(t){return t.AzControlliLiquidabilitaModule}))},data:{mybreadcrumb:"Controlli Liquidabilit\xe0"}},{path:l.a.LIQUIDAZIONE,loadChildren:function(){return Promise.all([e.e(7),e.e(0),e.e(29)]).then(e.bind(null,"O9EF")).then((function(t){return t.AzLiquidazioneModule}))},data:{mybreadcrumb:"Liquidazione"}}]},{path:"istruttoria/:idIstruttoria",loadChildren:function(){return Promise.all([e.e(5),e.e(0),e.e(32)]).then(e.bind(null,"haK/")).then((function(t){return t.SostegnoDettaglioZootecniaModule}))},data:{mybreadcrumb:"Dettaglio"}}],f=((o=function t(){_classCallCheck(this,t)}).\u0275mod=b.Lb({type:o}),o.\u0275inj=b.Kb({factory:function(t){return new(t||o)},imports:[[s.i.forChild(m)]]}),o),v=e("A+aF"),h=((n=function t(){_classCallCheck(this,t)}).\u0275mod=b.Lb({type:n}),n.\u0275inj=b.Kb({factory:function(t){return new(t||n)},imports:[[r.c,c.a,f,v.b],v.b]}),n)},Lf7B:function(t,i,e){"use strict";e.d(i,"a",(function(){return a})),e.d(i,"b",(function(){return o}));var a=function t(){_classCallCheck(this,t)},o=function t(){_classCallCheck(this,t)}},Urau:function(t,i,e){"use strict";e.d(i,"a",(function(){return a}));var a=function t(i,e,a,o,n,r,c){_classCallCheck(this,t),this.esitoControlloMantenimento=i,this.verificaDocumentazione=e,this.descrizionePascolo=a,this.superficieDeterminata=o,this.cuaaResponsabile=n,this.id=r,this.version=c}},Y7ag:function(t,i,e){"use strict";e.d(i,"a",(function(){return n}));var a=e("69Tm"),o=e("TW8+"),n=function t(i,e){_classCallCheck(this,t),this.activatedRoute=i,this.sostegno=e,this.annoCampagna=this.activatedRoute.snapshot.paramMap.get("annoCampagna"),this.tipoIstruttoria=this.activatedRoute.snapshot.paramMap.get("tipo"),this.menu=new Array({routerLink:o.a.PREMIO,label:a.a.CALCOLO_PREMIO},{routerLink:o.a.LIQUIDABILITA,label:a.a.CONTROLLI_LIQUIDABILITA},{routerLink:o.a.LIQUIDAZIONE,label:a.a.LIQUIDAZIONE})}},a2Ts:function(t,i,e){"use strict";e.d(i,"a",(function(){return a}));var a=function t(){_classCallCheck(this,t)}},"ayH+":function(t,i,e){"use strict";e.d(i,"a",(function(){return a}));var a=function t(i,e,a){_classCallCheck(this,t),this.order=i,this.stato=e,this.counter=a}},"eM/+":function(t,i,e){"use strict";e.d(i,"a",(function(){return a}));var a=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"itCalendar",value:function(){return{firstDayOfWeek:0,dayNames:["Domenica","Luned\xec","Marted\xec","Mercoled\xec","Gioved\xec","Venerd\xec","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],today:"Oggi",clear:"Cancella"}}}]),t}()},gCvi:function(t,i,e){"use strict";e.d(i,"a",(function(){return N}));var a,o=e("fXoL"),n=e("5RHE"),r=e.n(n),c=e("DaQG"),s=e.n(c),l=e("mrSG"),u=e("2Vo4"),d=e("HDdC"),b=e("rNJQ"),p=e("dkQB"),g=e("tk/3"),m=((a=function(){function t(i,e){_classCallCheck(this,t),this.configuration=i,this.http=e,this.totaleSuperficiePerInterventoBs=new u.a(null),this.totaleSuperficiePerIntervento=this.totaleSuperficiePerInterventoBs.asObservable()}return _createClass(t,[{key:"closeTotaleSuperficiePerIntervento",value:function(){this.totaleSuperficiePerInterventoBs.next(null)}},{key:"getTotaleSuperficiePerIntervento",value:function(t){return this.http.get(this.configuration.getUrlTotaleSuperficiePerIntervento(t))}}]),t}()).\u0275fac=function(t){return new(t||a)(o.Xb(p.a),o.Xb(g.b))},a.\u0275prov=o.Jb({token:a,factory:a.\u0275fac,providedIn:"root"}),Object(l.b)([Object(b.a)(),Object(l.c)("design:type",Function),Object(l.c)("design:paramtypes",[Number]),Object(l.c)("design:returntype",d.a)],a.prototype,"getTotaleSuperficiePerIntervento",null),a),f=function t(){_classCallCheck(this,t)},v=e("sYmb"),h=e("A+aF"),S=e("RtSl"),T=e("yWug"),I=e("A1Yd"),C=e("ofXK");function O(t,i){if(1&t){var e=o.Ub();o.Tb(0,"div",8),o.Tb(1,"button",9),o.bc("click",(function(){return o.Ec(e),o.fc(),o.Bc(5).exportCSV()})),o.gc(2,"translate"),o.Sb(),o.Tb(3,"button",10),o.bc("click",(function(){o.Ec(e);var t=o.fc(),i=o.Bc(5);return t.exportPdf(i)})),o.gc(4,"translate"),o.Sb(),o.Sb()}2&t&&(o.Bb(1),o.nc("label",o.hc(2,2,"EXPORT_CSV")),o.Bb(2),o.nc("label",o.hc(4,4,"EXPORT_PDF")))}function A(t,i){if(1&t&&(o.Tb(0,"th",12),o.Oc(1),o.gc(2,"translate"),o.Ob(3,"p-sortIcon",13),o.Sb()),2&t){var e=i.$implicit;o.mc("pSortableColumn",e.field),o.Bb(1),o.Qc(" ",o.hc(2,3,e.header)," "),o.Bb(2),o.mc("field",e.field)}}function D(t,i){if(1&t&&(o.Tb(0,"tr"),o.Mc(1,A,4,5,"th",11),o.Sb()),2&t){var e=i.$implicit;o.Bb(1),o.mc("ngForOf",e)}}function P(t,i){if(1&t&&(o.Tb(0,"tr",14),o.Tb(1,"td"),o.Oc(2),o.Sb(),o.Tb(3,"td"),o.Oc(4),o.gc(5,"number"),o.Sb(),o.Sb()),2&t){var e=i.$implicit;o.mc("pSelectableRow",e),o.Bb(2),o.Pc(e.intervento),o.Bb(2),o.Pc(o.jc(5,3,e.superficie,"1.0-4","it"))}}function y(t,i){1&t&&(o.Tb(0,"tr"),o.Tb(1,"td"),o.Oc(2,"dati non presenti"),o.Sb(),o.Sb()),2&t&&(o.Bb(1),o.Cb("colspan",5))}var B,N=((B=function(){function t(i,e){_classCallCheck(this,t),this.domandaAccoppiatoSuperficieService=i,this.translateService=e,this.annoCampagna=void 0,this.datiAggregati=[],this.popupVisibile=!1,this.chiudiPopup=new o.n,this.cols=[{field:"intervento",header:"SOSTEGNO.DESCRIZIONE_INTERVENTO"},{field:"superficie",header:"SOSTEGNO.TOTALE_SUPERFICIE_RICHIESTA"}]}return _createClass(t,[{key:"setAnnoCampagna",set:function(t){var i=this;this.annoCampagna=t,this.domandaAccoppiatoSuperficieService.getTotaleSuperficiePerIntervento(t).subscribe((function(t){var e=[];if(t){var a,o=_createForOfIteratorHelper(t);try{for(o.s();!(a=o.n()).done;){var n=a.value,r=new f;r.intervento=i.translateService.instant("DescrizioneCodiceAgeaPerChiaveJson."+n.intervento),r.superficie=n.superficie,e.push(r)}}catch(c){o.e(c)}finally{o.f()}i.datiAggregati=e}}))}},{key:"exportPdf",value:function(t){var i=new r.a;s()(i,{html:t.tableViewChild.nativeElement}),i.save("tabella-dati-aggregati-superfici-ammissibili.pdf")}},{key:"ngOnInit",value:function(){}},{key:"closePopup",value:function(){this.chiudiPopup.emit()}}]),t}()).\u0275fac=function(t){return new(t||B)(o.Nb(m),o.Nb(v.e))},B.\u0275cmp=o.Hb({type:B,selectors:[["app-popup-dati-aggregati-superficie-intervento"]],inputs:{popupVisibile:"popupVisibile",setAnnoCampagna:["annoCampagna","setAnnoCampagna"]},outputs:{chiudiPopup:"chiudiPopup"},decls:13,vars:15,consts:[["showEffect","fade",3,"visible","responsive","modal","closable","visibleChange"],["tableStyleClass","mb-3",3,"columns","value","autoLayout","paginator","responsive"],["tableAggregati",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["type","button","pButton","",1,"btn","btn-darkgreen","mt-0","mr-0",3,"label","click"],[1,"d-flex"],["type","button","pButton","","icon","pi pi-file","iconPos","left",1,"ml-auto",2,"margin-right","0.5em",3,"label","click"],["type","button","pButton","","icon","pi pi-file","iconPos","left",2,"margin-right","0.5em",3,"label","click"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow"]],template:function(t,i){1&t&&(o.Tb(0,"p-dialog",0),o.bc("visibleChange",(function(t){return i.popupVisibile=t})),o.Tb(1,"p-header"),o.Oc(2),o.gc(3,"translate"),o.Sb(),o.Tb(4,"p-table",1,2),o.Mc(6,O,5,6,"ng-template",3),o.Mc(7,D,2,1,"ng-template",4),o.Mc(8,P,6,7,"ng-template",5),o.Mc(9,y,3,1,"ng-template",6),o.Sb(),o.Tb(10,"p-footer"),o.Tb(11,"button",7),o.bc("click",(function(){return i.closePopup()})),o.gc(12,"translate"),o.Sb(),o.Sb(),o.Sb()),2&t&&(o.mc("visible",i.popupVisibile)("responsive",!0)("modal",!0)("closable",!0),o.Bb(2),o.Qc(" ",o.hc(3,11,"SOSTEGNO.AGGREGATO_SUPERFICI_PER_INTERVENTO")," "),o.Bb(2),o.mc("columns",i.cols)("value",i.datiAggregati)("autoLayout",!0)("paginator",!1)("responsive",!0),o.Bb(7),o.nc("label",o.hc(12,13,"chiudi")))},directives:[h.a,S.c,T.q,S.e,S.b,I.b,C.s,T.p,T.o,T.m],pipes:[v.d,C.g],styles:[""]}),B)},kKjl:function(t,i,e){"use strict";e.d(i,"a",(function(){return a}));var a=function t(){_classCallCheck(this,t)}},ktSL:function(t,i,e){"use strict";e.r(i),e.d(i,"IstruttoriaPac1420Module",(function(){return Ru}));var a=e("ofXK"),o=e("yWug"),n=e("pxLX"),r=e("P028"),c=e("tyNb"),s=e("U1tW"),l=e("MvQ6"),u=e("8k9x"),d=e("Tn7N"),b=e("903C"),p=e("ngg1"),g=e("iU1L"),m=e("eIep"),f=e("1G5W"),v=e("JIr8"),h=e("vkgz"),S=e("XNiG"),T=e("EY2u"),I=e("NXyV"),C=e("r0o6"),O=e("JEAp"),A=e("VrO5"),D=e("IwI7"),P=e("MgAl"),y=e("fXoL"),B=e("RtSl"),N=e("sYmb"),z=e("arS9"),R=e("1SSY"),M=e("3Pt+"),E=e("Cnh2"),k=e("A1Yd"),L=e("FcGh"),w=e("A+aF"),_=e("5RHE"),x=e.n(_),U=e("DaQG"),F=e.n(U),G=e("wd/R"),V=e("LRne"),Z=e("cp0P"),$=e("5+tZ"),Q=e("bOdf"),q=e("RIRQ"),H=function(t){return t.NETTO="NETTO",t.LORDO="LORDO",t}({}),j=function t(){_classCallCheck(this,t)},K=function t(){_classCallCheck(this,t)};function Y(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div",7),y.Tb(1,"h4",8),y.kc(2),y.Sb(),y.Tb(3,"button",9),y.bc("click",(function(){return y.Ec(e),y.fc(),y.Bc(2).exportCSV()})),y.gc(4,"translate"),y.Sb(),y.Tb(5,"button",9),y.bc("click",(function(){y.Ec(e);var t=y.fc(),i=y.Bc(2);return t.exportPdf(i)})),y.gc(6,"translate"),y.Sb(),y.Sb()}2&t&&(y.Bb(3),y.nc("label",y.hc(4,2,"EXPORT_CSV")),y.Bb(2),y.nc("label",y.hc(6,4,"EXPORT_PDF")))}function J(t,i){if(1&t&&(y.Tb(0,"th",11),y.Oc(1),y.Ob(2,"p-sortIcon",12),y.Sb()),2&t){var e=i.$implicit;y.mc("pSortableColumn",e.field),y.Bb(1),y.Qc(" ",e.header," "),y.Bb(1),y.mc("field",e.field)}}function W(t,i){if(1&t&&(y.Tb(0,"tr"),y.Mc(1,J,3,3,"th",10),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.mc("ngForOf",e)}}function X(t,i){if(1&t&&(y.Tb(0,"tr",15),y.Tb(1,"td",16),y.Tb(2,"span"),y.Oc(3),y.gc(4,"translate"),y.Sb(),y.Sb(),y.Sb()),2&t){var e=y.fc().rowIndex,a=y.fc();y.Bb(3),y.Pc(y.hc(4,1,"IstruttorieDatiAggregati.tableGroups."+a.rowGroupMetadata[e].title))}}function tt(t,i){if(1&t&&(y.Mc(0,X,5,3,"tr",13),y.Tb(1,"tr",14),y.Tb(2,"td"),y.Oc(3),y.Sb(),y.Tb(4,"td"),y.Oc(5),y.Sb(),y.Tb(6,"td"),y.Oc(7),y.gc(8,"number"),y.Sb(),y.Tb(9,"td"),y.Oc(10),y.gc(11,"number"),y.Sb(),y.Sb()),2&t){var e=i.$implicit,a=i.rowIndex,o=y.fc();y.mc("ngIf",o.rowGroupMetadata[a]),y.Bb(1),y.mc("pSelectableRow",e),y.Bb(2),y.Pc(e.stato),y.Bb(2),y.Pc(e.numeroDomande),y.Bb(2),y.Pc(y.jc(8,6,e.valoreLordo,"1.0-4","it")),y.Bb(3),y.Pc(y.jc(11,10,e.valoreNetto,"1.0-4","it"))}}function it(t,i){1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2),y.gc(3,"translate"),y.Sb(),y.Sb()),2&t&&(y.Bb(1),y.Cb("colspan",5),y.Bb(1),y.Pc(y.hc(3,2,"datiNonPresenti")))}var et,at,ot,nt=["*"],rt=((ot=function(){function t(i,e,a){_classCallCheck(this,t),this.istruttoriaService=i,this.messageService=e,this.translateService=a,this.datiAggregatiModel=[],this.isShowPagamentoAnticipoAsZero=!1,this.rowGroupMetadata={},this.datiAggregatiModelEmitter=new y.n,this.componentDestroyed$=new S.a,this.countersRequestParams=[q.a.RICHIESTO,q.a.CONTROLLI_CALCOLO_OK,q.a.CONTROLLI_CALCOLO_KO,q.a.NON_AMMISSIBILE,q.a.LIQUIDABILE,q.a.CONTROLLI_LIQUIDABILE_KO,q.a.DEBITI,q.a.PAGAMENTO_NON_AUTORIZZATO,q.a.CONTROLLI_INTERSOSTEGNO_OK,q.a.NON_LIQUIDABILE,q.a.PAGAMENTO_AUTORIZZATO],this.columnsDescription=[{field:"stato",header:a.instant("IstruttorieDatiAggregati.stato")},{field:"numeroDomande",header:a.instant("IstruttorieDatiAggregati.numeroDomande")},{field:"valoreLordo",header:a.instant("IstruttorieDatiAggregati.valoreLordo")},{field:"valoreNetto",header:a.instant("IstruttorieDatiAggregati.valoreNetto")}]}return _createClass(t,[{key:"setTipoSostegno",set:function(t){this.tipoSostegno=g.a[t],this.setupTableIntegratoRow(this.tipoSostegno),this.setupTableGrouping()}},{key:"setAnnoCampagna",set:function(t){this.annoCampagna=t;var i=G(t+"1201","YYYYMMDD").hours(0).minutes(0).seconds(0),e=G(G.now());this.isShowPagamentoAnticipoAsZero=e.isSameOrAfter(i)}},{key:"setupTableIntegratoRow",value:function(t){t===g.a.ZOOTECNIA&&this.countersRequestParams.splice(1,0,q.a.INTEGRATO)}},{key:"setupTableGrouping",value:function(){var t=this.countersRequestParams.findIndex((function(t){return t===q.a.RICHIESTO})),i=this.countersRequestParams.findIndex((function(t){return t===q.a.LIQUIDABILE})),e=this.countersRequestParams.findIndex((function(t){return t===q.a.PAGAMENTO_NON_AUTORIZZATO})),a=this.countersRequestParams.length;this.rowGroupMetadata[t]={title:"CONTROLLI_AMMISSIBILITA"},this.rowGroupMetadata[i]={title:"CONTROLLI_LIQUIDABILITA"},this.rowGroupMetadata[e]={title:"CONTROLLI_INTERSOSTEGNO"},this.rowGroupMetadata[a]={title:"TOTALI"}}},{key:"loadCounter",value:function(t,i,e,a){var o=new b.a;return o.campagna=t,o.sostegno=i,o.tipo=e,o.stato=a,this.istruttoriaService.countIstruttorieDU(o)}},{key:"handleResultPremi",value:function(t,i){var e=this,a=0,o=0;if(i){var n,r=_createForOfIteratorHelper(this.countersRequestParams);try{var c=function(){var r=n.value,c=t.find((function(t){return t.keyDesc===r}));if(c||((c=new j).keyDesc=r,c.numeroDomande=0,t.push(c)),r===q.a.RICHIESTO||r===q.a.NON_AMMISSIBILE||r===q.a.INTEGRATO||r===q.a.NON_LIQUIDABILE)c.valoreNetto=0,c.valoreLordo=0;else if(e.tipoSostegno===g.a.DISACCOPPIATO&&e.tipoIstruttoria===p.a.ANTICIPO&&r!==q.a.PAGAMENTO_AUTORIZZATO&&e.isShowPagamentoAnticipoAsZero)c.valoreNetto=0,c.valoreLordo=0;else if(e.tipoSostegno===g.a.SUPERFICIE&&r===q.a.CONTROLLI_CALCOLO_KO){var s=i.find((function(t){return t.statoIstruttoria===r&&t.tipoPremio===H.LORDO}));c.valoreLordo=s?s.valorePremio:0,c.valoreNetto=0}else{var l=i.find((function(t){return t.statoIstruttoria===r&&t.tipoPremio===H.NETTO}));c.valoreNetto=l?l.valorePremio:0,l=i.find((function(t){return t.statoIstruttoria===r&&t.tipoPremio===H.LORDO})),c.valoreLordo=l?l.valorePremio:0}a+=c.valoreNetto,o+=c.valoreLordo};for(r.s();!(n=r.n()).done;)c()}catch(v){r.e(v)}finally{r.f()}}else{var s,l=_createForOfIteratorHelper(t);try{for(l.s();!(s=l.n()).done;){var u=s.value;u.valoreNetto=0,u.valoreLordo=0}}catch(v){l.e(v)}finally{l.f()}}var d,b=_createForOfIteratorHelper(this.countersRequestParams);try{var m=function(){var i=d.value,a=t.find((function(t){return t.keyDesc===i}));a.stato=e.translateService.instant("STATO_LAVORAZIONE_SOSTEGNO."+a.keyDesc)};for(b.s();!(d=b.n()).done;)m()}catch(v){b.e(v)}finally{b.f()}var f=t[t.length-1];return f.valoreLordo=o,f.valoreNetto=a,this.datiAggregatiModelEmitter.emit(t),t}},{key:"handleResultCounters",value:function(t){var i=this,e=[],a=0;t.forEach((function(o,n){var r=new j;r.numeroDomande=Number(t[n]),a+=r.numeroDomande,r.keyDesc=i.countersRequestParams[n],e.push(r)}));var o=new j;return o.numeroDomande=a,o.keyDesc="TOT_".concat(this.tipoIstruttoria,"_").concat(this.tipoSostegno),o.stato=this.translateService.instant("IstruttorieDatiAggregati."+o.keyDesc),e.push(o),e}},{key:"exportPdf",value:function(t){var i=new x.a;F()(i,{html:t.tableViewChild.nativeElement}),i.save("tabella-dati-aggregati-istruttoria.pdf")}},{key:"ngOnInit",value:function(){var t,i=this,e=function(t){return i.loadCounter(i.annoCampagna,i.tipoSostegno,i.tipoIstruttoria,t)};Object(V.a)(this.countersRequestParams).pipe(Object($.a)((function(t){return Object(Z.a).apply(void 0,_toConsumableArray(t.map(e)))})),Object(h.a)((function(e){t=i.handleResultCounters(e)})),Object(Q.a)((function(t){return i.istruttoriaService.getDatiAggregatiPagamenti(i.tipoSostegno,i.tipoIstruttoria,i.annoCampagna)})),Object(v.a)((function(t){throw i.messageService.add(d.a.getToast("tst",d.b.error,d.a.erroreRecuperoDati)),t})),Object(h.a)((function(e){i.datiAggregatiModel=i.handleResultPremi(t,e)})),Object(v.a)((function(t){throw i.messageService.add(d.a.getToast("tst",d.b.error,d.a.erroreRecuperoDati)),t})),Object(f.a)(this.componentDestroyed$)).subscribe()}},{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}}]),t}()).\u0275fac=function(t){return new(t||ot)(y.Nb(l.a),y.Nb(B.d),y.Nb(N.e))},ot.\u0275cmp=y.Hb({type:ot,selectors:[["app-tabella-dati-aggregati-istruttoria"]],inputs:{setTipoSostegno:["tipoSostegno","setTipoSostegno"],tipoIstruttoria:"tipoIstruttoria",setAnnoCampagna:["annoCampagna","setAnnoCampagna"]},outputs:{datiAggregatiModelEmitter:"datiAggregatiModelEmitter"},ngContentSelectors:nt,decls:7,vars:5,consts:[[1,"layout-actionmenu","mb-4"],["tableStyleClass","tableDatiAggregati",3,"columns","value","autoLayout","paginator","responsive"],["tableAggregati",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"d-flex","align-items-center"],[1,"mb-0","mr-auto"],["type","button","pButton","","icon","pi pi-file","iconPos","left",2,"margin-right","0.5em",3,"label","click"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],["class","text-right","style","font-style: italic;",4,"ngIf"],[3,"pSelectableRow"],[1,"text-right",2,"font-style","italic"],["colspan","4"]],template:function(t,i){1&t&&(y.lc(),y.Tb(0,"div",0),y.Tb(1,"p-table",1,2),y.Mc(3,Y,7,6,"ng-template",3),y.Mc(4,W,2,1,"ng-template",4),y.Mc(5,tt,12,14,"ng-template",5),y.Mc(6,it,4,4,"ng-template",6),y.Sb(),y.Sb()),2&t&&(y.Bb(1),y.mc("columns",i.columnsDescription)("value",i.datiAggregatiModel)("autoLayout",!0)("paginator",!1)("responsive",!0))},directives:[o.q,B.e,k.b,a.s,o.p,o.o,a.t,o.m],pipes:[N.d,a.g],styles:["p-dialog .ui-dialog{max-height:100%;display:flex;flex-direction:column}  p-dialog .ui-dialog .ui-dialog-content{overflow-y:auto}  table.tableDatiAggregati tr:last-child{font-weight:700}"]}),ot),ct=((at=function(){function t(){_classCallCheck(this,t),this.datiAggregatiModel=void 0,this.popupVisibile=!1,this.chiudiPopup=new y.n}return _createClass(t,[{key:"setTipoSostegno",set:function(t){this.tipoSostegno=g.a[t]}},{key:"setDatiAggregatiModel",value:function(t){this.datiAggregatiModel=t}},{key:"closePopup",value:function(){this.chiudiPopup.emit()}}]),t}()).\u0275fac=function(t){return new(t||at)},at.\u0275cmp=y.Hb({type:at,selectors:[["app-popup-dati-aggregati-istruttoria"]],inputs:{popupVisibile:"popupVisibile",setTipoSostegno:["tipoSostegno","setTipoSostegno"],tipoIstruttoria:"tipoIstruttoria",annoCampagna:"annoCampagna"},outputs:{chiudiPopup:"chiudiPopup"},decls:9,vars:16,consts:[["showEffect","fade",3,"visible","responsive","modal","closable","positionTop","blockScroll","visibleChange","onHide"],[1,"boxpopup"],[3,"tipoSostegno","tipoIstruttoria","annoCampagna","datiAggregatiModelEmitter"],["type","button","pButton","",1,"btn","btn-darkgreen","mt-0","mr-0",3,"label","click"]],template:function(t,i){1&t&&(y.Tb(0,"p-dialog",0),y.bc("visibleChange",(function(t){return i.popupVisibile=t}))("onHide",(function(){return i.closePopup()})),y.Tb(1,"p-header"),y.Oc(2),y.gc(3,"translate"),y.Sb(),y.Tb(4,"div",1),y.Tb(5,"app-tabella-dati-aggregati-istruttoria",2),y.bc("datiAggregatiModelEmitter",(function(t){return i.setDatiAggregatiModel(t)})),y.Sb(),y.Sb(),y.Tb(6,"p-footer"),y.Tb(7,"button",3),y.bc("click",(function(){return i.closePopup()})),y.gc(8,"translate"),y.Sb(),y.Sb(),y.Sb()),2&t&&(y.mc("visible",i.popupVisibile)("responsive",!0)("modal",!0)("closable",!0)("positionTop",0)("blockScroll",!0),y.Bb(2),y.Rc(" Domanda unica campagna ",i.annoCampagna," - ",y.hc(3,12,"IstruttorieDatiAggregati."+i.tipoIstruttoria+"_"+i.tipoSostegno)," "),y.Bb(3),y.mc("tipoSostegno",i.tipoSostegno)("tipoIstruttoria",i.tipoIstruttoria)("annoCampagna",i.annoCampagna),y.Bb(2),y.nc("label",y.hc(8,14,"chiudi")))},directives:[w.a,B.c,rt,B.b,k.b],pipes:[N.d],encapsulation:2}),at),st=((et=function(){function t(){_classCallCheck(this,t),this.tipoSostegno=g.a.DISACCOPPIATO,this.datiTotali=void 0,this.popupVisibile=!1,this.chiudiPopup=new y.n,this.datiAggregatiAnticipoModel=void 0,this.datiAggregatiSaldoModel=void 0,this.datiAggregatiIntegrazioneModel=void 0}return _createClass(t,[{key:"setDatiAggregatiAnticipoModel",value:function(t){this.datiAggregatiAnticipoModel=t,this.tryComputeTotals()}},{key:"setDatiAggregatiSaldoModel",value:function(t){this.datiAggregatiSaldoModel=t,this.tryComputeTotals()}},{key:"setDatiAggregatiIntegrazioneModel",value:function(t){this.datiAggregatiIntegrazioneModel=t,this.tryComputeTotals()}},{key:"tryComputeTotals",value:function(){if(this.datiAggregatiAnticipoModel&&this.datiAggregatiSaldoModel&&this.datiAggregatiIntegrazioneModel){var t=new K,i=this.datiAggregatiAnticipoModel.find((function(t){return t.keyDesc===q.a.PAGAMENTO_AUTORIZZATO})).valoreNetto,e=this.datiAggregatiSaldoModel.find((function(t){return t.keyDesc===q.a.PAGAMENTO_AUTORIZZATO})).valoreNetto,a=this.datiAggregatiIntegrazioneModel.find((function(t){return t.keyDesc===q.a.PAGAMENTO_AUTORIZZATO})).valoreNetto;t.pagamentoAutorizzato=i+e+a;var o=this.datiAggregatiAnticipoModel.find((function(t){return"TOT_ANTICIPO_DISACCOPPIATO"===t.keyDesc})).valoreNetto,n=this.datiAggregatiSaldoModel.find((function(t){return"TOT_SALDO_DISACCOPPIATO"===t.keyDesc})).valoreNetto,r=this.datiAggregatiIntegrazioneModel.find((function(t){return"TOT_INTEGRAZIONE_DISACCOPPIATO"===t.keyDesc})).valoreNetto;t.totaleCalcolato=o+n+r,t.percentualePagamento=(t.pagamentoAutorizzato/t.totaleCalcolato*100).toFixed(2),this.datiTotali=t}}},{key:"closePopup",value:function(){this.chiudiPopup.emit()}}]),t}()).\u0275fac=function(t){return new(t||et)},et.\u0275cmp=y.Hb({type:et,selectors:[["app-popup-dati-aggregati-disaccoppiato-istruttoria"]],inputs:{popupVisibile:"popupVisibile",annoCampagna:"annoCampagna"},outputs:{chiudiPopup:"chiudiPopup"},decls:16,vars:22,consts:[["showEffect","fade",3,"visible","responsive","modal","closable","positionTop","blockScroll","visibleChange","onHide"],[1,"boxpopup"],["tipoSostegno","DISACCOPPIATO","tipoIstruttoria","ANTICIPO",1,"mb-4",3,"annoCampagna","datiAggregatiModelEmitter"],["tipoSostegno","DISACCOPPIATO","tipoIstruttoria","SALDO",1,"mb-4",3,"annoCampagna","datiAggregatiModelEmitter"],["tipoSostegno","DISACCOPPIATO","tipoIstruttoria","INTEGRAZIONE",1,"mb-4",3,"annoCampagna","datiAggregatiModelEmitter"],["type","button","pButton","",1,"btn","btn-darkgreen","mt-0","mr-0",3,"label","click"]],template:function(t,i){1&t&&(y.Tb(0,"p-dialog",0),y.bc("visibleChange",(function(t){return i.popupVisibile=t}))("onHide",(function(){return i.closePopup()})),y.Tb(1,"p-header"),y.Oc(2),y.Sb(),y.Tb(3,"div",1),y.Tb(4,"app-tabella-dati-aggregati-istruttoria",2),y.bc("datiAggregatiModelEmitter",(function(t){return i.setDatiAggregatiAnticipoModel(t)})),y.Oc(5),y.gc(6,"translate"),y.Sb(),y.Tb(7,"app-tabella-dati-aggregati-istruttoria",3),y.bc("datiAggregatiModelEmitter",(function(t){return i.setDatiAggregatiSaldoModel(t)})),y.Oc(8),y.gc(9,"translate"),y.Sb(),y.Tb(10,"app-tabella-dati-aggregati-istruttoria",4),y.bc("datiAggregatiModelEmitter",(function(t){return i.setDatiAggregatiIntegrazioneModel(t)})),y.Oc(11),y.gc(12,"translate"),y.Sb(),y.Sb(),y.Tb(13,"p-footer"),y.Tb(14,"button",5),y.bc("click",(function(){return i.closePopup()})),y.gc(15,"translate"),y.Sb(),y.Sb(),y.Sb()),2&t&&(y.mc("visible",i.popupVisibile)("responsive",!0)("modal",!0)("closable",!0)("positionTop",0)("blockScroll",!0),y.Bb(2),y.Qc(" Domanda unica campagna ",i.annoCampagna," "),y.Bb(2),y.mc("annoCampagna",i.annoCampagna),y.Bb(1),y.Qc(" ",y.hc(6,14,"IstruttorieDatiAggregati.ANTICIPO_DISACCOPPIATO")," "),y.Bb(2),y.mc("annoCampagna",i.annoCampagna),y.Bb(1),y.Qc(" ",y.hc(9,16,"IstruttorieDatiAggregati.SALDO_DISACCOPPIATO")," "),y.Bb(2),y.mc("annoCampagna",i.annoCampagna),y.Bb(1),y.Qc(" ",y.hc(12,18,"IstruttorieDatiAggregati.INTEGRAZIONE_DISACCOPPIATO")," "),y.Bb(3),y.nc("label",y.hc(15,20,"chiudi")))},directives:[w.a,B.c,rt,B.b,k.b],pipes:[N.d],encapsulation:2}),et),lt=e("gCvi"),ut=e("sfyY");function dt(t,i){if(1&t){var e=y.Ub();y.Tb(0,"app-popup-dati-aggregati-zootecnia",21),y.bc("chiudiPopup",(function(){return y.Ec(e),y.fc().closePopupCapiInterventoZootecnia()})),y.Sb()}if(2&t){var a=y.fc();y.mc("popupVisibile",a.popupCapiInterventoZootecniaVisibile)}}function bt(t,i){if(1&t){var e=y.Ub();y.Tb(0,"app-popup-dati-aggregati-istruttoria",22),y.bc("popupVisibileChange",(function(t){return y.Ec(e),y.fc().popupDatiAggregatiVisibile=t}))("chiudiPopup",(function(){return y.Ec(e),y.fc().closePopupDatiAggregati()})),y.Sb()}if(2&t){var a=y.fc();y.mc("tipoSostegno",a.tipoSostegno)("tipoIstruttoria",a.tipoIstruttoria)("popupVisibile",a.popupDatiAggregatiVisibile)("annoCampagna",a.annoCampagna)}}function pt(t,i){if(1&t){var e=y.Ub();y.Tb(0,"app-popup-dati-aggregati-disaccoppiato-istruttoria",23),y.bc("popupVisibileChange",(function(t){return y.Ec(e),y.fc().popupDatiAggregatiDisaccoppiatoVisibile=t}))("chiudiPopup",(function(){return y.Ec(e),y.fc().closePopupDatiAggregatiDisaccoppiato()})),y.Sb()}if(2&t){var a=y.fc();y.mc("popupVisibile",a.popupDatiAggregatiDisaccoppiatoVisibile)("annoCampagna",a.annoCampagna)}}function gt(t,i){if(1&t){var e=y.Ub();y.Tb(0,"app-popup-dati-aggregati-superficie-intervento",24),y.bc("chiudiPopup",(function(){return y.Ec(e),y.fc().closePopupDatiAggregatiSuperficie()})),y.Sb()}if(2&t){var a=y.fc();y.mc("popupVisibile",a.popupDatiAggregatiSuperficieVisibile)("annoCampagna",a.annoCampagna)}}function mt(t,i){1&t&&(y.Tb(0,"tr"),y.Tb(1,"th"),y.Oc(2,"SOSTEGNO"),y.Sb(),y.Tb(3,"th",25),y.Oc(4,"ANTICIPO"),y.Sb(),y.Tb(5,"th",25),y.Oc(6,"SALDO"),y.Sb(),y.Tb(7,"th",25),y.Oc(8,"INTEGRAZIONE"),y.Sb(),y.Sb())}function ft(t,i){if(1&t&&(y.Tb(0,"strong",32),y.Oc(1),y.Sb()),2&t){var e=y.fc(3);y.Bb(1),y.Pc(e.numberBeforeButtonDscAnt)}}function vt(t,i){if(1&t){var e=y.Ub();y.Tb(0,"button",33),y.bc("click",(function(){y.Ec(e);var t=y.fc(3);return t.redirectCruscotto(t.istruttoria[0].anticipoDisaccoppiato)})),y.Oc(1,"CRUSCOTTO"),y.Sb()}}function ht(t,i){if(1&t&&(y.Tb(0,"div",31),y.Mc(1,ft,2,1,"strong",37),y.Mc(2,vt,2,0,"button",38),y.Sb()),2&t){var e=y.fc(2);y.Bb(1),y.mc("ngIf",e.istruttoria[0].anticipoDisaccoppiato),y.Bb(1),y.mc("ngIf",e.istruttoria[0].anticipoDisaccoppiato)}}function St(t,i){if(1&t){var e=y.Ub();y.Tb(0,"tr"),y.Tb(1,"td",26),y.Ob(2,"img",27),y.Tb(3,"strong",28),y.Oc(4,"DISACCOPPIATO"),y.Sb(),y.Sb(),y.Tb(5,"td",29),y.Mc(6,ht,3,2,"div",30),y.Sb(),y.Tb(7,"td",29),y.Tb(8,"div",31),y.Tb(9,"strong",32),y.Oc(10),y.Sb(),y.Tb(11,"button",33),y.bc("click",(function(){y.Ec(e);var t=y.fc();return t.redirectCruscotto(t.istruttoria[0].saldoDisaccoppiato)})),y.Oc(12,"CRUSCOTTO"),y.Sb(),y.Sb(),y.Sb(),y.Tb(13,"td",29),y.Tb(14,"div",31),y.Tb(15,"strong",32),y.Oc(16),y.Sb(),y.Tb(17,"button",33),y.bc("click",(function(){y.Ec(e);var t=y.fc();return t.redirectCruscotto(t.istruttoria[0].integrazioneDisaccoppiato)})),y.Oc(18,"CRUSCOTTO"),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Tb(19,"tr"),y.Tb(20,"td",26),y.Ob(21,"img",34),y.Tb(22,"strong",28),y.Oc(23,"ACCOPPIATO ZOOTECNIA"),y.Sb(),y.Sb(),y.Ob(24,"td"),y.Tb(25,"td",29),y.Tb(26,"div",31),y.Tb(27,"strong",32),y.Oc(28),y.Sb(),y.Tb(29,"button",33),y.bc("click",(function(){y.Ec(e);var t=y.fc();return t.redirectCruscotto(t.istruttoria[0].saldoAcz)})),y.Oc(30,"CRUSCOTTO"),y.Sb(),y.Sb(),y.Sb(),y.Ob(31,"td",29),y.Sb(),y.Tb(32,"tr"),y.Tb(33,"td",26),y.Ob(34,"img",35),y.Tb(35,"strong",28),y.Oc(36,"ACCOPPIATO SUPERFICI"),y.Sb(),y.Sb(),y.Ob(37,"td"),y.Tb(38,"td",29),y.Tb(39,"div",31),y.Tb(40,"strong",32),y.Oc(41),y.Sb(),y.Tb(42,"button",36),y.bc("click",(function(){y.Ec(e);var t=y.fc();return t.redirectCruscotto(t.istruttoria[0].saldoAcs)})),y.Oc(43,"CRUSCOTTO"),y.Sb(),y.Sb(),y.Sb(),y.Ob(44,"td",29),y.Sb()}if(2&t){var a=y.fc();y.Bb(6),y.mc("ngIf",0!==a.numberBeforeButtonDscAnt),y.Bb(4),y.Pc(a.numberBeforeButtonDsc),y.Bb(6),y.Pc(a.numberBeforeButtonDscInt),y.Bb(12),y.Pc(a.numberBeforeButtonAcz),y.Bb(13),y.Pc(a.numberBeforeButtonAcs)}}function Tt(t,i){if(1&t&&y.Ob(0,"app-processi-di-controllo",39),2&t){var e=y.fc();y.mc("processiDaControllare",e.processiDaControllare)}}var It,Ct,Ot=function(){return{marginTop:"70px"}},At=((It=function(){function t(i,e,a,o,n,r,c){_classCallCheck(this,t),this.istruttoriaService=i,this.router=e,this.route=a,this.messageService=o,this.confirmationService=n,this.translateService=r,this.repeatingServiceCall=c,this.popupDatiAggregatiSuperficieVisibile=!1,this.popupDatiAggregatiDisaccoppiatoVisibile=!1,this.popupDatiAggregatiVisibile=!1,this.popupCapiInterventoZootecniaVisibile=!1,this.tipoIstruttoria=void 0,this.tipoSostegno=void 0,this.itemsCampagna=[],this.msgText="",this.warnIco="warn",this.numberBeforeButtonDsc=0,this.numberBeforeButtonDscAnt=0,this.numberBeforeButtonDscInt=0,this.numberBeforeButtonAcs=0,this.numberBeforeButtonAcz=0,this.annoCampagna=void 0,this.numeroDomandeCount=0,this.componentDestroyed$=new S.a,this.processiDaControllare=D.a.CRUSCOTTO,this.istruttorie=this.valoriAnniIstruttorie(),this.istruttoria=[{anticipoDisaccoppiato:{sostegno:"DISACCOPPIATO",tipo:"ANTICIPO"},saldoDisaccoppiato:{sostegno:"DISACCOPPIATO",tipo:"SALDO"},integrazioneDisaccoppiato:{sostegno:"DISACCOPPIATO",tipo:"INTEGRAZIONE"},saldoAcs:{sostegno:"SUPERFICIE",tipo:"SALDO"},integrazioneAcs:{sostegno:"SUPERFICIE",tipo:"INTEGRAZIONE"},saldoAcz:{sostegno:"ZOOTECNIA",tipo:"SALDO"},integrazioneAcz:{sostegno:"ZOOTECNIA",tipo:"INTEGRAZIONE"}}]}return _createClass(t,[{key:"manageAnniCampagna",value:function(t){var i=this;t.forEach((function(t){i.itemsCampagna.push({label:""+t,value:t})}))}},{key:"ngOnInit",value:function(){var t=this;this.istruttoriaService.caricaAnniCampagna(P.a.PAC_2014_2020).pipe(Object(m.a)((function(i){return t.manageAnniCampagna(i),t.route.params})),Object(m.a)((function(i){if(t.annoCampagna=Number(i.annoCampagna),t.annoCampagna)return t.itemsSincronizzazione=t.valoriSincronizzazione(t.annoCampagna),t.itemsStatistiche=t.valoriStatistiche(t.annoCampagna),t.itemsMenuDatiAggregati=t.getItemsMenuDatiAggregati(t.annoCampagna),t.aggiornaContatore(t.annoCampagna);var e=t.verificaAnnoDefault();return t.annoCampagna=e.defaultAnnoCorrente?e.annoAttuale:e.annoAttuale-1,t.router.navigate(["./"+t.annoCampagna],{relativeTo:t.route}),T.a})),Object(f.a)(this.componentDestroyed$)).subscribe((function(i){t.manageAggiornaContatore(t.annoCampagna,i)}))}},{key:"loadNumber",value:function(t){var i=this,e=t,a=new b.a;a.campagna=e,a.sostegno=this.istruttoria[0].saldoDisaccoppiato.sostegno,a.tipo=this.istruttoria[0].saldoDisaccoppiato.tipo;var o=new b.a;o.campagna=e,o.sostegno=this.istruttoria[0].saldoAcs.sostegno,o.tipo=this.istruttoria[0].saldoAcs.tipo;var n=new b.a;n.campagna=e,n.sostegno=this.istruttoria[0].saldoAcz.sostegno,n.tipo=this.istruttoria[0].saldoAcz.tipo,this.istruttoriaService.countIstruttorieDU(a).subscribe((function(t){i.numberBeforeButtonDsc=t})),a.tipo=this.istruttoria[0].anticipoDisaccoppiato.tipo,this.istruttoriaService.countIstruttorieDU(a).subscribe((function(t){i.numberBeforeButtonDscAnt=t})),a.tipo=this.istruttoria[0].integrazioneDisaccoppiato.tipo,this.istruttoriaService.countIstruttorieDU(a).subscribe((function(t){i.numberBeforeButtonDscInt=t})),this.istruttoriaService.countIstruttorieDU(o).subscribe((function(t){i.numberBeforeButtonAcs=t})),this.istruttoriaService.countIstruttorieDU(n).subscribe((function(t){i.numberBeforeButtonAcz=t}))}},{key:"redirectCruscotto",value:function(t){this.router.navigate(["./".concat(t.sostegno.toLowerCase(),"/").concat(t.tipo.toLowerCase())],{relativeTo:this.route})}},{key:"apriConfigIstruttoria",value:function(){this.router.navigate(["./configurazione"],{relativeTo:this.route})}},{key:"valoriAnniIstruttorie",value:function(){return[{annoCampagna:2018,anticipoDisaccoppiato:null,saldoDisaccoppiato:{campagna:2018,sostegno:"DISACCOPPIATO",tipo:"SALDO"},integrazioneDisaccoppiato:{campagna:2018,sostegno:"DISACCOPPIATO",tipo:"INTEGRAZIONE"},saldoAcs:{campagna:2018,sostegno:"SUPERFICIE",tipo:"SALDO"},integrazioneAcs:{campagna:2018,sostegno:"SUPERFICIE",tipo:"INTEGRAZIONE"},saldoAcz:{campagna:2018,sostegno:"ZOOTECNIA",tipo:"SALDO"},integrazioneAcz:{campagna:2018,sostegno:"ZOOTECNIA",tipo:"INTEGRAZIONE"}},{annoCampagna:2019,anticipoDisaccoppiato:{campagna:2019,sostegno:"DISACCOPPIATO",tipo:"ANTICIPO"},saldoDisaccoppiato:{campagna:2019,sostegno:"DISACCOPPIATO",tipo:"SALDO"},integrazioneDisaccoppiato:{campagna:2019,sostegno:"DISACCOPPIATO",tipo:"INTEGRAZIONE"},saldoAcs:{campagna:2019,sostegno:"SUPERFICIE",tipo:"SALDO"},integrazioneAcs:{campagna:2019,sostegno:"SUPERFICIE",tipo:"INTEGRAZIONE"},saldoAcz:{campagna:2019,sostegno:"ZOOTECNIA",tipo:"SALDO"},integrazioneAcz:{campagna:2019,sostegno:"ZOOTECNIA",tipo:"INTEGRAZIONE"}}]}},{key:"valoriStatistiche",value:function(t){var i=this;return[{label:"STATISTICHE",items:[{label:"BPS",value:u.a.STATISTICHE_CS21,command:function(){i.calcoloStatisticheEsinc(t,u.a.STATISTICHE_CS21,"STATISTICHE-BPS")}},{label:"Greening",value:u.a.STATISTICHE_CS22,command:function(){i.calcoloStatisticheEsinc(t,u.a.STATISTICHE_CS22,"STATISTICHE-Greening")}},{label:"Giovane Agricoltore",value:u.a.STATISTICHE_CS25,command:function(){i.calcoloStatisticheEsinc(t,u.a.STATISTICHE_CS25,"STATISTICHE-Giovane Agricoltore")}},{label:"Accoppiati",value:u.a.STATISTICHE_CS27,command:function(){i.calcoloStatisticheEsinc(t,u.a.STATISTICHE_CS27,"STATISTICHE-Accoppiati")}}]}]}},{key:"valoriSincronizzazione",value:function(t){var i=this;return[{label:"SINCRONIZZAZIONE",items:[{label:"SUP. ACCERTATE",value:u.a.SINCRONIZZAZIONE_SUPERFICI_ACCERTATE,command:function(){i.calcoloStatisticheEsinc(t,u.a.SINCRONIZZAZIONE_SUPERFICI_ACCERTATE,"SINCRONIZZAZIONE-SUP. ACCERTATE")}},{label:"PAGAMENTI",value:u.a.SINCRONIZZAZIONE_PAGAMENTI,command:function(){i.calcoloStatisticheEsinc(t,u.a.SINCRONIZZAZIONE_PAGAMENTI,"SINCRONIZZAZIONE-PAGAMENTI")}}]}]}},{key:"getItemsMenuDatiAggregati",value:function(t){var i=this;return[{label:this.translateService.instant("DATI_AGGREGATI"),items:[{label:this.translateService.instant("SOSTEGNO.DISACCOPPIATO"),items:[{label:this.translateService.instant("ISTRUTTORIA_PAC.PAGAMENTI"),command:function(){i.openPopupDatiAggregatiDisaccoppiato()}}]},{label:this.translateService.instant("SOSTEGNO.SUPERFICIE"),items:[{label:this.translateService.instant("ISTRUTTORIA_PAC.PAGAMENTI"),command:function(){i.tipoSostegno=g.a.SUPERFICIE,i.tipoIstruttoria=p.a.SALDO,i.openPopupDatiAggregati()}},{label:this.translateService.instant("ISTRUTTORIA_PAC.SUPERFICI_AMMISSIBILI"),command:function(){i.openPopupDatiAggregatiSuperficie()}}]},{label:this.translateService.instant("SOSTEGNO.ZOOTECNIA"),items:[{label:this.translateService.instant("ISTRUTTORIA_PAC.PAGAMENTI"),command:function(){i.tipoSostegno=g.a.ZOOTECNIA,i.tipoIstruttoria=p.a.SALDO,i.openPopupDatiAggregati()}},{label:this.translateService.instant("ISTRUTTORIA_PAC.CAPI_RICHIESTI"),command:function(){i.openPopupCapiInterventoZootecnia()}},{label:this.translateService.instant("ISTRUTTORIA_PAC.ELENCO_CAPI_RICHIESTI"),command:function(){i.istruttoriaService.getCapiImpegnatiPerAGEA(t).pipe(Object(v.a)((function(t){return i.messageService.add(d.a.getToast("tst",d.b.error,d.a.erroreRecuperoDati)),T.a})),Object(f.a)(i.componentDestroyed$)).subscribe((function(t){O.saveAs(t,"CAPI_ZOOTECNIA_APPAG.csv")}))}}]}]}]}},{key:"calcoloStatisticheEsinc",value:function(t,i,e){var a=this;this.confirmationService.confirm({message:"Attenzione si sta per lanciare l'elaborazione <br>".concat(e,".<br> Questa operazione \xe8 irreversibile e sovrascriver\xe0 i dati precedenti.<br> Sei sicuro di voler procedere?"),header:"Conferma",icon:"pi pi-exclamation-triangle",accept:[u.a.SINCRONIZZAZIONE_SUPERFICI_ACCERTATE,u.a.SINCRONIZZAZIONE_PAGAMENTI].includes(i)?this.calcoloSincronizzazioneCallRestApi(i,t):this.calcoloStatisticheCallRestApi(i,t),reject:function(){a.messageService.add(d.a.getToast("tst",d.b.reject,d.a.operazioneAnnullata))}})}},{key:"calcoloStatisticheCallRestApi",value:function(t,i){var e=this;return function(){var a={tipologiaStatistica:t,campagna:i.toString()},o=Object(I.a)((function(){t==u.a.STATISTICHE_CS21&&e.messageService.add(d.a.getToast("tst",d.b.warn,d.a.inRunStatisticheBPS)),t==u.a.STATISTICHE_CS22&&e.messageService.add(d.a.getToast("tst",d.b.warn,d.a.inRunStatisticheGreening)),t==u.a.STATISTICHE_CS25&&e.messageService.add(d.a.getToast("tst",d.b.warn,d.a.inRunStatisticheGiovane)),t==u.a.STATISTICHE_CS27&&e.messageService.add(d.a.getToast("tst",d.b.warn,d.a.inRunStatisticheAccoppiato))})),n=e.istruttoriaService.avviaStatistiche(a).pipe(Object(h.a)((function(i){e.repeatingServiceCall.start(),t==u.a.STATISTICHE_CS21&&e.messageService.add(d.a.getToast("tst",d.b.success,d.a.processoOkStatisticheBPS)),t==u.a.STATISTICHE_CS22&&e.messageService.add(d.a.getToast("tst",d.b.success,d.a.processoOkStatisticheGreening)),t==u.a.STATISTICHE_CS25&&e.messageService.add(d.a.getToast("tst",d.b.success,d.a.processoOkStatisticheGiovane)),t==u.a.STATISTICHE_CS27&&e.messageService.add(d.a.getToast("tst",d.b.success,d.a.processoOkStatisticheAccoppiato)),t==u.a.SINCRONIZZAZIONE_SUPERFICI_ACCERTATE&&e.messageService.add(d.a.getToast("tst",d.b.success,d.a.processoOkSincronizzazioneSuperficiAccertate)),t==u.a.SINCRONIZZAZIONE_PAGAMENTI&&e.messageService.add(d.a.getToast("tst",d.b.success,d.a.processoOkSincronizzazionePagamenti))})));e.istruttoriaService.checkProcessiInEsecuzione([t]).pipe(Object(f.a)(e.componentDestroyed$),Object(m.a)((function(t){return Object(C.a)((function(){return t}),o,n)}))).subscribe()}}},{key:"calcoloSincronizzazioneCallRestApi",value:function(t,i){var e=this;return function(){var a={tipologiaSincronizzazione:t,campagna:i},o=Object(I.a)((function(){t==u.a.SINCRONIZZAZIONE_SUPERFICI_ACCERTATE&&e.messageService.add(d.a.getToast("tst",d.b.warn,d.a.inRunSincronizzazioneSuperficiAccertate)),t==u.a.SINCRONIZZAZIONE_PAGAMENTI&&e.messageService.add(d.a.getToast("tst",d.b.warn,d.a.inRunSincronizzazionePagamenti))})),n=e.istruttoriaService.avviaSincronizzazione(a).pipe(Object(h.a)((function(i){e.repeatingServiceCall.start(),t==u.a.SINCRONIZZAZIONE_SUPERFICI_ACCERTATE&&e.messageService.add(d.a.getToast("tst",d.b.success,d.a.processoOkSincronizzazioneSuperficiAccertate)),t==u.a.SINCRONIZZAZIONE_PAGAMENTI&&e.messageService.add(d.a.getToast("tst",d.b.success,d.a.processoOkSincronizzazionePagamenti))})));e.istruttoriaService.checkProcessiInEsecuzione([t]).pipe(Object(f.a)(e.componentDestroyed$),Object(m.a)((function(t){return Object(C.a)((function(){return t}),o,n)}))).subscribe()}}},{key:"manageCambioAnno",value:function(t){this.router.navigate(["./"+t.value],{relativeTo:this.route.parent})}},{key:"aggiornaContatore",value:function(t){return this.istruttoriaService.countDomandeDUPAC("annoRiferimento="+t)}},{key:"manageAggiornaContatore",value:function(t,i){this.numeroDomandeCount=i,this.warnIco="warn",this.msgText="Ci sono "+this.numeroDomandeCount+" domande PROTOCOLLATE da ricevere",this.numeroDomandeCount<=0&&(this.warnIco="",this.msgText=""),1===this.numeroDomandeCount&&(this.msgText="C'\xe8 1 domanda PROTOCOLLATA da ricevere"),this.loadNumber(t)}},{key:"verificaAnnoDefault",value:function(){var t=new Date,i=!1;return t.getMonth()+1>9&&(i=!0),{annoAttuale:t.getFullYear(),defaultAnnoCorrente:i}}},{key:"openPopupDatiAggregatiSuperficie",value:function(){this.popupDatiAggregatiSuperficieVisibile=!0}},{key:"closePopupDatiAggregatiSuperficie",value:function(){this.popupDatiAggregatiSuperficieVisibile=!1}},{key:"openPopupDatiAggregatiDisaccoppiato",value:function(){this.popupDatiAggregatiDisaccoppiatoVisibile=!0}},{key:"closePopupDatiAggregatiDisaccoppiato",value:function(){this.popupDatiAggregatiDisaccoppiatoVisibile=!1}},{key:"openPopupDatiAggregati",value:function(){this.popupDatiAggregatiVisibile=!0}},{key:"closePopupDatiAggregati",value:function(){this.popupDatiAggregatiVisibile=!1}},{key:"openPopupCapiInterventoZootecnia",value:function(){this.popupCapiInterventoZootecniaVisibile=!0}},{key:"closePopupCapiInterventoZootecnia",value:function(){this.popupCapiInterventoZootecniaVisibile=!1}},{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}}]),t}()).\u0275fac=function(t){return new(t||It)(y.Nb(l.a),y.Nb(c.e),y.Nb(c.a),y.Nb(B.d),y.Nb(B.a),y.Nb(N.e),y.Nb(A.a))},It.\u0275cmp=y.Hb({type:It,selectors:[["app-sommario-istruttoria1420"]],decls:29,vars:22,consts:[[3,"popupVisibile","chiudiPopup",4,"ngIf"],[3,"tipoSostegno","tipoIstruttoria","popupVisibile","annoCampagna","popupVisibileChange","chiudiPopup",4,"ngIf"],[3,"popupVisibile","annoCampagna","popupVisibileChange","chiudiPopup",4,"ngIf"],[3,"popupVisibile","annoCampagna","chiudiPopup",4,"ngIf"],[1,"tophome"],[1,"ui-grid-fixed"],["key","tst"],[1,"ui-grid-fixed","layout-actionmenu"],[2,"margin-top","30px","text-align","center"],[1,"d-flex","align-items-center","bg-primary","px-4","py-3"],[1,"mb-0","text-white","fs-16","fw-700"],[1,"ml-2","dropdown-custom",3,"options","ngModel","onChange"],[1,"ml-auto","mr-3","message-custom",3,"severity","text"],[1,"dropdown-custom","mr-3",3,"model"],["label","GESTISCI","icon","pi pi-cog","iconPos","right",1,"button-custom",3,"click"],[1,"boxgrey",2,"padding-top","50px","display","table"],[1,"table-custom",3,"value"],["pTemplate","header"],["pTemplate","body"],[1,"layout-actionmenu"],[3,"processiDaControllare",4,"ngIf"],[3,"popupVisibile","chiudiPopup"],[3,"tipoSostegno","tipoIstruttoria","popupVisibile","annoCampagna","popupVisibileChange","chiudiPopup"],[3,"popupVisibile","annoCampagna","popupVisibileChange","chiudiPopup"],[3,"popupVisibile","annoCampagna","chiudiPopup"],[1,"text-center"],["align","left"],["src","assets/img/icon_disaccoppiato.png"],[1,"ml-2"],["align","right"],["class","d-flex  align-items-center  justify-content-end",4,"ngIf"],[1,"d-flex","align-items-center","justify-content-end"],[1,"fs-22","mr-3"],["pButton","","type","button",1,"btn","fs-16","btn-green","ui-button","ui-widget","ui-state-default","ui-corner-all","ui-button-text-empty",3,"click"],["src","assets/img/icon_acz.png"],["src","assets/img/icon_acs.png"],["pButton","","type","button",1,"btn","fs-16","btn-green","ui-button","ui-widget","ui-state-default","ui-corner-all","ui-button-text-empty","button-responsive",3,"click"],["class","fs-22  mr-3",4,"ngIf"],["pButton","","type","button","class","btn fs-16 btn-green ui-button ui-widget ui-state-default ui-corner-all ui-button-text-empty",3,"click",4,"ngIf"],[3,"processiDaControllare"]],template:function(t,i){1&t&&(y.Mc(0,dt,1,1,"app-popup-dati-aggregati-zootecnia",0),y.Mc(1,bt,1,4,"app-popup-dati-aggregati-istruttoria",1),y.Mc(2,pt,1,2,"app-popup-dati-aggregati-disaccoppiato-istruttoria",2),y.Mc(3,gt,1,2,"app-popup-dati-aggregati-superficie-intervento",3),y.Tb(4,"div",4),y.Tb(5,"div",5),y.Tb(6,"h4"),y.Oc(7),y.gc(8,"translate"),y.Sb(),y.Sb(),y.Sb(),y.Ob(9,"p-toast",6),y.Tb(10,"div",7),y.Tb(11,"div",8),y.Tb(12,"div",9),y.Tb(13,"h4",10),y.Oc(14),y.gc(15,"translate"),y.Sb(),y.Tb(16,"p-dropdown",11),y.bc("onChange",(function(t){return i.manageCambioAnno(t)})),y.Sb(),y.Ob(17,"p-message",12),y.Ob(18,"p-menubar",13),y.Ob(19,"p-menubar",13),y.Ob(20,"p-menubar",13),y.Tb(21,"p-button",14),y.bc("click",(function(){return i.apriConfigIstruttoria()})),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Tb(22,"div",15),y.Tb(23,"div",5),y.Tb(24,"p-table",16),y.Mc(25,mt,9,0,"ng-template",17),y.Mc(26,St,45,5,"ng-template",18),y.Sb(),y.Tb(27,"div",19),y.Mc(28,Tt,1,1,"app-processi-di-controllo",20),y.Sb(),y.Sb(),y.Sb()),2&t&&(y.mc("ngIf",i.annoCampagna&&i.popupCapiInterventoZootecniaVisibile),y.Bb(1),y.mc("ngIf",i.annoCampagna&&i.tipoIstruttoria&&i.annoCampagna&&i.popupDatiAggregatiVisibile),y.Bb(1),y.mc("ngIf",i.annoCampagna&&i.popupDatiAggregatiDisaccoppiatoVisibile),y.Bb(1),y.mc("ngIf",i.annoCampagna&&i.popupDatiAggregatiSuperficieVisibile),y.Bb(4),y.Pc(y.hc(8,17,"ISTRUTTORIA_PAC.INTESTAZIONE")),y.Bb(2),y.Kc(y.rc(21,Ot)),y.Bb(5),y.Pc(y.hc(15,19,"ISTRUTTORIA_PAC.DOMANDA_UNICA")),y.Bb(2),y.mc("options",i.itemsCampagna)("ngModel",i.annoCampagna),y.Bb(1),y.mc("severity",i.warnIco)("text",i.msgText),y.Bb(1),y.mc("model",i.itemsMenuDatiAggregati),y.Bb(1),y.mc("model",i.itemsStatistiche),y.Bb(1),y.mc("model",i.itemsSincronizzazione),y.Bb(4),y.mc("value",i.istruttoria),y.Bb(4),y.mc("ngIf",i.processiDaControllare))},directives:[a.t,z.a,R.a,M.s,M.v,r.b,E.a,k.a,o.q,B.e,L.a,ct,st,lt.a,k.b,ut.a],pipes:[N.d],styles:[".button-custom .ui-button,.dropdown-custom .ui-dropdown-label,.dropdown-custom .ui-menuitem-link{display:flex;align-items:center;justify-content:center;padding:7px 30px!important;min-height:0!important;height:auto;border:0!important;border-radius:0!important;background-color:var(--white)!important;box-shadow:none;font-size:14px!important;font-weight:700;line-height:1!important}.button-custom .ui-button span,.dropdown-custom .ui-dropdown-label span,.dropdown-custom .ui-menuitem-link span{line-height:1}.message-custom .ui-message.ui-message.ui-message{display:flex;align-items:center;margin:0;padding:.375rem 1rem;border:0;background-color:#f9f4cf}.message-custom .ui-message.ui-message.ui-message .ui-message-icon.ui-message-icon{font-size:1rem;margin-top:0;margin-right:.5rem;height:auto;color:#ffae3f}.message-custom .ui-message.ui-message.ui-message .ui-message-text{line-height:1;color:#7c724f}.dropdown-custom{text-transform:uppercase}.dropdown-custom *{color:var(--primary)!important}.dropdown-custom .ui-dropdown.ui-dropdown.ui-dropdown{background-image:none;padding-bottom:0}.dropdown-custom .pi.pi-caret-down,.dropdown-custom .ui-dropdown-trigger.ui-dropdown-trigger.ui-dropdown-trigger{margin-top:0!important;position:absolute;top:50%;right:0;transform:translateY(-50%);font-size:20px}.dropdown-custom .ui-menubar.ui-menubar{border:0;border-radius:0}.dropdown-custom .ui-menubar-custom{display:none!important}.dropdown-custom .ui-dropdown-panel.ui-dropdown-panel .ui-dropdown-item.ui-state-highlight{background-color:var(--primary)}.dropdown-custom .ui-dropdown-panel.ui-dropdown-panel .ui-dropdown-item.ui-state-highlight span{color:var(--white)!important}.dropdown-custom .ui-widget-content.ui-widget-content.ui-widget-content{padding-top:0;padding-bottom:0}.button-custom .ui-button{text-transform:uppercase}.button-custom .ui-button *{color:var(--primary)!important}.button-custom .ui-button .pi{font-size:26px;right:0}.table-custom table .ui-table-tbody>tr{background:transparent}.table-custom table .btn{box-shadow:none}"],encapsulation:2}),It),Dt=[{path:"",component:At,pathMatch:"full"},{path:":annoCampagna",component:At,pathMatch:"full",data:{mybreadcrumb:""}},{path:":annoCampagna/configurazione",loadChildren:function(){return Promise.resolve().then(e.bind(null,"tZin")).then((function(t){return t.SostegnoSharedModule}))},canLoad:[s.a],data:{mybreadcrumb:"Configurazione Istruttoria"}},{path:":annoCampagna/disaccoppiato/:tipo",loadChildren:function(){return e.e(35).then(e.bind(null,"d5Pd")).then((function(t){return t.DisaccoppiatoModule}))},canLoad:[s.a],data:{mybreadcrumb:"Disaccoppiato"}},{path:":annoCampagna/superficie/saldo",loadChildren:function(){return Promise.resolve().then(e.bind(null,"4waU")).then((function(t){return t.SuperficiModule}))},canLoad:[s.a],data:{mybreadcrumb:"Superfici"}},{path:":annoCampagna/zootecnia/saldo",loadChildren:function(){return Promise.resolve().then(e.bind(null,"IWBs")).then((function(t){return t.ZootecniaModule}))},canLoad:[s.a],data:{mybreadcrumb:"Zootecnia Saldo"}}],Pt=((Ct=function t(){_classCallCheck(this,t)}).\u0275mod=y.Lb({type:Ct}),Ct.\u0275inj=y.Kb({factory:function(t){return new(t||Ct)},imports:[[a.c,c.i.forChild(Dt)]]}),Ct),yt=e("b7oP"),Bt=e("R0Ic"),Nt=e("P/hZ"),zt=e("Z7TK"),Rt=["container"],Mt=["defaultbtn"],Et=function(t){return{"ui-helper-hidden":t}};function kt(t,i){if(1&t&&y.Ob(0,"li",11),2&t){var e=y.fc().$implicit;y.mc("ngClass",y.sc(1,Et,!1===e.visible))}}function Lt(t,i){if(1&t&&y.Ob(0,"span",18),2&t){var e=y.fc(3).$implicit;y.Db(e.icon),y.mc("ngClass","ui-menuitem-icon")}}var wt=function(t){return{"ui-state-disabled":t}};function _t(t,i){if(1&t){var e=y.Ub();y.Tb(0,"a",15),y.bc("click",(function(t){y.Ec(e);var i=y.fc(2).$implicit;return y.fc(2).itemClick(t,i)})),y.Mc(1,Lt,1,3,"span",16),y.Tb(2,"span",17),y.Oc(3),y.Sb(),y.Sb()}if(2&t){var a=y.fc(2).$implicit;y.mc("ngClass",y.sc(5,wt,a.disabled)),y.Cb("href",a.url,y.Gc)("target",a.target),y.Bb(1),y.mc("ngIf",a.icon),y.Bb(2),y.Pc(a.label)}}function xt(t,i){if(1&t&&y.Ob(0,"span",18),2&t){var e=y.fc(3).$implicit;y.Db(e.icon),y.mc("ngClass","ui-menuitem-icon")}}function Ut(t,i){if(1&t){var e=y.Ub();y.Tb(0,"a",19),y.bc("click",(function(t){y.Ec(e);var i=y.fc(2).$implicit;return y.fc(2).itemClick(t,i)})),y.Mc(1,xt,1,3,"span",16),y.Tb(2,"span",17),y.Oc(3),y.Sb(),y.Sb()}if(2&t){var a=y.fc(2).$implicit;y.mc("routerLink",a.routerLink)("queryParams",a.queryParams)("ngClass",y.sc(6,wt,a.disabled)),y.Cb("target",a.target),y.Bb(1),y.mc("ngIf",a.icon),y.Bb(2),y.Pc(a.label)}}function Ft(t,i){if(1&t&&(y.Tb(0,"li",12),y.Mc(1,_t,4,7,"a",13),y.Mc(2,Ut,4,8,"a",14),y.Sb()),2&t){var e=y.fc().$implicit;y.Bb(1),y.mc("ngIf",!e.routerLink),y.Bb(1),y.mc("ngIf",e.routerLink)}}function Gt(t,i){if(1&t&&(y.Mc(0,kt,1,3,"li",9),y.Mc(1,Ft,3,2,"li",10)),2&t){var e=i.$implicit;y.mc("ngIf",e.separator),y.Bb(1),y.mc("ngIf",!1!==e.visible&&!e.separator)}}var Vt=function(t,i){return{showTransitionParams:t,hideTransitionParams:i}},Zt=function(t){return{value:"visible",params:t}};function $t(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div",0,6),y.bc("@overlayAnimation.start",(function(t){return y.Ec(e),y.fc().onOverlayAnimationStart(t)})),y.Tb(2,"ul",7),y.Mc(3,Gt,2,2,"ng-template",8),y.Sb(),y.Sb()}if(2&t){var a=y.fc();y.Db(a.menuStyleClass),y.mc("ngClass","ui-menu ui-menu-dynamic ui-widget ui-widget-content ui-corner-all ui-helper-clearfix ui-shadow")("ngStyle",a.menuStyle)("@overlayAnimation",y.sc(10,Zt,y.tc(7,Vt,a.showTransitionOptions,a.hideTransitionOptions))),y.Cb("id",a.ariaId+"_overlay"),y.Bb(3),y.mc("ngForOf",a.model)}}var Qt,qt,Ht=function(){return{"ui-splitbutton ui-buttonset ui-widget":!0}},jt=((qt=function(){function t(i,e,a,o){_classCallCheck(this,t),this.el=i,this.renderer=e,this.router=a,this.cd=o,this.iconPos="left",this.onClick=new y.n,this.onDropdownClick=new y.n,this.showTransitionOptions="225ms ease-out",this.hideTransitionOptions="195ms ease-in",this.overlayVisible=!1,this.ariaId=Object(zt.c)()+"_list"}return _createClass(t,[{key:"onDefaultButtonClick",value:function(t){this.onClick.emit(t)}},{key:"itemClick",value:function(t,i){i.disabled?t.preventDefault():(i.url||t.preventDefault(),i.command&&i.command({originalEvent:t,item:i}),this.overlayVisible=!1)}},{key:"show",value:function(){this.overlayVisible=!this.overlayVisible}},{key:"onOverlayAnimationStart",value:function(t){switch(t.toState){case"visible":this.overlay=t.element,this.appendOverlay(),this.overlay.style.zIndex=String(++Nt.a.zindex),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener();break;case"void":this.onOverlayHide()}}},{key:"onDropdownButtonClick",value:function(t){this.onDropdownClick.emit(t),this.dropdownClick=!0,this.show()}},{key:"alignOverlay",value:function(){this.appendTo?Nt.a.absolutePosition(this.overlay,this.containerViewChild.nativeElement):Nt.a.relativePosition(this.overlay,this.containerViewChild.nativeElement)}},{key:"appendOverlay",value:function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):Nt.a.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=Nt.a.getWidth(this.el.nativeElement.children[0])+"px"))}},{key:"restoreOverlayAppend",value:function(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}},{key:"bindDocumentClickListener",value:function(){var t=this;this.documentClickListener||(this.documentClickListener=this.renderer.listen("document","click",(function(){t.dropdownClick?t.dropdownClick=!1:(t.overlayVisible=!1,t.unbindDocumentClickListener(),t.cd.markForCheck())})))}},{key:"unbindDocumentClickListener",value:function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}},{key:"bindDocumentResizeListener",value:function(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}},{key:"unbindDocumentResizeListener",value:function(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}},{key:"onWindowResize",value:function(){this.overlayVisible=!1}},{key:"onOverlayHide",value:function(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.overlay=null}},{key:"ngOnDestroy",value:function(){this.restoreOverlayAppend(),this.onOverlayHide()}}]),t}()).\u0275fac=function(t){return new(t||qt)(y.Nb(y.l),y.Nb(y.E),y.Nb(c.e),y.Nb(y.h))},qt.\u0275cmp=y.Hb({type:qt,selectors:[["p-splitButton"]],viewQuery:function(t,i){var e;1&t&&(y.Uc(Rt,!0),y.Uc(Mt,!0)),2&t&&(y.Ac(e=y.cc())&&(i.containerViewChild=e.first),y.Ac(e=y.cc())&&(i.buttonViewChild=e.first))},inputs:{iconPos:"iconPos",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",model:"model",icon:"icon",label:"label",style:"style",styleClass:"styleClass",menuStyle:"menuStyle",menuStyleClass:"menuStyleClass",disabled:"disabled",tabindex:"tabindex",appendTo:"appendTo",dir:"dir"},outputs:{onClick:"onClick",onDropdownClick:"onDropdownClick"},decls:6,vars:14,consts:[[3,"ngClass","ngStyle"],["container",""],["type","button","pButton","",3,"icon","iconPos","label","cornerStyleClass","disabled","click"],["defaultbtn",""],["type","button","pButton","","icon","pi pi-chevron-down",1,"ui-splitbutton-menubutton",3,"cornerStyleClass","disabled","click"],[3,"ngClass","ngStyle","class",4,"ngIf"],["overlay",""],["role","menu",1,"ui-menu-list","ui-helper-reset"],["ngFor","",3,"ngForOf"],["class","ui-menu-separator ui-widget-content","role","separator",3,"ngClass",4,"ngIf"],["class","ui-menuitem ui-widget ui-corner-all","role","menuitem","role","none",4,"ngIf"],["role","separator",1,"ui-menu-separator","ui-widget-content",3,"ngClass"],["role","menuitem","role","none",1,"ui-menuitem","ui-widget","ui-corner-all"],["class","ui-menuitem-link ui-corner-all","role","menuitem",3,"ngClass","click",4,"ngIf"],["class","ui-menuitem-link ui-corner-all",3,"routerLink","queryParams","ngClass","click",4,"ngIf"],["role","menuitem",1,"ui-menuitem-link","ui-corner-all",3,"ngClass","click"],[3,"ngClass","class",4,"ngIf"],[1,"ui-menuitem-text"],[3,"ngClass"],[1,"ui-menuitem-link","ui-corner-all",3,"routerLink","queryParams","ngClass","click"]],template:function(t,i){1&t&&(y.Tb(0,"div",0,1),y.Tb(2,"button",2,3),y.bc("click",(function(t){return i.onDefaultButtonClick(t)})),y.Sb(),y.Tb(4,"button",4),y.bc("click",(function(t){return i.onDropdownButtonClick(t)})),y.Sb(),y.Mc(5,$t,4,12,"div",5),y.Sb()),2&t&&(y.Db(i.styleClass),y.mc("ngClass",y.rc(13,Ht))("ngStyle",i.style),y.Bb(2),y.mc("icon",i.icon)("iconPos",i.iconPos)("label",i.label)("cornerStyleClass","rtl"===i.dir?"ui-corner-right":"ui-corner-left")("disabled",i.disabled),y.Cb("tabindex",i.tabindex),y.Bb(2),y.mc("cornerStyleClass","rtl"===i.dir?"ui-corner-left":"ui-corner-right")("disabled",i.disabled),y.Bb(1),y.mc("ngIf",i.overlayVisible))},directives:[a.q,a.w,k.b,a.t,a.s,c.h],encapsulation:2,data:{animation:[Object(Bt.m)("overlayAnimation",[Object(Bt.j)("void",Object(Bt.k)({transform:"translateY(5%)",opacity:0})),Object(Bt.j)("visible",Object(Bt.k)({transform:"translateY(0)",opacity:1})),Object(Bt.l)("void => visible",Object(Bt.e)("{{showTransitionParams}}")),Object(Bt.l)("visible => void",Object(Bt.e)("{{hideTransitionParams}}"))])]}}),qt),Kt=((Qt=function t(){_classCallCheck(this,t)}).\u0275mod=y.Lb({type:Qt}),Qt.\u0275inj=y.Kb({factory:function(t){return new(t||Qt)},imports:[[a.c,k.c,c.i],k.c,c.i]}),Qt),Yt=e("R69K"),Jt=e("tZin"),Wt=e("4waU"),Xt=e("IWBs"),ti=e("Vufj"),ii=e("ayH+"),ei=e("XEYE"),ai=e("TW8+"),oi=e("dkQB"),ni=e("qkoE"),ri=e("ngA5"),ci=function t(){_classCallCheck(this,t)};function si(t,i){1&t&&(y.Tb(0,"span",11),y.Tb(1,"h4"),y.Tb(2,"b"),y.Oc(3,"Dati di dettaglio istruttoria"),y.Sb(),y.Sb(),y.Sb())}function li(t,i){if(1&t){var e=y.Ub();y.Tb(0,"app-dettaglio-istruttoria-dati",12),y.bc("aggiornaDomandeCounters",(function(t){return y.Ec(e),y.fc(2).aggiornaDomandeCounters(t)})),y.Sb()}}function ui(t,i){1&t&&(y.Tb(0,"span",11),y.Tb(1,"h4"),y.Tb(2,"b"),y.Oc(3,"Dati di dettaglio istruttoria ACZ"),y.Sb(),y.Sb(),y.Sb())}function di(t,i){if(1&t){var e=y.Ub();y.Tb(0,"app-dettaglio-istruttoria-dati-acz",13),y.bc("aggiornaPremioAggregato",(function(t){return y.Ec(e),y.fc(2).aggiornaPremioAggregato(t)})),y.Sb()}if(2&t){var a=y.fc(2);y.mc("premioAggregato",a.premioAggregato)}}function bi(t,i){1&t&&(y.Tb(0,"span",11),y.Tb(1,"h4"),y.Tb(2,"b"),y.Oc(3,"Dati di dettaglio istruttoria ACS"),y.Sb(),y.Sb(),y.Sb())}function pi(t,i){if(1&t){var e=y.Ub();y.Tb(0,"app-dettaglio-istruttoria-dati-acs",14),y.bc("aggiornaPremioAggregatoACS",(function(t){return y.Ec(e),y.fc(2).aggiornaPremioAggregatoACS(t)})),y.Sb()}if(2&t){var a=y.fc(2);y.mc("premioAggregatoACS",a.premioAggregatoACS)}}function gi(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div"),y.Tb(1,"div",8),y.Tb(2,"div",15),y.Oc(3,"Completamento"),y.Sb(),y.Tb(4,"div",16),y.Ob(5,"p-progressBar",17),y.Sb(),y.Tb(6,"div",18),y.Tb(7,"button",19),y.bc("click",(function(){y.Ec(e);var t=y.fc(2);return t.collassaDivProgressBar("RICEV_AGS"),t.refresh()})),y.Sb(),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=y.fc(2);y.Bb(5),y.mc("value",a.getPercentualeAvanzamentoProcesso("RICEV_AGS")),y.Bb(2),y.mc("disabled",a.disableOkRicevibilita)}}function mi(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div"),y.Tb(1,"div",8),y.Tb(2,"div",15),y.Oc(3,"Completamento"),y.Sb(),y.Tb(4,"div",16),y.Ob(5,"p-progressBar",17),y.Sb(),y.Tb(6,"div",18),y.Tb(7,"button",19),y.bc("click",(function(){y.Ec(e);var t=y.fc(2);return t.collassaDivProgressBar("AVV_IST"),t.refresh()})),y.Sb(),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=y.fc(2);y.Bb(5),y.mc("value",a.getPercentualeAvanzamentoProcesso("AVV_IST")),y.Bb(2),y.mc("disabled",a.disableOkIstruttoria)}}function fi(t,i){if(1&t&&(y.Tb(0,"div"),y.Tb(1,"div",2),y.Tb(2,"p-tabView",3),y.Tb(3,"p-tabPanel"),y.Mc(4,si,4,0,"ng-template",4),y.Mc(5,li,1,0,"ng-template",5),y.Sb(),y.Tb(6,"p-tabPanel"),y.Mc(7,ui,4,0,"ng-template",4),y.Mc(8,di,1,1,"ng-template",5),y.Sb(),y.Tb(9,"p-tabPanel"),y.Mc(10,bi,4,0,"ng-template",4),y.Mc(11,pi,1,1,"ng-template",5),y.Sb(),y.Sb(),y.Sb(),y.Ob(12,"router-outlet"),y.Tb(13,"h2",6),y.Tb(14,"span"),y.Oc(15,"Riepilogo stato domande"),y.Sb(),y.Sb(),y.Tb(16,"div",7),y.Tb(17,"div",8),y.Tb(18,"div",9),y.Ob(19,"app-stato-domande-card",10),y.Mc(20,gi,8,2,"div",1),y.Sb(),y.Tb(21,"div",9),y.Ob(22,"app-stato-domande-card",10),y.Mc(23,mi,8,2,"div",1),y.Sb(),y.Tb(24,"div",9),y.Ob(25,"app-stato-domande-card",10),y.Sb(),y.Tb(26,"div",9),y.Ob(27,"app-stato-domande-card",10),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t){var e=y.fc();y.Bb(2),y.mc("activeIndex",e.index),y.Bb(17),y.mc("riepilogoStatoDomande",e.listaRiepilogoStati[0])("dettaglioIstruttoria",e),y.Bb(1),y.mc("ngIf",1==e.showProgressbarRicevibilita),y.Bb(2),y.mc("riepilogoStatoDomande",e.listaRiepilogoStati[1])("dettaglioIstruttoria",e),y.Bb(1),y.mc("ngIf",1==e.showProgressbarIstruttoria),y.Bb(2),y.mc("riepilogoStatoDomande",e.listaRiepilogoStati[2])("dettaglioIstruttoria",e),y.Bb(2),y.mc("riepilogoStatoDomande",e.listaRiepilogoStati[3])("dettaglioIstruttoria",e)}}var vi,hi=((vi=function(){function t(i,e,a,o,n){_classCallCheck(this,t),this.istruttoriaCorrente=i,this.route=e,this.istruttoriaService=a,this.router=o,this.conf=n,this.showProgressbarRicevibilita=!1,this.disableAvviaRicevibilita=!1,this.disableOkRicevibilita=!1,this.valueProgressbarRicevibilita=0,this.controlloRicev=!1,this.showSostegno=!1,this.showProgressbarIstruttoria=!1,this.disableAvviaIstruttoria=!1,this.disableOkIstruttoria=!1,this.valueProgressbarIstruttoria=0,this.editable=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.listaRiepilogoStati=new Array,this.listaRiepilogoStati.push(new ii.a(1,ei.a.PROTOCOLLATA,0)),this.listaRiepilogoStati.push(new ii.a(2,ei.a.RICEVIBILE,0)),this.listaRiepilogoStati.push(new ii.a(3,ei.a.NON_RICEVIBILE,0)),this.listaRiepilogoStati.push(new ii.a(4,ei.a.IN_ISTRUTTORIA,0)),this.listaRiepilogoSostegno=new Array,this.listaRiepilogoSostegno.push(new ri.a(1,ni.a.SOSTEGNO_DISACCOPPIATO,0)),this.listaRiepilogoSostegno.push(new ri.a(2,ni.a.SOSTEGNO_SUPERFICI,0)),this.listaRiepilogoSostegno.push(new ri.a(3,ni.a.SOSTEGNO_ZOOTECNIA,0)),this.production=this.conf.production,this.listaRiepilogoStati.sort((function(t,i){return t.order>i.order?1:t.order<i.order?-1:0})),this.listaRiepilogoSostegno.sort((function(t,i){return t.order>i.order?1:t.order<i.order?-1:0})),this.subIstruttoria=this.route.params.subscribe((function(i){t.getIstruttoria(i.idIstruttoria)})),this.subProcessi=this.route.params.subscribe((function(i){t.getListaProcessiAttiviIstruttoria(i.idIstruttoria)})),this.interval=setInterval((function(){null!=t.listaProcessiAttivi&&t.listaProcessiAttivi.length>0&&(console.log("Verifica avanzamento processo"),t.listaProcessiAttivi.forEach((function(i){t.controllo=t.istruttoriaService.getProcesso(i.idProcesso).subscribe((function(e){if(i.percentualeAvanzamento=e.percentualeAvanzamento,e.percentualeAvanzamento>=100||"PROCESSO_KO"===e.idStatoProcesso){var a=t.listaProcessiAttivi.indexOf(i);-1!==a&&t.listaProcessiAttivi.splice(a,1),"RICEV_AGS"===i.idTipoProcesso?(t.disableOkRicevibilita=!1,t.disableAvviaRicevibilita=!1):"AVV_IST"===i.idTipoProcesso&&(t.disableOkIstruttoria=!1,t.disableAvviaIstruttoria=!1)}}))})))}),1e4),this.route.params.subscribe((function(i){t.istruttoriaService.getDatiDettaglio(i.idIstruttoria,{identificativoSostegno:g.a.ZOOTECNIA}).subscribe((function(i){t.premioAggregato=i}),(function(i){return t.handleError(i)})),t.istruttoriaService.getDatiDettaglio(i.idIstruttoria,{identificativoSostegno:g.a.SUPERFICIE}).subscribe((function(i){t.premioAggregatoACS=i}),(function(i){return t.handleError(i)}))}))}},{key:"ngOnDestroy",value:function(){this.subIstruttoria.unsubscribe(),this.subProcessi.unsubscribe(),clearInterval(this.interval)}},{key:"addDomandePerStato",value:function(t,i){this.listaRiepilogoStati.map((function(e){e.stato===t&&(e.counter=i)})),0===i&&t===ei.a.RICEVIBILE&&(this.disableAvviaIstruttoria=!0)}},{key:"addDomandePerSostegno",value:function(t,i){this.listaRiepilogoSostegno.map((function(e){e.descrizioneSostegno===t&&(e.counter=i)}))}},{key:"getIstruttoria",value:function(t){var i=this;this.istruttoriaService.getIstruttoria(t).subscribe((function(t){return i.countDomandeDU(t)})),this.countDomandePerStato(ei.a.RICEVIBILE,t),this.countDomandePerStato(ei.a.NON_RICEVIBILE,t),this.countDomandePerStato(ei.a.IN_ISTRUTTORIA,t),this.countDomandeSostegno(ni.a.SOSTEGNO_DISACCOPPIATO,t),this.countDomandeSostegno(ni.a.SOSTEGNO_SUPERFICI,t),this.countDomandeSostegno(ni.a.SOSTEGNO_ZOOTECNIA,t)}},{key:"aggiornaDomandeCounters",value:function(t){this.getIstruttoria(Number.parseInt(t.toString()))}},{key:"countDomandeDU",value:function(t){var i=this;this.istruttoriaCorrente.istruttoria=t;var e=encodeURIComponent(JSON.stringify(this.istruttoriaCorrente.istruttoria));this.istruttoriaService.countDomandeDU(e).subscribe((function(t){return i.listaRiepilogoStati.map((function(i){i.stato===ei.a.PROTOCOLLATA&&(i.counter=t)}))}))}},{key:"getIstruttoriaCorrente",value:function(){return this.istruttoriaCorrente.istruttoria}},{key:"countDomandePerStato",value:function(t,i){var e=this,a=encodeURIComponent('{"idDatiSettore": "'+i+'", "statoDomanda": "'+t+'"}');this.istruttoriaService.countDomandeFiltered(a).subscribe((function(i){return e.addDomandePerStato(t,i)}))}},{key:"countDomandeSostegno",value:function(t,i){var e=this,a=ri.a.ritornaSostegno(t),o=encodeURIComponent('{ "idDatiSettore": "'+i+'", "statoDomanda": "'+ei.a.IN_ISTRUTTORIA+'" , "sostegno": "'+a+'"}');this.istruttoriaService.countDomandeFiltered(o).subscribe((function(i){return e.addDomandePerSostegno(t,i)}))}},{key:"avviaProcessoIstruttoria",value:function(t){}},{key:"getListaProcessiAttiviIstruttoria",value:function(t){var i=this;this.istruttoriaService.getListaProcessiAttivi(encodeURIComponent('{ "idIstruttoria": '+t+" }")).subscribe((function(t){i.listaProcessiAttivi=t,null!=i.listaProcessiAttivi?i.listaProcessiAttivi.map((function(t){"RICEV_AGS"===t.idTipoProcesso&&(i.disableAvviaRicevibilita=!0,i.showProgressbarRicevibilita=!0,i.valueProgressbarRicevibilita=t.percentualeAvanzamento,i.disableOkRicevibilita=!0),"AVV_IST"===t.idTipoProcesso&&(i.disableAvviaIstruttoria=!0,i.showProgressbarIstruttoria=!0,i.valueProgressbarIstruttoria=t.percentualeAvanzamento,i.disableOkIstruttoria=!0)})):i.listaProcessiAttivi=new Array}))}},{key:"getPercentualeAvanzamentoProcesso",value:function(t){var i=100;return null!=this.listaProcessiAttivi&&this.listaProcessiAttivi.length>0&&this.listaProcessiAttivi.map((function(e){e.idTipoProcesso===t&&(i=e.percentualeAvanzamento)})),i}},{key:"collassaDivProgressBar",value:function(t){"RICEV_AGS"===t?this.showProgressbarRicevibilita=!1:"AVV_IST"===t&&(this.showProgressbarIstruttoria=!1)}},{key:"goListaDomande",value:function(t){this.router.navigate(["./"+ai.a.elencoDomande],{relativeTo:this.route,queryParams:{stato:t}})}},{key:"goListaSostegno",value:function(t){this.router.navigate(["./"+ai.a.cruscottoDisaccoppiato],{relativeTo:this.route,queryParams:{stato:t}})}},{key:"vediTipiSostegno",value:function(){this.showSostegno=!this.showSostegno}},{key:"refresh",value:function(){window.location.reload()}},{key:"disableButtonPerStato",value:function(t){var i=!1;return this.listaRiepilogoStati.map((function(e){e.stato===t&&0===e.counter&&(i=!0)})),i}},{key:"replacerProcessoJson",value:function(t,i){if(console.log(typeof i),"numeroDomandeDaElaborare"!==t)return i}},{key:"aggiornaPremioAggregato",value:function(t){var i=this,e=new ci;this.istruttoriaService.aggiornaInterventiPremio(this.istruttoriaCorrente.istruttoria.id,t.interventoDuPremi).subscribe((function(a){e.interventoDuPremi=a,i.istruttoriaService.aggiornaDomandaIntegrativa(i.istruttoriaCorrente.istruttoria.id,t.sostegnoDuDi).subscribe((function(t){e.sostegnoDuDi=t,i.premioAggregato=e}),(function(t){return i.handleError(t)}))}),(function(t){return i.handleError(t)}))}},{key:"aggiornaPremioAggregatoACS",value:function(t){var i=this,e=new ci;this.istruttoriaService.aggiornaInterventiPremio(this.istruttoriaCorrente.istruttoria.id,t.interventoDuPremi).subscribe((function(t){e.interventoDuPremi=t,i.premioAggregatoACS=e}),(function(t){return i.handleError(t)}))}},{key:"handleError",value:function(t){console.log("Error "+t+" msg "+t.error+" error.code "+t.status)}}]),t}()).\u0275fac=function(t){return new(t||vi)(y.Nb(ti.a),y.Nb(c.a),y.Nb(l.a),y.Nb(c.e),y.Nb(oi.a))},vi.\u0275cmp=y.Hb({type:vi,selectors:[["app-dettaglio-istruttoria"]],features:[y.Ab([B.a])],decls:2,vars:1,consts:[[1,"ui-grid-fixed"],[4,"ngIf"],[1,"funzioni-grid","tab-new"],[3,"activeIndex"],["pTemplate","header"],["pTemplate","content"],[1,"h2title"],[1,""],[1,"ui-g"],[1,"ui-g-3"],[3,"riepilogoStatoDomande","dettaglioIstruttoria"],[1,"ui-tabview-title","ng-star-inserted"],[3,"aggiornaDomandeCounters"],[3,"premioAggregato","aggiornaPremioAggregato"],[3,"premioAggregatoACS","aggiornaPremioAggregatoACS"],[1,"ui-g-4"],[1,"ui-g-8"],[3,"value"],[1,"ui-g-12","centerButton"],["pButton","","type","button","label","Ok",1,"ui-button-rounded","ui-button-success",3,"disabled","click"]],template:function(t,i){1&t&&(y.Tb(0,"div",0),y.Mc(1,fi,28,11,"div",1),y.Sb()),2&t&&(y.Bb(1),y.mc("ngIf",i.getIstruttoriaCorrente()))},styles:[".centerButton[_ngcontent-%COMP%]{text-align:center}.piu[_ngcontent-%COMP%]{color:green}.meno[_ngcontent-%COMP%], .piu[_ngcontent-%COMP%]{font-size:2em;padding-left:10%;vertical-align:auto}.meno[_ngcontent-%COMP%]{color:#dc143c}.noMargin[_ngcontent-%COMP%]{padding:0!important}.spostaSinistra[_ngcontent-%COMP%]{padding-left:5%!important}.label-font[_ngcontent-%COMP%]{color:#0d5f3d!important}"]}),vi),Si=e("wS7k"),Ti=e("+NW7"),Ii=function t(){_classCallCheck(this,t)};function Ci(t,i){1&t&&(y.Tb(0,"th",14),y.Tb(1,"strong"),y.Oc(2,"Anomalie"),y.Sb(),y.Sb())}function Oi(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"th",12),y.Tb(2,"strong"),y.Oc(3,"CUAA"),y.Sb(),y.Sb(),y.Tb(4,"th",13),y.Tb(5,"strong"),y.Oc(6,"Ragione sociale"),y.Sb(),y.Sb(),y.Tb(7,"th",14),y.Tb(8,"strong"),y.Oc(9,"Numero Domanda"),y.Sb(),y.Sb(),y.Tb(10,"th",15),y.Tb(11,"strong"),y.Oc(12,"Modulo"),y.Sb(),y.Sb(),y.Tb(13,"th",15),y.Tb(14,"strong"),y.Oc(15,"Data pres."),y.Sb(),y.Sb(),y.Tb(16,"th",14),y.Tb(17,"strong"),y.Oc(18,"Numero Domanda rett."),y.Sb(),y.Sb(),y.Tb(19,"th",15),y.Tb(20,"strong"),y.Oc(21,"Data pres. iniz."),y.Sb(),y.Sb(),y.Tb(22,"th",16),y.Tb(23,"strong"),y.Oc(24,"Ente"),y.Sb(),y.Sb(),y.Mc(25,Ci,3,0,"th",17),y.Sb()),2&t){var e=y.fc(2);y.Bb(25),y.mc("ngIf","IN ISTRUTTORIA"!==e.statoDomande)}}function Ai(t,i){1&t&&(y.Tb(0,"td"),y.Ob(1,"div",18),y.Sb())}function Di(t,i){1&t&&(y.Tb(0,"td"),y.Ob(1,"div",19),y.Sb())}function Pi(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2),y.Sb(),y.Tb(3,"td"),y.Oc(4),y.Sb(),y.Tb(5,"td"),y.Oc(6),y.Sb(),y.Tb(7,"td"),y.Oc(8),y.Sb(),y.Tb(9,"td"),y.Oc(10),y.gc(11,"date"),y.Sb(),y.Tb(12,"td"),y.Oc(13),y.Sb(),y.Tb(14,"td"),y.Oc(15),y.gc(16,"slice"),y.Sb(),y.Tb(17,"td"),y.Oc(18),y.Sb(),y.Mc(19,Ai,2,0,"td",0),y.Mc(20,Di,2,0,"td",0),y.Sb()),2&t){var e=i.$implicit,a=y.fc(2);y.Bb(2),y.Pc(e.infoGeneraliDomanda.cuaaIntestatario),y.Bb(2),y.Pc(e.infoGeneraliDomanda.ragioneSociale),y.Bb(2),y.Pc(e.infoGeneraliDomanda.numeroDomanda),y.Bb(2),y.Pc(e.infoGeneraliDomanda.modulo),y.Bb(2),y.Pc(y.ic(11,10,e.infoGeneraliDomanda.dataPresentazione,"dd/MM/yyyy")),y.Bb(3),y.Pc(e.infoGeneraliDomanda.numeroDomandaRettificata),y.Bb(2),y.Pc(y.jc(16,13,e.infoGeneraliDomanda.dataPresentazioneDomandaRettificata,0,10)),y.Bb(3),y.Pc(e.infoGeneraliDomanda.enteCompilatore),y.Bb(1),y.mc("ngIf","NON RICEVIBILE"==a.statoDomande),y.Bb(1),y.mc("ngIf","RICEVIBILE"==a.statoDomande)}}function yi(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div"),y.Tb(1,"div",1),y.Tb(2,"div",2),y.Tb(3,"div",3),y.Tb(4,"h4"),y.Oc(5,"ISTRUTTORIA"),y.Sb(),y.Tb(6,"div",4),y.Tb(7,"div",5),y.Tb(8,"div",6),y.Tb(9,"strong"),y.Oc(10,"PAC"),y.Sb(),y.Ob(11,"br"),y.Oc(12),y.Sb(),y.Tb(13,"div",6),y.Tb(14,"strong"),y.Oc(15,"Tipologia Domanda"),y.Sb(),y.Ob(16,"br"),y.Oc(17),y.Sb(),y.Tb(18,"div",6),y.Tb(19,"strong"),y.Oc(20,"Anno di riferimento"),y.Sb(),y.Ob(21,"br"),y.Oc(22),y.Sb(),y.Tb(23,"div",6),y.Tb(24,"strong"),y.Oc(25,"Stato"),y.Sb(),y.Ob(26,"br"),y.Oc(27),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Tb(28,"div",1),y.Tb(29,"div",3),y.Tb(30,"div",7),y.Tb(31,"legend",8),y.Oc(32),y.Sb(),y.Tb(33,"p-table",9),y.bc("onLazyLoad",(function(t){return y.Ec(e),y.fc().changePage(t)})),y.Mc(34,Oi,26,1,"ng-template",10),y.Mc(35,Pi,21,17,"ng-template",11),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=y.fc();y.Bb(12),y.Qc("",a.getIstruttoriaCorrente().descrizionePac," "),y.Bb(5),y.Qc("",a.getIstruttoriaCorrente().descrizioneDomanda," "),y.Bb(5),y.Qc("",a.getIstruttoriaCorrente().annoRiferimento," "),y.Bb(5),y.Qc("",a.toUpperCase()," "),y.Bb(5),y.Pc(a.titoloPagina),y.Bb(1),y.mc("columns",a.cols)("lazy",!0)("totalRecords",a.paginaDomande.elementiTotali)("value",a.paginaDomande.risultati)("rows",a.elementiPerPagina)("paginator",!0)}}var Bi,Ni=((Bi=function(){function t(i,e,a,o){_classCallCheck(this,t),this.istruttoriaCorrente=i,this.route=e,this.elencoDomandeService=a,this.istruttoriaService=o,this.isAlive=!0,this.elementiPerPagina=20,this.numeroPagina=0}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;console.log("Elenco domande init "),this.paginaDomande=new Ii,this.subQueryParams=this.route.queryParams.subscribe((function(i){t.statoDomande=i.stato,t.statoDomande===ei.a.RICEVIBILE?t.titoloPagina="Domande Ricevibili":t.statoDomande===ei.a.NON_RICEVIBILE?t.titoloPagina="Domande Non Ricevibili":t.statoDomande===ei.a.IN_ISTRUTTORIA&&(t.titoloPagina="Domande In Istruttoria")})),this.subParams=this.route.paramMap.subscribe((function(i){t.idIstruttoria=Number(i.get("idIstruttoria")),console.log("Elenco domande param "+t.idIstruttoria),null==t.getIstruttoriaCorrente()&&(t.istruttoriaCorrente=new ti.a,t.istruttoriaService.getIstruttoria(t.idIstruttoria).subscribe((function(i){console.log(i,"next"),console.log(t.istruttoriaCorrente,"istr."),t.istruttoriaCorrente.istruttoria=i})))}))}},{key:"getIstruttoriaCorrente",value:function(){return this.istruttoriaCorrente.istruttoria}},{key:"ngOnDestroy",value:function(){this.isAlive=!1,this.subParams.unsubscribe(),this.subQueryParams.unsubscribe()}},{key:"changePage",value:function(t){var i=this;this.numeroPagina=Math.floor(t.first/this.elementiPerPagina);var e='{ "numeroElementiPagina": '+this.elementiPerPagina+', "pagina": '+this.numeroPagina+"}";this.elencoDomandeService.getPaginaDomandeAttuale(encodeURIComponent('{ "idDatiSettore": '+this.idIstruttoria+', "statoDomanda": "'+this.statoDomande+'"}'),encodeURIComponent(e),encodeURIComponent('[{"proprieta": "cuaaIntestatario" , "ordine": "ASC"}]')).subscribe((function(t){null!=t?i.paginaDomande=t:(i.paginaDomande.risultati=[],i.paginaDomande.elementiTotali=0)}))}},{key:"toUpperCase",value:function(){return this.statoDomande===ei.a.NON_RICEVIBILE?"Non Ricevibile":this.statoDomande===ei.a.RICEVIBILE?"Ricevibile":this.statoDomande===ei.a.IN_ISTRUTTORIA?"In Istruttoria":void 0}}]),t}()).\u0275fac=function(t){return new(t||Bi)(y.Nb(ti.a),y.Nb(c.a),y.Nb(Ti.a),y.Nb(l.a))},Bi.\u0275cmp=y.Hb({type:Bi,selectors:[["app-elenco-domande"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"ui-g","ui-fluid"],[1,"tophome","riepilogo"],[1,"ui-grid-fixed"],[1,"subhome"],[1,"ui-g"],[1,"ui-md-3"],[1,"ui-g-12"],[1,"richiesta-title",2,"padding","10px 0"],[3,"columns","lazy","totalRecords","value","rows","paginator","onLazyLoad"],["pTemplate","header","class","header"],["pTemplate","body"],[2,"width","14%"],[2,"width","16%"],[2,"width","7%"],[2,"width","9%"],[2,"width","22%"],["style","width: 7%",4,"ngIf"],[1,"pallinoRosso"],[1,"pallinoVerde"]],template:function(t,i){1&t&&y.Mc(0,yi,36,11,"div",0),2&t&&y.mc("ngIf",i.getIstruttoriaCorrente())},directives:[a.t,o.q,B.e],pipes:[a.f,a.E],styles:[".pallinoVerde[_ngcontent-%COMP%]{border-radius:50%;background-color:#8dbe26;height:12px;width:12px;margin:auto}.header[_ngcontent-%COMP%]{width:100%}.pallinoRosso[_ngcontent-%COMP%]{border-radius:50%;background-color:#f13c3c;height:12px;width:12px;margin:auto}.colori-per-numeri[_ngcontent-%COMP%]{background:#00985a;line-height:0;color:#fff;font-size:13px;border-radius:30px;display:inline;padding:0 7px}"]}),Bi),zi=e("1IWC"),Ri=e.n(zi),Mi=e("F5kq"),Ei=e.n(Mi),ki=function t(i,e,a){_classCallCheck(this,t),this.order=i,this.stato=e,this.counter=a},Li=e("M/UB");function wi(t,i){if(1&t&&(y.Tb(0,"th"),y.Oc(1),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.Qc(" ",e.header," ")}}function _i(t,i){if(1&t&&(y.Tb(0,"tr"),y.Mc(1,wi,2,1,"th",10),y.Sb()),2&t){var e=y.fc(2);y.Bb(1),y.mc("ngForOf",e.cols)}}function xi(t,i){if(1&t&&y.Ob(0,"p-treeTableToggler",12),2&t){var e=y.fc(2).$implicit;y.mc("rowNode",e)}}function Ui(t,i){if(1&t&&(y.Tb(0,"td"),y.Mc(1,xi,1,1,"p-treeTableToggler",11),y.Oc(2),y.Sb()),2&t){var e=i.$implicit,a=i.index,o=y.fc().rowData;y.Bb(1),y.mc("ngIf",0==a),y.Bb(1),y.Qc(" ",o[e.field]," ")}}function Fi(t,i){if(1&t&&(y.Tb(0,"tr"),y.Mc(1,Ui,3,2,"td",10),y.Sb()),2&t){var e=y.fc(2);y.Bb(1),y.mc("ngForOf",e.cols)}}function Gi(t,i){1&t&&(y.Tb(0,"th"),y.Oc(1,"Stato"),y.Sb(),y.Tb(2,"th"),y.Oc(3,"Numero domande"),y.Sb())}function Vi(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2),y.Sb(),y.Tb(3,"td"),y.Oc(4),y.Sb(),y.Sb()),2&t){var e=i.$implicit;y.Bb(2),y.Pc(e.stato),y.Bb(2),y.Pc(e.counter)}}function Zi(t,i){if(1&t&&(y.Tb(0,"div"),y.Tb(1,"div",1),y.Tb(2,"h1"),y.Oc(3,"Istruttoria sostegno disaccoppiato"),y.Sb(),y.Tb(4,"fieldset",2),y.Tb(5,"div",3),y.Tb(6,"div",4),y.Tb(7,"strong"),y.Oc(8," Tipologia Domanda"),y.Sb(),y.Sb(),y.Tb(9,"div",4),y.Oc(10),y.Sb(),y.Tb(11,"div",4),y.Tb(12,"strong"),y.Oc(13," Descrizione Domanda"),y.Sb(),y.Sb(),y.Tb(14,"div",4),y.Oc(15),y.Sb(),y.Tb(16,"div",4),y.Tb(17,"strong"),y.Oc(18,"Anno di riferimento"),y.Sb(),y.Sb(),y.Tb(19,"div",4),y.Oc(20),y.Sb(),y.Tb(21,"div",4),y.Tb(22,"strong"),y.Oc(23,"Stato"),y.Sb(),y.Sb(),y.Tb(24,"div",4),y.Oc(25," In Istruttoria "),y.Sb(),y.Sb(),y.Sb(),y.Tb(26,"fieldset",5),y.Tb(27,"legend",6),y.Oc(28,"Riepilogo interventi"),y.Sb(),y.Tb(29,"p-treeTable",7),y.Mc(30,_i,2,1,"ng-template",8),y.Mc(31,Fi,2,1,"ng-template",9),y.Sb(),y.Sb(),y.Tb(32,"fieldset",5),y.Tb(33,"legend",6),y.Oc(34,"Stato di lavorazione domande"),y.Sb(),y.Tb(35,"p-table",7),y.Mc(36,Gi,4,0,"ng-template",8),y.Mc(37,Vi,5,2,"ng-template",9),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t){var e=y.fc();y.Bb(10),y.Qc(" ",e.getIstruttoriaCorrente().descrizionePac," "),y.Bb(5),y.Qc(" ",e.getIstruttoriaCorrente().descrizioneDomanda," "),y.Bb(5),y.Qc(" ",e.getIstruttoriaCorrente().annoRiferimento," "),y.Bb(9),y.mc("value",e.files),y.Bb(6),y.mc("value",e.listaStatiLavorazione)}}var $i,Qi,qi,Hi,ji=(($i=function(){function t(i,e,a,o,n){_classCallCheck(this,t),this.istruttoriaCorrente=i,this.route=e,this.istruttoriaService=a,this.router=o,this.conf=n,this.checked=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.listaStatiLavorazione=new Array,this.listaStatiLavorazione.push(new ki(1,q.a.RICHIESTO,0)),this.listaStatiLavorazione.sort((function(t,i){return t.order>i.order?1:t.order<i.order?-1:0})),this.subIstruttoria=this.route.params.subscribe((function(i){t.getIstruttoria(i.idIstruttoria)})),this.cols=[{field:"sostegno",header:"SOSTEGNO"},{field:"interventi",header:"INTERVENTI"},{field:"numeroDomande",header:"NUMERO DOMANDE"}],this.numeroDomandeGiovaneAgricoltore=0}},{key:"getIstruttoria",value:function(t){var i=this;this.istruttoriaService.getIstruttoria(t).subscribe((function(t){return i.istruttoriaCorrente.istruttoria=t})),this.countDomandeGiovaneAgricoltore(t),this.countDomandeSostegno(t),this.countStatoLavorazione()}},{key:"getIstruttoriaCorrente",value:function(){return this.istruttoriaCorrente.istruttoria}},{key:"addDomandePerSostegno",value:function(t){this.listaStatiLavorazione.map((function(i){i.counter=t}))}},{key:"countStatoLavorazione",value:function(){var t=this,i=encodeURIComponent('{"sostegno": "DISACCOPPIATO" , "statoSostegno":"RICHIESTO"}');this.istruttoriaService.countDomandeFiltered(i).subscribe((function(i){return t.addDomandePerSostegno(i)}))}},{key:"countDomandeSostegno",value:function(t){var i=this,e=encodeURIComponent('{"idDatiSettore": '+t+',"statoDomanda": "'+ei.a.IN_ISTRUTTORIA+'","sostegno": "richiestaDisaccoppiato"}');this.istruttoriaService.countDomandeFiltered(e).subscribe((function(t){return i.initTreeNode(t,i.numeroDomandeGiovaneAgricoltore)}))}},{key:"countDomandeGiovaneAgricoltore",value:function(t){var i=this,e=encodeURIComponent('{"dichiarazione": "GIOVANE_AGRICOLTORE", "idDatiSettore": '+t+"}");this.istruttoriaService.countDomandeFiltered(e).subscribe((function(t){return i.numeroDomandeGiovaneAgricoltore=t}))}},{key:"initTreeNode",value:function(t,i){this.files=[{data:{sostegno:"DISACCOPPIATO",interventi:"",numeroDomande:t},children:[{data:{sostegno:"",interventi:"REGIME PAGAMENTO BASE",numeroDomande:t}},{data:{sostegno:"",interventi:"PAGAMENTO GREENING",numeroDomande:t}},{data:{sostegno:"",interventi:"PAGAMENTO GIOVANE AGRICOLTORE",numeroDomande:i}}]}]}}]),t}()).\u0275fac=function(t){return new(t||$i)(y.Nb(ti.a),y.Nb(c.a),y.Nb(l.a),y.Nb(c.e),y.Nb(oi.a))},$i.\u0275cmp=y.Hb({type:$i,selectors:[["app-cruscotto-sostegno"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"card","no-margin"],[1,"border","p-2"],[1,"ui-g"],[1,"ui-g-3"],[1,"border","p-2",2,"margin-top","2%"],[1,"w-auto"],[3,"value"],["pTemplate","header"],["pTemplate","body"],[4,"ngFor","ngForOf"],[3,"rowNode",4,"ngIf"],[3,"rowNode"]],template:function(t,i){1&t&&y.Mc(0,Zi,38,5,"div",0),2&t&&y.mc("ngIf",i.getIstruttoriaCorrente())},directives:[a.t,Li.l,B.e,o.q,a.s,Li.o],styles:[""]}),$i),Ki=e("R5y+"),Yi=e("yhG/"),Ji=e("T8KO"),Wi=e("rgW5"),Xi=((Qi=function(){function t(i,e,a){_classCallCheck(this,t),this.route=i,this.router=e,this.istruttoriaService=a}return _createClass(t,[{key:"ngOnInit",value:function(){this.menu1=new Array({label:"Calcolo premio disaccoppiato",routerLink:ai.a.CALCOLO_DISACCOPPIATO},{routerLink:ai.a.controlliLiquidabilita,label:"Controlli Liquidabilita"},{routerLink:ai.a.liquidazione,label:"Liquidazione"})}}]),t}()).\u0275fac=function(t){return new(t||Qi)(y.Nb(c.a),y.Nb(c.e),y.Nb(l.a))},Qi.\u0275cmp=y.Hb({type:Qi,selectors:[["app-cruscotto-disaccoppiato"]],decls:11,vars:2,consts:[[1,"ui-g","ui-fluid"],[1,"tophome"],[1,"ui-grid-fixed"],[1,"top-sub-green"],[1,"ui-g-12"],[3,"model"],[1,"disaccoppiato",2,"width","100%"]],template:function(t,i){1&t&&(y.Tb(0,"div",0),y.Tb(1,"div",1),y.Tb(2,"div",2),y.Tb(3,"h4"),y.Oc(4),y.Sb(),y.Sb(),y.Sb(),y.Tb(5,"div",3),y.Tb(6,"div",4),y.Tb(7,"div",2),y.Ob(8,"p-tabMenu",5),y.Sb(),y.Sb(),y.Sb(),y.Tb(9,"div",6),y.Ob(10,"router-outlet"),y.Sb(),y.Sb()),2&t&&(y.Bb(4),y.Pc(i.title),y.Bb(4),y.mc("model",i.menu1))},directives:[yt.a,c.j],styles:[""]}),Qi),te=e("Sy1n"),ie=((Hi=function t(){_classCallCheck(this,t),this.domandSettata=new y.n}).\u0275fac=function(t){return new(t||Hi)},Hi.\u0275prov=y.Jb({token:Hi,factory:Hi.\u0275fac}),Hi),ee=((qi=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||qi)},qi.\u0275prov=y.Jb({token:qi,factory:qi.\u0275fac}),qi),ae=e("lJxs"),oe=e("8bNH"),ne=e("MM/6"),re=e("8ioI"),ce=e("D0mR"),se=e("KDHY");function le(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div",28),y.Ob(1,"i",29),y.Tb(2,"h3"),y.Oc(3),y.Sb(),y.Tb(4,"p"),y.Oc(5),y.Sb(),y.Sb(),y.Tb(6,"div",1),y.Tb(7,"div",30),y.Tb(8,"button",31),y.bc("click",(function(){return y.Ec(e),y.fc(2).annullaIstruttoria()})),y.Sb(),y.Sb(),y.Tb(9,"div",30),y.Tb(10,"button",32),y.bc("click",(function(){return y.Ec(e),y.fc(2).onRejectAnnullaIstruttoria()})),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=i.$implicit;y.Bb(3),y.Pc(a.summary),y.Bb(2),y.Pc(a.detail)}}var ue=function(t){return{"active-topmenuitem":t}};function de(t,i){if(1&t){var e=y.Ub();y.Tb(0,"li",33,34),y.bc("click",(function(t){y.Ec(e);var i=y.Bc(1);return y.fc(2).app.onTopbarRootItemClick(t,i)})),y.Tb(2,"a",35),y.bc("click",(function(){return y.Ec(e),y.fc(2).showDialog()})),y.Tb(3,"h4"),y.Oc(4),y.gc(5,"slice"),y.Sb(),y.Tb(6,"span",36),y.Oc(7),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=y.Bc(1),o=y.fc(2);y.mc("ngClass",y.sc(9,ue,o.app.activeTopbarItem===a)),y.Bb(4),y.Sc("",o.numeroDomanda," - ",o.domandaCorrente.infoGeneraliDomanda.cuaaIntestatario," - ",y.jc(5,5,o.domandaCorrente.infoGeneraliDomanda.ragioneSociale,0,60),""),y.Bb(3),y.Pc(o.numeroDomanda)}}function be(t,i){if(1&t){var e=y.Ub();y.Tb(0,"p-checkbox",37),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc(2).annulloRitardoPresentazione=t}))("ngModelChange",(function(t){return y.Ec(e),y.fc(2).onCheckboxChange(t)})),y.Sb()}if(2&t){var a=y.fc(2);y.mc("ngModel",a.annulloRitardoPresentazione)}}function pe(t,i){if(1&t&&(y.Tb(0,"span"),y.Oc(1),y.Sb()),2&t){var e=y.fc(2);y.Bb(1),y.Qc(" ",e.a4gMessages.attestazioneAnnulloSanzionePerRitardoPresentazione,"")}}var ge=function(){return{"min-width":"750px"}};function me(t,i){if(1&t){var e=y.Ub();y.Tb(0,"p-fieldset",38),y.Tb(1,"div",39),y.Tb(2,"p-checkbox",37),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc(2).annulloRitardoPresentazione=t}))("ngModelChange",(function(t){return y.Ec(e),y.fc(2).onCheckboxChange(t)})),y.Sb(),y.Sb(),y.Tb(3,"div",40),y.Tb(4,"span"),y.Oc(5," Si attesta che la domanda di modifica presentata in ritardo non introduce nuovi impegni e dunque non si applicano le riduzioni per ritardata presentazione"),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=y.fc(2);y.Kc(y.rc(3,ge)),y.Bb(2),y.mc("ngModel",a.annulloRitardoPresentazione)}}function fe(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div"),y.Tb(1,"div",39),y.Tb(2,"p-checkbox",42),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc(3).datiEredeDto.certificato=t}))("onChange",(function(t){return y.Ec(e),y.fc(3).onCheckboxChangeDatiErede(t)})),y.Sb(),y.Sb(),y.Tb(3,"div",40),y.Tb(4,"span"),y.Oc(5,"Si attesta che i dati dell\u2019erede sono corretti ed \xe8 possibile liquidare la domanda"),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=y.fc(3);y.Bb(2),y.mc("ngModel",a.datiEredeDto.certificato)}}function ve(t,i){if(1&t&&(y.Tb(0,"div"),y.Tb(1,"div",43),y.Tb(2,"span"),y.Oc(3),y.Sb(),y.Sb(),y.Sb()),2&t){var e=y.fc(3);y.Bb(3),y.Qc(" ",e.messaggioErroreDatiErede,"")}}function he(t,i){if(1&t&&(y.Tb(0,"p-fieldset",41),y.Tb(1,"div",20),y.Tb(2,"div",21),y.Tb(3,"strong"),y.Oc(4,"Nominativo"),y.Sb(),y.Sb(),y.Tb(5,"div",22),y.Oc(6),y.Sb(),y.Tb(7,"div",21),y.Tb(8,"strong"),y.Oc(9,"Codice fiscale"),y.Sb(),y.Sb(),y.Tb(10,"div",22),y.Oc(11),y.Sb(),y.Tb(12,"div",21),y.Tb(13,"strong"),y.Oc(14,"Residenza"),y.Sb(),y.Sb(),y.Tb(15,"div",22),y.Oc(16),y.Sb(),y.Tb(17,"div",21),y.Tb(18,"strong"),y.Oc(19,"IBAN"),y.Sb(),y.Sb(),y.Tb(20,"div",22),y.Oc(21),y.Sb(),y.Tb(22,"div",21),y.Tb(23,"strong"),y.Oc(24,"Dati di nascita"),y.Sb(),y.Sb(),y.Tb(25,"div",22),y.Oc(26),y.gc(27,"date"),y.Sb(),y.Tb(28,"div",21),y.Tb(29,"strong"),y.Oc(30,"Sesso"),y.Sb(),y.Sb(),y.Tb(31,"div",22),y.Oc(32),y.Sb(),y.Mc(33,fe,6,1,"div",0),y.Mc(34,ve,4,1,"div",0),y.Sb(),y.Sb()),2&t){var e=y.fc(2);y.Kc(y.rc(19,ge)),y.Bb(6),y.Rc(" ",e.datiEredeDto.nome," ",e.datiEredeDto.cognome," "),y.Bb(5),y.Qc(" ",e.datiEredeDto.codiceFiscale," "),y.Bb(5),y.Tc(" ",e.datiEredeDto.indirizzoResidenza," ",e.datiEredeDto.codiceIstat," ",e.datiEredeDto.capResidenza," ",e.datiEredeDto.provResidenza," "),y.Bb(5),y.Qc(" ",e.datiEredeDto.iban," "),y.Bb(5),y.Sc(" ",y.ic(27,16,e.datiEredeDto.dtNascita,"dd/MM/yyyy")," ",e.datiEredeDto.codIstatNascita," ",e.datiEredeDto.provNascita," "),y.Bb(6),y.Qc(" ",e.datiEredeDto.sesso," "),y.Bb(1),y.mc("ngIf",e.datiErediOk),y.Bb(1),y.mc("ngIf",!e.datiErediOk)}}var Se=function(t){return{"topbar-menu-active":t}},Te=function(){return{"max-width":"800px"}},Ie=function(){return{marginTop:"70px"}};function Ce(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div"),y.Tb(1,"div",1),y.Tb(2,"p-toast",2),y.Mc(3,le,11,2,"ng-template",3),y.Sb(),y.Tb(4,"div",4),y.Tb(5,"div",5),y.Tb(6,"div",6),y.Tb(7,"div",7),y.Tb(8,"ul",8),y.bc("click",(function(t){return y.Ec(e),y.fc().app.onTopbarMenuClick(t)})),y.Tb(9,"li",9),y.Tb(10,"h4"),y.Oc(11),y.Sb(),y.Sb(),y.Tb(12,"li"),y.Tb(13,"h4"),y.Oc(14,"/"),y.Sb(),y.Sb(),y.Mc(15,de,8,11,"li",10),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Tb(16,"div",11),y.Tb(17,"div",12),y.Tb(18,"div",5),y.Ob(19,"p-tabMenu",13),y.Sb(),y.Sb(),y.Sb(),y.Tb(20,"div",14),y.Ob(21,"router-outlet"),y.Sb(),y.Sb(),y.Tb(22,"p-overlayPanel",15,16),y.Tb(24,"ul",17),y.Tb(25,"strong"),y.Oc(26,"CUAA /"),y.Sb(),y.Oc(27),y.Ob(28,"br"),y.Tb(29,"strong"),y.Oc(30,"Ragione Sociale /"),y.Sb(),y.Oc(31),y.Ob(32,"br"),y.Tb(33,"strong"),y.Oc(34,"Id /"),y.Sb(),y.Oc(35),y.Ob(36,"br"),y.Tb(37,"strong"),y.Oc(38,"Numero /"),y.Sb(),y.Oc(39),y.Ob(40,"br"),y.Tb(41,"strong"),y.Oc(42,"Modulo /"),y.Sb(),y.Oc(43),y.Ob(44,"br"),y.Tb(45,"strong"),y.Oc(46,"Data pres. /"),y.Sb(),y.Oc(47),y.Ob(48,"br"),y.Tb(49,"strong"),y.Oc(50,"Ente Comp. /"),y.Sb(),y.Oc(51),y.Ob(52,"br"),y.Tb(53,"strong"),y.Oc(54,"Stato /"),y.Sb(),y.Oc(55),y.Ob(56,"br"),y.Mc(57,be,1,1,"p-checkbox",18),y.Mc(58,pe,2,1,"span",0),y.Sb(),y.Sb(),y.Tb(59,"p-dialog",19),y.bc("visibleChange",(function(t){return y.Ec(e),y.fc().displayDetails=t})),y.Tb(60,"p-header"),y.Tb(61,"strong"),y.Oc(62,"INFO domanda"),y.Sb(),y.Sb(),y.Tb(63,"div",20),y.Tb(64,"div",21),y.Tb(65,"strong"),y.Oc(66,"CUAA"),y.Sb(),y.Sb(),y.Tb(67,"div",22),y.Oc(68),y.Sb(),y.Tb(69,"div",21),y.Tb(70,"strong"),y.Oc(71,"Ragione Sociale"),y.Sb(),y.Sb(),y.Tb(72,"div",22),y.Oc(73),y.Sb(),y.Tb(74,"div",21),y.Tb(75,"strong"),y.Oc(76,"Id"),y.Sb(),y.Sb(),y.Tb(77,"div",22),y.Oc(78),y.Sb(),y.Tb(79,"div",21),y.Tb(80,"strong"),y.Oc(81,"Numero"),y.Sb(),y.Sb(),y.Tb(82,"div",22),y.Oc(83),y.Sb(),y.Tb(84,"div",21),y.Tb(85,"strong"),y.Oc(86,"Modulo"),y.Sb(),y.Sb(),y.Tb(87,"div",22),y.Oc(88),y.Sb(),y.Tb(89,"div",21),y.Tb(90,"strong"),y.Oc(91,"Data pres."),y.Sb(),y.Sb(),y.Tb(92,"div",22),y.Oc(93),y.Sb(),y.Tb(94,"div",21),y.Tb(95,"strong"),y.Oc(96,"Ente Comp."),y.Sb(),y.Sb(),y.Tb(97,"div",22),y.Oc(98),y.Sb(),y.Tb(99,"div",21),y.Tb(100,"strong"),y.Oc(101,"Stato"),y.Sb(),y.Sb(),y.Tb(102,"div",22),y.Oc(103),y.Sb(),y.Tb(104,"div",23),y.Tb(105,"div",12),y.Tb(106,"p-button",24),y.bc("debounceClick",(function(){return y.Ec(e),y.fc().confermaAnnullamento()})),y.Sb(),y.Sb(),y.Sb(),y.Mc(107,me,6,4,"p-fieldset",25),y.Mc(108,he,35,20,"p-fieldset",26),y.Sb(),y.Ob(109,"p-toast",27),y.Sb(),y.Sb()}if(2&t){var a=y.fc();y.Bb(2),y.mc("modal",!0)("baseZIndex",9999998),y.Bb(6),y.mc("ngClass",y.sc(39,Se,a.app.topbarMenuActive)),y.Bb(3),y.Pc(a.title),y.Bb(4),y.mc("ngIf",a.numeroDomanda),y.Bb(4),y.mc("model",a.menu1),y.Bb(8),y.Qc(" ",a.domandaCorrente.infoGeneraliDomanda.cuaaIntestatario,""),y.Bb(4),y.Qc(" ",a.domandaCorrente.infoGeneraliDomanda.ragioneSociale,""),y.Bb(4),y.Qc(" ",a.domandaCorrente.id,""),y.Bb(4),y.Qc(" ",a.domandaCorrente.infoGeneraliDomanda.numeroDomanda,""),y.Bb(4),y.Qc(" ",a.domandaCorrente.infoGeneraliDomanda.modulo,""),y.Bb(4),y.Qc(" ",a.domandaCorrente.infoGeneraliDomanda.dataPresentazione,""),y.Bb(4),y.Qc(" ",a.domandaCorrente.infoGeneraliDomanda.enteCompilatore,""),y.Bb(4),y.Qc(" ",a.domandaCorrente.infoGeneraliDomanda.stato,""),y.Bb(2),y.mc("ngIf",a.showCheckboxAnnulloRitardoPresentazione),y.Bb(1),y.mc("ngIf",a.showCheckboxAnnulloRitardoPresentazione),y.Bb(1),y.mc("visible",a.displayDetails)("modal",!0)("responsive",!0)("contentStyle",y.rc(41,Te))("minY",70)("maximizable",!1)("baseZIndex",999998),y.Bb(9),y.Qc(" ",a.domandaCorrente.infoGeneraliDomanda.cuaaIntestatario," "),y.Bb(5),y.Qc(" ",a.domandaCorrente.infoGeneraliDomanda.ragioneSociale," "),y.Bb(5),y.Qc(" ",a.domandaCorrente.id," "),y.Bb(5),y.Qc(" ",a.domandaCorrente.infoGeneraliDomanda.numeroDomanda," "),y.Bb(5),y.Qc(" ",a.domandaCorrente.infoGeneraliDomanda.modulo," "),y.Bb(5),y.Qc(" ",a.domandaCorrente.infoGeneraliDomanda.dataPresentazione," "),y.Bb(5),y.Qc(" ",a.domandaCorrente.infoGeneraliDomanda.enteCompilatore," "),y.Bb(5),y.Qc(" ",a.domandaCorrente.infoGeneraliDomanda.stato," "),y.Bb(1),y.mc("a4gHasPermission","MODIFICABILE")("annoCampagna",a.getIstruttoriaCorrente().annoRiferimento)("statoSostegno",a.domandaCorrente.statoSostegno)("tipoIstruttoria",a.getIstruttoriaCorrente().tipoIstruttoria),y.Bb(3),y.mc("ngIf",a.showCheckboxAnnulloRitardoPresentazione),y.Bb(1),y.mc("ngIf",a.titolareDeceduto),y.Bb(1),y.Kc(y.rc(42,Ie))}}var Oe,Ae=((Oe=function(){function t(i,e,a,o,n,r,c,s){_classCallCheck(this,t),this.route=i,this.app=e,this.istruttoriaService=a,this.sharedService=o,this.domandaIstruttoriacorrente=n,this.messages=r,this.router=c,this.istruttoria=s,this.isRTL=!0,this.annulloRitardoPresentazione=!1,this.showCheckboxAnnulloRitardoPresentazione=!1,this.titolareDeceduto=!1,this.displayDetails=!1,this.a4gMessages=d.a,this.datiErediOk=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.domandaCorrente=this.route.snapshot.data.domandaIstruttoria,this.datiIstruttoriaCorrente=this.route.snapshot.data.istruttoria,this.infoDomanda=this.route.snapshot.data.infoDomanda;var i=this.route.snapshot.paramMap.get("idIstruttoria");switch(this.istruttoriaService.getIstruttoria(+i).toPromise().then((function(i){t.istruttoriaCorrente=i,t.istruttoria.istruttoria=i;var e=null;i.dtScadenzaDomande&&(e=i.dtScadenzaDomande),String(t.infoDomanda.codModuloDomanda).includes("BPS_ART_15")&&t.domandaCorrente.infoGeneraliDomanda.dataPresentazione>e&&(t.showCheckboxAnnulloRitardoPresentazione=!0,t.annulloRitardoPresentazione=!!t.infoDomanda.annulloRiduzione)})),this.infoDomanda.lavorazioneSostegno.forEach((function(i){i.tipoSostegno===g.a.ZOOTECNIA&&(t.labelStatoZootecnia=" - "+i.statoSotegno.replace(/_/g," ")),i.tipoSostegno===g.a.SUPERFICIE&&(t.labelStatoSuperficie=" - "+i.statoSotegno.replace(/_/g," "))})),this.domandaIstruttoriacorrente.domanda=this.domandaCorrente,this.sharedService.domandSettata.emit(this.domandaIstruttoriacorrente.domanda),this.idDomandaCorrente=this.domandaCorrente.id.toString(),this.numeroDomanda=this.domandaCorrente.infoGeneraliDomanda.numeroDomanda,this.label1=this.domandaCorrente.statoSostegno,this.domandaCorrente.statoSostegno){case"RICHIESTO":this.label1="SOSTEGNO DISACCOPPIATO - RICHIESTO";break;case"CONTROLLI_CALCOLO_OK":this.label1="SOSTEGNO DISACCOPPIATO - CONTROLLI SUPERATI";break;case"CONTROLLI_CALCOLO_KO":this.label1="SOSTEGNO DISACCOPPIATO - CONTROLLI NON SUPERATI";break;case"NON_AMMISSIBILE":this.label1="SOSTEGNO DISACCOPPIATO - NON AMMISSIBILE";break;case"LIQUIDABILE":this.label1="SOSTEGNO DISACCOPPIATO - LIQUIDABILE";break;case"CONTROLLI_LIQUIDABILE_KO":this.label1="SOSTEGNO DISACCOPPIATO - NON LIQUIDABILE";break;case"PAGAMENTO_NON_AUTORIZZATO":this.label1="SOSTEGNO DISACCOPPIATO - PAGAMENTO NON AUTORIZZATO";break;case"NON_LIQUIDABILE":this.label1="SOSTEGNO DISACCOPPIATO - NON LIQUIDABILE";break;case"PAGAMENTO_AUTORIZZATO":this.label1="SOSTEGNO DISACCOPPIATO - PAGAMENTO AUTORIZZATO";break;case"CONTROLLI_INTERSOSTEGNO_OK":this.label1="SOSTEGNO DISACCOPPIATO - CONTROLLI INTERSOSTEGNO SUPERATI";break;case"INTEGRATO":this.label1="SOSTEGNO DISACCOPPIATO - INTEGRATO"}this.title=this.datiIstruttoriaCorrente.annoRiferimento+" - "+this.datiIstruttoriaCorrente.tipoIstruttoria;var e="Sostegno Accoppiato Zootecnia "+this.labelStatoZootecnia,a="Sostegno Accoppiato Superfici "+this.labelStatoSuperficie;!0===this.domandaCorrente.richieste.sintesiRichieste.richiestaDisaccoppiato&&!0===this.domandaCorrente.richieste.sintesiRichieste.richiestaSuperfici&&!0===this.domandaCorrente.richieste.sintesiRichieste.richiestaZootecnia?this.menu1=new Array({routerLink:ai.a.disaccoppiatoControlliSuperati,label:this.label1},{routerLink:ai.a.accoppiatoZootecniaRichiesto,label:e},{routerLink:ai.a.accoppiatoSuperficiRichiesto,label:a}):!0===this.domandaCorrente.richieste.sintesiRichieste.richiestaDisaccoppiato&&!1===this.domandaCorrente.richieste.sintesiRichieste.richiestaSuperfici&&!1===this.domandaCorrente.richieste.sintesiRichieste.richiestaZootecnia?this.menu1=new Array({routerLink:ai.a.disaccoppiatoControlliSuperati,label:this.label1}):!0===this.domandaCorrente.richieste.sintesiRichieste.richiestaDisaccoppiato&&!0===this.domandaCorrente.richieste.sintesiRichieste.richiestaSuperfici&&!1===this.domandaCorrente.richieste.sintesiRichieste.richiestaZootecnia?this.menu1=new Array({routerLink:ai.a.disaccoppiatoControlliSuperati,label:this.label1},{routerLink:ai.a.accoppiatoSuperficiRichiesto,label:a}):!0===this.domandaCorrente.richieste.sintesiRichieste.richiestaDisaccoppiato&&!1===this.domandaCorrente.richieste.sintesiRichieste.richiestaSuperfici&&!0===this.domandaCorrente.richieste.sintesiRichieste.richiestaZootecnia?this.menu1=new Array({routerLink:ai.a.disaccoppiatoControlliSuperati,label:this.label1},{routerLink:ai.a.accoppiatoZootecniaRichiesto,label:e}):!1===this.domandaCorrente.richieste.sintesiRichieste.richiestaDisaccoppiato&&!0===this.domandaCorrente.richieste.sintesiRichieste.richiestaSuperfici&&!1===this.domandaCorrente.richieste.sintesiRichieste.richiestaZootecnia&&(this.menu1=new Array({routerLink:ai.a.accoppiatoZootecniaRichiesto,label:e},{routerLink:ai.a.accoppiatoSuperficiRichiesto,label:a}))}},{key:"showDialog",value:function(){var t=this;this.displayDetails=!0,this.istruttoriaService.getInfoDomanda(+this.route.snapshot.paramMap.get("idDomanda"),["EREDE"]).pipe(Object(m.a)((function(i){return i.erede?(t.titolareDeceduto=!0,Object(V.a)(i.erede)):t.istruttoriaService.getInfoLiquidabilita(t.infoDomanda.numeroDomanda).pipe(Object(ae.a)((function(i){return!t.a4gMessages.isUndefinedOrNull(i)&&i.length>0?(t.titolareDeceduto=i[0].infoLiquidabilita.titolareDeceduto,i[0].infoLiquidabilita.datiErede):null})))}))).subscribe((function(i){t.titolareDeceduto&&(t.datiEredeDto=t.creaDatiErediDto(i),t.datiEredeDto&&t.datiEredeDto.cognome&&t.datiEredeDto.nome&&t.datiEredeDto.codiceFiscale&&t.datiEredeDto.iban&&t.datiEredeDto.indirizzoResidenza&&t.datiEredeDto.provResidenza&&t.datiEredeDto.codiceIstat?t.datiErediOk=!0:(t.datiErediOk=!1,t.messaggioErroreDatiErede="Non sono presenti tutti i dati dell\u2019erede",t.messages.add(d.a.getToast("tst",d.b.error,t.messaggioErroreDatiErede))))}),(function(i){console.log("Error",i),d.a.handleError(t.messages,i,d.a.SERVIZIO_NON_DISPONIBILE)}))}},{key:"onCheckboxChange",value:function(t){this.infoDomanda.annulloRiduzione=t,this.istruttoriaService.aggiornaDomanda(this.infoDomanda).subscribe()}},{key:"onCheckboxChangeDatiErede",value:function(t){var i=this;this.datiEredeDto.certificato=t,this.datiEredeDto.id?(this.datiEredeDto.certificato=t,this.istruttoriaService.aggiornaDatiErede(this.domandaCorrente.id,this.datiEredeDto).subscribe()):this.istruttoriaService.creaDatiErede(this.domandaCorrente.id,this.datiEredeDto).subscribe((function(t){i.datiEredeDto.id=t.id}))}},{key:"creaDatiErediDto",value:function(t){var i=new oe.a;return t?(Object.keys(t).forEach((function(e){return i[e]=t[e]})),i.codIstatNascita||(i.codIstatNascita=t.codiceIstatNascita),i):i}},{key:"confermaAnnullamento",value:function(){this.messages.add(d.a.getToast("warn-annullaIstruttoria",d.b.warn,d.a.CONFERMA_ANNULLA_ISTRUTTORIA))}},{key:"onRejectAnnullaIstruttoria",value:function(){this.messages.clear("warn-annullaIstruttoria")}},{key:"annullaIstruttoria",value:function(){var t=this;this.istruttoriaService.annullaIstruttoria(this.domandaCorrente.id).subscribe((function(i){t.router.navigate(["./"],{relativeTo:t.route.parent})}),(function(i){console.log(i.error),t.messages.clear("warn-annullaIstruttoria"),t.messages.add(d.a.getToast("tst",d.b.error,"ANNULLA_ISTRUTTORIA_DOMANDA_IN_PAGAMENTO"==i.error.message?d.a.ANNULLA_ISTRUTTORIA_DOMANDA_IN_PAGAMENTO:d.a.ANNULLA_ISTRUTTORIA_KO))}))}},{key:"getIstruttoriaCorrente",value:function(){return this.istruttoriaCorrente}}]),t}()).\u0275fac=function(t){return new(t||Oe)(y.Nb(c.a),y.Nb(te.a),y.Nb(l.a),y.Nb(ie),y.Nb(ee),y.Nb(B.d),y.Nb(c.e),y.Nb(ti.a))},Oe.\u0275cmp=y.Hb({type:Oe,selectors:[["app-dettaglio-domanda-old"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"ui-g","ui-fluid"],["position","center","key","warn-annullaIstruttoria",3,"modal","baseZIndex"],["pTemplate","messageService"],[1,"tophome"],[1,"ui-grid-fixed"],[1,"layout-topbar",2,"padding","0px","height","auto"],[1,"layout-topbar-menu-wrapper"],[1,"topbar-menu","fadeInDown",3,"ngClass","click"],[2,"margin","0px"],[3,"ngClass","click",4,"ngIf"],[1,"top-sub-green"],[1,"ui-g-12"],[3,"model"],[1,"disaccoppiato",2,"width","100%"],["baseZIndex","10000"],["op",""],[2,"color","#333","padding","15px","width","700px !important"],["binary","true",3,"ngModel","ngModelChange",4,"ngIf"],[3,"visible","modal","responsive","contentStyle","minY","maximizable","baseZIndex","visibleChange"],[1,"ui-g"],[1,"ui-g-2"],[1,"ui-g-4"],[1,"ui-g",3,"a4gHasPermission","annoCampagna","statoSostegno","tipoIstruttoria"],["appDebounceClick","","label","Annulla Istruttoria",3,"debounceClick"],["legend","Dichiarazione riduzione annullamento sanzione",3,"style",4,"ngIf"],["legend","Dati di istruttoria relativi all'erede di un titolare deceduto",3,"style",4,"ngIf"],["key","tst"],[2,"text-align","center"],[1,"pi","pi-exclamation-triangle",2,"font-size","3em"],[1,"ui-g-6"],["type","button","pButton","","label","Si",1,"ui-button-success",3,"click"],["type","button","pButton","","label","No",1,"ui-button-secondary",3,"click"],[3,"ngClass","click"],["idDomanda",""],["href","#",2,"color","#0e5f3f",3,"click"],[1,"topbar-item-name"],["binary","true",3,"ngModel","ngModelChange"],["legend","Dichiarazione riduzione annullamento sanzione"],[1,"ui-g-1"],[1,"ui-g-11"],["legend","Dati di istruttoria relativi all'erede di un titolare deceduto"],["binary","true",3,"ngModel","ngModelChange","onChange"],[1,"ui-g-12","error"]],template:function(t,i){1&t&&y.Mc(0,Ce,110,43,"div",0),2&t&&y.mc("ngIf",i.istruttoriaCorrente)},directives:[a.t,z.a,B.e,a.q,yt.a,c.j,ne.a,w.a,B.c,re.a,k.a,ce.a,k.b,Ki.a,M.s,M.v,se.a],pipes:[a.E,a.f],styles:["[_nghost-%COMP%] .ui-dialog .ui-dialog-titlebar{background-color:#f6f6f7}.error[_ngcontent-%COMP%]{color:#d8000c;background-color:#ffbaba}"]}),Oe),De=e("4AYi"),Pe=e("B4vn"),ye=function(t){return{width:t}};function Be(t,i){1&t&&y.Ob(0,"th",13),2&t&&y.mc("ngStyle",y.sc(1,ye,i.$implicit.width))}function Ne(t,i){if(1&t&&(y.Tb(0,"tr",11),y.Mc(1,Be,1,3,"th",12),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.mc("ngForOf",e)}}function ze(t,i){if(1&t&&y.Ob(0,"p-treeTableToggler",18),2&t){var e=y.fc(2).$implicit;y.mc("rowNode",e)}}function Re(t,i){if(1&t&&(y.Tb(0,"a"),y.Oc(1),y.Sb()),2&t){var e=y.fc().$implicit,a=y.fc().rowData;y.Bb(1),y.Pc(a[e.field])}}function Me(t,i){if(1&t&&(y.Tb(0,"strong"),y.Oc(1),y.Sb()),2&t){var e=y.fc().$implicit,a=y.fc().rowData;y.Bb(1),y.Pc(a[e.field])}}function Ee(t,i){if(1&t&&(y.Tb(0,"td"),y.Mc(1,ze,1,1,"p-treeTableToggler",15),y.Tb(2,"span",16),y.Mc(3,Re,2,1,"a",17),y.Mc(4,Me,2,1,"strong",17),y.Sb(),y.Sb()),2&t){var e=i.index,a=y.fc().rowData;y.Bb(1),y.mc("ngIf",0==e),y.Bb(2),y.mc("ngIf",0==a.bold),y.Bb(1),y.mc("ngIf",1==a.bold)}}function ke(t,i){if(1&t&&(y.Tb(0,"tr"),y.Mc(1,Ee,5,3,"td",14),y.Sb()),2&t){var e=i.columns;y.Bb(1),y.mc("ngForOf",e)}}function Le(t,i){if(1&t&&(y.Tb(0,"p-treeTable",8),y.Mc(1,Ne,2,1,"ng-template",9),y.Mc(2,ke,2,1,"ng-template",10),y.Sb()),2&t){var e=y.fc();y.mc("value",e.dataSintesi)("columns",e.cols)}}function we(t,i){if(1&t&&(y.Tb(0,"strong"),y.Oc(1),y.Sb()),2&t){var e=y.fc(3).$implicit;y.Bb(1),y.Pc(e.descrizione2)}}function _e(t,i){if(1&t&&(y.Tb(0,"th",26),y.Mc(1,we,2,1,"strong",17),y.Sb()),2&t){var e=i.$implicit;y.mc("ngStyle",y.sc(2,ye,e.width)),y.Bb(1),y.mc("ngIf",e.header)}}function xe(t,i){if(1&t&&(y.Tb(0,"tr"),y.Mc(1,_e,2,4,"th",25),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.mc("ngForOf",e)}}function Ue(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2),y.Sb(),y.Tb(3,"td"),y.Oc(4),y.Sb(),y.Sb()),2&t){var e=i.$implicit;y.Bb(2),y.Pc(e.controlloDescrizione),y.Bb(2),y.Pc(e.valore)}}function Fe(t,i){1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2," Controllo non eseguito "),y.Sb(),y.Sb()),2&t&&(y.Bb(1),y.Cb("colspan",10))}function Ge(t,i){if(1&t&&(y.Tb(0,"div",22),y.Tb(1,"p-table",23),y.gc(2,"tipoFilter"),y.gc(3,"tipoFilter"),y.Mc(4,xe,2,1,"ng-template",9),y.Mc(5,Ue,5,2,"ng-template",10),y.Mc(6,Fe,3,1,"ng-template",24),y.Sb(),y.Sb()),2&t){var e=i.$implicit,a=y.fc(3).$implicit,o=y.fc(2);y.Bb(1),y.mc("columns",o.cols)("value",y.jc(2,5,y.jc(3,9,o.controlli,"codice1",a.codice1),"codice2",e.codice2))("autoLayout",!0)("paginator",!1)("responsive",!0)}}function Ve(t,i){if(1&t&&(y.Mc(0,Ge,7,13,"ng-template",20),y.gc(1,"tipoFilter")),2&t){var e=y.fc(2).$implicit,a=y.fc(2);y.mc("ngForOf",y.jc(1,1,a.tabelle,"codice1",e.codice1))}}function Ze(t,i){if(1&t&&(y.Tb(0,"div"),y.Tb(1,"p-accordion"),y.Tb(2,"p-accordionTab",21),y.Mc(3,Ve,2,5,void 0,17),y.Sb(),y.Sb(),y.Sb()),2&t){var e=y.fc().$implicit,a=y.fc(2);y.Bb(2),y.oc("header","Calcolo ",e.descrizione1,""),y.mc("selected",!1),y.Bb(1),y.mc("ngIf",a.tabelle)}}function $e(t,i){1&t&&y.Mc(0,Ze,4,3,"div",17),2&t&&y.mc("ngIf","Anomalie mantenimento"!=i.$implicit.descrizione1)}function Qe(t,i){if(1&t&&(y.Tb(0,"div",19),y.Mc(1,$e,1,1,"ng-template",20),y.Sb()),2&t){var e=y.fc();y.Bb(1),y.mc("ngForOf",e.tipiControllo)}}var qe,He=((qe=function(){function t(i,e,a){var o=this;_classCallCheck(this,t),this.route=i,this.sharedService=e,this.domandaIstruttoriacorrente=a,this.sintesi="SINTESI",this._serviceSubscription=this.sharedService.domandSettata.subscribe((function(t){o.caricaDatiDettaglio()}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.cols=[{field:"controlloDescrizione",header:"b",width:"70%"},{field:"valore",header:"ss",width:"30%"}],null!=this.domandaIstruttoriacorrente.domanda&&null==this.domandaCorrenteDettaglio&&this.caricaDatiDettaglio()}},{key:"controlloToTreeNode",value:function(t,i){return t.bold=i?1:0,{label:t.controllo.toString(),data:t,children:i}}},{key:"caricaDatiDettaglio",value:function(){var t=this;this.domandaCorrenteDettaglio=this.domandaIstruttoriacorrente.domanda,this.controlli=this.domandaCorrenteDettaglio.datiDomanda.sort((function(t,i){return t.ordineControllo<i.ordineControllo?-1:1})).sort((function(t,i){return t.ordine1<i.ordine1?-1:1}));var i=this.controlli.filter((function(i){return i.codice1!==t.sintesi})).map((function(t){var i=new De.a;return i.codice1=t.codice1,i.descrizione1=t.descrizione1,i.bold=0,i}));this.tipiControllo=this.mapDistinct(i);var e=this.controlli.map((function(t){var i=new De.a;return i.codice1=t.codice1,i.descrizione1=t.descrizione1,i.bold=0,i}));this.tabelle=this.mapDistinct(e);var a=this.controlli.filter((function(i){return i.codice1===t.sintesi&&i.codice2===i.controllo})).map((function(i){return t.controlloToTreeNode(i,t.controlli.filter((function(e){return e.codice1===t.sintesi&&e.codice2===i.controllo&&e.controllo!==i.controllo})).map((function(i){return t.controlloToTreeNode(i,null)})))}));this.dataSintesi=a}},{key:"mapDistinct",value:function(t){var i=new Array;return t.forEach((function(t){var e=!1;i.forEach((function(i){t.codice2===i.codice2&&t.codice1===i.codice1&&(e=!0)})),e||i.push(t)})),console.log("def "+i.length),console.log(i),i}},{key:"consume",value:function(){this.cleanup()}},{key:"cleanup",value:function(){this._serviceSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||qe)(y.Nb(c.a),y.Nb(ie),y.Nb(ee))},qe.\u0275cmp=y.Hb({type:qe,selectors:[["app-dati-domanda"]],decls:17,vars:2,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],[1,"ui-g-4"],[1,"table-responsive"],[3,"value","columns",4,"ngIf"],[1,"ui-g-8"],["class","accordion-wrapper dettaglioaccordionmultiple",4,"ngIf"],[3,"value","columns"],["pTemplate","header"],["pTemplate","body"],[2,"display","none"],["height","0","span","0",3,"ngStyle",4,"ngFor","ngForOf"],["height","0","span","0",3,"ngStyle"],[4,"ngFor","ngForOf"],[3,"rowNode",4,"ngIf"],[2,"vertical-align","middle"],[4,"ngIf"],[3,"rowNode"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],["ngFor","",3,"ngForOf"],[3,"header","selected"],[1,"table-responsive",2,"margin-top","30px"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","emptymessage"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"]],template:function(t,i){1&t&&(y.Tb(0,"div",0),y.Tb(1,"div",1),y.Tb(2,"div",2),y.Tb(3,"div",3),y.Tb(4,"div"),y.Tb(5,"h3"),y.Tb(6,"span"),y.Oc(7,"Sintesi Calcolo"),y.Sb(),y.Sb(),y.Sb(),y.Tb(8,"div",4),y.Mc(9,Le,3,2,"p-treeTable",5),y.Sb(),y.Sb(),y.Tb(10,"div",6),y.Tb(11,"div"),y.Tb(12,"div"),y.Tb(13,"h3"),y.Tb(14,"span"),y.Oc(15,"Dettaglio Calcolo cia"),y.Sb(),y.Sb(),y.Sb(),y.Mc(16,Qe,2,1,"div",7),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t&&(y.Bb(9),y.mc("ngIf",i.dataSintesi),y.Bb(7),y.mc("ngIf",i.tipiControllo))},directives:[a.t,Li.l,B.e,a.s,a.w,Li.o,Yi.a,Yi.c,o.q],pipes:[Pe.b],styles:[""]}),qe),je=function(t){return{width:t}};function Ke(t,i){1&t&&y.Ob(0,"th",9),2&t&&y.mc("ngStyle",y.sc(1,je,i.$implicit.width))}function Ye(t,i){if(1&t&&(y.Tb(0,"tr"),y.Mc(1,Ke,1,3,"th",8),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.mc("ngForOf",e)}}function Je(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2),y.Sb(),y.Tb(3,"td",10),y.Oc(4),y.Sb(),y.Sb()),2&t){var e=i.$implicit;y.Bb(2),y.Pc(e.mkey),y.Bb(2),y.Pc(e.mvalue)}}var We,Xe=((We=function(){function t(i,e,a,o,n){var r=this;_classCallCheck(this,t),this.route=i,this.istruttoriaService=e,this.messageService=a,this.domandaIstruttoriacorrente=o,this.sharedService=n,this.dati=new Array,this._serviceSubscription=this.sharedService.domandSettata.subscribe((function(t){console.log("sharedService subscribe"),console.log(t),r.domandaCorrenteDettaglio=t,r.dati=r.domandaCorrenteDettaglio.informazioniDomanda}))}return _createClass(t,[{key:"ngOnInit",value:function(){null!=this.domandaIstruttoriacorrente.domanda&&null==this.domandaCorrenteDettaglio&&(this.domandaCorrenteDettaglio=this.domandaIstruttoriacorrente.domanda,this.dati=this.domandaCorrenteDettaglio.informazioniDomanda),this.cols=[{field:"a",header:"",width:"80%"},{field:"b",header:"",width:"20%"}]}},{key:"consume",value:function(){this.cleanup()}},{key:"cleanup",value:function(){this._serviceSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||We)(y.Nb(c.a),y.Nb(l.a),y.Nb(B.d),y.Nb(ee),y.Nb(ie))},We.\u0275cmp=y.Hb({type:We,selectors:[["app-informazioni-domanda"]],decls:11,vars:5,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],[1,"dettaglioaccordion",2,"background","#fff"],[1,"table-responsive","nobrd",2,"margin-top","30px"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","header"],["pTemplate","body"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"text-right",2,"font-weight","bold"]],template:function(t,i){1&t&&(y.Tb(0,"div",0),y.Tb(1,"div",1),y.Tb(2,"div",2),y.Tb(3,"div",3),y.Tb(4,"h3"),y.Tb(5,"span"),y.Oc(6,"Indicatore"),y.Sb(),y.Sb(),y.Tb(7,"div",4),y.Tb(8,"p-table",5),y.Mc(9,Ye,2,1,"ng-template",6),y.Mc(10,Je,5,2,"ng-template",7),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t&&(y.Bb(8),y.mc("columns",i.cols)("value",i.dati)("autoLayout",!0)("paginator",!1)("responsive",!0))},directives:[o.q,B.e,a.s,a.w],styles:[""]}),We),ta=function t(){_classCallCheck(this,t)},ia=function t(){_classCallCheck(this,t)},ea=["tableSup"];function aa(t,i){if(1&t&&(y.Tb(0,"div"),y.Oc(1),y.Sb()),2&t){var e=y.fc();y.Bb(1),y.Pc(e.domandaCorrenteDettaglio.supImpegnataLorda)}}function oa(t,i){if(1&t&&(y.Tb(0,"div"),y.Oc(1),y.Sb()),2&t){var e=y.fc();y.Bb(1),y.Pc(e.domandaCorrenteDettaglio.supImpegnataNetta)}}function na(t,i){if(1&t&&(y.Tb(0,"th",16),y.Tb(1,"strong"),y.Oc(2),y.Sb(),y.Ob(3,"p-sortIcon",17),y.Sb()),2&t){var e=i.$implicit;y.mc("pSortableColumn",e.field)("pSortableColumnDisabled",null==e.field),y.Bb(2),y.Pc(e.header),y.Bb(1),y.mc("field",e.field)}}function ra(t,i){if(1&t&&(y.Tb(0,"tr"),y.Mc(1,na,4,4,"th",15),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.mc("ngForOf",e)}}function ca(t,i){if(1&t&&(y.Tb(0,"tr",18),y.Tb(1,"td"),y.Oc(2),y.Sb(),y.Tb(3,"td"),y.Oc(4),y.Sb(),y.Tb(5,"td"),y.Oc(6),y.Sb(),y.Tb(7,"td"),y.Oc(8),y.Sb(),y.Tb(9,"td"),y.Oc(10),y.Sb(),y.Tb(11,"td"),y.Oc(12),y.Sb(),y.Tb(13,"td"),y.Oc(14),y.Sb(),y.Tb(15,"td"),y.Oc(16),y.Sb(),y.Tb(17,"td"),y.Oc(18),y.Sb(),y.Tb(19,"td"),y.Oc(20),y.Sb(),y.Tb(21,"td"),y.Oc(22),y.Sb(),y.Sb()),2&t){var e=i.$implicit;y.mc("pSelectableRow",e),y.Bb(2),y.Pc(e.idParticella),y.Bb(2),y.Pc(e.comuneCatastale),y.Bb(2),y.Pc(e.codNazionale),y.Bb(2),y.Pc(e.foglio),y.Bb(2),y.Pc(e.particella),y.Bb(2),y.Pc(e.sub),y.Bb(2),y.Pc(e.isola),y.Bb(2),y.Pc(e.codColtura),y.Bb(2),y.Pc(e.descrColtura),y.Bb(2),y.Pc(e.supImpLorda),y.Bb(2),y.Pc(e.supImpNetta)}}function sa(t,i){1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2," Nessuna particella trovata "),y.Sb(),y.Sb()),2&t&&(y.Bb(1),y.Cb("colspan",10))}var la,ua=((la=function(){function t(i,e,a){var o=this;_classCallCheck(this,t),this.istruttoriaService=i,this.sharedService=e,this.domandaIstruttoriacorrente=a,this.listaParticelleTable=new ia,this.numeroPagina=1,this.elementiPerPagina=5,this.first=!0,this._serviceSubscription=this.sharedService.domandSettata.subscribe((function(t){o.domandaCorrenteDettaglio=t,o.changePage1(o.tableSup)}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.cols=[{field:"idParticella",header:"Id Particella"},{field:"comune",header:"Comune Catastale"},{field:"codNazionale",header:"Cod. Nazionale"},{field:"foglio",header:"Foglio"},{field:"particella",header:"Particella"},{field:"sub",header:"Sub"},{field:"codIsola",header:"Isola"},{field:"codiceColtura3",header:"Cod. Coltura"},{field:"descrizioneColtura",header:"Descr. Coltura"},{field:"supRichiesta",header:"Sup. Imp. Lorda"},{field:"supRichiestaNetta",header:"Sup Imp. Netta"}],null!=this.domandaIstruttoriacorrente.domanda&&null==this.domandaCorrenteDettaglio&&(this.domandaCorrenteDettaglio=this.domandaIstruttoriacorrente.domanda,this.changePage1(this.tableSup))}},{key:"consume",value:function(){this.cleanup()}},{key:"cleanup",value:function(){this._subscriptionIstruttoriaService.unsubscribe(),this._serviceSubscription.unsubscribe()}},{key:"changePage",value:function(t){null!=this.domandaCorrenteDettaglio&&(this.first?this.first=!1:this.changePage1(t))}},{key:"changePage1",value:function(t){var i=this;this.numeroPagina=Math.floor(t.first/this.elementiPerPagina);var e='{ "numeroElementiPagina": '+this.elementiPerPagina+', "pagina": '+this.numeroPagina+"}",a="";null!=t&&null!=t.sortField&&(console.log(t.sortField),a='[{ "proprieta": "'+t.sortField+'", "ordine": "'+this.istruttoriaService.getOrdine(t.sortOrder)+'"}]'),this._subscriptionIstruttoriaService=this.istruttoriaService.getPaginaParticellaAttuale(this.domandaCorrenteDettaglio.id.toString(),encodeURIComponent(e),encodeURIComponent(a)).subscribe((function(t){null!=t?(console.log("Particelle trovate"),i.caricaParticelle(t)):(i.listaParticelleTable.risultati=[],i.listaParticelleTable.elementiTotali=0)}))}},{key:"caricaParticelle",value:function(t){var i=new Array;t.risultati.forEach((function(t){var e=new ta;e.idParticella=t.infoCatastali.idParticella,e.comuneCatastale=t.infoCatastali.comune,e.codNazionale=t.infoCatastali.codNazionale,e.foglio=t.infoCatastali.foglio,e.particella=t.infoCatastali.particella,e.sub=t.infoCatastali.sub,e.isola=t.riferimentiCartografici.codIsola,e.codColtura=t.codiceColtura3,e.descrColtura=t.infoColtivazione.descrizioneColtura,e.supImpLorda=t.supRichiesta,e.supImpNetta=t.supRichiestaNetta,i.push(e)})),this.listaParticelleTable=new ia,this.listaParticelleTable.risultati=i,this.listaParticelleTable.elementiTotali=t.count,console.log(this.listaParticelleTable.risultati)}}]),t}()).\u0275fac=function(t){return new(t||la)(y.Nb(l.a),y.Nb(ie),y.Nb(ee))},la.\u0275cmp=y.Hb({type:la,selectors:[["app-superfici-impegnate"]],viewQuery:function(t,i){var e;1&t&&y.Jc(ea,!0),2&t&&y.Ac(e=y.cc())&&(i.tableSup=e.first)},decls:26,vars:9,consts:[[1,"ui-g","ui-fluid"],[1,"boxgrey",2,"padding-top","50px"],[1,"ui-g-12"],[1,"ui-grid-fixed"],[2,"display","inline-block","width","100%"],[1,"ui-g-6","box",2,"padding-left","0px"],[1,"square-boxsmall"],[4,"ngIf"],[1,"ui-g-6",2,"padding-right","0px"],[1,"table-responsive",2,"margin-top","20px","display","block"],[3,"columns","value","autoLayout","totalRecords","paginator","rows","lazy","onLazyLoad"],["tableSup",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"],[3,"pSelectableRow"]],template:function(t,i){1&t&&(y.Tb(0,"div",0),y.Tb(1,"div",1),y.Tb(2,"div",2),y.Tb(3,"div",3),y.Tb(4,"div"),y.Tb(5,"h3"),y.Oc(6,"Premio base"),y.Sb(),y.Sb(),y.Tb(7,"div",4),y.Tb(8,"div",5),y.Tb(9,"div",6),y.Tb(10,"strong"),y.Oc(11,"Sup. Imp. Lorda (mq)"),y.Sb(),y.Ob(12,"br"),y.Mc(13,aa,2,1,"div",7),y.Sb(),y.Sb(),y.Tb(14,"div",8),y.Tb(15,"div",6),y.Tb(16,"strong"),y.Oc(17,"Sup. Imp. Netta (mq)"),y.Sb(),y.Ob(18,"br"),y.Mc(19,oa,2,1,"div",7),y.Sb(),y.Sb(),y.Sb(),y.Tb(20,"div",9),y.Tb(21,"p-table",10,11),y.bc("onLazyLoad",(function(t){return i.changePage(t)})),y.Mc(23,ra,2,1,"ng-template",12),y.Mc(24,ca,23,12,"ng-template",13),y.Mc(25,sa,3,1,"ng-template",14),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t&&(y.Bb(13),y.mc("ngIf",i.domandaCorrenteDettaglio),y.Bb(6),y.mc("ngIf",i.domandaCorrenteDettaglio),y.Bb(2),y.mc("columns",i.cols)("value",i.listaParticelleTable.risultati)("autoLayout",!0)("totalRecords",i.listaParticelleTable.elementiTotali)("paginator",!0)("rows",i.elementiPerPagina)("lazy",!0))},directives:[a.t,o.q,B.e,a.s,o.p,o.o,o.m],styles:[""]}),la),da=function(t){return{width:t}};function ba(t,i){1&t&&y.Ob(0,"th",11),2&t&&y.mc("ngStyle",y.sc(1,da,i.$implicit.width))}function pa(t,i){if(1&t&&(y.Tb(0,"tr"),y.Mc(1,ba,1,3,"th",10),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.mc("ngForOf",e)}}function ga(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2),y.Sb(),y.Tb(3,"td",12),y.Oc(4),y.Sb(),y.Sb()),2&t){var e=i.$implicit;y.Bb(2),y.Pc(e.descrizione),y.Bb(2),y.Pc(e.valore)}}function ma(t,i){if(1&t&&(y.Tb(0,"div",4),y.Tb(1,"p-accordion"),y.Tb(2,"p-accordionTab",5),y.gc(3,"fixDichiarazioni"),y.Tb(4,"div",6),y.Tb(5,"p-table",7),y.gc(6,"tipoFilter"),y.Mc(7,pa,2,1,"ng-template",8),y.Mc(8,ga,5,2,"ng-template",9),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t){var e=i.$implicit,a=y.fc();y.Bb(2),y.nc("header",y.hc(3,7,e)),y.mc("selected",!0),y.Bb(3),y.mc("columns",a.cols)("value",y.jc(6,9,a.dichiarazioni,"idTipoDichiarazioneDu",e))("autoLayout",!0)("paginator",!1)("responsive",!0)}}var fa,va=((fa=function(){function t(i,e,a,o,n,r){var c=this;_classCallCheck(this,t),this.route=i,this.istruttoriaService=e,this.messageService=a,this.domandaCorrente=o,this.sharedService=n,this.domandaIstruttoriacorrente=r,this._serviceSubscription=this.sharedService.domandSettata.subscribe((function(t){c.caricaDatiDettaglio()}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.cols=[{field:"a",header:"",width:"90%"},{field:"b",header:"",width:"10%"}],null!=this.domandaIstruttoriacorrente.domanda&&null==this.domandaCorrenteDettaglio&&this.caricaDatiDettaglio()}},{key:"caricaDatiDettaglio",value:function(){this.domandaCorrenteDettaglio=this.domandaIstruttoriacorrente.domanda,this.dichiarazioni=this.domandaCorrenteDettaglio.dichiarazioni,this.codiciTipo=this.dichiarazioni.map((function(t){return t.quadro})).filter((function(t,i,e){return e.indexOf(t)===i}))}},{key:"consume",value:function(){this.cleanup()}},{key:"cleanup",value:function(){this._serviceSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||fa)(y.Nb(c.a),y.Nb(l.a),y.Nb(B.d),y.Nb(ee),y.Nb(ie),y.Nb(ee))},fa.\u0275cmp=y.Hb({type:fa,selectors:[["app-dichiarazioni"]],decls:4,vars:1,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["ngFor","",3,"ngForOf"],[1,"accordion-wrapper","dettaglioaccordion"],[3,"header","selected"],[1,"table-responsive","nobrd",2,"margin-top","30px"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","header"],["pTemplate","body"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"text-right",2,"font-weight","bold"]],template:function(t,i){1&t&&(y.Tb(0,"div",0),y.Tb(1,"div",1),y.Tb(2,"div",2),y.Mc(3,ma,9,13,"ng-template",3),y.Sb(),y.Sb(),y.Sb()),2&t&&(y.Bb(3),y.mc("ngForOf",i.codiciTipo))},directives:[a.s,Yi.a,Yi.c,o.q,B.e,a.w],pipes:[Pe.a,Pe.b],styles:[""]}),fa);function ha(t,i){if(1&t&&(y.Tb(0,"strong"),y.Oc(1),y.Sb()),2&t){var e=y.fc(3).$implicit;y.Bb(1),y.Pc(e.descrizione2)}}var Sa=function(t){return{width:t}};function Ta(t,i){if(1&t&&(y.Tb(0,"th",14),y.Mc(1,ha,2,1,"strong",4),y.Sb()),2&t){var e=i.$implicit;y.mc("ngStyle",y.sc(2,Sa,e.width)),y.Bb(1),y.mc("ngIf",e.header)}}function Ia(t,i){if(1&t&&(y.Tb(0,"tr"),y.Mc(1,Ta,2,4,"th",13),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.mc("ngForOf",e)}}function Ca(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"td",15),y.Oc(2),y.Sb(),y.Sb()),2&t){var e=i.$implicit;y.Bb(2),y.Pc(e.valore)}}function Oa(t,i){1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2," Controllo non eseguito "),y.Sb(),y.Sb()),2&t&&(y.Bb(1),y.Cb("colspan",10))}function Aa(t,i){if(1&t&&(y.Tb(0,"div",8),y.Tb(1,"p-table",9),y.gc(2,"tipoFilter"),y.gc(3,"tipoFilter"),y.Mc(4,Ia,2,1,"ng-template",10),y.Mc(5,Ca,3,1,"ng-template",11),y.Mc(6,Oa,3,1,"ng-template",12),y.Sb(),y.Sb()),2&t){var e=i.$implicit,a=y.fc().$implicit,o=y.fc(2);y.Bb(1),y.mc("columns",o.cols)("value",y.jc(2,5,y.jc(3,9,o.controlli,"codice1",a.codice1),"codice2",e.codice2))("autoLayout",!0)("paginator",!1)("responsive",!0)}}function Da(t,i){if(1&t&&(y.Tb(0,"p-accordion"),y.Tb(1,"p-accordionTab",7),y.Mc(2,Aa,7,13,"ng-template",6),y.gc(3,"tipoFilter"),y.Sb(),y.Sb()),2&t){var e=i.$implicit,a=y.fc(2);y.Bb(1),y.nc("header",e.descrizione1),y.mc("selected",!0),y.Bb(1),y.mc("ngForOf",y.jc(3,3,a.passiLavorazione,"codice1",e.codice1))}}function Pa(t,i){if(1&t&&(y.Tb(0,"div",5),y.Mc(1,Da,4,7,"ng-template",6),y.Sb()),2&t){var e=y.fc();y.Bb(1),y.mc("ngForOf",e.tipiControllo)}}function ya(t,i){1&t&&(y.Tb(0,"div"),y.Oc(1," Nessun controllo eseguito "),y.Sb())}var Ba,Na=((Ba=function(){function t(i,e,a,o,n){var r=this;_classCallCheck(this,t),this.route=i,this.istruttoriaService=e,this.domandaCorrente=a,this.sharedService=o,this.domandaIstruttoriacorrente=n,this._serviceSubscription=this.sharedService.domandSettata.subscribe((function(t){r.caricaDatiDettaglio()}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.cols=[{field:"b",header:"",width:"100%"}],null!=this.domandaIstruttoriacorrente.domanda&&null==this.domandaCorrenteDettaglio&&this.caricaDatiDettaglio()}},{key:"caricaDatiDettaglio",value:function(){this.domandaCorrenteDettaglio=this.domandaIstruttoriacorrente.domanda,this.controlli=this.domandaCorrenteDettaglio.controlliSostegno;var t=this.controlli.map((function(t){var i=new De.a;return i.codice2=t.codice2,i.descrizione2=t.descrizione2,i.codice1=t.codice1,i.descrizione1=t.descrizione1,i.bold=0,i}));this.passiLavorazione=this.mapDistinct(t),console.log("this.passiLavorazione "+this.passiLavorazione.length);var i=this.controlli.map((function(t){var i=new De.a;return i.codice1=t.codice1,i.descrizione1=t.descrizione1,i.bold=0,i}));this.tipiControllo=this.mapDistinct(i),console.log("this.tipiControllo "+this.tipiControllo.length)}},{key:"mapDistinct",value:function(t){var i=new Array;return t.forEach((function(t){var e=!1;i.forEach((function(i){t.codice2===i.codice2&&t.codice1===i.codice1&&(e=!0)})),e||i.push(t)})),console.log("def "+i.length),console.log(i),i}},{key:"consume",value:function(){this.cleanup()}},{key:"cleanup",value:function(){this._serviceSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||Ba)(y.Nb(c.a),y.Nb(l.a),y.Nb(ee),y.Nb(ie),y.Nb(ee))},Ba.\u0275cmp=y.Hb({type:Ba,selectors:[["app-controlli-sostegno"]],decls:5,vars:2,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["class","accordion-wrapper dettaglioaccordion",4,"ngIf"],[4,"ngIf"],[1,"accordion-wrapper","dettaglioaccordion"],["ngFor","",3,"ngForOf"],[3,"header","selected"],[1,"table-responsive","nobrd",2,"margin-top","30px"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[2,"font-weight","bold"]],template:function(t,i){1&t&&(y.Tb(0,"div",0),y.Tb(1,"div",1),y.Tb(2,"div",2),y.Mc(3,Pa,2,1,"div",3),y.Mc(4,ya,2,0,"div",4),y.Sb(),y.Sb(),y.Sb()),2&t&&(y.Bb(3),y.mc("ngIf",i.tipiControllo&&i.passiLavorazione),y.Bb(1),y.mc("ngIf",!(i.tipiControllo&&i.passiLavorazione)))},directives:[a.t,a.s,Yi.a,Yi.c,o.q,B.e,a.w],pipes:[Pe.b],styles:[""]}),Ba),za=e("Lf7B"),Ra=["tableEle"],Ma=["tableGreening"],Ea=["tableMan"];function ka(t,i){if(1&t&&y.Ob(0,"p-sortIcon",16),2&t){var e=y.fc().$implicit;y.mc("field",e.field)}}function La(t,i){if(1&t&&(y.Tb(0,"th",14),y.Tb(1,"strong"),y.Oc(2),y.Sb(),y.Mc(3,ka,1,1,"p-sortIcon",15),y.Sb()),2&t){var e=i.$implicit;y.mc("pSortableColumn",e.field)("pSortableColumnDisabled",null==e.field||"descrizioneColtura"===e.field),y.Bb(2),y.Pc(e.header),y.Bb(1),y.mc("ngIf","descrizioneColtura"!==e.field)}}function wa(t,i){if(1&t&&(y.Tb(0,"tr"),y.Mc(1,La,4,4,"th",13),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.mc("ngForOf",e)}}function _a(t,i){if(1&t&&(y.Tb(0,"tr",17),y.Tb(1,"td"),y.Oc(2),y.Sb(),y.Tb(3,"td"),y.Oc(4),y.Sb(),y.Tb(5,"td"),y.Oc(6),y.Sb(),y.Tb(7,"td"),y.Oc(8),y.Sb(),y.Tb(9,"td"),y.Oc(10),y.Sb(),y.Tb(11,"td"),y.Oc(12),y.Sb(),y.Tb(13,"td"),y.Oc(14),y.Sb(),y.Tb(15,"td"),y.Oc(16),y.Sb(),y.Tb(17,"td"),y.Oc(18),y.Sb(),y.Tb(19,"td"),y.Oc(20),y.Sb(),y.Tb(21,"td"),y.Oc(22),y.Sb(),y.Tb(23,"td"),y.Oc(24),y.Sb(),y.Sb()),2&t){var e=i.$implicit;y.mc("pSelectableRow",e),y.Bb(2),y.Pc(e.codNazionale),y.Bb(2),y.Pc(e.foglio),y.Bb(2),y.Pc(e.particella),y.Bb(2),y.Pc(e.sub),y.Bb(2),y.Pc(e.codColtura),y.Bb(2),y.Pc(e.descrizioneColtura),y.Bb(2),y.Pc(e.supImpegnata),y.Bb(2),y.Pc(e.supEleggibile),y.Bb(2),y.Pc(e.supSigeco),y.Bb(2),y.Pc(e.anomalieMantenimento),y.Bb(2),y.Pc(e.anomalieCoordinamento),y.Bb(2),y.Pc(e.supDeterminata)}}function xa(t,i){1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2," Calcolo disaccoppiato non ancora effettuato per la domanda. "),y.Sb(),y.Sb()),2&t&&(y.Bb(1),y.Cb("colspan",13))}function Ua(t,i){if(1&t){var e=y.Ub();y.Tb(0,"p-table",8,9),y.bc("onLazyLoad",(function(t){return y.Ec(e),y.fc().changePageEle(t)})),y.Mc(2,wa,2,1,"ng-template",10),y.Mc(3,_a,25,13,"ng-template",11),y.Mc(4,xa,3,1,"ng-template",12),y.Sb()}if(2&t){var a=y.fc();y.mc("columns",a.cols)("value",a.listaDettaglioParticelleTable.risultati)("autoLayout",!0)("totalRecords",a.listaDettaglioParticelleTable.elementiTotali)("paginator",!0)("rows",a.elementiPerPagina)("lazy",!0)}}function Fa(t,i){if(1&t&&y.Ob(0,"p-sortIcon",16),2&t){var e=y.fc().$implicit;y.mc("field",e.field)}}function Ga(t,i){if(1&t&&(y.Tb(0,"th",14),y.Tb(1,"strong"),y.Oc(2),y.Sb(),y.Mc(3,Fa,1,1,"p-sortIcon",15),y.Sb()),2&t){var e=i.$implicit;y.mc("pSortableColumn",e.field)("pSortableColumnDisabled",null==e.field||"descrizioneColtura"===e.field),y.Bb(2),y.Pc(e.header),y.Bb(1),y.mc("ngIf","descrizioneColtura"!==e.field)}}function Va(t,i){if(1&t&&(y.Tb(0,"tr"),y.Mc(1,Ga,4,4,"th",13),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.mc("ngForOf",e)}}function Za(t,i){if(1&t&&(y.Tb(0,"tr",17),y.Tb(1,"td"),y.Oc(2),y.Sb(),y.Tb(3,"td"),y.Oc(4),y.Sb(),y.Tb(5,"td"),y.Oc(6),y.Sb(),y.Tb(7,"td"),y.Oc(8),y.Sb(),y.Tb(9,"td"),y.Oc(10),y.Sb(),y.Tb(11,"td"),y.Oc(12),y.Sb(),y.Tb(13,"td"),y.Oc(14),y.Sb(),y.Tb(15,"td"),y.Oc(16),y.Sb(),y.Tb(17,"td"),y.Oc(18),y.Sb(),y.Tb(19,"td"),y.Oc(20),y.Sb(),y.Tb(21,"td"),y.Oc(22),y.Sb(),y.Tb(23,"td"),y.Oc(24),y.Sb(),y.Sb()),2&t){var e=i.$implicit;y.mc("pSelectableRow",e),y.Bb(2),y.Pc(e.codNazionale),y.Bb(2),y.Pc(e.foglio),y.Bb(2),y.Pc(e.particella),y.Bb(2),y.Pc(e.sub),y.Bb(2),y.Pc(e.codColtura),y.Bb(2),y.Pc(e.descrizioneColtura),y.Bb(2),y.Pc(e.supDeterminata),y.Bb(2),y.Pc(e.tipoColtura),y.Bb(2),y.Pc(e.tipoSeminativo),y.Bb(2),y.Pc(e.colturaPrincipale),y.Bb(2),y.Pc(e.secondaColtura),y.Bb(2),y.Pc(e.azotoFissatrice)}}function $a(t,i){1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2," Calcolo disaccoppiato non ancora effettuato per la domanda. "),y.Sb(),y.Sb()),2&t&&(y.Bb(1),y.Cb("colspan",10))}function Qa(t,i){if(1&t){var e=y.Ub();y.Tb(0,"p-table",8,18),y.bc("onLazyLoad",(function(t){return y.Ec(e),y.fc().changePageGreen(t)})),y.Mc(2,Va,2,1,"ng-template",10),y.Mc(3,Za,25,13,"ng-template",11),y.Mc(4,$a,3,1,"ng-template",12),y.Sb()}if(2&t){var a=y.fc();y.mc("columns",a.colsGreening)("value",a.listaDettaglioParticelleTableGreening.risultati)("autoLayout",!0)("totalRecords",a.listaDettaglioParticelleTableGreening.elementiTotali)("paginator",!0)("rows",a.elementiPerPagina)("lazy",!0)}}function qa(t,i){if(1&t&&y.Ob(0,"p-sortIcon",16),2&t){var e=y.fc().$implicit;y.mc("field",e.field)}}function Ha(t,i){if(1&t&&(y.Tb(0,"th",14),y.Tb(1,"strong"),y.Oc(2),y.Sb(),y.Mc(3,qa,1,1,"p-sortIcon",15),y.Sb()),2&t){var e=i.$implicit;y.mc("pSortableColumn",e.field)("pSortableColumnDisabled",null==e.field||"descrizioneColtura"===e.field),y.Bb(2),y.Pc(e.header),y.Bb(1),y.mc("ngIf","descrizioneColtura"!==e.field)}}function ja(t,i){if(1&t&&(y.Tb(0,"tr"),y.Mc(1,Ha,4,4,"th",13),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.mc("ngForOf",e)}}function Ka(t,i){if(1&t&&(y.Tb(0,"tr",17),y.Tb(1,"td"),y.Oc(2),y.Sb(),y.Tb(3,"td"),y.Oc(4),y.Sb(),y.Tb(5,"td"),y.Oc(6),y.Sb(),y.Tb(7,"td"),y.Oc(8),y.Sb(),y.Tb(9,"td"),y.Oc(10),y.Sb(),y.Tb(11,"td"),y.Oc(12),y.Sb(),y.Tb(13,"td"),y.Oc(14),y.Sb(),y.Tb(15,"td"),y.Oc(16),y.Sb(),y.Tb(17,"td"),y.Oc(18),y.Sb(),y.Tb(19,"td"),y.Oc(20),y.Sb(),y.Tb(21,"td"),y.Oc(22),y.Sb(),y.Sb()),2&t){var e=i.$implicit;y.mc("pSelectableRow",e),y.Bb(2),y.Pc(e.codNazionale),y.Bb(2),y.Pc(e.foglio),y.Bb(2),y.Pc(e.particella),y.Bb(2),y.Pc(e.sub),y.Bb(2),y.Pc(e.codColtura),y.Bb(2),y.Pc(e.descrizioneColtura),y.Bb(2),y.Pc(e.pascolo),y.Bb(2),y.Pc(e.supImpegnata),y.Bb(2),y.Pc(e.supEleggibile),y.Bb(2),y.Pc(e.supSigeco),y.Bb(2),y.Pc(e.anomalieMantenimento)}}function Ya(t,i){1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2," Non risultano presenti in domanda particelle afferenti a pascoli. "),y.Sb(),y.Sb()),2&t&&(y.Bb(1),y.Cb("colspan",10))}function Ja(t,i){1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2," Calcolo disaccoppiato non ancora effettuato per la domanda. "),y.Sb(),y.Sb()),2&t&&(y.Bb(1),y.Cb("colspan",10))}function Wa(t,i){if(1&t&&(y.Mc(0,Ya,3,1,"tr",20),y.Mc(1,Ja,3,1,"tr",20)),2&t){var e=y.fc(2);y.mc("ngIf",(null==e.listaDettaglioParticelleTable.risultati?null:e.listaDettaglioParticelleTable.risultati.length)>0),y.Bb(1),y.mc("ngIf",0===(null==e.listaDettaglioParticelleTable.risultati?null:e.listaDettaglioParticelleTable.risultati.length))}}function Xa(t,i){if(1&t){var e=y.Ub();y.Tb(0,"p-table",8,19),y.bc("onLazyLoad",(function(t){return y.Ec(e),y.fc().changePageMantenimento(t)})),y.Mc(2,ja,2,1,"ng-template",10),y.Mc(3,Ka,23,12,"ng-template",11),y.Mc(4,Wa,2,2,"ng-template",12),y.Sb()}if(2&t){var a=y.fc();y.mc("columns",a.colsMantenimento)("value",a.listaDettaglioParticelleTableMantenimento.risultati)("autoLayout",!0)("totalRecords",a.listaDettaglioParticelleTableMantenimento.elementiTotali)("paginator",!0)("rows",a.elementiPerPagina)("lazy",!0)}}var to,io,eo,ao,oo=((ao=function(){function t(i,e){_classCallCheck(this,t),this.istruttoriaService=i,this.route=e,this.listaDettaglioParticelleTable=new za.b,this.listaDettaglioParticelleTableGreening=new za.b,this.listaDettaglioParticelleTableMantenimento=new za.b,this.numeroPagina=1,this.numeroPaginaGreen=1,this.elementiPerPagina=10,this.first=0}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;console.log(this.listaDettaglioParticelleTable),this.cols=[{field:"codNazionale",header:"Cod. Comune"},{field:"foglio",header:"Foglio"},{field:"particella",header:"Particella"},{field:"sub",header:"Sub"},{field:"codiceColtura3",header:"Cod. Coltura"},{field:"descrizioneColtura",header:"Descrizione Coltura",sortable:!1},{field:"superficieImpegnata",header:"Sup Imp."},{field:"superficieEleggibile",header:"Sup Elegg."},{field:"superficieSigeco",header:"Sup Controllo in loco"},{field:"anomalieMantenimento",header:"Anomalie Man"},{field:"anomalieCoordinamento",header:"Anomalie Coor"},{field:"superficieDeterminata",header:"Sup Determinata"}],this.colsGreening=[{field:"codNazionale",header:"Cod. Comune"},{field:"foglio",header:"Foglio"},{field:"particella",header:"Particella"},{field:"sub",header:"Sub"},{field:"codiceColtura3",header:"Cod. Coltura"},{field:"descrizioneColtura",header:"Descrizione Coltura",sortable:!1},{field:"superficieDeterminata",header:"Sup Determinata"},{field:"tipoColtura",header:"Tipo di Coltura"},{field:"tipoSeminativo",header:"Tipo di Seminativo"},{field:"colturaPrincipale",header:"Coltura Principale"},{field:"secondaColtura",header:"Seconda Coltura"},{field:"azotoFissatrice",header:"Azoto Fissatrice"}],this.colsMantenimento=[{field:"codNazionale",header:"Cod. Comune"},{field:"foglio",header:"Foglio"},{field:"particella",header:"Particella"},{field:"sub",header:"Sub"},{field:"codiceColtura3",header:"Cod. Coltura"},{field:"descrizioneColtura",header:"Descrizione Coltura",sortable:!1},{field:"pascolo",header:"Pascolo"},{field:"superficieImpegnata",header:"Sup. imp. netta"},{field:"superficieEleggibile",header:"Sup. eleggibile"},{field:"superficieSigeco",header:"Sup. controllo in loco"},{field:"anomalieMantenimento",header:"Anomalie MAN"}],this._subscription=this.route.paramMap.subscribe((function(i){console.log(i),t.idDomanda=i.get(ai.a.dettaglioDomandaParam),console.log("idDomanda "+t.idDomanda),t.changePage1(t.tableEle,0),t.first=t.first+1}))}},{key:"consume",value:function(){this.cleanup()}},{key:"cleanup",value:function(){this._subscriptionIstruttoriaService.unsubscribe(),this._subscription.unsubscribe()}},{key:"changePage",value:function(t,i){null!=this.idDomanda&&3===this.first?this.changePage1(t,i):this.first=this.first+1}},{key:"changePageEle",value:function(t){console.log("Recupero dettaglio particella changePageEle"),this.changePage(t,1)}},{key:"changePageGreen",value:function(t){console.log("Recupero dettaglio particella changePageGreen"),this.changePage(t,2)}},{key:"changePageMantenimento",value:function(t){console.log("Recupero dettaglio particella changePageMantenimento"),this.changePage(t,3)}},{key:"changePage1",value:function(t,i){var e=this,a=1;t&&(a=t.first),this.numeroPagina=Math.floor(a/this.elementiPerPagina);var o='{ "numeroElementiPagina": '+this.elementiPerPagina+', "pagina": '+this.numeroPagina+"}",n="",r=!1;3===i&&(r=!0);var c='{"identificativoSostegno": "DISACCOPPIATO", "isPascolo": '+r+" }";null!=t&&null!=t.sortField&&(console.log(t.sortField),n='[{ "proprieta": "'+t.sortField+'", "ordine": "'+this.istruttoriaService.getOrdine(t.sortOrder)+'"}]'),console.log("Recupero dettaglio particella"),this._subscriptionIstruttoriaService=this.istruttoriaService.getPaginaDettaglioParticellaAttuale(this.idDomanda,encodeURIComponent(c),encodeURIComponent(o),encodeURIComponent(n)).subscribe((function(t){var a=new za.b;if(null!=t){console.log("Dettaglio Particelle trovate");var o=e.caricaParticelle(t);a.risultati=o,a.elementiTotali=t.elementiTotali}else a.risultati=[],a.elementiTotali=0;switch(i){case 0:e.listaDettaglioParticelleTable.elementiTotali=a.elementiTotali,e.listaDettaglioParticelleTable.risultati=a.risultati,e.listaDettaglioParticelleTableGreening.elementiTotali=a.elementiTotali,e.listaDettaglioParticelleTableGreening.risultati=a.risultati;break;case 1:e.listaDettaglioParticelleTable.elementiTotali=a.elementiTotali,e.listaDettaglioParticelleTable.risultati=a.risultati;break;case 2:e.listaDettaglioParticelleTableGreening.elementiTotali=a.elementiTotali,e.listaDettaglioParticelleTableGreening.risultati=a.risultati;break;case 3:e.listaDettaglioParticelleTableMantenimento.elementiTotali=a.elementiTotali,e.listaDettaglioParticelleTableMantenimento.risultati=a.risultati}}))}},{key:"caricaParticelle",value:function(t){var i=this,e=new Array;return t.risultati.forEach((function(t){var a=new za.a;a.comuneCatastale=t.infoCatastali.comune,a.codNazionale=t.infoCatastali.codNazionale,a.foglio=t.infoCatastali.foglio,a.particella=t.infoCatastali.particella,a.sub=t.infoCatastali.sub,a.codColtura=t.codiceColtura3,a.descrizioneColtura=t.descrizioneColtura,a.supImpegnata=t.variabiliCalcoloParticella.superficieImpegnata,a.supEleggibile=t.variabiliCalcoloParticella.superficieEleggibile,a.supSigeco=t.variabiliCalcoloParticella.superficieSigeco,a.supDeterminata=t.variabiliCalcoloParticella.superficieDeterminata,a.anomalieMantenimento=i.boolToString(t.variabiliCalcoloParticella.anomalieMantenimento),a.anomalieCoordinamento=i.boolToString(t.variabiliCalcoloParticella.anomalieCoordinamento),a.tipoColtura=t.variabiliCalcoloParticella.tipoColtura,a.tipoSeminativo=t.variabiliCalcoloParticella.tipoSeminativo,a.colturaPrincipale=i.boolToString(t.variabiliCalcoloParticella.colturaPrincipale),a.secondaColtura=i.boolToString(t.variabiliCalcoloParticella.secondaColtura),a.azotoFissatrice=i.boolToString(t.variabiliCalcoloParticella.azotoFissatrice),a.pascolo=t.variabiliCalcoloParticella.pascolo,e.push(a)})),e}},{key:"boolToString",value:function(t){return null==t?"":!0===t?"SI":!1===t?"NO":void 0}}]),t}()).\u0275fac=function(t){return new(t||ao)(y.Nb(l.a),y.Nb(c.a))},ao.\u0275cmp=y.Hb({type:ao,selectors:[["app-dati-particella"]],viewQuery:function(t,i){var e;1&t&&(y.Uc(Ra,!0),y.Uc(Ma,!0),y.Uc(Ea,!0)),2&t&&(y.Ac(e=y.cc())&&(i.tableEle=e.first),y.Ac(e=y.cc())&&(i.tableGreening=e.first),y.Ac(e=y.cc())&&(i.tableMan=e.first))},decls:15,vars:6,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],[1,"accordion-wrapper","dettaglioaccordion"],["header","Dati eleggibilit\xe0",3,"selected"],[3,"columns","value","autoLayout","totalRecords","paginator","rows","lazy","onLazyLoad",4,"ngIf"],["header","Dati greening",3,"selected"],["header","Dati mantenimento",3,"selected"],[3,"columns","value","autoLayout","totalRecords","paginator","rows","lazy","onLazyLoad"],["tableEle",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field",4,"ngIf"],[3,"field"],[3,"pSelectableRow"],["tableGreening",""],["tableMan",""],[4,"ngIf"]],template:function(t,i){1&t&&(y.Tb(0,"div",0),y.Tb(1,"div",1),y.Tb(2,"div",2),y.Tb(3,"div",3),y.Tb(4,"p-accordion"),y.Tb(5,"p-accordionTab",4),y.Mc(6,Ua,5,7,"p-table",5),y.Sb(),y.Sb(),y.Sb(),y.Tb(7,"div",3),y.Tb(8,"p-accordion"),y.Tb(9,"p-accordionTab",6),y.Mc(10,Qa,5,7,"p-table",5),y.Sb(),y.Sb(),y.Sb(),y.Tb(11,"div",3),y.Tb(12,"p-accordion"),y.Tb(13,"p-accordionTab",7),y.Mc(14,Xa,5,7,"p-table",5),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t&&(y.Bb(5),y.mc("selected",!0),y.Bb(1),y.mc("ngIf",i.listaDettaglioParticelleTable),y.Bb(3),y.mc("selected",!0),y.Bb(1),y.mc("ngIf",i.listaDettaglioParticelleTableGreening),y.Bb(3),y.mc("selected",!0),y.Bb(1),y.mc("ngIf",i.listaDettaglioParticelleTableMantenimento))},directives:[Yi.a,Yi.c,a.t,o.q,B.e,a.s,o.p,o.o,o.m],styles:[""]}),ao),no=((eo=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||eo)},eo.\u0275cmp=y.Hb({type:eo,selectors:[["app-cruscotto-disaccoppiato-container"]],decls:1,vars:0,template:function(t,i){1&t&&y.Ob(0,"router-outlet")},directives:[c.j],styles:[""]}),eo),ro=((io=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validate",value:function(t){return this.validaNumero(t.value,!0)?null:{erroreNumero:d.a.ERRORE_NUMERO}}},{key:"validaNumero",value:function(t,i){return t?!0===/^-?\d*\.?\d{0,4}$/.test(t):i}}]),t}()).\u0275fac=function(t){return new(t||io)},io.\u0275dir=y.Ib({type:io,selectors:[["","appValidaNumero4dec",""]],features:[y.Ab([{provide:M.p,useExisting:io,multi:!0}])]}),io),co=((to=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validate",value:function(t){return this.validaNumero(t.value,!0)?null:{erroreNumero:d.a.ERRORE_NUMERO}}},{key:"validaNumero",value:function(t,i){return t?!0===/^-?\d*\.?\d{0,2}$/.test(t):i}}]),t}()).\u0275fac=function(t){return new(t||to)},to.\u0275dir=y.Ib({type:to,selectors:[["","appValidaNumero2dec",""]],features:[y.Ab([{provide:M.p,useExisting:to,multi:!0}])]}),to),so=e("kKjl"),lo=e("oBRA"),uo=e("Urau"),bo=e("GLSp");function po(t,i){if(1&t&&(y.Tb(0,"p",36),y.Oc(1),y.Sb()),2&t){y.fc(2);var e=y.Bc(11);y.Bb(1),y.Qc(" ",e.errors.erroreNumero," ")}}function go(t,i){if(1&t&&(y.Tb(0,"div"),y.Mc(1,po,2,1,"p",35),y.Sb()),2&t){y.fc();var e=y.Bc(11);y.Bb(1),y.mc("ngIf",null==e.errors?null:e.errors.erroreNumero)}}function mo(t,i){if(1&t&&(y.Tb(0,"p",36),y.Oc(1),y.Sb()),2&t){y.fc(2);var e=y.Bc(20);y.Bb(1),y.Qc(" ",e.errors.erroreNumero," ")}}function fo(t,i){if(1&t&&(y.Tb(0,"div"),y.Mc(1,mo,2,1,"p",35),y.Sb()),2&t){y.fc();var e=y.Bc(20);y.Bb(1),y.mc("ngIf",null==e.errors?null:e.errors.erroreNumero)}}function vo(t,i){if(1&t&&(y.Tb(0,"p",36),y.Oc(1),y.Sb()),2&t){y.fc(2);var e=y.Bc(30);y.Bb(1),y.Qc(" ",e.errors.erroreNumero," ")}}function ho(t,i){if(1&t&&(y.Tb(0,"div"),y.Mc(1,vo,2,1,"p",35),y.Sb()),2&t){y.fc();var e=y.Bc(30);y.Bb(1),y.mc("ngIf",null==e.errors?null:e.errors.erroreNumero)}}function So(t,i){if(1&t&&(y.Tb(0,"p",36),y.Oc(1),y.Sb()),2&t){y.fc(2);var e=y.Bc(40);y.Bb(1),y.Qc(" ",e.errors.erroreNumero," ")}}function To(t,i){if(1&t&&(y.Tb(0,"div"),y.Mc(1,So,2,1,"p",35),y.Sb()),2&t){y.fc();var e=y.Bc(40);y.Bb(1),y.mc("ngIf",null==e.errors?null:e.errors.erroreNumero)}}function Io(t,i){if(1&t&&(y.Tb(0,"p",36),y.Oc(1),y.Sb()),2&t){y.fc(2);var e=y.Bc(50);y.Bb(1),y.Qc(" ",e.errors.erroreNumero," ")}}function Co(t,i){if(1&t&&(y.Tb(0,"div"),y.Mc(1,Io,2,1,"p",35),y.Sb()),2&t){y.fc();var e=y.Bc(50);y.Bb(1),y.mc("ngIf",null==e.errors?null:e.errors.erroreNumero)}}function Oo(t,i){if(1&t){var e=y.Ub();y.Tb(0,"form",12,13),y.bc("ngSubmit",(function(){y.Ec(e);var t=y.Bc(1);return y.fc(2).onSubmit(t)})),y.Tb(2,"div",14),y.Tb(3,"p-checkbox",15),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc(2).datiIstruttoriaDaInserire.controlloAntimafia=t})),y.Sb(),y.Sb(),y.Tb(4,"div",14),y.Tb(5,"p-checkbox",16),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc(2).datiIstruttoriaDaInserire.domAnnoPrecNonLiquidabile=t})),y.Sb(),y.Sb(),y.Ob(6,"br"),y.Tb(7,"div",14),y.Tb(8,"p-checkbox",17),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc(2).datiIstruttoriaDaInserire.bpsSanzioniAnnoPrecedente=t}))("onChange",(function(t){return y.Ec(e),y.fc(2).cleanBpsImportoSanzioniAnnoPrecedente(t)})),y.Sb(),y.Sb(),y.Tb(9,"div",18),y.Tb(10,"input",19,20),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc(2).datiIstruttoriaDaInserire.bpsImportoSanzioniAnnoPrecedente=t})),y.Sb(),y.Tb(12,"span",21),y.Oc(13,"Euro"),y.Sb(),y.Sb(),y.Mc(14,go,2,1,"div",0),y.Ob(15,"br"),y.Tb(16,"div",14),y.Tb(17,"p-checkbox",22),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc(2).datiIstruttoriaDaInserire.gioSanzioniAnnoPrecedente=t}))("onChange",(function(t){return y.Ec(e),y.fc(2).cleanGioImportoSanzioniAnnoPrecedente(t)})),y.Sb(),y.Sb(),y.Tb(18,"div",18),y.Tb(19,"input",23,24),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc(2).datiIstruttoriaDaInserire.gioImportoSanzioniAnnoPrecedente=t})),y.Sb(),y.Tb(21,"span",21),y.Oc(22,"Euro"),y.Sb(),y.Sb(),y.Mc(23,fo,2,1,"div",0),y.Ob(24,"br"),y.Tb(25,"div"),y.Tb(26,"label",25),y.Oc(27,"BPS - Superficie determinata dall'istruttore"),y.Sb(),y.Sb(),y.Tb(28,"div",18),y.Tb(29,"input",26,27),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc(2).datiIstruttoriaDaInserire.bPSSuperficie=t})),y.Sb(),y.Tb(31,"span",21),y.Oc(32,"Ha"),y.Sb(),y.Sb(),y.Mc(33,ho,2,1,"div",0),y.Ob(34,"br"),y.Tb(35,"div"),y.Tb(36,"label",25),y.Oc(37,"Greening - Superficie non ammissibile mancato rispetto Inverdimento Istruttore"),y.Sb(),y.Sb(),y.Tb(38,"div",18),y.Tb(39,"input",28,29),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc(2).datiIstruttoriaDaInserire.greeningSuperficie=t})),y.Sb(),y.Tb(41,"span",21),y.Oc(42,"Ha"),y.Sb(),y.Sb(),y.Mc(43,To,2,1,"div",0),y.Ob(44,"br"),y.Tb(45,"div"),y.Tb(46,"label",25),y.Oc(47,"Importo Salari Azienda"),y.Sb(),y.Sb(),y.Tb(48,"div",18),y.Tb(49,"input",30,31),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc(2).datiIstruttoriaDaInserire.importoSalari=t})),y.Sb(),y.Tb(51,"span",21),y.Oc(52,"Euro"),y.Sb(),y.Sb(),y.Mc(53,Co,2,1,"div",0),y.Ob(54,"br"),y.Tb(55,"div"),y.Tb(56,"label",25),y.Oc(57,"Note"),y.Sb(),y.Sb(),y.Tb(58,"div",18),y.Tb(59,"textarea",32),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc(2).datiIstruttoriaDaInserire.noteIstruttore=t})),y.Sb(),y.Sb(),y.Ob(60,"br"),y.Tb(61,"div"),y.Tb(62,"div",33),y.Tb(63,"button",34),y.Oc(64,"SALVA"),y.Sb(),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=y.Bc(1),o=y.Bc(11),n=y.Bc(20),r=y.Bc(30),c=y.Bc(40),s=y.Bc(50),l=y.fc(2);y.Bb(3),y.mc("ngModel",l.datiIstruttoriaDaInserire.controlloAntimafia),y.Bb(2),y.mc("ngModel",l.datiIstruttoriaDaInserire.domAnnoPrecNonLiquidabile),y.Bb(3),y.mc("ngModel",l.datiIstruttoriaDaInserire.bpsSanzioniAnnoPrecedente),y.Bb(2),y.mc("ngModel",l.datiIstruttoriaDaInserire.bpsImportoSanzioniAnnoPrecedente)("disabled",!l.datiIstruttoriaDaInserire.bpsSanzioniAnnoPrecedente),y.Bb(4),y.mc("ngIf",o&&o.errors),y.Bb(3),y.mc("ngModel",l.datiIstruttoriaDaInserire.gioSanzioniAnnoPrecedente),y.Bb(2),y.mc("ngModel",l.datiIstruttoriaDaInserire.gioImportoSanzioniAnnoPrecedente)("disabled",!l.datiIstruttoriaDaInserire.gioSanzioniAnnoPrecedente),y.Bb(4),y.mc("ngIf",n&&n.errors),y.Bb(6),y.mc("ngModel",l.datiIstruttoriaDaInserire.bPSSuperficie),y.Bb(4),y.mc("ngIf",r&&r.errors),y.Bb(6),y.mc("ngModel",l.datiIstruttoriaDaInserire.greeningSuperficie),y.Bb(4),y.mc("ngIf",c&&c.errors),y.Bb(6),y.mc("ngModel",l.datiIstruttoriaDaInserire.importoSalari),y.Bb(4),y.mc("ngIf",s&&s.errors),y.Bb(6),y.mc("ngModel",l.datiIstruttoriaDaInserire.noteIstruttore),y.Bb(4),y.mc("disabled",!a.valid)}}function Ao(t,i){1&t&&(y.Tb(0,"div"),y.Tb(1,"p",36),y.Oc(2," Numero non valido "),y.Sb(),y.Sb())}function Do(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div"),y.Tb(1,"div"),y.Tb(2,"label",25),y.Oc(3,"Pascolo - Verifica documentazione di trasporto (MAN3)"),y.Sb(),y.Sb(),y.Tb(4,"div",43),y.Tb(5,"p-dropdown",45),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc().$implicit.man3=t})),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=y.fc(),o=a.index,n=a.$implicit,r=y.fc(3);y.Bb(5),y.nc("formControlName",o+"man3"),y.mc("options",r.scelteMAN3)("ngModel",n.man3)}}function Po(t,i){1&t&&(y.Tb(0,"div"),y.Tb(1,"p",36),y.Oc(2," CUAA non valido "),y.Sb(),y.Sb())}function yo(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div"),y.Tb(1,"div"),y.Tb(2,"label",25),y.Oc(3,"Pascolo - CUAA del responsabile del pascolo (MAN4)"),y.Sb(),y.Sb(),y.Tb(4,"div",43),y.Tb(5,"input",44),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc().$implicit.man4=t})),y.Sb(),y.Sb(),y.Mc(6,Po,3,0,"div",0),y.Sb()}if(2&t){var a=y.fc(),o=a.index,n=a.$implicit,r=y.fc(3);y.Bb(5),y.nc("formControlName",o+"man4"),y.mc("ngModel",n.man4),y.Bb(1),y.mc("ngIf",!r.formPascoli.controls[o+"man4"].valid)}}function Bo(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div"),y.Tb(1,"div"),y.Tb(2,"label",25),y.Oc(3,"Pascolo - Esito del controllo del mantenimento delle superfici per i pascoli fuori provincia (MAN5)"),y.Sb(),y.Sb(),y.Tb(4,"div",43),y.Tb(5,"p-dropdown",45),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc().$implicit.man5=t})),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=y.fc(),o=a.index,n=a.$implicit,r=y.fc(3);y.Bb(5),y.nc("formControlName",o+"man5"),y.mc("options",r.scelteMAN5)("ngModel",n.man5)}}function No(t,i){if(1&t){var e=y.Ub();y.Tb(0,"p-accordionTab",42),y.Tb(1,"div"),y.Tb(2,"div"),y.Tb(3,"label",25),y.Oc(4,"Pascolo - Superfice determinata dall'istruttore"),y.Sb(),y.Sb(),y.Tb(5,"div",43),y.Tb(6,"input",44),y.bc("ngModelChange",(function(t){return y.Ec(e),i.$implicit.superficie=t})),y.Sb(),y.Tb(7,"span",21),y.Oc(8,"Ha"),y.Sb(),y.Sb(),y.Mc(9,Ao,3,0,"div",0),y.Sb(),y.Mc(10,Do,6,3,"div",0),y.Mc(11,yo,7,3,"div",0),y.Mc(12,Bo,6,3,"div",0),y.Sb()}if(2&t){var a=i.$implicit,o=i.index,n=y.fc(3);y.nc("header",a.descPascolo),y.Bb(6),y.nc("formControlName",o+"superficie"),y.mc("ngModel",a.superficie),y.Bb(3),y.mc("ngIf",!n.formPascoli.controls[o+"superficie"].valid),y.Bb(1),y.mc("ngIf",a.hasOwnProperty("man3")),y.Bb(1),y.mc("ngIf",a.hasOwnProperty("man4")),y.Bb(1),y.mc("ngIf",a.hasOwnProperty("man5"))}}function zo(t,i){if(1&t){var e=y.Ub();y.Tb(0,"button",46),y.bc("click",(function(){return y.Ec(e),y.fc(3).salvaDatiIstruttoria()})),y.Oc(1,"SALVA"),y.Sb()}}function Ro(t,i){if(1&t&&(y.Tb(0,"div",37),y.Tb(1,"div"),y.Tb(2,"h3"),y.Tb(3,"span"),y.Oc(4,"Dati istruttoria pascoli"),y.Sb(),y.Sb(),y.Tb(5,"form",38),y.Tb(6,"div",39),y.Tb(7,"p-accordion"),y.Mc(8,No,13,7,"p-accordionTab",40),y.Sb(),y.Sb(),y.Tb(9,"div",33),y.Mc(10,zo,2,0,"button",41),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t){var e=y.fc(2);y.Bb(5),y.mc("formGroup",e.formPascoli),y.Bb(3),y.mc("ngForOf",e.arrayPascoli),y.Bb(2),y.mc("ngIf",e.arrayPascoli.length>0)}}function Mo(t,i){if(1&t&&(y.Tb(0,"p",36),y.Oc(1),y.Sb()),2&t){y.fc(2);var e=y.Bc(11);y.Bb(1),y.Qc(" ",e.errors.erroreNumero," ")}}function Eo(t,i){if(1&t&&(y.Tb(0,"div"),y.Mc(1,Mo,2,1,"p",35),y.Sb()),2&t){y.fc();var e=y.Bc(11);y.Bb(1),y.mc("ngIf",null==e.errors?null:e.errors.erroreNumero)}}function ko(t,i){if(1&t&&(y.Tb(0,"p",36),y.Oc(1),y.Sb()),2&t){y.fc(2);var e=y.Bc(20);y.Bb(1),y.Qc(" ",e.errors.erroreNumero," ")}}function Lo(t,i){if(1&t&&(y.Tb(0,"div"),y.Mc(1,ko,2,1,"p",35),y.Sb()),2&t){y.fc();var e=y.Bc(20);y.Bb(1),y.mc("ngIf",null==e.errors?null:e.errors.erroreNumero)}}function wo(t,i){if(1&t&&(y.Tb(0,"p",36),y.Oc(1),y.Sb()),2&t){y.fc(2);var e=y.Bc(30);y.Bb(1),y.Qc(" ",e.errors.erroreNumero," ")}}function _o(t,i){if(1&t&&(y.Tb(0,"div"),y.Mc(1,wo,2,1,"p",35),y.Sb()),2&t){y.fc();var e=y.Bc(30);y.Bb(1),y.mc("ngIf",null==e.errors?null:e.errors.erroreNumero)}}function xo(t,i){if(1&t&&(y.Tb(0,"p",36),y.Oc(1),y.Sb()),2&t){y.fc(2);var e=y.Bc(40);y.Bb(1),y.Qc(" ",e.errors.erroreNumero," ")}}function Uo(t,i){if(1&t&&(y.Tb(0,"div"),y.Mc(1,xo,2,1,"p",35),y.Sb()),2&t){y.fc();var e=y.Bc(40);y.Bb(1),y.mc("ngIf",null==e.errors?null:e.errors.erroreNumero)}}function Fo(t,i){if(1&t&&(y.Tb(0,"p",36),y.Oc(1),y.Sb()),2&t){y.fc(2);var e=y.Bc(50);y.Bb(1),y.Qc(" ",e.errors.erroreNumero," ")}}function Go(t,i){if(1&t&&(y.Tb(0,"div"),y.Mc(1,Fo,2,1,"p",35),y.Sb()),2&t){y.fc();var e=y.Bc(50);y.Bb(1),y.mc("ngIf",null==e.errors?null:e.errors.erroreNumero)}}function Vo(t,i){if(1&t){var e=y.Ub();y.Tb(0,"form",12,13),y.bc("ngSubmit",(function(){y.Ec(e);var t=y.Bc(1);return y.fc(2).onSubmit(t)})),y.Tb(2,"div",14),y.Tb(3,"p-checkbox",47),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc(2).datiIstruttoriaDaInserire.controlloAntimafia=t})),y.Sb(),y.Sb(),y.Tb(4,"div",14),y.Tb(5,"p-checkbox",48),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc(2).datiIstruttoriaDaInserire.domAnnoPrecNonLiquidabile=t})),y.Sb(),y.Sb(),y.Ob(6,"br"),y.Tb(7,"div",14),y.Tb(8,"p-checkbox",49),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc(2).datiIstruttoriaDaInserire.bpsSanzioniAnnoPrecedente=t}))("onChange",(function(t){return y.Ec(e),y.fc(2).cleanBpsImportoSanzioniAnnoPrecedente(t)})),y.Sb(),y.Sb(),y.Tb(9,"div",18),y.Tb(10,"input",50,20),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc(2).datiIstruttoriaDaInserire.bpsImportoSanzioniAnnoPrecedente=t})),y.Sb(),y.Tb(12,"span",21),y.Oc(13,"Euro"),y.Sb(),y.Sb(),y.Mc(14,Eo,2,1,"div",0),y.Ob(15,"br"),y.Tb(16,"div",14),y.Tb(17,"p-checkbox",51),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc(2).datiIstruttoriaDaInserire.gioSanzioniAnnoPrecedente=t}))("onChange",(function(t){return y.Ec(e),y.fc(2).cleanGioImportoSanzioniAnnoPrecedente(t)})),y.Sb(),y.Sb(),y.Tb(18,"div",18),y.Tb(19,"input",52,24),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc(2).datiIstruttoriaDaInserire.gioImportoSanzioniAnnoPrecedente=t})),y.Sb(),y.Tb(21,"span",21),y.Oc(22,"Euro"),y.Sb(),y.Sb(),y.Mc(23,Lo,2,1,"div",0),y.Ob(24,"br"),y.Tb(25,"div"),y.Tb(26,"label",25),y.Oc(27,"BPS - Superficie determinata dall'istruttore"),y.Sb(),y.Sb(),y.Tb(28,"div",18),y.Tb(29,"input",53,27),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc(2).datiIstruttoriaDaInserire.bPSSuperficie=t})),y.Sb(),y.Tb(31,"span",21),y.Oc(32,"Ha"),y.Sb(),y.Sb(),y.Mc(33,_o,2,1,"div",0),y.Ob(34,"br"),y.Tb(35,"div"),y.Tb(36,"label",25),y.Oc(37,"Greening - Superficie non ammissibile mancato rispetto Inverdimento Istruttore"),y.Sb(),y.Sb(),y.Tb(38,"div",18),y.Tb(39,"input",54,29),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc(2).datiIstruttoriaDaInserire.greeningSuperficie=t})),y.Sb(),y.Tb(41,"span",21),y.Oc(42,"Ha"),y.Sb(),y.Sb(),y.Mc(43,Uo,2,1,"div",0),y.Ob(44,"br"),y.Tb(45,"div"),y.Tb(46,"label",25),y.Oc(47,"Importo Salari Azienda"),y.Sb(),y.Sb(),y.Tb(48,"div",18),y.Tb(49,"input",55,31),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc(2).datiIstruttoriaDaInserire.importoSalari=t})),y.Sb(),y.Tb(51,"span",21),y.Oc(52,"Euro"),y.Sb(),y.Sb(),y.Mc(53,Go,2,1,"div",0),y.Ob(54,"br"),y.Tb(55,"div"),y.Tb(56,"label",25),y.Oc(57,"Note"),y.Sb(),y.Sb(),y.Tb(58,"div",18),y.Tb(59,"textarea",56),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc(2).datiIstruttoriaDaInserire.noteIstruttore=t})),y.Sb(),y.Sb(),y.Ob(60,"br"),y.Tb(61,"div"),y.Ob(62,"div",33),y.Sb(),y.Sb()}if(2&t){var a=y.Bc(11),o=y.Bc(20),n=y.Bc(30),r=y.Bc(40),c=y.Bc(50),s=y.fc(2);y.Bb(3),y.mc("ngModel",s.datiIstruttoriaDaInserire.controlloAntimafia),y.Bb(2),y.mc("ngModel",s.datiIstruttoriaDaInserire.domAnnoPrecNonLiquidabile),y.Bb(3),y.mc("ngModel",s.datiIstruttoriaDaInserire.bpsSanzioniAnnoPrecedente),y.Bb(2),y.mc("ngModel",s.datiIstruttoriaDaInserire.bpsImportoSanzioniAnnoPrecedente)("disabled",!s.datiIstruttoriaDaInserire.bpsSanzioniAnnoPrecedente),y.Bb(4),y.mc("ngIf",a&&a.errors),y.Bb(3),y.mc("ngModel",s.datiIstruttoriaDaInserire.gioSanzioniAnnoPrecedente),y.Bb(2),y.mc("ngModel",s.datiIstruttoriaDaInserire.gioImportoSanzioniAnnoPrecedente)("disabled",!s.datiIstruttoriaDaInserire.gioSanzioniAnnoPrecedente),y.Bb(4),y.mc("ngIf",o&&o.errors),y.Bb(6),y.mc("ngModel",s.datiIstruttoriaDaInserire.bPSSuperficie),y.Bb(4),y.mc("ngIf",n&&n.errors),y.Bb(6),y.mc("ngModel",s.datiIstruttoriaDaInserire.greeningSuperficie),y.Bb(4),y.mc("ngIf",r&&r.errors),y.Bb(6),y.mc("ngModel",s.datiIstruttoriaDaInserire.importoSalari),y.Bb(4),y.mc("ngIf",c&&c.errors),y.Bb(6),y.mc("ngModel",s.datiIstruttoriaDaInserire.noteIstruttore)}}function Zo(t,i){1&t&&(y.Tb(0,"div"),y.Tb(1,"p",36),y.Oc(2," Numero non valido "),y.Sb(),y.Sb())}function $o(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div"),y.Tb(1,"div"),y.Tb(2,"label",25),y.Oc(3,"Pascolo - Verifica documentazione di trasporto (MAN3)"),y.Sb(),y.Sb(),y.Tb(4,"div",43),y.Tb(5,"p-dropdown",45),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc().$implicit.man3=t})),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=y.fc(),o=a.index,n=a.$implicit,r=y.fc(3);y.Bb(5),y.nc("formControlName",o+"man3"),y.mc("options",r.scelteMAN3)("ngModel",n.man3)}}function Qo(t,i){1&t&&(y.Tb(0,"div"),y.Tb(1,"p",36),y.Oc(2," CUAA non valido "),y.Sb(),y.Sb())}function qo(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div"),y.Tb(1,"div"),y.Tb(2,"label",25),y.Oc(3,"Pascolo - CUAA del responsabile del pascolo (MAN4)"),y.Sb(),y.Sb(),y.Tb(4,"div",43),y.Tb(5,"input",57),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc().$implicit.man4=t})),y.Sb(),y.Sb(),y.Mc(6,Qo,3,0,"div",0),y.Sb()}if(2&t){var a=y.fc(),o=a.index,n=a.$implicit,r=y.fc(3);y.Bb(5),y.nc("formControlName",o+"man4"),y.mc("ngModel",n.man4),y.Bb(1),y.mc("ngIf",!r.formPascoli.controls[o+"man4"].valid)}}function Ho(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div"),y.Tb(1,"div"),y.Tb(2,"label",25),y.Oc(3,"Pascolo - Esito del controllo del mantenimento delle superfici per i pascoli fuori provincia (MAN5)"),y.Sb(),y.Sb(),y.Tb(4,"div",43),y.Tb(5,"p-dropdown",45),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc().$implicit.man5=t})),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=y.fc(),o=a.index,n=a.$implicit,r=y.fc(3);y.Bb(5),y.nc("formControlName",o+"man5"),y.mc("options",r.scelteMAN5)("ngModel",n.man5)}}function jo(t,i){if(1&t){var e=y.Ub();y.Tb(0,"p-accordionTab",42),y.Tb(1,"div"),y.Tb(2,"div"),y.Tb(3,"label",25),y.Oc(4,"Pascolo - Superfice determinata dall'istruttore"),y.Sb(),y.Sb(),y.Tb(5,"div",43),y.Tb(6,"input",57),y.bc("ngModelChange",(function(t){return y.Ec(e),i.$implicit.superficie=t})),y.Sb(),y.Tb(7,"span",21),y.Oc(8,"Ha"),y.Sb(),y.Sb(),y.Mc(9,Zo,3,0,"div",0),y.Sb(),y.Mc(10,$o,6,3,"div",0),y.Mc(11,qo,7,3,"div",0),y.Mc(12,Ho,6,3,"div",0),y.Sb()}if(2&t){var a=i.$implicit,o=i.index,n=y.fc(3);y.nc("header",a.descPascolo),y.Bb(6),y.nc("formControlName",o+"superficie"),y.mc("ngModel",a.superficie),y.Bb(3),y.mc("ngIf",!n.formPascoli.controls[o+"superficie"].valid),y.Bb(1),y.mc("ngIf",a.hasOwnProperty("man3")),y.Bb(1),y.mc("ngIf",a.hasOwnProperty("man4")),y.Bb(1),y.mc("ngIf",a.hasOwnProperty("man5"))}}function Ko(t,i){if(1&t&&(y.Tb(0,"div",37),y.Tb(1,"div"),y.Tb(2,"h3"),y.Tb(3,"span"),y.Oc(4,"Dati istruttoria pascoli"),y.Sb(),y.Sb(),y.Tb(5,"form",38),y.Tb(6,"div",39),y.Tb(7,"p-accordion"),y.Mc(8,jo,13,7,"p-accordionTab",40),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t){var e=y.fc(2);y.Bb(5),y.mc("formGroup",e.formPascoli),y.Bb(3),y.mc("ngForOf",e.arrayPascoli)}}var Yo=function(){return{marginTop:"70px"}};function Jo(t,i){if(1&t&&(y.Tb(0,"div"),y.Ob(1,"p-toast",1),y.Tb(2,"div",2),y.Tb(3,"div",3),y.Tb(4,"div",4),y.Tb(5,"div",5),y.Tb(6,"div",6),y.Tb(7,"h3"),y.Tb(8,"span"),y.Oc(9,"Dati istruttoria"),y.Sb(),y.Sb(),y.Mc(10,Oo,65,18,"form",7),y.Sb(),y.Sb(),y.Sb(),y.Tb(11,"div",8),y.Tb(12,"div",5),y.Mc(13,Ro,11,3,"div",9),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Tb(14,"div",10),y.Tb(15,"div",3),y.Tb(16,"div",4),y.Tb(17,"div",5),y.Tb(18,"div",6),y.Tb(19,"h3"),y.Tb(20,"span"),y.Oc(21,"Dati istruttoria"),y.Sb(),y.Sb(),y.Mc(22,Vo,63,17,"form",7),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Tb(23,"div",11),y.Tb(24,"div",5),y.Mc(25,Ko,9,2,"div",9),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t){var e=y.fc();y.Bb(1),y.Kc(y.rc(22,Yo)),y.Bb(1),y.mc("a4gHasPermission","MODIFICABILE")("annoCampagna",e.getIstruttoriaCorrente().annoRiferimento)("statoSostegno",e.domandaCorrenteDettaglio.statoSostegno)("tipoIstruttoria",e.getIstruttoriaCorrente().tipoIstruttoria),y.Bb(8),y.mc("ngIf",e.datiIstruttoriaDaInserire),y.Bb(1),y.mc("a4gHasPermission","MODIFICABILE")("annoCampagna",e.getIstruttoriaCorrente().annoRiferimento)("statoSostegno",e.domandaCorrenteDettaglio.statoSostegno)("tipoIstruttoria",e.getIstruttoriaCorrente().tipoIstruttoria),y.Bb(2),y.mc("ngIf",e.arrayPascoli.length>0),y.Bb(1),y.mc("a4gHasPermission","NON_MODIFICABILE")("statoSostegno",e.domandaCorrenteDettaglio.statoSostegno)("tipoIstruttoria",e.getIstruttoriaCorrente().tipoIstruttoria)("annoCampagna",e.getIstruttoriaCorrente().annoRiferimento),y.Bb(8),y.mc("ngIf",e.datiIstruttoriaDaInserire),y.Bb(1),y.mc("a4gHasPermission","NON_MODIFICABILE")("statoSostegno",e.domandaCorrenteDettaglio.statoSostegno)("tipoIstruttoria",e.getIstruttoriaCorrente().tipoIstruttoria)("annoCampagna",e.getIstruttoriaCorrente().annoRiferimento),y.Bb(2),y.mc("ngIf",e.arrayPascoli.length>0)}}var Wo,Xo,tn=((Xo=function(){function t(i,e,a,o,n,r){var c=this;_classCallCheck(this,t),this.route=i,this.istruttoriaService=e,this.messageService=a,this.domandaIstruttoriacorrente=o,this.fb=n,this.sharedService=r,this.arrayPascoli=[],this.scelteMAN3=[{label:"",value:""},{label:"Presente",value:"PRESENTE"},{label:"Incompleta",value:"INCOMPLETA"},{label:"Assente",value:"ASSENTE"}],this.scelteMAN5=[{label:"",value:""},{label:"Positivo",value:"POSITIVO"},{label:"Negativo",value:"NEGATIVO"}],this._serviceSubscription=this.sharedService.domandSettata.subscribe((function(t){c.caricaDatiDettaglio()}))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.route.params.subscribe((function(i){t.idDomandaCorrente=i.idDomanda}));var i=this.route.snapshot.paramMap.get("idIstruttoria");this.istruttoriaService.getIstruttoria(+i).toPromise().then((function(i){t.istruttoriaCorrente=i})),null!=this.domandaIstruttoriacorrente.domanda&&null==this.domandaCorrenteDettaglio&&this.caricaDatiDettaglio(),this.istruttoriaService.getDatiPascoloByID_Domanda(this.idDomandaCorrente,!0).subscribe((function(i){for(var a in console.log(i),t.arrayPascoli=lo.a.ArrPascoloDaoToArrPascolo(i),t.arrayPascoli){var o=t.arrayPascoli[a];e[a+"codicePascolo"]=[o.codicePascolo],e[a+"superficie"]=[o.superficie,M.G.pattern(/^\d*(\.?\d*)$/)],o instanceof lo.c&&(e[a+"man4"]=[o.man4,M.G.pattern(/^[a-zA-Z0-9]{16}|^[a-zA-Z0-9]{11}$/)]),o instanceof lo.d&&(e[a+"man4"]=[o.man4],e[a+"man5"]=[o.man5]),o instanceof lo.b&&(e[a+"man3"]=[o.man3])}t.formPascoli=t.fb.group(e)}));var e={}}},{key:"caricaDatiDettaglio",value:function(){this.domandaCorrenteDettaglio=this.domandaIstruttoriacorrente.domanda,this.datiIstruttoriaDaInserire=null!=this.domandaCorrenteDettaglio.datiIstruttoria?this.domandaCorrenteDettaglio.datiIstruttoria:new so.a}},{key:"onSubmit",value:function(t){var i=this;console.log("Submit"),console.log(this.datiIstruttoriaDaInserire),this.istruttoriaService.setDatiIstruttoria(this.idDomandaCorrente,this.datiIstruttoriaDaInserire).subscribe((function(t){console.log("Salvataggio dati Istruttoria avvenuto con successo"),i.messageService.add(d.a.getToast("tst",d.b.success,d.a.OPERAZIONE_OK))}),(function(t){console.error("Errore in salvataggio dati Istruttoria: "+t),console.error(t),d.a.handleError(i.messageService,t,d.a.ERRORE_SALVATAGGIO_DATI_ISTRUTTORIA)}))}},{key:"consume",value:function(){this.cleanup()}},{key:"cleanup",value:function(){this._serviceSubscription.unsubscribe()}},{key:"salvaDatiIstruttoria",value:function(){if(this.formPascoli.valid){this.formPascoli.getRawValue();var t,i=new Array,e=_createForOfIteratorHelper(this.arrayPascoli);try{for(e.s();!(t=e.n()).done;){var a=t.value;"PascoloDentroProvincia"===a.tipoPascolo&&i.push(new uo.a("","",a.descPascolo,a.superficie,a.man4)),"PascoloFuoriProvincia"===a.tipoPascolo&&i.push(new uo.a(a.man5,"",a.descPascolo,a.superficie,a.man4)),"PascoloAziendale"===a.tipoPascolo&&i.push(new uo.a("",a.man3,a.descPascolo,a.superficie))}}catch(o){e.e(o)}finally{e.f()}this.istruttoriaService.saveDatiIstruttoriaPascoli(this.idDomandaCorrente,i).subscribe((function(t){return console.log(t)}))}}},{key:"cleanBpsImportoSanzioniAnnoPrecedente",value:function(t){console.log(t),!1===t&&(this.datiIstruttoriaDaInserire.bpsImportoSanzioniAnnoPrecedente=null)}},{key:"cleanGioImportoSanzioniAnnoPrecedente",value:function(t){!1===t&&(this.datiIstruttoriaDaInserire.gioImportoSanzioniAnnoPrecedente=null)}},{key:"getIstruttoriaCorrente",value:function(){return this.istruttoriaCorrente}}]),t}()).\u0275fac=function(t){return new(t||Xo)(y.Nb(c.a),y.Nb(l.a),y.Nb(B.d),y.Nb(ee),y.Nb(M.f),y.Nb(ie))},Xo.\u0275cmp=y.Hb({type:Xo,selectors:[["app-inserimento-dati-istruttoria"]],decls:1,vars:1,consts:[[4,"ngIf"],["key","tst"],[3,"a4gHasPermission","annoCampagna","statoSostegno","tipoIstruttoria"],[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],[2,"background","#fff","padding","30px","display","inline-block","width","100%"],["class","ui-g-12",3,"ngSubmit",4,"ngIf"],[1,"boxgrey",2,"padding-top","50px","display","inline-block",3,"a4gHasPermission","annoCampagna","statoSostegno","tipoIstruttoria"],["class","boxgrey",4,"ngIf"],[3,"a4gHasPermission","statoSostegno","tipoIstruttoria","annoCampagna"],[1,"boxgrey",2,"padding-top","50px","display","inline-block",3,"a4gHasPermission","statoSostegno","tipoIstruttoria","annoCampagna"],[1,"ui-g-12",3,"ngSubmit"],["f","ngForm"],[2,"font-size","15px","font-weight","normal !important"],["name","controlloAntimafia","binary","true","label","Si attesta che la certificazione antimafia \xe8 stata acquisita in maniera cartacea o che il pagamento viene effettuato su conduzione risolutiva legata all'esito degli accertamenti",3,"ngModel","ngModelChange"],["name","domAnnoPrecNonLiquidabile","binary","true","label","Si attesta che la domanda unica dell'anno precedente dell'azienda non \xe8 liquidabile",3,"ngModel","ngModelChange"],["name","bpsSanzioniAnnoPrecedente","binary","true","label","Si attesta che l'azienda \xe8 stata soggetta, negli anni precedenti, a sanzioni per il premio di base e che nella domanda dell'anno precedente \xe8 stata scontata una sanzione, da recuperare quest'anno, di importo:",3,"ngModel","ngModelChange","onChange"],[1,"ui-inputgroup","input-width"],["type","text","name","bpsImportoSanzioniAnnoPrecedente","pInputText","","appValidaNumero2dec","","required","",2,"width","80%",3,"ngModel","disabled","ngModelChange"],["bpsImportoSanzioniAnnoPrecedenteInput","ngModel"],[1,"ui-inputgroup-addon",2,"padding","10px 20px","background","#f0f0f0","border","1px solid #dedede"],["name","gioSanzioniAnnoPrecedente","binary","true","label","Si attesta che l'azienda \xe8 stata soggetta, negli anni precedenti, a sanzioni per il premio giovane e che nella domanda dell'anno precedente \xe8 stata scontata una sanzione, da recuperare quest'anno, di importo:",3,"ngModel","ngModelChange","onChange"],["type","text","name","gioImportoSanzioniAnnoPrecedente","pInputText","","appValidaNumero2dec","","required","",2,"width","80%",3,"ngModel","disabled","ngModelChange"],["gioImportoSanzioniAnnoPrecedenteInput","ngModel"],[1,"labelricerca"],["type","text","name","bPSSuperficie","pInputText","","appValidaNumero4dec","",2,"width","80%",3,"ngModel","ngModelChange"],["bPSSuperficieInput","ngModel"],["type","text","name","greeningSuperficie","pInputText","","appValidaNumero4dec","",2,"width","80%",3,"ngModel","ngModelChange"],["greeningInput","ngModel"],["type","text","name","importoSalari","pInputText","","appValidaNumero2dec","",2,"width","80%",3,"ngModel","ngModelChange"],["importoSalariInput","ngModel"],["name","noteIstruttore","rows","5","cols","30","pInputTextarea","","autoResize","autoResize",2,"width","100%",3,"ngModel","ngModelChange"],[1,"ui-g-12","ui-md-2","searchbutton"],["pButton","","type","button","type","submit",1,"ui-button-success",3,"disabled"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],[1,"ui-message","ui-messages-error","ui-corner-all"],[1,"boxgrey"],[3,"formGroup"],[1,"accordion-wrapper","dettaglioaccordion","mlp"],[3,"header",4,"ngFor","ngForOf"],["pButton","","type","button","class","ui-button-success","type","submit",3,"click",4,"ngIf"],[3,"header"],[1,"ui-inputgroup"],["type","text","pInputText","",2,"width","100%",3,"ngModel","formControlName","ngModelChange"],[3,"options","ngModel","formControlName","ngModelChange"],["pButton","","type","button","type","submit",1,"ui-button-success",3,"click"],["disabled","","name","controlloAntimafia","binary","true","label","Si attesta che la certificazione antimafia \xe8 stata acquisita in maniera cartacea o che il pagamento viene effettuato su conduzione risolutiva legata all'esito degli accertamenti",3,"ngModel","ngModelChange"],["disabled","","name","domAnnoPrecNonLiquidabile","binary","true","label","Si attesta che la domanda unica dell'anno precedente dell'azienda non \xe8 liquidabile",3,"ngModel","ngModelChange"],["disabled","","name","bpsSanzioniAnnoPrecedente","binary","true","label","Si attesta che l'azienda \xe8 stata soggetta, negli anni precedenti, a sanzioni per il premio di base e che nella domanda dell'anno precedente \xe8 stata scontata una sanzione, da recuperare quest'anno, di importo:",3,"ngModel","ngModelChange","onChange"],["disabled","","type","text","name","bpsImportoSanzioniAnnoPrecedente","pInputText","","appValidaNumero2dec","","required","",2,"width","80%",3,"ngModel","disabled","ngModelChange"],["disabled","","name","gioSanzioniAnnoPrecedente","binary","true","label","Si attesta che l'azienda \xe8 stata soggetta, negli anni precedenti, a sanzioni per il premio giovane e che nella domanda dell'anno precedente \xe8 stata scontata una sanzione, da recuperare quest'anno, di importo:",3,"ngModel","ngModelChange","onChange"],["disabled","","type","text","name","gioImportoSanzioniAnnoPrecedente","pInputText","","appValidaNumero2dec","","required","",2,"width","80%",3,"ngModel","disabled","ngModelChange"],["disabled","","type","text","name","bPSSuperficie","pInputText","","appValidaNumero4dec","",2,"width","80%",3,"ngModel","ngModelChange"],["disabled","","type","text","name","greeningSuperficie","pInputText","","appValidaNumero4dec","",2,"width","80%",3,"ngModel","ngModelChange"],["disabled","","type","text","name","importoSalari","pInputText","","appValidaNumero2dec","",2,"width","80%",3,"ngModel","ngModelChange"],["disabled","","name","noteIstruttore","rows","5","cols","30","pInputTextarea","","autoResize","autoResize",2,"width","100%",3,"ngModel","ngModelChange"],["type","text","pInputText","","disabled","",2,"width","100%",3,"ngModel","formControlName","ngModelChange"]],template:function(t,i){1&t&&y.Mc(0,Jo,26,23,"div",0),2&t&&y.mc("ngIf",i.istruttoriaCorrente)},directives:[a.t,z.a,re.a,M.I,M.t,M.u,Ki.a,M.s,M.v,M.c,bo.a,co,M.D,ro,k.b,M.k,Yi.a,a.s,Yi.c,M.i,R.a],styles:[".input-width[_ngcontent-%COMP%]{width:80%}"]}),Xo),en=((Wo=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){this.menu2=new Array({routerLink:ai.a.superficiImpegnate,label:"Superfici Impegnate"},{routerLink:ai.a.dichiarazioni,label:"Dichiarazioni"},{routerLink:ai.a.informazioniDomanda,label:"Informazioni di domanda"},{routerLink:ai.a.controlliSostegno,label:"Controlli di sostegno"},{routerLink:ai.a.datiDomanda,label:"Esiti di domanda"},{routerLink:ai.a.datiPerPascolo,label:"Esiti per pascolo"},{routerLink:ai.a.datiParticella,label:"Dati per particella"},{routerLink:ai.a.datiIstruttoria,label:"Inserimento dati Istruttoria"})}}]),t}()).\u0275fac=function(t){return new(t||Wo)},Wo.\u0275cmp=y.Hb({type:Wo,selectors:[["app-disaccoppiato-controlli-superati"]],decls:7,vars:1,consts:[[1,"ui-g","ui-fluid"],[1,"ui-g-12",2,"padding-bottom","0px !important"],[1,"ui-grid-fixed"],[1,"funzioni-grid","tabsmall",2,"margin-bottom","0px !important","margin-top","40px !important"],[3,"model"],[2,"width","100%"]],template:function(t,i){1&t&&(y.Tb(0,"div",0),y.Tb(1,"div",1),y.Tb(2,"div",2),y.Tb(3,"div",3),y.Ob(4,"p-tabMenu",4),y.Sb(),y.Sb(),y.Sb(),y.Tb(5,"div",5),y.Ob(6,"router-outlet"),y.Sb(),y.Sb()),2&t&&(y.Bb(4),y.mc("model",i.menu2))},directives:[yt.a,c.j],styles:[""]}),Wo);function an(t,i){if(1&t){var e=y.Ub();y.Tb(0,"button",13),y.bc("click",(function(){return y.Ec(e),y.fc(2).dettaglioIstruttoria.goListaSostegno("RICHIESTO")})),y.Sb()}if(2&t){var a=y.fc().$implicit;y.mc("disabled",0===a.counter)}}function on(t,i){if(1&t){var e=y.Ub();y.Tb(0,"button",13),y.bc("click",(function(){return y.Ec(e),y.fc(2).avviaAccoppiatoZootecnia()})),y.Sb()}if(2&t){var a=y.fc().$implicit;y.mc("disabled",0===a.counter)}}function nn(t,i){if(1&t){var e=y.Ub();y.Tb(0,"button",13),y.bc("click",(function(){return y.Ec(e),y.fc(2).avviaAccoppiatoSuperficie()})),y.Sb()}if(2&t){var a=y.fc().$implicit;y.mc("disabled",0===a.counter)}}function rn(t,i){if(1&t&&(y.Tb(0,"div",7),y.Tb(1,"div",8),y.Tb(2,"label",9),y.Oc(3),y.Sb(),y.Sb(),y.Tb(4,"div",10),y.Oc(5),y.Sb(),y.Tb(6,"div",11),y.Mc(7,an,1,1,"button",12),y.Mc(8,on,1,1,"button",12),y.Mc(9,nn,1,1,"button",12),y.Sb(),y.Sb()),2&t){var e=i.$implicit;y.Bb(3),y.Pc(e.descrizioneSostegno),y.Bb(2),y.Pc(e.counter),y.Bb(2),y.mc("ngIf","SOSTEGNO DISACCOPPIATO"===e.descrizioneSostegno),y.Bb(1),y.mc("ngIf","SOSTEGNO ACCOPPIATO ZOOTECNIA"===e.descrizioneSostegno),y.Bb(1),y.mc("ngIf","SOSTEGNO ACCOPPIATO SUPERFICI"===e.descrizioneSostegno)}}var cn,sn=((cn=function(){function t(i,e,a){_classCallCheck(this,t),this.router=i,this.route=e,this.istruttoriaService=a,this.displayChange=new y.n}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onC",value:function(){this.display=!1,this.displayChange.emit(!1)}},{key:"naviga",value:function(){this.router.navigate([""])}},{key:"avviaAccoppiatoZootecnia",value:function(){this.router.navigate(["./"+ai.a.ACC_ZOOTECNIA],{relativeTo:this.route})}},{key:"avviaAccoppiatoSuperficie",value:function(){this.router.navigate(["./"+ai.a.cruscottoAccoppiatoSuperficie],{relativeTo:this.route})}}]),t}()).\u0275fac=function(t){return new(t||cn)(y.Nb(c.e),y.Nb(c.a),y.Nb(l.a))},cn.\u0275cmp=y.Hb({type:cn,selectors:[["app-in-istruttoria-dialog"]],inputs:{display:"display",dettaglioIstruttoria:"dettaglioIstruttoria"},outputs:{displayChange:"displayChange"},decls:9,vars:4,consts:[["id","confirm"],["width","710","appendTo","body",3,"visible","modal","closable","visibleChange"],["dialog",""],[1,"popup-istruttoria"],["class","ui-g",4,"ngFor","ngForOf"],[1,"ui-g-12"],["pButton","","type","button","label","CHIUDI",1,"annulla",3,"click"],[1,"ui-g"],[1,"ui-g-6"],[1,"label-color-cruscottoIstruttoria"],[1,"ui-g-2","num-domande"],[1,"ui-g-4","text-right"],["pButton","","type","button","label","Accedi al cruscotto","class","btn-green","style","min-height:42px; box-shadow:none;",3,"disabled","click",4,"ngIf"],["pButton","","type","button","label","Accedi al cruscotto",1,"btn-green",2,"min-height","42px","box-shadow","none",3,"disabled","click"]],template:function(t,i){1&t&&(y.Tb(0,"div",0),y.Tb(1,"p-dialog",1,2),y.bc("visibleChange",(function(t){return i.display=t})),y.Tb(3,"div",3),y.Tb(4,"h1"),y.Oc(5,"IN ISTRUTTORIA"),y.Sb(),y.Mc(6,rn,10,5,"div",4),y.Tb(7,"div",5),y.Tb(8,"button",6),y.bc("click",(function(){return i.onC()})),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t&&(y.Bb(1),y.mc("visible",i.display)("modal",!0)("closable",!1),y.Bb(5),y.mc("ngForOf",i.dettaglioIstruttoria.listaRiepilogoSostegno))},directives:[w.a,a.s,k.b,a.t],styles:[""]}),cn);function ln(t,i){if(1&t){var e=y.Ub();y.Tb(0,"app-in-istruttoria-dialog",10),y.bc("displayChange",(function(t){return y.Ec(e),y.fc().onIstruttoriaDialogClose(t)})),y.Sb()}if(2&t){var a=y.fc();y.mc("display",a.displayInIstruttoriaDialog)("dettaglioIstruttoria",a.dettaglioIstruttoria)}}function un(t,i){if(1&t){var e=y.Ub();y.Tb(0,"button",11),y.bc("click",(function(){y.Ec(e);var t=y.fc();return t.dettaglioIstruttoria.goListaDomande(t.riepilogoStatoDomande.stato)})),y.Sb()}if(2&t){var a=y.fc();y.mc("disabled",0==a.riepilogoStatoDomande.counter)}}function dn(t,i){if(1&t){var e=y.Ub();y.Tb(0,"button",12),y.bc("click",(function(){return y.Ec(e),y.fc().dettaglioIstruttoria.avviaProcessoIstruttoria("RICEV_AGS")})),y.Sb()}if(2&t){var a=y.fc();y.mc("disabled",a.dettaglioIstruttoria.disableAvviaRicevibilita)}}function bn(t,i){if(1&t){var e=y.Ub();y.Tb(0,"button",13),y.bc("click",(function(){return y.Ec(e),y.fc().dettaglioIstruttoria.avviaProcessoIstruttoria("AVV_IST")})),y.Sb()}if(2&t){var a=y.fc();y.mc("disabled",a.dettaglioIstruttoria.disableAvviaIstruttoria)}}function pn(t,i){if(1&t){var e=y.Ub();y.Tb(0,"p-button",14),y.bc("click",(function(){return y.Ec(e),y.fc().displayDialog()})),y.Sb()}}var gn,mn,fn,vn=((mn=function(){function t(){_classCallCheck(this,t),this.displayInIstruttoriaDialog=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onIstruttoriaDialogClose",value:function(t){this.displayInIstruttoriaDialog=t}},{key:"displayDialog",value:function(){this.displayInIstruttoriaDialog=!0}}]),t}()).\u0275fac=function(t){return new(t||mn)},mn.\u0275cmp=y.Hb({type:mn,selectors:[["app-stato-domande-card"]],inputs:{riepilogoStatoDomande:"riepilogoStatoDomande",dettaglioIstruttoria:"dettaglioIstruttoria"},decls:19,vars:7,consts:[[3,"display","dettaglioIstruttoria","displayChange",4,"ngIf"],[1,"card-domande"],["id","sfondo-p-card"],["src","assets/img/img-antimafia.png",1,"dimensioni-icona"],[1,"label-font"],[1,"size-numero-domande","label-font"],["pButton","","type","button","label","VISUALIZZA DOMANDE","class","btn-white","id","visualizza-domande",3,"disabled","click",4,"ngIf"],["pButton","","type","button","class","btn-green","label","AVVIA RICEVIBILITA",3,"disabled","click",4,"ngIf"],["pButton","","type","button","class","btn-green","label","AVVIA ISTRUTTORIA",3,"disabled","click",4,"ngIf"],["label","DETTAGLI",3,"click",4,"ngIf"],[3,"display","dettaglioIstruttoria","displayChange"],["pButton","","type","button","label","VISUALIZZA DOMANDE","id","visualizza-domande",1,"btn-white",3,"disabled","click"],["pButton","","type","button","label","AVVIA RICEVIBILITA",1,"btn-green",3,"disabled","click"],["pButton","","type","button","label","AVVIA ISTRUTTORIA",1,"btn-green",3,"disabled","click"],["label","DETTAGLI",3,"click"]],template:function(t,i){1&t&&(y.Mc(0,ln,1,2,"app-in-istruttoria-dialog",0),y.Tb(1,"div",1),y.Tb(2,"p-card",2),y.Tb(3,"p-header"),y.Tb(4,"div"),y.Ob(5,"img",3),y.Tb(6,"label",4),y.Oc(7),y.Sb(),y.Sb(),y.Sb(),y.Tb(8,"div"),y.Tb(9,"label",5),y.Oc(10),y.Sb(),y.Sb(),y.Tb(11,"p-footer"),y.Tb(12,"div",4),y.Mc(13,un,1,1,"button",6),y.Sb(),y.Tb(14,"div"),y.Mc(15,dn,1,1,"button",7),y.Mc(16,bn,1,1,"button",8),y.Mc(17,pn,1,0,"p-button",9),y.Ob(18,"br"),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t&&(y.mc("ngIf","IN ISTRUTTORIA"==i.riepilogoStatoDomande.stato),y.Bb(7),y.Qc(" ",i.riepilogoStatoDomande.stato,""),y.Bb(3),y.Pc(i.riepilogoStatoDomande.counter),y.Bb(3),y.mc("ngIf","PROTOCOLLATA"!=i.riepilogoStatoDomande.stato),y.Bb(2),y.mc("ngIf","PROTOCOLLATA"==i.riepilogoStatoDomande.stato),y.Bb(1),y.mc("ngIf","RICEVIBILE"==i.riepilogoStatoDomande.stato),y.Bb(1),y.mc("ngIf","IN ISTRUTTORIA"==i.riepilogoStatoDomande.stato))},directives:[a.t,n.a,B.c,B.b,sn,k.b,k.a],styles:[""]}),mn),hn=((gn=function(){function t(i){_classCallCheck(this,t),this.istruttoriaService=i}return _createClass(t,[{key:"resolve",value:function(t){return this.istruttoriaService.getDettaglioDomanda(t.paramMap.get("idDomanda"),null,null)}}]),t}()).\u0275fac=function(t){return new(t||gn)(y.Xb(l.a))},gn.\u0275prov=y.Jb({token:gn,factory:gn.\u0275fac}),gn),Sn=e("DYOT"),Tn=e("3Kf3"),In=e("3u2U"),Cn=((fn=function(){function t(i){_classCallCheck(this,t),this.el=i,this.regex=new RegExp(/^\d{0,3}(\.?|(\.\d{0,2}))$/),this.specialKeys=["Backspace","Tab","End","Home","-","ArrowLeft","ArrowRight"],this.regex2=new RegExp(/^\d{3}$/)}return _createClass(t,[{key:"onKeyDown",value:function(t){if(console.log(this.el.nativeElement.value),-1===this.specialKeys.indexOf(t.key)){var i=this.el.nativeElement.value,e=this.el.nativeElement.selectionStart,a=[i.slice(0,e),t.key,i.slice(e)].join("");a&&!String(a).match(this.regex)&&t.preventDefault()}}}]),t}()).\u0275fac=function(t){return new(t||fn)(y.Nb(y.l))},fn.\u0275dir=y.Ib({type:fn,selectors:[["","appValidateInputNumber",""]],hostBindings:function(t,i){1&t&&y.bc("keydown",(function(t){return i.onKeyDown(t)}))}}),fn);function On(t,i){if(1&t&&(y.Tb(0,"p-accordionTab",11),y.Oc(1),y.Sb()),2&t){var e=y.fc().$implicit;y.nc("header",e.descrizione1),y.mc("selected",!0)("disabled",!0),y.Bb(1),y.Qc(" ",null==e?null:e.valore," ")}}function An(t,i){if(1&t&&(y.Tb(0,"div"),y.Mc(1,On,2,4,"p-accordionTab",10),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.mc("ngIf",null!=e)}}function Dn(t,i){if(1&t&&(y.Tb(0,"strong"),y.Oc(1),y.Sb()),2&t){var e=y.fc().$implicit;y.Bb(1),y.Pc(e.header)}}var Pn=function(t){return{width:t}};function yn(t,i){if(1&t&&(y.Tb(0,"th",13),y.Mc(1,Dn,2,1,"strong",14),y.Sb()),2&t){var e=i.$implicit;y.mc("ngStyle",y.sc(2,Pn,e.width)),y.Bb(1),y.mc("ngIf",e.header)}}function Bn(t,i){if(1&t&&(y.Tb(0,"tr"),y.Mc(1,yn,2,4,"th",12),y.Ob(2,"th"),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.mc("ngForOf",e)}}function Nn(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2),y.Sb(),y.Tb(3,"td"),y.Oc(4),y.Sb(),y.Sb()),2&t){var e=i.$implicit;y.Bb(2),y.Pc(e.valString.split("**")[0]),y.Bb(2),y.Pc(e.valString.split("**")[1])}}function zn(t,i){if(1&t&&y.Mc(0,Nn,5,2,"tr",6),2&t){var e=y.fc().$implicit;y.mc("ngForOf",e.datiInput)}}function Rn(t,i){if(1&t&&(y.Tb(0,"strong"),y.Oc(1),y.Sb()),2&t){var e=y.fc().$implicit;y.Bb(1),y.Pc(e.header)}}function Mn(t,i){if(1&t&&(y.Tb(0,"th",13),y.Mc(1,Rn,2,1,"strong",14),y.Sb()),2&t){var e=i.$implicit;y.mc("ngStyle",y.sc(2,Pn,e.width)),y.Bb(1),y.mc("ngIf",e.header)}}function En(t,i){if(1&t&&(y.Tb(0,"tr"),y.Mc(1,Mn,2,4,"th",12),y.Ob(2,"th"),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.mc("ngForOf",e)}}function kn(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2),y.Sb(),y.Tb(3,"td"),y.Oc(4),y.Sb(),y.Sb()),2&t){var e=i.$implicit;y.Bb(2),y.Pc(e.valString.split("**")[0]),y.Bb(2),y.Pc(e.valString.split("**")[1])}}function Ln(t,i){if(1&t&&y.Mc(0,kn,5,2,"tr",6),2&t){var e=y.fc().$implicit;y.mc("ngForOf",e.datiOutput)}}function wn(t,i){if(1&t&&(y.Tb(0,"p-accordionTab",5),y.Mc(1,An,2,1,"div",6),y.Tb(2,"p-table",7),y.Mc(3,Bn,3,1,"ng-template",8),y.Mc(4,zn,1,1,"ng-template",9),y.Sb(),y.Tb(5,"p-table",7),y.Mc(6,En,3,1,"ng-template",8),y.Mc(7,Ln,1,1,"ng-template",9),y.Sb(),y.Sb()),2&t){var e=i.$implicit,a=i.index,o=y.fc();y.nc("header",o.arrayPascoli[a].descPascolo),y.Bb(1),y.mc("ngForOf",e.listaEsitiPascolo),y.Bb(1),y.mc("columns",o.cols)("value",o.dati)("autoLayout",!0)("paginator",!1)("responsive",!0),y.Bb(3),y.mc("columns",o.cols2)("value",o.dati)("autoLayout",!0)("paginator",!1)("responsive",!0)}}var _n,xn,Un,Fn,Gn=((Un=function(){function t(i,e){_classCallCheck(this,t),this.istruttoriaService=i,this.route=e,this.cols=[{header:"Dati in entrata",width:"70%"}],this.cols2=[{header:"Dati in uscita",width:"70%"}],this.cols3=[{header:"Anomalie",width:"70%"}],this.arrayPascoli=[],this.dati=[{}]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.route.params.subscribe((function(i){t.idDomandaCorrente=i.idDomanda})),this.istruttoriaService.getDatiperPascoloByID_Domanda(this.idDomandaCorrente).subscribe((function(i){t.arrayPascoli=i,t.arrayPascoli&&t.arrayPascoli.sort((function(t,i){return t.descPascolo<i.descPascolo?-1:1}))}))}}]),t}()).\u0275fac=function(t){return new(t||Un)(y.Nb(l.a),y.Nb(c.a))},Un.\u0275cmp=y.Hb({type:Un,selectors:[["app-dati-per-pascolo"]],decls:6,vars:1,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],[1,"accordion-wrapper","dettaglioaccordion","mlp"],[3,"header",4,"ngFor","ngForOf"],[3,"header"],[4,"ngFor","ngForOf"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","header"],["pTemplate","body"],[3,"header","selected","disabled",4,"ngIf"],[3,"header","selected","disabled"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[4,"ngIf"]],template:function(t,i){1&t&&(y.Tb(0,"div",0),y.Tb(1,"div",1),y.Tb(2,"div",2),y.Tb(3,"div",3),y.Tb(4,"p-accordion"),y.Mc(5,wn,8,12,"p-accordionTab",4),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t&&(y.Bb(5),y.mc("ngForOf",i.arrayPascoli))},directives:[Yi.a,a.s,Yi.c,o.q,B.e,a.t,a.w],styles:[""]}),Un),Vn=((xn=function(){function t(i){_classCallCheck(this,t),this.el=i,this.specialKeys=["Backspace","Tab","End","Home","-","ArrowLeft","ArrowRight"],this.regex=new RegExp(/^\d{0,5}(\.?|(\.\d{0,6}))$/)}return _createClass(t,[{key:"onKeyDown",value:function(t){if(console.log(this.el.nativeElement.value),-1===this.specialKeys.indexOf(t.key)){var i=this.el.nativeElement.value,e=this.el.nativeElement.selectionStart,a=[i.slice(0,e),t.key,i.slice(e)].join("");a&&!String(a).match(this.regex)&&t.preventDefault()}}}]),t}()).\u0275fac=function(t){return new(t||xn)(y.Nb(y.l))},xn.\u0275dir=y.Ib({type:xn,selectors:[["","appValidateInputOtherNumber",""]],hostBindings:function(t,i){1&t&&y.bc("keydown",(function(t){return i.onKeyDown(t)}))}}),xn),Zn=((_n=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||_n)},_n.\u0275cmp=y.Hb({type:_n,selectors:[["app-cruscotto-accoppiati-container"]],decls:1,vars:0,template:function(t,i){1&t&&y.Ob(0,"router-outlet")},directives:[c.j],styles:[""]}),_n),$n=e("69Tm"),Qn=((Fn=function(){function t(i,e){_classCallCheck(this,t),this.activatedroute=i,this.router=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.datiIstruttoriaCorrente=this.activatedroute.snapshot.data.istruttoria,this.setSostegno(),this.setMenu()}},{key:"setSostegno",value:function(){this.selectedSostegno=this.router.url.split("/").filter((function(t){return t===ai.a.cruscottoAccoppiatoZootecnia})).length>0?g.a.ZOOTECNIA:g.a.SUPERFICIE,this.selectedSostegno==g.a.ZOOTECNIA?(this.sostegno="zootecnia",this.title=$n.a.ISTRUTTORIA_ACCOPPIATO_ZOOTECNIA.toUpperCase()+" - "+this.datiIstruttoriaCorrente.annoRiferimento+" - "+this.datiIstruttoriaCorrente.tipoIstruttoria,this.route=ai.a.calcoloAccoppiatoZootecnia):(this.sostegno="superficie",this.title=$n.a.ISTRUTTORIA_ACCOPPIATO_SUPERFICIE.toUpperCase()+" - "+this.datiIstruttoriaCorrente.annoRiferimento+" - "+this.datiIstruttoriaCorrente.tipoIstruttoria,this.route=ai.a.calcoloAccoppiatoSuperficie),console.log("Sostegno: "+this.selectedSostegno)}},{key:"setMenu",value:function(){this.menu1=new Array({routerLink:this.route,label:"Calcolo premio accoppiato "+this.sostegno},{routerLink:ai.a.controlliLiquidabilita,label:"Controlli Liquidabilit\xe0"},{routerLink:ai.a.liquidazione,label:"Liquidazione"})}}]),t}()).\u0275fac=function(t){return new(t||Fn)(y.Nb(c.a),y.Nb(c.e))},Fn.\u0275cmp=y.Hb({type:Fn,selectors:[["app-cruscotto-accoppiati"]],decls:11,vars:2,consts:[[1,"ui-g","ui-fluid"],[1,"tophome"],[1,"ui-grid-fixed"],[1,"top-sub-green"],[1,"ui-g-12"],[3,"model"],[1,"disaccoppiato",2,"width","100%"]],template:function(t,i){1&t&&(y.Tb(0,"div",0),y.Tb(1,"div",1),y.Tb(2,"div",2),y.Tb(3,"h4"),y.Oc(4),y.Sb(),y.Sb(),y.Sb(),y.Tb(5,"div",3),y.Tb(6,"div",4),y.Tb(7,"div",2),y.Ob(8,"p-tabMenu",5),y.Sb(),y.Sb(),y.Sb(),y.Tb(9,"div",6),y.Ob(10,"router-outlet"),y.Sb(),y.Sb()),2&t&&(y.Bb(4),y.Pc(i.title),y.Bb(4),y.mc("model",i.menu1))},directives:[yt.a,c.j],styles:[""]}),Fn),qn=e("5gIc"),Hn=e("QceE");function jn(t,i){if(1&t&&(y.Tb(0,"span",7),y.Oc(1),y.Sb()),2&t){var e=y.fc().$implicit;y.Bb(1),y.Pc(e.value)}}function Kn(t,i){if(1&t&&(y.Tb(0,"span",5),y.Oc(1),y.Mc(2,jn,2,1,"span",6),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.Qc("",e.label," "),y.Bb(1),y.mc("ngIf",e.value>=0)}}var Yn,Jn,Wn=((Yn=function(){function t(i,e,a,o){_classCallCheck(this,t),this.router=i,this.route=e,this.istruttoriaService=a,this.loader=o}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.loader.resetTimeout()}},{key:"ngOnInit",value:function(){this.loader.setTimeout(48e4),this.selectedSostegno=this.router.url.split("/").filter((function(t){return t===ai.a.cruscottoAccoppiatoZootecnia})).length>0?g.a.ZOOTECNIA:g.a.SUPERFICIE,this.buildMenu(),this.filterMenu(),this.activateMenu()}},{key:"buildMenu",value:function(){var t=this;this.route.snapshot.routeConfig.path!==ai.a.calcoloAccoppiatoSuperficie&&this.route.snapshot.routeConfig.path!==ai.a.calcoloAccoppiatoZootecnia||(this.menu2=new Array({id:q.a.RICHIESTO,command:function(i){t.router.navigate([q.a.RICHIESTO],{relativeTo:t.route})},label:"Richiesto"},{id:q.a.INTEGRATO,command:function(i){t.router.navigate([q.a.INTEGRATO],{relativeTo:t.route})},label:"Integrazioni Ammissibilit\xe0"},{id:q.a.CONTROLLI_CALCOLO_OK,command:function(i){t.router.navigate([q.a.CONTROLLI_CALCOLO_OK],{relativeTo:t.route})},label:"Controlli Superati"},{id:q.a.CONTROLLI_CALCOLO_KO,badge:"true",command:function(i){t.router.navigate([q.a.CONTROLLI_CALCOLO_KO],{relativeTo:t.route})},label:"Controlli Non Superati"},{id:q.a.NON_AMMISSIBILE,badge:"true",command:function(i){t.router.navigate([q.a.NON_AMMISSIBILE],{relativeTo:t.route})},label:"Non Ammissibili"})),this.route.snapshot.routeConfig.path===ai.a.controlliLiquidabilita&&(this.menu2=new Array({id:q.a.CONTROLLI_CALCOLO_OK,command:function(i){t.router.navigate([q.a.CONTROLLI_CALCOLO_OK],{relativeTo:t.route})},label:"Controlli Superati"},{id:q.a.LIQUIDABILE,command:function(i){t.router.navigate([q.a.LIQUIDABILE],{relativeTo:t.route})},label:"Liquidabile"},{id:q.a.CONTROLLI_LIQUIDABILE_KO,command:function(i){t.router.navigate([q.a.CONTROLLI_LIQUIDABILE_KO],{relativeTo:t.route})},label:"Controlli liquidabilita' non superati"})),this.route.snapshot.routeConfig.path===ai.a.liquidazione&&(this.menu2=new Array({id:q.a.LIQUIDABILE,command:function(i){t.router.navigate([q.a.LIQUIDABILE],{relativeTo:t.route})},label:"Liquidabile"},{id:q.a.NON_LIQUIDABILE,command:function(i){t.router.navigate([q.a.NON_LIQUIDABILE],{relativeTo:t.route})},label:"Non liquidabile"},{id:q.a.PAGAMENTO_NON_AUTORIZZATO,command:function(i){t.router.navigate([q.a.PAGAMENTO_NON_AUTORIZZATO],{relativeTo:t.route})},label:"Pagamento non autorizzato"},{id:q.a.CONTROLLI_INTERSOSTEGNO_OK,command:function(i){t.router.navigate([q.a.CONTROLLI_INTERSOSTEGNO_OK],{relativeTo:t.route})},label:"Controlli intersostegno superati"},{id:q.a.PAGAMENTO_AUTORIZZATO,command:function(i){t.router.navigate([q.a.PAGAMENTO_AUTORIZZATO],{relativeTo:t.route})},label:"Pagamento autorizzato"})),this.route.snapshot.routeConfig.path===ai.a.calcoloAccoppiatoSuperficie&&this.menu2.splice(1,1)}},{key:"filterMenu",value:function(){var t=this;this.route.paramMap.subscribe((function(i){if(t.idIstruttoria=Number(i.get("idIstruttoria")),console.log("IdIstruttoria: "+t.idIstruttoria),t.route.snapshot.routeConfig.path===ai.a.calcoloAccoppiatoSuperficie||t.route.snapshot.routeConfig.path===ai.a.calcoloAccoppiatoZootecnia){var e=encodeURIComponent('{"idDatiSettore": '+t.idIstruttoria+', "statoDomanda": "'+ei.a.IN_ISTRUTTORIA+'", "sostegno": "'+t.selectedSostegno+'", "statoSostegno" : "RICHIESTO" }');t.istruttoriaService.countDomandeFiltered(e).subscribe((function(i){t.menu2.filter((function(t){return"RICHIESTO"===t.id}))[0].label="Richiesto ",t.menu2.filter((function(t){return"RICHIESTO"===t.id}))[0].value=i}));var a=encodeURIComponent('{"idDatiSettore": '+t.idIstruttoria+', "statoDomanda": "'+ei.a.IN_ISTRUTTORIA+'", "sostegno": "'+t.selectedSostegno+'", "statoSostegno" : "CONTROLLI_CALCOLO_OK" }');t.istruttoriaService.countDomandeFiltered(a).subscribe((function(i){t.menu2.filter((function(t){return"CONTROLLI_CALCOLO_OK"===t.id}))[0].label="Controlli Superati ",t.menu2.filter((function(t){return"CONTROLLI_CALCOLO_OK"===t.id}))[0].value=i}));var o=encodeURIComponent('{"idDatiSettore": '+t.idIstruttoria+', "statoDomanda": "'+ei.a.IN_ISTRUTTORIA+'", "sostegno": "'+t.selectedSostegno+'", "statoSostegno" : "CONTROLLI_CALCOLO_KO" }');t.istruttoriaService.countDomandeFiltered(o).subscribe((function(i){t.menu2.filter((function(t){return"CONTROLLI_CALCOLO_KO"===t.id}))[0].label="Controlli Non Superati ",t.menu2.filter((function(t){return"CONTROLLI_CALCOLO_KO"===t.id}))[0].value=i}));var n=encodeURIComponent('{"idDatiSettore": '+t.idIstruttoria+', "statoDomanda": "'+ei.a.IN_ISTRUTTORIA+'", "sostegno": "'+t.selectedSostegno+'", "statoSostegno" : "NON_AMMISSIBILE" }');t.istruttoriaService.countDomandeFiltered(n).subscribe((function(i){t.menu2.filter((function(t){return"NON_AMMISSIBILE"===t.id}))[0].label="Non Ammissibili ",t.menu2.filter((function(t){return"NON_AMMISSIBILE"===t.id}))[0].value=i}))}if(t.route.snapshot.routeConfig.path===ai.a.calcoloAccoppiatoZootecnia){var r=encodeURIComponent('{"idDatiSettore": '+t.idIstruttoria+', "statoDomanda": "'+ei.a.IN_ISTRUTTORIA+'", "sostegno": "'+t.selectedSostegno+'", "statoSostegno" : "INTEGRATO" }');t.istruttoriaService.countDomandeFiltered(r).subscribe((function(i){t.menu2.filter((function(t){return"INTEGRATO"===t.id}))[0].label="Integrazioni Ammissibilit\xe0 ",t.menu2.filter((function(t){return"INTEGRATO"===t.id}))[0].value=i}))}if(t.route.snapshot.routeConfig.path===ai.a.controlliLiquidabilita){var c=encodeURIComponent('{"idDatiSettore": '+t.idIstruttoria+', "statoDomanda": "'+ei.a.IN_ISTRUTTORIA+'", "sostegno": "'+t.selectedSostegno+'", "statoSostegno" : "CONTROLLI_CALCOLO_OK" }');t.istruttoriaService.countDomandeFiltered(c).subscribe((function(i){t.menu2.filter((function(t){return"CONTROLLI_CALCOLO_OK"===t.id}))[0].value=i}));var s=encodeURIComponent('{"idDatiSettore": '+t.idIstruttoria+', "statoDomanda": "'+ei.a.IN_ISTRUTTORIA+'", "sostegno": "'+t.selectedSostegno+'", "statoSostegno" : "LIQUIDABILE" }');t.istruttoriaService.countDomandeFiltered(s).subscribe((function(i){t.menu2.filter((function(t){return"LIQUIDABILE"===t.id}))[0].value=i}));var l=encodeURIComponent('{"idDatiSettore": '+t.idIstruttoria+', "statoDomanda": "'+ei.a.IN_ISTRUTTORIA+'", "sostegno": "'+t.selectedSostegno+'", "statoSostegno" : "CONTROLLI_LIQUIDABILE_KO" }');t.istruttoriaService.countDomandeFiltered(l).subscribe((function(i){t.menu2.filter((function(t){return"CONTROLLI_LIQUIDABILE_KO"===t.id}))[0].value=i}))}if(t.route.snapshot.routeConfig.path===ai.a.liquidazione){var u=encodeURIComponent('{"idDatiSettore": '+t.idIstruttoria+', "statoDomanda": "'+ei.a.IN_ISTRUTTORIA+'", "sostegno": "'+t.selectedSostegno+'", "statoSostegno" : "LIQUIDABILE" }');t.istruttoriaService.countDomandeFiltered(u).subscribe((function(i){t.menu2.filter((function(t){return"LIQUIDABILE"===t.id}))[0].label="Liquidabile ",t.menu2.filter((function(t){return"LIQUIDABILE"===t.id}))[0].value=i}));var d=encodeURIComponent('{"idDatiSettore": '+t.idIstruttoria+', "statoDomanda": "'+ei.a.IN_ISTRUTTORIA+'", "sostegno":"'+t.selectedSostegno+'", "statoSostegno" : "PAGAMENTO_NON_AUTORIZZATO" }');t.istruttoriaService.countDomandeFiltered(d).subscribe((function(i){t.menu2.filter((function(t){return"PAGAMENTO_NON_AUTORIZZATO"===t.id}))[0].label="Pagamento non autorizzato ",t.menu2.filter((function(t){return"PAGAMENTO_NON_AUTORIZZATO"===t.id}))[0].value=i}));var b=encodeURIComponent('{"idDatiSettore": '+t.idIstruttoria+', "statoDomanda": "'+ei.a.IN_ISTRUTTORIA+'", "sostegno":"'+t.selectedSostegno+'", "statoSostegno" : "PAGAMENTO_AUTORIZZATO" }');t.istruttoriaService.countDomandeFiltered(b).subscribe((function(i){t.menu2.filter((function(t){return"PAGAMENTO_AUTORIZZATO"===t.id}))[0].label="Pagamento autorizzato ",t.menu2.filter((function(t){return"PAGAMENTO_AUTORIZZATO"===t.id}))[0].value=i}));var p=encodeURIComponent('{"idDatiSettore": '+t.idIstruttoria+', "statoDomanda": "'+ei.a.IN_ISTRUTTORIA+'", "sostegno": "'+t.selectedSostegno+'", "statoSostegno" : "CONTROLLI_INTERSOSTEGNO_OK" }');t.istruttoriaService.countDomandeFiltered(p).subscribe((function(i){t.menu2.filter((function(t){return"CONTROLLI_INTERSOSTEGNO_OK"===t.id}))[0].label="Controlli intersostegno superati",t.menu2.filter((function(t){return"CONTROLLI_INTERSOSTEGNO_OK"===t.id}))[0].value=i}));var g=encodeURIComponent('{"idDatiSettore": '+t.idIstruttoria+', "statoDomanda": "'+ei.a.IN_ISTRUTTORIA+'", "sostegno": "'+t.selectedSostegno+'", "statoSostegno" : "NON_LIQUIDABILE" }');t.istruttoriaService.countDomandeFiltered(g).subscribe((function(i){t.menu2.filter((function(t){return"NON_LIQUIDABILE"===t.id}))[0].label="Non liquidabile ",t.menu2.filter((function(t){return"NON_LIQUIDABILE"===t.id}))[0].value=i}))}}))}},{key:"activateMenu",value:function(){this.activeTab=this.menu2[0],this.router.navigate([q.a.RICHIESTO],{relativeTo:this.route}),this.route.snapshot.routeConfig.path===ai.a.controlliLiquidabilita&&this.router.navigate([q.a.CONTROLLI_CALCOLO_OK],{relativeTo:this.route}),this.route.snapshot.routeConfig.path===ai.a.liquidazione&&this.router.navigate([q.a.LIQUIDABILE],{relativeTo:this.route})}}]),t}()).\u0275fac=function(t){return new(t||Yn)(y.Nb(c.e),y.Nb(c.a),y.Nb(l.a),y.Nb(qn.a))},Yn.\u0275cmp=y.Hb({type:Yn,selectors:[["app-domande-accoppiati"]],decls:6,vars:2,consts:[[1,"ui-g-12",2,"padding-bottom","0px !important"],[1,"ui-grid-fixed"],[1,"funzioni-grid",2,"margin-bottom","0px !important","margin-top","40px !important"],[3,"model","activeItem"],["pTemplate","item"],[1,"ui-menuitem-text"],["class","colori-per-numeri",4,"ngIf"],[1,"colori-per-numeri"]],template:function(t,i){1&t&&(y.Tb(0,"div",0),y.Tb(1,"div",1),y.Tb(2,"div",2),y.Tb(3,"app-hack-ptab-menu",3),y.Mc(4,Kn,3,2,"ng-template",4),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Ob(5,"router-outlet")),2&t&&(y.Bb(3),y.mc("model",i.menu2)("activeItem",i.activeTab))},directives:[Hn.a,B.e,c.j,a.t],styles:[".colori-per-numeri[_ngcontent-%COMP%]{background:#00985a;line-height:0;color:#fff;font-size:13px;border-radius:30px;display:inline;padding:0 7px}"]}),Yn),Xn=e("PqYM"),tr=e("q1/g"),ir=((Jn=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||Jn)},Jn.\u0275prov=y.Jb({token:Jn,factory:Jn.\u0275fac,providedIn:"root"}),Jn),er=function t(){_classCallCheck(this,t)},ar=e("ovm2"),or=e("cAab"),nr=e("tk/3"),rr=["table"],cr=["checkBox"];function sr(t,i){if(1&t&&(y.Tb(0,"th",23),y.Tb(1,"strong"),y.Oc(2),y.Sb(),y.Ob(3,"p-sortIcon",24),y.Sb()),2&t){var e=i.$implicit;y.mc("pSortableColumn",e.field)("pSortableColumnDisabled",null==e.field),y.Bb(2),y.Pc(e.header),y.Bb(1),y.mc("field",e.field)}}function lr(t,i){1&t&&(y.Tb(0,"th"),y.Tb(1,"strong"),y.Oc(2,"Identificativo Domanda Integrativa"),y.Sb(),y.Sb())}function ur(t,i){1&t&&(y.Tb(0,"th"),y.Tb(1,"strong"),y.Oc(2,"Data Ultimo Aggiornamento Domanda Integrativa"),y.Sb(),y.Sb())}function dr(t,i){if(1&t){var e=y.Ub();y.Tb(0,"tr"),y.Tb(1,"th"),y.Tb(2,"p-checkbox",18,19),y.bc("click",(function(){y.Ec(e);var t=y.Bc(3);y.fc();var i=y.Bc(9);return y.fc().selezionaTutto(t.checked,i)}))("ngModelChange",(function(t){return y.Ec(e),y.fc(2).checked=t})),y.Sb(),y.Sb(),y.Mc(4,sr,4,4,"th",20),y.Mc(5,lr,3,0,"th",21),y.Mc(6,ur,3,0,"th",21),y.Tb(7,"th"),y.Tb(8,"strong"),y.Oc(9,"Selezionate: "),y.Sb(),y.Tb(10,"span",22),y.Oc(11),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=i.$implicit,o=y.Bc(3),n=y.fc(2);y.Bb(2),y.mc("ngModel",n.checked),y.Bb(2),y.mc("ngForOf",a),y.Bb(1),y.mc("ngIf",n.showColumnDI),y.Bb(1),y.mc("ngIf",n.showColumnDI),y.Bb(5),y.Pc(o.checked?null==n.paginaDomande?null:n.paginaDomande.elementiTotali:null==n.domande?null:n.domande.length)}}function br(t,i){if(1&t&&(y.Tb(0,"td",29),y.Oc(1),y.Sb()),2&t){var e=y.fc().$implicit;y.Bb(1),y.Pc(e.identificativoDI)}}function pr(t,i){if(1&t&&(y.Tb(0,"td",29),y.Oc(1),y.gc(2,"date"),y.Sb()),2&t){var e=y.fc().$implicit;y.Bb(1),y.Qc(" ",e.identificativoDI?y.ic(2,1,e.dataDI,"dd-MMM-yyyy"):null,"")}}function gr(t,i){if(1&t){var e=y.Ub();y.Tb(0,"td",29),y.Tb(1,"button",30),y.bc("click",(function(){y.Ec(e);var t=y.fc().$implicit;return y.fc(2).downloadVerbaleLiquidazione(t)})),y.Oc(2),y.Sb(),y.Sb()}if(2&t){var a=y.fc().$implicit;y.Bb(2),y.Pc(a.codiceElenco?a.codiceElenco:null)}}function mr(t,i){if(1&t){var e=y.Ub();y.Tb(0,"tr",25),y.Tb(1,"td"),y.Ob(2,"p-tableCheckbox",26),y.Sb(),y.Tb(3,"td"),y.Oc(4),y.Sb(),y.Tb(5,"td"),y.Oc(6),y.Sb(),y.Tb(7,"td"),y.Oc(8),y.Sb(),y.Mc(9,br,2,1,"td",27),y.Mc(10,pr,3,4,"td",27),y.Mc(11,gr,3,1,"td",27),y.Tb(12,"td"),y.Tb(13,"div",14),y.Tb(14,"button",28),y.bc("click",(function(){y.Ec(e);var t=i.$implicit;return y.fc(2).dettagliClick(t)})),y.Oc(15,"DETTAGLI"),y.Sb(),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=i.$implicit,o=y.fc(2);y.mc("pSelectableRow",a),y.Bb(2),y.mc("value",a),y.Bb(2),y.Pc(a.infoGeneraliDomanda.cuaaIntestatario),y.Bb(2),y.Pc(a.infoGeneraliDomanda.numeroDomanda),y.Bb(2),y.Pc(a.infoGeneraliDomanda.ragioneSociale),y.Bb(1),y.mc("ngIf",o.showColumnDI),y.Bb(1),y.mc("ngIf",o.showColumnDI),y.Bb(1),y.mc("ngIf",o.showElencoLiquidazione)}}function fr(t,i){1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2," Nessuna domanda trovata "),y.Sb(),y.Sb()),2&t&&(y.Bb(1),y.Cb("colspan",10))}function vr(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div",5),y.Tb(1,"button",31),y.bc("click",(function(){return y.Ec(e),y.fc(2).openPopupDatiAggregati()})),y.Oc(2,"DATI AGGREGATI"),y.Sb(),y.Sb()}}function hr(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div",5),y.Tb(1,"button",31),y.bc("click",(function(){return y.Ec(e),y.fc(2).downloadDatiCapiAgea()})),y.Oc(2,"DATI CAPI AGEA"),y.Sb(),y.Sb()}}function Sr(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div",5),y.Tb(1,"button",31),y.bc("click",(function(){return y.Ec(e),y.fc(2).setStatusNonAmmissibile()})),y.Oc(2,"NON AMMISSIBILE"),y.Sb(),y.Sb()}}function Tr(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div",5),y.Tb(1,"button",31),y.bc("click",(function(){return y.Ec(e),y.fc(2).avviaCalcoloPremioAccoppiati()})),y.Oc(2,"AVVIA CALCOLO PREMIO"),y.Sb(),y.Sb()}}function Ir(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div",5),y.Tb(1,"button",31),y.bc("click",(function(){return y.Ec(e),y.fc(2).avviaCalcoloCapi()})),y.Oc(2,"AVVIA CALCOLO CAPI"),y.Sb(),y.Sb()}}function Cr(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div",5),y.Tb(1,"button",31),y.bc("click",(function(){return y.Ec(e),y.fc(2).avviaCalcoloCapiConControllo()})),y.Oc(2,"AVVIA CALCOLO CAPI"),y.Sb(),y.Sb()}}function Or(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div",32),y.Tb(1,"button",31),y.bc("click",(function(){return y.Ec(e),y.fc(2).avviaControlliLiquidazione()})),y.Oc(2,"AVVIA CONTROLLI LIQUIDAZIONE"),y.Sb(),y.Sb()}}function Ar(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div",32),y.Tb(1,"button",31),y.bc("click",(function(){return y.Ec(e),y.fc(2).avviaControlloIntersostegnoACS()})),y.Oc(2,"CREA ELENCO LIQUIDAZIONE"),y.Sb(),y.Sb()}}var Dr=function(){return{marginTop:"70px"}};function Pr(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div",1),y.Tb(1,"div",2),y.Tb(2,"div",3),y.Ob(3,"p-toast",4),y.Tb(4,"div",5),y.Ob(5,"app-filtro-accoppiati",6),y.Sb(),y.Tb(6,"div",7),y.Tb(7,"div",8),y.Tb(8,"p-table",9,10),y.bc("onLazyLoad",(function(t){return y.Ec(e),y.fc().loadData(t)}))("selectionChange",(function(t){return y.Ec(e),y.fc().domande=t})),y.Mc(10,dr,12,5,"ng-template",11),y.Mc(11,mr,16,8,"ng-template",12),y.Mc(12,fr,3,1,"ng-template",13),y.Sb(),y.Tb(13,"div",14),y.Mc(14,vr,3,0,"div",15),y.Mc(15,hr,3,0,"div",15),y.Mc(16,Sr,3,0,"div",15),y.Mc(17,Tr,3,0,"div",15),y.Mc(18,Ir,3,0,"div",15),y.Mc(19,Cr,3,0,"div",15),y.Mc(20,Or,3,0,"div",16),y.Mc(21,Ar,3,0,"div",16),y.Sb(),y.Sb(),y.Tb(22,"div",17),y.Tb(23,"h5"),y.Oc(24,"Processi di Controllo"),y.Sb(),y.Tb(25,"div"),y.Oc(26),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=y.fc();y.Bb(3),y.Kc(y.rc(21,Dr)),y.Bb(2),y.mc("cuaaSuggestions",a.suggestionsCUAA)("denominazioneSuggestions",a.suggestionsDenominazione),y.Bb(3),y.mc("columns",a.cols)("value",a.paginaDomande.risultati)("autoLayout",!0)("totalRecords",a.paginaDomande.elementiTotali)("paginator",!0)("rows",a.elementiPerPagina)("lazy",!0)("selection",a.domande),y.Bb(6),y.mc("ngIf",a.showButtonVisualizzaDatiAggregati),y.Bb(1),y.mc("ngIf",a.showButtonDownloadDatiCapiAgea),y.Bb(1),y.mc("ngIf",a.showNonAmmissibile),y.Bb(1),y.mc("ngIf",a.showButtonAvviaCalcolo),y.Bb(1),y.mc("ngIf",a.showButtonCalcoloCapi),y.Bb(1),y.mc("ngIf",a.showButtonCalcoloCapiControllo),y.Bb(1),y.mc("ngIf",a.showButtonAvviaControlliLiquidazione),y.Bb(1),y.mc("ngIf",a.showButtonCreaElencoLiquidazione),y.Bb(5),y.Qc(" ",a.processiInCorso," ")}}var yr,Br,Nr,zr=((yr=function(){function t(i,e,a,o,n,r,c,s,l,u){_classCallCheck(this,t),this.istruttoriaService=i,this.route=e,this.router=a,this.filtroAccoppiati=o,this.elencoDomandeService=n,this.messageService=r,this.domandaIntegrativaService=c,this.loader=s,this.http=l,this._configuration=u,this.numeroPagina=1,this.elementiPerPagina=10,this.disableAvviaCalcolo=!1,this.disableOkCalcolo=!1,this.valueProgressbar=0,this.domande=[],this.showButtonCalcoloCapi=!1,this.showButtonAvviaCalcolo=!1,this.showButtonCalcoloCapiControllo=!1,this.showButtonVisualizzaDatiAggregati=!1,this.showButtonDownloadDatiCapiAgea=!1,this.showButtonAvviaControlliLiquidazione=!1,this.showColumnDI=!1,this.showButtonCreaElencoLiquidazione=!1,this.showElencoLiquidazione=!1,this.idList=[],this.showNonAmmissibile=!1,this.processiInCorso=$n.a.NESSUN_PROCESSO_DI_CONTROLLO,this.labels=$n.a,this.timeout=3e4}return _createClass(t,[{key:"ngOnInit",value:function(){this.loader.setTimeout(48e4),this.statoSostegno=this.route.routeConfig.path,this.table=[],this.setParentTab(),this.setSostegno(),this.setSubProcessi(),this.setFiltroAccoppiati(),this.refreshProcessi(),this.autocompleteCuaa(),this.cols="PAGAMENTO_AUTORIZZATO"===this.statoSostegno?[{field:"cuaaIntestatario",header:"CUAA"},{field:"numeroDomanda",header:"Numero Domanda"},{field:"ragioneSociale",header:"Descrizione Impresa"},{field:null,header:"Elenco Liquidazione"}]:[{field:"cuaaIntestatario",header:"CUAA"},{field:"numeroDomanda",header:"Numero Domanda"},{field:"ragioneSociale",header:"Descrizione Impresa"}],this.paginaDomande=new Ii}},{key:"setSostegno",value:function(){console.log("stato sostegno: "+this.statoSostegno),this.selectedSostegno=this.router.url.split("/").filter((function(t){return t===ai.a.cruscottoAccoppiatoZootecnia})).length>0?g.a.ZOOTECNIA:g.a.SUPERFICIE,this.selectedSostegno==g.a.ZOOTECNIA?(this.idTipoProcesso="CLC_ACCOPPIATO_ZOOTECNIA","RICHIESTO"==this.statoSostegno?this.showButtonCalcoloCapi=!0:"INTEGRATO"==this.statoSostegno?(this.showButtonCalcoloCapiControllo=!0,this.showButtonVisualizzaDatiAggregati=!0,this.showButtonDownloadDatiCapiAgea=!0,this.showColumnDI=!0,this.showButtonAvviaCalcolo=!0):"NON_AMMISSIBILE"==this.statoSostegno?(this.showButtonCalcoloCapiControllo=!0,this.showColumnDI=!0):"CONTROLLI_CALCOLO_KO"==this.statoSostegno?(this.showButtonAvviaCalcolo=!0,this.showNonAmmissibile=!0):"CONTROLLI_CALCOLO_OK"==this.statoSostegno?"controlliLiquidabilita"===this.parent?this.showButtonAvviaControlliLiquidazione=!0:this.showButtonAvviaCalcolo=!0:"CONTROLLI_LIQUIDABILE_KO"==this.statoSostegno?this.showButtonAvviaControlliLiquidazione=!0:this.showColumnDI=!0):(this.idTipoProcesso="CLC_ACCOPPIATO_SUPERFICIE","controlliLiquidabilita"==this.parent&&(this.idTipoProcesso=u.a.CTRL_LIQ_ACC_SUPERFICIE),"liquidazione"==this.parent&&(this.idTipoProcesso=u.a.CTRL_INTERSOSTEGNO_ACC_SUPERFICIE),"RICHIESTO"===this.statoSostegno?this.showButtonAvviaCalcolo=!0:"CONTROLLI_CALCOLO_OK"===this.statoSostegno?"controlliLiquidabilita"===this.parent?this.showButtonAvviaControlliLiquidazione=!0:this.showButtonAvviaCalcolo=!0:"CONTROLLI_CALCOLO_KO"==this.statoSostegno?(this.showNonAmmissibile=!0,this.showButtonAvviaCalcolo=!0):"CONTROLLI_LIQUIDABILE_KO"==this.statoSostegno?this.showButtonAvviaControlliLiquidazione=!0:"LIQUIDABILE"==this.statoSostegno&&"liquidazione"==this.parent?(this.idTipoProcesso=u.a.CTRL_INTERSOSTEGNO_ACC_SUPERFICIE,this.showButtonCreaElencoLiquidazione=!0):"CONTROLLI_INTERSOSTEGNO_OK"==this.statoSostegno&&"liquidazione"==this.parent||"PAGAMENTO_NON_AUTORIZZATO"==this.statoSostegno&&"liquidazione"==this.parent?this.showButtonCreaElencoLiquidazione=!0:"PAGAMENTO_AUTORIZZATO"==this.statoSostegno&&"liquidazione"==this.parent&&(this.showElencoLiquidazione=!0))}},{key:"setSubProcessi",value:function(){var t=this;this.subIstruttoria=this.route.params.subscribe((function(i){t.idIstruttoria=i.idIstruttoria,t.getIstruttoria(i.idIstruttoria),t.getListaProcessiAttiviIstruttoria(i.idIstruttoria)}))}},{key:"getIstruttoria",value:function(t){var i=this;this.istruttoriaService.getIstruttoria(t).subscribe((function(t){i.dettaglioIstruttoria=t,console.log("Istruttoria:"),console.log(i.dettaglioIstruttoria)}))}},{key:"getListaProcessiAttiviIstruttoria",value:function(t){var i=this;this.istruttoriaService.getListaProcessiAttivi(encodeURIComponent('{ "idIstruttoria": '+t+" }")).subscribe((function(t){i.listaProcessiAttivi=t,null!=i.listaProcessiAttivi?i.listaProcessiAttivi.map((function(t){t.idTipoProcesso===i.idTipoProcesso&&(i.disableAvviaCalcolo=!0,i.valueProgressbar=t.percentualeAvanzamento,i.disableOkCalcolo=!0)})):i.listaProcessiAttivi=new Array}))}},{key:"setParentTab",value:function(){"calcoloAccoppiatoZootecnia"===this.route.parent.snapshot.routeConfig.path&&(this.parent="calcoloAccoppiatoZootecnia"),"calcoloAccoppiatoSuperficie"===this.route.parent.snapshot.routeConfig.path&&(this.parent="calcoloAccoppiatoSuperficie"),"controlliLiquidabilita"===this.route.parent.snapshot.routeConfig.path&&(this.parent="controlliLiquidabilita"),"liquidazione"===this.route.parent.snapshot.routeConfig.path&&(this.parent="liquidazione")}},{key:"setFiltroAccoppiati",value:function(){this.filtroAccoppiati.elencoDomande=this,this.filtroAccoppiati.filtro=new er,this.filtroAccoppiati.filtro.statoSostegno=this.statoSostegno,this.filtroAccoppiati.filtro.statoDomanda="RICEVIBILE",this.filtroAccoppiati.filtro.sostegno=this.selectedSostegno,this.filtroAccoppiati.filtro.interventi=this.selectedSostegno==g.a.ZOOTECNIA?["310","311","313","315","320","321","316","318","322"]:["122","123","124","125","128","129","132","138","126"],this.filtroAccoppiati.filtro.idDatiSettore=this.idIstruttoria}},{key:"refreshProcessi",value:function(){var t=this;this.interval=setInterval((function(){null!=t.listaProcessiAttivi&&t.listaProcessiAttivi.length>0&&(console.log("Verifica avanzamento processo"),t.listaProcessiAttivi.forEach((function(i){t.istruttoriaService.getProcesso(i.idProcesso).subscribe((function(e){if(i.percentualeAvanzamento=e.percentualeAvanzamento,e.percentualeAvanzamento>=100||"PROCESSO_KO"===e.idStatoProcesso){var a=t.listaProcessiAttivi.indexOf(i);-1!==a&&t.listaProcessiAttivi.splice(a,1),i.idTipoProcesso===t.idTipoProcesso&&(t.disableOkCalcolo=!1,t.disableAvviaCalcolo=!1)}}))})))}),1e4),this.checkStatoAvanzamento()}},{key:"autocompleteCuaa",value:function(){var t=this,i=new ar.a;i.sostegno=this.filtroAccoppiati.filtro.sostegno,i.statoDomanda=this.filtroAccoppiati.filtro.statoDomanda,i.statoSostegno=this.filtroAccoppiati.filtro.statoSostegno,this.elencoDomandeService.getSuggestionsAutocomplete(encodeURIComponent(JSON.stringify(i))).subscribe((function(i){if(t.suggestionsCUAA=[],t.suggestionsDenominazione=[],i){var e,a=_createForOfIteratorHelper(i);try{for(a.s();!(e=a.n()).done;){var o=e.value;t.suggestionsCUAA.push(o.cuaa),t.suggestionsDenominazione.push(o.denominazione)}}catch(n){a.e(n)}finally{a.f()}}}))}},{key:"avviaCalcoloCapiConControllo",value:function(){var t=this;if(this.idTipoProcesso="CLC_ACCOPPIATO_ZOOTECNIA",this.domande&&0!=this.domande.length){var i=this.domande.filter((function(t){return null!=t.identificativoDI}));null!=i&&i.length>0?this.messageService.add(d.a.getToast("tst",d.b.warn,d.a.calcoloAccoppiatiWarningDomandePresentate)):"INTEGRATO"!=this.statoSostegno&&"NON_AMMISSIBILE"!=this.statoSostegno||this.route.params.subscribe((function(i){t.istruttoriaService.getDatiDettaglio(i.idIstruttoria,{identificativoSostegno:g.a.ZOOTECNIA}).subscribe((function(i){var e=new Date,a=new Date(i.sostegnoDuDi.dtChiusuraDomanda);if(e<=a)t.calcoloCapi();else{var o=new Date(i.sostegnoDuDi.dtAperturaDomanda);t.messageService.add(d.a.getToast("tst",d.b.warn,d.a.calcoloFinestraTemporaleDomandaIntegrativa(o.toLocaleDateString(),a.toLocaleDateString())))}}))}))}else this.messageService.add(d.a.getToast("tst",d.b.warn,d.a.calcoloAccoppiatiWarningNumeroDomande))}},{key:"avviaCalcoloCapi",value:function(){this.idTipoProcesso="CLC_ACCOPPIATO_ZOOTECNIA",this.domande&&0!=this.domande.length?this.calcoloCapi():this.messageService.add(d.a.getToast("tst",d.b.warn,d.a.calcoloAccoppiatiWarningNumeroDomande))}},{key:"calcoloCapi",value:function(){var t=this,i=this.domande.map((function(t){return t.id}));if(this.Checkbox.checked){var e=JSON.stringify(this.filtroAccoppiati.filtro),a='{ "numeroElementiPagina": '+this.paginaDomande.elementiTotali+', "pagina": 0}';this.elencoDomandeService.getPaginaDomandeAttuale(encodeURIComponent(e),encodeURIComponent(a),encodeURIComponent("")).subscribe((function(i){i.risultati.forEach((function(i){t.idList.push(i.id)}));var e={campagna:t.dettaglioIstruttoria.annoRiferimento,idsDomande:t.idList};console.log(e),t.istruttoriaService.avviaAccoppiatoZootecnia(e).subscribe((function(i){t.runStatoAvanzamentoProcesso(t.idList.length),t.messageService.add(d.a.getToast("tst",d.b.success,t.idList.length>1?d.a.calcoloAccoppiatoACZProcessoAvviato(t.domande.length):d.a.calcoloAccoppiatoACZProcessoAvviatoDomandaSingola))}),(function(i){"BRIAMPRT001"==i.error.message?t.messageService.add(d.a.getToast("tst",d.b.warn,d.a.calcoloAccoppiatoACZProcessoControllo)):(console.log(i.error.message),t.messageService.add(d.a.getToast("tst",d.b.error,d.a.calcoloAccoppiatiErroreProcesso)))})),t.idList=[]}))}else{var o={campagna:this.dettaglioIstruttoria.annoRiferimento,idsDomande:i};console.log(o),this.istruttoriaService.avviaAccoppiatoZootecnia(o).subscribe((function(e){t.messageService.add(d.a.getToast("tst",d.b.success,i.length>1?d.a.calcoloAccoppiatoACZProcessoAvviato(t.domande.length):d.a.calcoloAccoppiatoACZProcessoAvviatoDomandaSingola)),t.runStatoAvanzamentoProcesso(i.length)}),(function(i){"BRIAMPRT001"==i.error.message?t.messageService.add(d.a.getToast("tst",d.b.warn,d.a.calcoloAccoppiatoACZProcessoControllo)):(console.log(i.error.message),t.messageService.add(d.a.getToast("tst",d.b.error,d.a.calcoloAccoppiatiErroreProcesso)))}))}}},{key:"dettagliClick",value:function(t){this.router.navigate(["./"+ai.a.dettaglioDomanda.replace(":"+ai.a.dettaglioDomandaParam,t.id.toString())],{relativeTo:this.route.parent.parent})}},{key:"loadData",value:function(t){var i=this;console.log("filtro:"),console.log(this.filtroAccoppiati.filtro),null!=t&&null!=t.sortField&&console.log(t.sortField),console.log("this.numeroPagina "+this.numeroPagina+" event.first "+t.first+" this.elementiPerPagina  "+this.elementiPerPagina),this.numeroPagina=Math.floor(t.first/this.elementiPerPagina);var e=JSON.stringify(this.filtroAccoppiati.filtro),a='{ "numeroElementiPagina": '+this.elementiPerPagina+', "pagina": '+this.numeroPagina+"}",o="";null!=t&&null!=t.sortField&&(o='[{ "proprieta": "'+t.sortField+'", "ordine": "'+this.istruttoriaService.getOrdine(t.sortOrder)+'"}]'),this.elencoDomandeService.getPaginaDomandeAttuale(encodeURIComponent(e),encodeURIComponent(a),encodeURIComponent(o)).subscribe((function(t){if(null!=t){if(i.paginaDomande=t,console.log("this.paginaDomande"),console.log(i.paginaDomande),i.Checkbox.checked){var e,a=_createForOfIteratorHelper(i.paginaDomande.risultati);try{for(a.s();!(e=a.n()).done;){var o=e.value;i.domande.push(o)}}catch(n){a.e(n)}finally{a.f()}}}else i.paginaDomande.risultati=[],i.paginaDomande.elementiTotali=0})),this.table.first=0}},{key:"avviaNonAmmissibilita",value:function(){var t=this,i=encodeURIComponent(this.selectedSostegno),e=encodeURIComponent("NON_AMMISSIBILE");this.istruttoriaService.putAmmissibilita(this.domande,i,e).subscribe((function(i){t.refresh()}))}},{key:"refresh",value:function(){window.location.reload()}},{key:"getPercentualeAvanzamentoProcesso",value:function(t){var i=100;return null!=this.listaProcessiAttivi&&this.listaProcessiAttivi.length>0&&this.listaProcessiAttivi.map((function(e){e.idTipoProcesso===t&&(i=e.percentualeAvanzamento)})),i}},{key:"avviaCalcoloPremioAccoppiati",value:function(){var t=this;if(0!=this.domande.length){var i=this.domande.map((function(t){return t.id}));if(this.Checkbox.checked){var e=JSON.stringify(this.filtroAccoppiati.filtro),a='{ "numeroElementiPagina": '+this.paginaDomande.elementiTotali+', "pagina": 0}';this.elencoDomandeService.getPaginaDomandeAttuale(encodeURIComponent(e),encodeURIComponent(a),encodeURIComponent("")).subscribe((function(i){t.idList=[],i.risultati.forEach((function(i){t.idList.push(i.id)})),t.calcoloPremioAccoppiati(t.idList)}))}else this.calcoloPremioAccoppiati(i)}else this.messageService.add(d.a.getToast("tst",d.b.warn,d.a.calcoloAccoppiatiWarningNumeroDomande))}},{key:"calcoloPremioAccoppiati",value:function(t){var i=this;this.selectedSostegno==g.a.ZOOTECNIA?(this.idTipoProcesso="CLC_PREMIO_ACCOPPIATO_ZOOTECNIA",this.istruttoriaService.avviaPremioAcz({annoCampagna:this.dettaglioIstruttoria.annoRiferimento,idsDomande:t}).subscribe((function(e){i.messageService.add(d.a.getToast("tst",d.b.success,t.length>1?d.a.calcoloAccoppiatoACZProcessoAvviato(t.length):d.a.calcoloAccoppiatoACZProcessoAvviatoDomandaSingola)),i.runStatoAvanzamentoProcesso(t.length)}),(function(t){"BRIDUACZ124"==t.error.message?i.messageService.add(d.a.getToast("tst",d.b.warn,d.a.calcoloPremioACZProcessoControllo)):"BRIDUACZ110"==t.error.message?i.messageService.add(d.a.getToast("tst",d.b.warn,d.a.calcoloFinestraTemporaleDomandaIntegrativaACZ)):(console.log(t.error.message),i.messageService.add(d.a.getToast("tst",d.b.error,d.a.calcoloAccoppiatiErroreProcesso)))}))):this.selectedSostegno==g.a.SUPERFICIE&&(this.idTipoProcesso=u.a.ACC_SUPERFICIE,this.istruttoriaService.avviaAccoppiatoSuperficie({annoCampagna:this.dettaglioIstruttoria.annoRiferimento,idsDomande:t}).subscribe((function(e){i.messageService.add(d.a.getToast("tst",d.b.success,t.length>1?d.a.calcoloAccoppiatoACSProcessoAvviato(t.length):d.a.calcoloAccoppiatoACSProcessoAvviatoDomandaSingola)),i.runStatoAvanzamentoProcesso(t.length)}),(function(t){"BRIDUACS088"==t.error.message?i.messageService.add(d.a.getToast("tst",d.b.warn,d.a.calcoloAccoppiatoACSProcessoControllo)):(console.log(t.error.message),i.messageService.add(d.a.getToast("tst",d.b.error,d.a.calcoloAccoppiatiErroreProcesso)))})))}},{key:"openPopupDatiAggregati",value:function(){this.popupVisibile=!0}},{key:"closePopupDatiAggregati",value:function(){this.popupVisibile=!1}},{key:"ngOnDestroy",value:function(){clearInterval(this.interval),this.loader.resetTimeout()}},{key:"selezionaTutto",value:function(t,i){this.domande=t?this.paginaDomande.risultati:[]}},{key:"downloadDatiCapiAgea",value:function(){this.domandaIntegrativaService.getFileDatiCapiAgea(this.idIstruttoria).subscribe((function(t){O.saveAs(t,"CAPI_ZOOTECNIA_APPAG.csv")}))}},{key:"checkStatoAvanzamento",value:function(){var t=this,i=encodeURIComponent(JSON.stringify({tipoProcesso:this.idTipoProcesso,statoProcesso:tr.a.RUN}));this.http.get(this._configuration.urlControlloAntimafiaStatoAvanzamento+i).subscribe((function(i){String(i.esito)!==$n.a.NESSUN_PROCESSO_DI_CONTROLLO?t.runStatoAvanzamentoProcesso(i.numeroDomandeDaElaborare):t.processiInCorso=$n.a.NESSUN_PROCESSO_DI_CONTROLLO}),(function(i){t.timer.unsubscribe(),t.processiInCorso=$n.a.NESSUN_PROCESSO_DI_CONTROLLO}))}},{key:"runStatoAvanzamentoProcesso",value:function(t){var i=this,e=0;"CLC_ACCOPPIATO_ZOOTECNIA"==this.idTipoProcesso?this.processiInCorso=d.a.processoDiCalcoloCapiAmm(String(e),String(t)):"CLC_ACCOPPIATO_SUPERFICIE"==this.idTipoProcesso?this.processiInCorso=d.a.processoDiCalcoloACS(String(e),String(t)):"CLC_PREMIO_ACCOPPIATO_ZOOTECNIA"==this.idTipoProcesso?this.processiInCorso=d.a.processoDiCalcoloPremioCapi(String(e),String(t)):"CTRL_LIQUIDABILITA_ACCOPPIATO_ZOOTECNIA"==this.idTipoProcesso||"CTRL_LIQUIDABILITA_ACCOPPIATO_SUPERFICIE"==this.idTipoProcesso?this.processiInCorso=d.a.processoDiControlliLiquidazione(String(e),String(t)):"CTRL_INTERSOSTEGNO_ACC_SUPERFICIE"==this.idTipoProcesso&&(this.processiInCorso=d.a.processoDiControlliIntersostegnoACS(String(e),String(t)));var a=encodeURIComponent(JSON.stringify({tipoProcesso:this.idTipoProcesso,statoProcesso:tr.a.RUN}));this.timer=Object(Xn.a)(0,this.timeout).subscribe((function(o){i.http.get(i._configuration.urlControlloAntimafiaStatoAvanzamento+a).subscribe((function(a){if(o>1&&String(a.esito)===$n.a.NESSUN_PROCESSO_DI_CONTROLLO)return i.timer.unsubscribe(),i.processiInCorso=$n.a.NESSUN_PROCESSO_DI_CONTROLLO,void i.refresh();d.a.isUndefinedOrNull(a.totaleDomandeGestite)||(e=a.totaleDomandeGestite,"CLC_ACCOPPIATO_ZOOTECNIA"==i.idTipoProcesso?i.processiInCorso=d.a.processoDiCalcoloCapiAmm(String(e),String(t)):"CLC_ACCOPPIATO_SUPERFICIE"==i.idTipoProcesso?i.processiInCorso=d.a.processoDiCalcoloACS(String(e),String(t)):"CLC_PREMIO_ACCOPPIATO_ZOOTECNIA"==i.idTipoProcesso?i.processiInCorso=d.a.processoDiCalcoloPremioCapi(String(e),String(t)):"CTRL_LIQUIDABILITA_ACCOPPIATO_ZOOTECNIA"==i.idTipoProcesso||"CTRL_LIQUIDABILITA_ACCOPPIATO_SUPERFICIE"==i.idTipoProcesso?i.processiInCorso=d.a.processoDiControlliLiquidazione(String(e),String(t)):"CTRL_INTERSOSTEGNO_ACC_SUPERFICIE"==i.idTipoProcesso&&(i.processiInCorso=d.a.processoDiControlliIntersostegnoACS(String(e),String(t)))),+e>=+t&&(i.timer.unsubscribe(),i.processiInCorso=$n.a.NESSUN_PROCESSO_DI_CONTROLLO,i.refresh())}),(function(t){i.timer.unsubscribe(),i.processiInCorso=$n.a.NESSUN_PROCESSO_DI_CONTROLLO}))}))}},{key:"setStatusNonAmmissibile",value:function(){var t=this;if(0!=this.domande.length){var i=this.domande.map((function(t){return t.id}));if(this.Checkbox.checked){var e=JSON.stringify(this.filtroAccoppiati.filtro),a='{ "numeroElementiPagina": '+this.paginaDomande.elementiTotali+', "pagina": 0}';this.elencoDomandeService.getPaginaDomandeAttuale(encodeURIComponent(e),encodeURIComponent(a),encodeURIComponent("")).subscribe((function(i){t.idList=[],i.risultati.forEach((function(i){t.idList.push(i.id)})),t.doSetStatusNonAmmissibile(t.idList)}))}else this.doSetStatusNonAmmissibile(i)}else this.messageService.add(d.a.getToast("tst",d.b.warn,d.a.calcoloAccoppiatiWarningNumeroDomande))}},{key:"doSetStatusNonAmmissibile",value:function(t){var i,e=this;this.selectedSostegno==g.a.ZOOTECNIA?i="az":this.selectedSostegno==g.a.SUPERFICIE&&(i="as"),this.istruttoriaService.aggiornaStatoDomande(i,{idsDomande:t,identificativoSostegno:this.selectedSostegno,identificativoStatoLavSostegno:"NON_AMMISSIBILE",annoCampagna:this.dettaglioIstruttoria.annoRiferimento}).subscribe((function(t){e.messageService.add(d.a.getToast("tst",d.b.success,d.a.OPERAZIONE_OK)),e.refresh()}),(function(t){"BRIDUACZ124"==t.error.message?e.messageService.add(d.a.getToast("tst",d.b.warn,d.a.calcoloPremioACZProcessoControllo)):"BRIDUACS088"==t.error.message?e.messageService.add(d.a.getToast("tst",d.b.warn,d.a.calcoloAccoppiatoACSProcessoControllo)):"BRIDUACZ110"==t.error.message?e.messageService.add(d.a.getToast("tst",d.b.warn,d.a.finestraTemporaleDomandaIntegrativaChiusa)):(console.log(t.error.message),e.messageService.add(d.a.getToast("tst",d.b.error,d.a.calcoloAccoppiatiErroreProcesso)))}))}},{key:"avviaControlliLiquidazione",value:function(){var t=this;if(0!=this.domande.length){var i=this.domande.map((function(t){return t.id}));if(this.Checkbox.checked){var e=JSON.stringify(this.filtroAccoppiati.filtro),a='{ "numeroElementiPagina": '+this.paginaDomande.elementiTotali+', "pagina": 0}';this.elencoDomandeService.getPaginaDomandeAttuale(encodeURIComponent(e),encodeURIComponent(a),encodeURIComponent("")).subscribe((function(i){t.idList=[],i.risultati.forEach((function(i){t.idList.push(i.id)})),t.avviaCalcoloControlliLiquidazione(t.idList)}))}else this.avviaCalcoloControlliLiquidazione(i)}else this.messageService.add(d.a.getToast("tst",d.b.warn,d.a.calcoloAccoppiatiWarningNumeroDomande))}},{key:"avviaCalcoloControlliLiquidazione",value:function(t){var i,e=this;this.selectedSostegno==g.a.ZOOTECNIA?(i="az",this.idTipoProcesso="CTRL_LIQUIDABILITA_ACCOPPIATO_ZOOTECNIA"):this.selectedSostegno==g.a.SUPERFICIE&&(i="as",this.idTipoProcesso="CTRL_LIQUIDABILITA_ACCOPPIATO_SUPERFICIE"),this.istruttoriaService.avviaControlliLiquidazione(t,i).subscribe((function(i){e.messageService.add(d.a.getToast("tst",d.b.success,t.length>1?d.a.calcoloControlliLiquidazioneAvviato(t.length):d.a.calcoloControlliLiquidazioneAvviatoDomandaSingola)),e.runStatoAvanzamentoProcesso(t.length)}),(function(t){"CTRLLIQTAACZ"==t.error.message||"CTRLLIQTAACS"==t.error.message?e.messageService.add(d.a.getToast("tst",d.b.warn,d.a.calcoloControlliLiquidazioneProcessoControllo)):(console.log(t.error.message),e.messageService.add(d.a.getToast("tst",d.b.error,d.a.calcoloAccoppiatiErroreProcesso)))}))}},{key:"avviaControlloIntersostegnoACS",value:function(){var t=this;if(this.idTipoProcesso="CTRL_INTERSOSTEGNO_ACC_SUPERFICIE",0!=this.domande.length){var i=this.domande.map((function(t){return t.id}));if(this.Checkbox.checked){var e=JSON.stringify(this.filtroAccoppiati.filtro),a='{ "numeroElementiPagina": '+this.paginaDomande.elementiTotali+', "pagina": 0}';this.elencoDomandeService.getPaginaDomandeAttuale(encodeURIComponent(e),encodeURIComponent(a),encodeURIComponent("")).subscribe((function(i){t.idList=[],i.risultati.forEach((function(i){t.idList.push(i.id)})),t.avviaCalcoloControlloIntersostegnoACS(t.idList)}))}else this.avviaCalcoloControlloIntersostegnoACS(i)}else this.messageService.add(d.a.getToast("tst",d.b.warn,d.a.calcoloAccoppiatiWarningNumeroDomande))}},{key:"avviaCalcoloControlloIntersostegnoACS",value:function(t){var i=this;this.istruttoriaService.avviaControlliIntersostegnoACS({annoCampagna:this.dettaglioIstruttoria.annoRiferimento,idsDomande:t}).toPromise().then((function(e){i.messageService.add(d.a.getToast("tst",d.b.success,t.length>1?d.a.calcoloControllIntersostegno(t.length):d.a.calcoloControlliIntersostegnoDomandaSingola)),i.runStatoAvanzamentoProcesso(t.length)}),(function(t){i.messageService.add("CTRLLIQTAACS"==t.error.message?d.a.getToast("tst",d.b.warn,d.a.calcoloControlliIntersostegnoProcessoControllo):d.a.getToast("tst",d.b.error,d.a.calcoloAccoppiatiErroreProcesso))}))}},{key:"downloadVerbaleLiquidazione",value:function(t){var i=this,e=encodeURIComponent(JSON.stringify({idDomanda:t.id,codiceElenco:t.codiceElenco}));this.istruttoriaService.getDocumentoElencoLiquidazione(e).subscribe((function(i){O.saveAs(i,t.codiceElenco.toString().concat(".pdf"))}),(function(t){i.messageService.add(d.a.getToast("tst",d.b.error,d.a.erroreRecuperoDati))}))}}]),t}()).\u0275fac=function(t){return new(t||yr)(y.Nb(l.a),y.Nb(c.a),y.Nb(c.e),y.Nb(ir),y.Nb(Ti.a),y.Nb(B.d),y.Nb(or.a),y.Nb(qn.a),y.Nb(nr.b),y.Nb(oi.a))},yr.\u0275cmp=y.Hb({type:yr,selectors:[["app-elenco-accoppiati"]],viewQuery:function(t,i){var e;1&t&&(y.Uc(rr,!0),y.Uc(cr,!0)),2&t&&(y.Ac(e=y.cc())&&(i.table=e.first),y.Ac(e=y.cc())&&(i.Checkbox=e.first))},inputs:{popupVisibile:"popupVisibile"},decls:1,vars:1,consts:[["class","card no-margin","class","ui-g-12 boxgrey","style","padding-top:50px;",4,"ngIf"],[1,"ui-g-12","boxgrey",2,"padding-top","50px"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[1,"ui-g-3"],[3,"cuaaSuggestions","denominazioneSuggestions"],[1,"ui-g-9"],["margin-top","30px",1,"table-responsive"],[3,"columns","value","autoLayout","totalRecords","paginator","rows","lazy","selection","onLazyLoad","selectionChange"],["table",""],["pTemplate","header","class","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"searchbutton"],["class","ui-g-3",4,"ngIf"],["class","ui-g-4",4,"ngIf"],[1,"messaggiprocesso","boxgrey_bottom"],["binary","true",3,"ngModel","click","ngModelChange"],["checkBox",""],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"colori-per-numeri"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"],[3,"pSelectableRow"],[3,"value"],["style","text-align:center",4,"ngIf"],["pButton","","type","button",1,"btn","btn-green",3,"click"],[2,"text-align","center"],["type","button",1,"btn","btn-link",3,"click"],["pButton","","type","button","type","submit",1,"ui-button-success",3,"click"],[1,"ui-g-4"]],template:function(t,i){1&t&&y.Mc(0,Pr,27,22,"div",0),2&t&&y.mc("ngIf",i.idIstruttoria)},styles:[".boxgrey_bottom[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#0d5f3f;font-weight:700;font-size:18px;text-transform:uppercase;padding-bottom:10px;margin-bottom:15px}.boxgrey_bottom[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]{border-bottom:2px solid #0d5f3f}.messaggiprocesso[_ngcontent-%COMP%]{margin-top:20px}"]}),yr),Rr=e("QqKj"),Mr=e("c8LR"),Er=function(t){return{"is-invalid":t}},kr=((Nr=function(){function t(i,e,a){_classCallCheck(this,t),this.filtroAccoppiati=i,this.router=e,this.translateService=a,this.inputRicerca=new Rr.a}return _createClass(t,[{key:"ngOnInit",value:function(){this.selectedSostegno=this.router.url.split("/").filter((function(t){return t===ai.a.cruscottoAccoppiatoZootecnia})).length>0?g.a.ZOOTECNIA:g.a.SUPERFICIE,this.initFiltroSettori(),this.initFiltroCampioni()}},{key:"initFiltroCampioni",value:function(){this.campioni=[{label:"SI",title:"S\xec"},{label:"NO",title:"No"},{label:"TUTTI",title:"Tutti"}],this.selectedCampione=this.campioni[2]}},{key:"initFiltroSettori",value:function(){this.settori=this.selectedSostegno==g.a.ZOOTECNIA?[{id:"310",label:"M1",title:"M1 - Vacche da latte (310)"},{id:"311",label:"M2",title:"M2 - Vacche da latte in zone di montagna (311)"},{id:"313",label:"M4",title:"M4 - Vacche nutrici (313)"},{id:"315",label:"M5",title:"M5- Bovini macellati (315)"},{id:"320",label:"M6",title:"M6 - Agnelle (320)"},{id:"321",label:"M7",title:"M7 - Ovicaprini macellati (321)"},{id:"316",label:"M19",title:"M19 - Bovini macellati - Allevati 12 mesi (316)"},{id:"318",label:"M19",title:"M19 - Bovini macellati - Etichettatura (318)"},{id:"322",label:"M20",title:"M20 - Vacche nutrici non iscritte (322)"}]:[{id:"122",label:"M8",title:this.translateService.instant("FILTRI_INTERVENTI_SUPERFICI.soia")},{id:"124",label:"M9",title:this.translateService.instant("FILTRI_INTERVENTI_SUPERFICI.frumento")},{id:"123",label:"M10",title:this.translateService.instant("FILTRI_INTERVENTI_SUPERFICI.proteaginose")},{id:"125",label:"M11",title:this.translateService.instant("FILTRI_INTERVENTI_SUPERFICI.leguminose")},{id:"128",label:"M14",title:this.translateService.instant("FILTRI_INTERVENTI_SUPERFICI.pomodoro")},{id:"129",label:"M15",title:this.translateService.instant("FILTRI_INTERVENTI_SUPERFICI.oliviStandard")},{id:"132",label:"M16",title:this.translateService.instant("FILTRI_INTERVENTI_SUPERFICI.olivi75")},{id:"138",label:"M17",title:this.translateService.instant("FILTRI_INTERVENTI_SUPERFICI.oliviQualita")}],this.selectedSettori=this.settori}},{key:"filterCUAA",value:function(t){for(var i=[],e=t.query,a=0;a<this.cuaaSuggestions.length;a++){var o=this.cuaaSuggestions[a];o.toLowerCase().indexOf(e.toLowerCase())>=0&&i.push(o)}this.cuaaS=i}},{key:"filterDenominazione",value:function(t){for(var i=[],e=t.query,a=0;a<this.denominazioneSuggestions.length;a++){var o=this.denominazioneSuggestions[a];o.toLowerCase().indexOf(e.toLowerCase())>=0&&i.push(o)}this.denominazioneS=i}},{key:"filtroSettoreDisabled",value:function(){return!1}},{key:"onSubmit",value:function(t){if(this.filtroAccoppiati.filtro.cuaa=t.value.cuaa,this.filtroAccoppiati.filtro.denominazione=t.value.denominazione,this.filtroAccoppiati.filtro.numero_domanda=t.value.numero_domanda,this.filtroAccoppiati.filtro.interventi=[],0==t.value.selectedSettori.length)for(var i=0;i<this.settori.length;i++)this.filtroAccoppiati.filtro.interventi.push(this.settori[i].id);else for(var e=0;e<t.value.selectedSettori.length;e++)this.filtroAccoppiati.filtro.interventi.push(t.value.selectedSettori[e].id);console.log(this.filtroAccoppiati),this.filtroAccoppiati.elencoDomande.loadData(this.filtroAccoppiati.elencoDomande.table)}}]),t}()).\u0275fac=function(t){return new(t||Nr)(y.Nb(ir),y.Nb(c.e),y.Nb(N.e))},Nr.\u0275cmp=y.Hb({type:Nr,selectors:[["app-filtro-accoppiati"]],inputs:{cuaaSuggestions:"cuaaSuggestions",denominazioneSuggestions:"denominazioneSuggestions"},decls:32,vars:14,consts:[[2,"padding-right","40px"],[1,""],[3,"ngSubmit"],["f","ngForm"],["placeholder","CUAA","name","cuaa","appValidaCuaaCompleto","",3,"ngModel","ngClass","suggestions","ngModelChange","completeMethod"],["cuaaInput","ngModel"],["placeholder","Descrizione Impresa","name","denominazione",3,"ngModel","suggestions","ngModelChange","completeMethod"],["placeholder","Numero Domanda","type","text","name","numero_domanda","pInputText","",2,"width","100%",3,"ngModel","ngModelChange"],["numeroDomandaInput","ngModel"],[1,"labelricerca"],["name","selectedSettori","multiple","multiple","checkbox","checkbox","optionLabel","title","defaultLabel","Seleziona settore/i",3,"filter","options","ngModel","disabled","ngModelChange"],[1,"colori-per-numeri"],[1,"searchbutton"],["pButton","","type","button","type","submit",1,"ui-button-success",2,"background","#0e5f3f",3,"disabled"]],template:function(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div",0),y.Tb(1,"h3"),y.Oc(2," FILTRA PER "),y.Sb(),y.Tb(3,"div",1),y.Tb(4,"form",2,3),y.bc("ngSubmit",(function(){y.Ec(e);var t=y.Bc(5);return i.onSubmit(t)})),y.Tb(6,"div"),y.Tb(7,"p-autoComplete",4,5),y.bc("ngModelChange",(function(t){return i.inputRicerca.cuaa=t}))("completeMethod",(function(t){return i.filterCUAA(t)})),y.Sb(),y.Sb(),y.Ob(9,"br"),y.Tb(10,"div"),y.Tb(11,"p-autoComplete",6),y.bc("ngModelChange",(function(t){return i.inputRicerca.denominazione=t}))("completeMethod",(function(t){return i.filterDenominazione(t)})),y.Sb(),y.Sb(),y.Ob(12,"br"),y.Tb(13,"div"),y.Tb(14,"input",7,8),y.bc("ngModelChange",(function(t){return i.inputRicerca.numero_domanda=t})),y.Sb(),y.Sb(),y.Ob(16,"br"),y.Tb(17,"div"),y.Tb(18,"label",9),y.Oc(19,"Settore"),y.Sb(),y.Tb(20,"p-multiSelect",10),y.bc("ngModelChange",(function(t){return i.selectedSettori=t})),y.Sb(),y.Sb(),y.Ob(21,"br"),y.Tb(22,"div"),y.Tb(23,"label",9),y.Oc(24," Risultati: "),y.Tb(25,"span",11),y.Oc(26),y.Sb(),y.Sb(),y.Sb(),y.Ob(27,"br"),y.Tb(28,"div"),y.Tb(29,"div",12),y.Tb(30,"button",13),y.Oc(31,"APPLICA FILTRI"),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=y.Bc(5),o=y.Bc(8);y.Bb(7),y.mc("ngModel",i.inputRicerca.cuaa)("ngClass",y.sc(12,Er,o.invalid))("suggestions",i.cuaaS),y.Bb(4),y.mc("ngModel",i.inputRicerca.denominazione)("suggestions",i.denominazioneS),y.Bb(3),y.mc("ngModel",i.inputRicerca.numero_domanda),y.Bb(6),y.mc("filter",!1)("options",i.settori)("ngModel",i.selectedSettori)("disabled",i.filtroSettoreDisabled()),y.Bb(6),y.Qc(" ",i.filtroAccoppiati.elencoDomande.paginaDomande.elementiTotali," "),y.Bb(4),y.mc("disabled",!a.valid)}},directives:[M.I,M.t,M.u,Tn.a,Mr.a,M.s,M.v,a.q,M.c,bo.a,Ji.a,k.b],styles:[".colori-per-numeri[_ngcontent-%COMP%]{background:#00985a;line-height:0;color:#fff;font-size:13px;border-radius:30px;display:inline;padding:0 7px}"]}),Nr),Lr=((Br=function(){function t(i,e){_classCallCheck(this,t),this.route=i,this.loader=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.setMenu(),this.loader.setTimeout(48e4)}},{key:"ngOnDestroy",value:function(){this.loader.resetTimeout()}},{key:"setMenu",value:function(){this.route.snapshot.routeConfig.path===ai.a.accoppiatoZootecniaRichiesto?this.menu2=new Array({routerLink:ai.a.dichiarazioni,label:"Dichiarazioni"},{routerLink:ai.a.capiAmmessi,label:"Capi Ammessi"},{routerLink:ai.a.capiRichiesti,label:"Capi Richiesti"},{routerLink:ai.a.controlliSostegno,label:"Controlli di sostegno"},{routerLink:ai.a.datiDomanda,label:"Dati di domanda"},{routerLink:ai.a.datiIstruttoria,label:"Inserimento dati Istruttoria"}):this.route.snapshot.routeConfig.path===ai.a.accoppiatoSuperficiRichiesto&&(this.menu2=new Array({routerLink:ai.a.superficiImpegnate,label:"Superfici Impegnate"},{routerLink:ai.a.dichiarazioni,label:"Dichiarazioni"},{routerLink:ai.a.controlliSostegno,label:"Controlli di sostegno"},{routerLink:ai.a.datiDomanda,label:"Dati di domanda"},{routerLink:ai.a.datiParticella,label:"Dati per Particella"},{routerLink:ai.a.datiIstruttoria,label:"Inserimento dati Istruttoria"}))}}]),t}()).\u0275fac=function(t){return new(t||Br)(y.Nb(c.a),y.Nb(qn.a))},Br.\u0275cmp=y.Hb({type:Br,selectors:[["app-dettaglio-accoppiati"]],decls:7,vars:1,consts:[[1,"ui-g","ui-fluid"],[1,"ui-g-12",2,"padding-bottom","0px !important"],[1,"ui-grid-fixed"],[1,"funzioni-grid","tabsmall",2,"margin-bottom","0px !important","margin-top","40px !important"],[3,"model"],[2,"width","100%"]],template:function(t,i){1&t&&(y.Tb(0,"div",0),y.Tb(1,"div",1),y.Tb(2,"div",2),y.Tb(3,"div",3),y.Ob(4,"p-tabMenu",4),y.Sb(),y.Sb(),y.Sb(),y.Tb(5,"div",5),y.Ob(6,"router-outlet"),y.Sb(),y.Sb()),2&t&&(y.Bb(4),y.mc("model",i.menu2))},directives:[yt.a,c.j],styles:[""]}),Br),wr=["table"];function _r(t,i){if(1&t&&(y.Tb(0,"td",12),y.Tb(1,"b"),y.Oc(2),y.Sb(),y.Sb()),2&t){var e=i.$implicit;y.Bb(2),y.Pc(e)}}function xr(t,i){1&t&&(y.Tb(0,"div",15),y.Oc(1," Analisi non presente "),y.Sb())}function Ur(t,i){if(1&t&&(y.Tb(0,"tbody"),y.Tb(1,"tr"),y.Tb(2,"th",16),y.Oc(3,"Cellule Somatiche"),y.Sb(),y.Tb(4,"td",17),y.Oc(5),y.gc(6,"number"),y.Sb(),y.Sb(),y.Tb(7,"tr"),y.Tb(8,"th",16),y.Oc(9,"Carica Batterica"),y.Sb(),y.Tb(10,"td",17),y.Oc(11),y.gc(12,"number"),y.Sb(),y.Sb(),y.Tb(13,"tr"),y.Tb(14,"th",16),y.Oc(15,"Contenuto Proteine"),y.Sb(),y.Tb(16,"td",17),y.Oc(17),y.gc(18,"number"),y.Sb(),y.Sb(),y.Sb()),2&t){var e=y.fc(2);y.Bb(5),y.Qc("",y.ic(6,3,e.produzioneLatte.tenoreCellule,"1.2-2")," litri"),y.Bb(6),y.Qc("",y.ic(12,6,e.produzioneLatte.tenoreBatteri,"1.2-2")," litri"),y.Bb(6),y.Qc("",y.ic(18,9,e.produzioneLatte.contenutoProteine,"1.2-2")," grammi")}}function Fr(t,i){1&t&&(y.Tb(0,"div",15),y.Oc(1," Alpeggio non presente "),y.Sb())}function Gr(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"th",10),y.Oc(2,"Dal: "),y.Sb(),y.Tb(3,"td",18),y.Oc(4),y.Sb(),y.Tb(5,"th",10),y.Oc(6,"Al: "),y.Sb(),y.Tb(7,"td",17),y.Oc(8),y.Sb(),y.Sb()),2&t){var e=i.$implicit;y.Bb(4),y.Pc(e.dtInizio),y.Bb(4),y.Pc(e.dtFine)}}function Vr(t,i){if(1&t&&(y.Tb(0,"tbody"),y.Mc(1,Gr,9,2,"tr",6),y.Sb()),2&t){var e=y.fc(2);y.Bb(1),y.mc("ngForOf",e.alpeggi)}}function Zr(t,i){if(1&t&&(y.Tb(0,"p-accordion"),y.Tb(1,"p-accordionTab",7),y.Tb(2,"h5",8),y.Oc(3,"Produzione e Analisi Latte"),y.Sb(),y.Tb(4,"table",9),y.Tb(5,"tbody"),y.Tb(6,"tr"),y.Tb(7,"th",10),y.Oc(8,"MESI"),y.Sb(),y.Mc(9,_r,3,1,"td",11),y.Sb(),y.Tb(10,"tr"),y.Tb(11,"th",10),y.Oc(12,"PRODUZIONE"),y.Sb(),y.Tb(13,"td",12),y.Oc(14),y.Sb(),y.Tb(15,"td",12),y.Oc(16),y.Sb(),y.Tb(17,"td",12),y.Oc(18),y.Sb(),y.Tb(19,"td",12),y.Oc(20),y.Sb(),y.Tb(21,"td",12),y.Oc(22),y.Sb(),y.Tb(23,"td",12),y.Oc(24),y.Sb(),y.Tb(25,"td",12),y.Oc(26),y.Sb(),y.Tb(27,"td",12),y.Oc(28),y.Sb(),y.Tb(29,"td",12),y.Oc(30),y.Sb(),y.Tb(31,"td",12),y.Oc(32),y.Sb(),y.Tb(33,"td",12),y.Oc(34),y.Sb(),y.Tb(35,"td",12),y.Oc(36),y.Sb(),y.Sb(),y.Tb(37,"tr"),y.Tb(38,"th",10),y.Oc(39,"ANALISI"),y.Sb(),y.Tb(40,"td",12),y.Oc(41),y.Sb(),y.Tb(42,"td",12),y.Oc(43),y.Sb(),y.Tb(44,"td",12),y.Oc(45),y.Sb(),y.Tb(46,"td",12),y.Oc(47),y.Sb(),y.Tb(48,"td",12),y.Oc(49),y.Sb(),y.Tb(50,"td",12),y.Oc(51),y.Sb(),y.Tb(52,"td",12),y.Oc(53),y.Sb(),y.Tb(54,"td",12),y.Oc(55),y.Sb(),y.Tb(56,"td",12),y.Oc(57),y.Sb(),y.Tb(58,"td",12),y.Oc(59),y.Sb(),y.Tb(60,"td",12),y.Oc(61),y.Sb(),y.Tb(62,"td",12),y.Oc(63),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Tb(64,"h5",8),y.Oc(65,"Valori Medi"),y.Sb(),y.Tb(66,"table",13),y.Mc(67,xr,2,0,"div",14),y.Mc(68,Ur,19,12,"tbody",5),y.Sb(),y.Tb(69,"h5",8),y.Oc(70,"Registrazione Alpeggio"),y.Sb(),y.Tb(71,"table",13),y.Mc(72,Fr,2,0,"div",14),y.Mc(73,Vr,2,1,"tbody",5),y.Sb(),y.Sb(),y.Sb()),2&t){var e=y.fc();y.Bb(9),y.mc("ngForOf",e.mesi),y.Bb(5),y.Pc(1==e.produzioneLatte.mesiProduzione.gennaio?"Si":"No"),y.Bb(2),y.Pc(1==e.produzioneLatte.mesiProduzione.febbraio?"Si":"No"),y.Bb(2),y.Pc(1==e.produzioneLatte.mesiProduzione.marzo?"Si":"No"),y.Bb(2),y.Pc(1==e.produzioneLatte.mesiProduzione.aprile?"Si":"No"),y.Bb(2),y.Pc(1==e.produzioneLatte.mesiProduzione.maggio?"Si":"No"),y.Bb(2),y.Pc(1==e.produzioneLatte.mesiProduzione.giugno?"Si":"No"),y.Bb(2),y.Pc(1==e.produzioneLatte.mesiProduzione.luglio?"Si":"No"),y.Bb(2),y.Pc(1==e.produzioneLatte.mesiProduzione.agosto?"Si":"No"),y.Bb(2),y.Pc(1==e.produzioneLatte.mesiProduzione.settembre?"Si":"No"),y.Bb(2),y.Pc(1==e.produzioneLatte.mesiProduzione.ottobre?"Si":"No"),y.Bb(2),y.Pc(1==e.produzioneLatte.mesiProduzione.novembre?"Si":"No"),y.Bb(2),y.Pc(1==e.produzioneLatte.mesiProduzione.dicembre?"Si":"No"),y.Bb(5),y.Pc(1==e.produzioneLatte.mesiAnalisi.gennaio?"Si":"No"),y.Bb(2),y.Pc(1==e.produzioneLatte.mesiAnalisi.febbraio?"Si":"No"),y.Bb(2),y.Pc(1==e.produzioneLatte.mesiAnalisi.marzo?"Si":"No"),y.Bb(2),y.Pc(1==e.produzioneLatte.mesiAnalisi.aprile?"Si":"No"),y.Bb(2),y.Pc(1==e.produzioneLatte.mesiAnalisi.maggio?"Si":"No"),y.Bb(2),y.Pc(1==e.produzioneLatte.mesiAnalisi.giugno?"Si":"No"),y.Bb(2),y.Pc(1==e.produzioneLatte.mesiAnalisi.luglio?"Si":"No"),y.Bb(2),y.Pc(1==e.produzioneLatte.mesiAnalisi.agosto?"Si":"No"),y.Bb(2),y.Pc(1==e.produzioneLatte.mesiAnalisi.settembre?"Si":"No"),y.Bb(2),y.Pc(1==e.produzioneLatte.mesiAnalisi.ottobre?"Si":"No"),y.Bb(2),y.Pc(1==e.produzioneLatte.mesiAnalisi.novembre?"Si":"No"),y.Bb(2),y.Pc(1==e.produzioneLatte.mesiAnalisi.dicembre?"Si":"No"),y.Bb(4),y.mc("ngIf",e.noAnalisi),y.Bb(1),y.mc("ngIf",!e.noAnalisi),y.Bb(4),y.mc("ngIf",null==e.alpeggi),y.Bb(1),y.mc("ngIf",null!=e.alpeggi)}}function $r(t,i){1&t&&(y.Tb(0,"div",15),y.Oc(1," Etichettatura non presente "),y.Sb())}function Qr(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"td",10),y.Oc(2),y.Sb(),y.Tb(3,"td"),y.Oc(4),y.gc(5,"date"),y.Sb(),y.Tb(6,"td"),y.Oc(7),y.gc(8,"date"),y.Sb(),y.Sb()),2&t){var e=i.$implicit;y.Bb(2),y.Pc(e.codiceAsl),y.Bb(2),y.Qc(" ",null==e.dtInizioValidita?"-":y.ic(5,3,e.dtInizioValidita,"dd-MM-yyyy")," "),y.Bb(3),y.Qc(" ",null==e.dtFineValidita?"-":y.ic(8,6,e.dtFineValidita,"dd-MM-yyyy")," ")}}function qr(t,i){if(1&t&&(y.Tb(0,"tbody"),y.Tb(1,"tr"),y.Tb(2,"th",10),y.Oc(3,"Codice Asl"),y.Sb(),y.Tb(4,"th"),y.Oc(5,"Dal"),y.Sb(),y.Tb(6,"th"),y.Oc(7,"Al"),y.Sb(),y.Sb(),y.Mc(8,Qr,9,9,"tr",6),y.Sb()),2&t){var e=y.fc(2);y.Bb(8),y.mc("ngForOf",e.etichettature)}}function Hr(t,i){if(1&t&&(y.Tb(0,"p-accordion"),y.Tb(1,"p-accordionTab",19),y.Tb(2,"table",13),y.Mc(3,$r,2,0,"div",14),y.Mc(4,qr,9,1,"tbody",5),y.Sb(),y.Sb(),y.Sb()),2&t){var e=y.fc();y.Bb(3),y.mc("ngIf",null==e.etichettature),y.Bb(1),y.mc("ngIf",null!=e.etichettature)}}function jr(t,i){1&t&&y.Ob(0,"hr")}function Kr(t,i){if(1&t&&(y.Tb(0,"th",31),y.Oc(1),y.Ob(2,"p-sortIcon",32),y.Sb()),2&t){var e=i.$implicit;y.mc("pSortableColumn",e.field)("pSortableColumnDisabled",null==e.field),y.Bb(1),y.Qc(" ",e.header," "),y.Bb(1),y.mc("field",e.header)}}function Yr(t,i){if(1&t&&(y.Tb(0,"tr"),y.Ob(1,"th",29),y.Mc(2,Kr,3,4,"th",30),y.Sb()),2&t){var e=i.$implicit;y.Bb(2),y.mc("ngForOf",e)}}function Jr(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Tb(2,"a",33),y.Ob(3,"i",34),y.Sb(),y.Sb(),y.Tb(4,"td"),y.Oc(5),y.Sb(),y.Tb(6,"td"),y.Oc(7),y.Sb(),y.Tb(8,"td"),y.Oc(9),y.Sb(),y.Tb(10,"td"),y.Oc(11),y.Sb(),y.Sb()),2&t){var e=i.$implicit,a=i.expanded,o=y.fc().$implicit;y.Bb(2),y.mc("pRowToggler",e),y.Bb(1),y.mc("ngClass",a?"pi pi-chevron-down":"pi pi-chevron-right"),y.Bb(2),y.Pc(e.codiceCapo),y.Bb(2),y.Pc(o.codiceSpecie),y.Bb(2),y.Pc(e.esito),y.Bb(2),y.Pc(e.messaggio)}}function Wr(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Tb(2,"tr"),y.Tb(3,"th"),y.Oc(4,"Dati identificativi"),y.Sb(),y.Ob(5,"th"),y.Sb(),y.Tb(6,"tr"),y.Tb(7,"td"),y.Oc(8,"Marca auricolare"),y.Sb(),y.Tb(9,"td"),y.Oc(10),y.Sb(),y.Sb(),y.Tb(11,"tr"),y.Tb(12,"td"),y.Oc(13,"Razza"),y.Sb(),y.Tb(14,"td"),y.Oc(15),y.Sb(),y.Sb(),y.Tb(16,"tr"),y.Tb(17,"td"),y.Oc(18,"La data di nascita del capo"),y.Sb(),y.Tb(19,"td"),y.Oc(20),y.gc(21,"date"),y.Sb(),y.Sb(),y.Ob(22,"br"),y.Tb(23,"tr"),y.Tb(24,"th"),y.Oc(25,"Dati identificativi dei vitelli del primo parto e di registrazione della loro nascita"),y.Sb(),y.Ob(26,"th"),y.Sb(),y.Tb(27,"tr"),y.Tb(28,"td"),y.Oc(29,"Marca auricolare"),y.Sb(),y.Tb(30,"td"),y.Oc(31),y.Sb(),y.Sb(),y.Tb(32,"tr"),y.Tb(33,"td"),y.Oc(34,"Data di nascita del vitello"),y.Sb(),y.Tb(35,"td"),y.Oc(36),y.gc(37,"date"),y.Sb(),y.Sb(),y.Tb(38,"tr"),y.Tb(39,"td"),y.Oc(40,"Gemello"),y.Sb(),y.Tb(41,"td"),y.Oc(42),y.Sb(),y.Sb(),y.Tb(43,"tr"),y.Tb(44,"td"),y.Oc(45,"Data di registrazione della nascita"),y.Sb(),y.Tb(46,"td"),y.Oc(47),y.gc(48,"date"),y.Sb(),y.Sb(),y.Tb(49,"tr"),y.Tb(50,"td"),y.Oc(51,"Registarzione della nascita delegata"),y.Sb(),y.Tb(52,"td"),y.Oc(53),y.Sb(),y.Sb(),y.Tb(54,"tr"),y.Tb(55,"td"),y.Oc(56,"Marcatura prepagata"),y.Sb(),y.Tb(57,"td"),y.Oc(58),y.Sb(),y.Sb(),y.Ob(59,"br"),y.Tb(60,"tr"),y.Tb(61,"th"),y.Oc(62,"Dati di registrazione della movimentazione"),y.Sb(),y.Ob(63,"th"),y.Sb(),y.Tb(64,"tr"),y.Tb(65,"td"),y.Oc(66,"Data di ingresso della vacca nell\u2019allevamento"),y.Sb(),y.Tb(67,"td"),y.Oc(68),y.gc(69,"date"),y.Sb(),y.Sb(),y.Tb(70,"tr"),y.Tb(71,"td"),y.Oc(72,"Data di comunicazione all\u2019autorit\xe0 competente dell\u2019ingresso"),y.Sb(),y.Tb(73,"td"),y.Oc(74),y.gc(75,"date"),y.Sb(),y.Sb(),y.Tb(76,"tr"),y.Tb(77,"td"),y.Oc(78,"Data di registrazione in BDN dell\u2019ingresso"),y.Sb(),y.Tb(79,"td"),y.Oc(80),y.gc(81,"date"),y.Sb(),y.Sb(),y.Ob(82,"br"),y.Tb(83,"tr"),y.Tb(84,"th"),y.Oc(85,"Esito del controllo"),y.Sb(),y.Ob(86,"th"),y.Sb(),y.Tb(87,"tr"),y.Tb(88,"td"),y.Oc(89,"Esito"),y.Sb(),y.Tb(90,"td"),y.Oc(91),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t){var e=y.fc(),a=e.columns,o=e.$implicit,n=y.fc(2);y.Bb(1),y.Cb("colspan",a.length+1),y.Bb(9),y.Pc(o.capoBdn.codice),y.Bb(5),y.Pc(o.capoBdn.razzaCodice),y.Bb(5),y.Qc(" ",o.capoBdn.dtNascita?y.ic(21,14,o.capoBdn.dtNascita,"dd/MM/yyyy"):n.intestazioni.nd," "),y.Bb(11),y.Pc(o.capoBdn.capoLatteBdn.vitelloBdn.codVitello),y.Bb(5),y.Pc(o.capoBdn.capoLatteBdn.vitelloBdn.dtNascita?y.ic(37,17,o.capoBdn.capoLatteBdn.vitelloBdn.dtNascita,"dd/MM/yyyy"):n.intestazioni.nd),y.Bb(6),y.Pc(o.capoBdn.capoLatteBdn.vitelloBdn.tipoOrigine),y.Bb(5),y.Pc(o.capoBdn.capoLatteBdn.vitelloBdn.dtInserimentoBdnNascita?y.ic(48,20,o.capoBdn.capoLatteBdn.vitelloBdn.dtInserimentoBdnNascita,"dd/MM/yyyy"):n.intestazioni.nd),y.Bb(6),y.Pc(o.capoBdn.capoLatteBdn.vitelloBdn.flagDelegatoNascitaVitello),y.Bb(5),y.Pc(o.capoBdn.capoLatteBdn.vitelloBdn.flagProrogaMarcatura),y.Bb(10),y.Pc(o.capoBdn.capoLatteBdn.detenzioniBdn&&o.capoBdn.capoLatteBdn.detenzioniBdn[0].vaccaDtIngresso?y.ic(69,23,o.capoBdn.capoLatteBdn.detenzioniBdn[0].vaccaDtIngresso,"dd/MM/yyyy"):n.intestazioni.nd),y.Bb(6),y.Pc(o.capoBdn.capoLatteBdn.detenzioniBdn&&o.capoBdn.capoLatteBdn.detenzioniBdn[0].vaccaDtComAutoritaIngresso?y.ic(75,26,o.capoBdn.capoLatteBdn.detenzioniBdn[0].vaccaDtComAutoritaIngresso,"dd/MM/yyyy"):n.intestazioni.nd),y.Bb(6),y.Pc(o.capoBdn.capoLatteBdn.detenzioniBdn&&o.capoBdn.capoLatteBdn.detenzioniBdn[0].vaccaDtInserimentoBdnIngresso?y.ic(81,29,o.capoBdn.capoLatteBdn.detenzioniBdn[0].vaccaDtInserimentoBdnIngresso,"dd/MM/yyyy"):n.intestazioni.nd),y.Bb(11),y.Pc(o.esito)}}function Xr(t,i){if(1&t&&(y.Tb(0,"td"),y.Tb(1,"tr"),y.Tb(2,"th"),y.Oc(3,"Periodo di detenzione"),y.Sb(),y.Ob(4,"th"),y.Sb(),y.Tb(5,"tr"),y.Tb(6,"td"),y.Oc(7,"Data di inizio detenzione"),y.Sb(),y.Tb(8,"td"),y.Oc(9),y.gc(10,"date"),y.Sb(),y.Sb(),y.Tb(11,"tr"),y.Tb(12,"td"),y.Oc(13,"Data di fine detenzione"),y.Sb(),y.Tb(14,"td"),y.Oc(15),y.gc(16,"date"),y.Sb(),y.Sb(),y.Ob(17,"br"),y.Tb(18,"tr"),y.Tb(19,"th"),y.Oc(20,"Dati identificativi dell'allevamento"),y.Sb(),y.Ob(21,"th"),y.Sb(),y.Tb(22,"tr"),y.Tb(23,"td"),y.Oc(24,"Cuaa dell'azienda"),y.Sb(),y.Tb(25,"td"),y.Oc(26),y.Sb(),y.Sb(),y.Tb(27,"tr"),y.Tb(28,"td"),y.Oc(29,"Codice asl"),y.Sb(),y.Tb(30,"td"),y.Oc(31),y.Sb(),y.Sb(),y.Tb(32,"tr"),y.Tb(33,"td"),y.Oc(34,"Allevamento di montagna"),y.Sb(),y.Tb(35,"td"),y.Oc(36),y.Sb(),y.Sb(),y.Ob(37,"br"),y.Tb(38,"tr"),y.Tb(39,"th"),y.Oc(40,"Dati di registrazione della movimentazione"),y.Sb(),y.Ob(41,"th"),y.Sb(),y.Tb(42,"tr"),y.Tb(43,"td"),y.Oc(44,"Data di ingresso della vacca nell\u2019allevamento"),y.Sb(),y.Tb(45,"td"),y.Oc(46),y.gc(47,"date"),y.Sb(),y.Sb(),y.Tb(48,"tr"),y.Tb(49,"td"),y.Oc(50,"Data di comunicazione all\u2019autorit\xe0 competente dell\u2019ingresso"),y.Sb(),y.Tb(51,"td"),y.Oc(52),y.gc(53,"date"),y.Sb(),y.Sb(),y.Tb(54,"tr"),y.Tb(55,"td"),y.Oc(56,"Data di registrazione in BDN dell\u2019ingresso"),y.Sb(),y.Tb(57,"td"),y.Oc(58),y.gc(59,"date"),y.Sb(),y.Sb(),y.Ob(60,"br"),y.Sb()),2&t){var e=i.$implicit,a=y.fc(4);y.Bb(9),y.Qc(" ",e.dtInizioDetenzione?y.ic(10,8,e.dtInizioDetenzione,"dd/MM/yyyy"):a.intestazioni.nd," "),y.Bb(6),y.Qc(" ",e.dtFineDetenzione?y.ic(16,11,e.dtFineDetenzione,"dd/MM/yyyy"):a.intestazioni.nd," "),y.Bb(11),y.Pc(e.cuaa),y.Bb(5),y.Pc(e.codiceAsl),y.Bb(5),y.Pc(1==e.allevamentoMontagna?"SI":"NO"),y.Bb(10),y.Qc(" ",e.vaccaDtIngresso?y.ic(47,14,e.vaccaDtIngresso,"dd/MM/yyyy"):a.intestazioni.nd," "),y.Bb(6),y.Qc(" ",e.vaccaDtComAutoritaIngresso?y.ic(53,17,e.vaccaDtComAutoritaIngresso,"dd/MM/yyyy"):a.intestazioni.nd," "),y.Bb(6),y.Qc(" ",e.vaccaDtInserimentoBdnIngresso?y.ic(59,20,e.vaccaDtInserimentoBdnIngresso,"dd/MM/yyyy"):a.intestazioni.nd," ")}}function tc(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Tb(2,"tr"),y.Tb(3,"th"),y.Oc(4,"Dati identificativi"),y.Sb(),y.Ob(5,"th"),y.Sb(),y.Tb(6,"tr"),y.Tb(7,"td"),y.Oc(8,"Marca auricolare"),y.Sb(),y.Tb(9,"td"),y.Oc(10),y.Sb(),y.Sb(),y.Tb(11,"tr"),y.Tb(12,"td"),y.Oc(13,"Razza"),y.Sb(),y.Tb(14,"td"),y.Oc(15),y.Sb(),y.Sb(),y.Tb(16,"tr"),y.Tb(17,"td"),y.Oc(18,"La data di nascita del capo"),y.Sb(),y.Tb(19,"td"),y.Oc(20),y.gc(21,"date"),y.Sb(),y.Sb(),y.Ob(22,"br"),y.Tb(23,"tr"),y.Tb(24,"th"),y.Oc(25,"Dati identificativi dei vitelli del primo parto e di registrazione della loro nascita"),y.Sb(),y.Ob(26,"th"),y.Sb(),y.Tb(27,"tr"),y.Tb(28,"td"),y.Oc(29,"Marca auricolare"),y.Sb(),y.Tb(30,"td"),y.Oc(31),y.Sb(),y.Sb(),y.Tb(32,"tr"),y.Tb(33,"td"),y.Oc(34,"Data di nascita del vitello"),y.Sb(),y.Tb(35,"td"),y.Oc(36),y.gc(37,"date"),y.Sb(),y.Sb(),y.Tb(38,"tr"),y.Tb(39,"td"),y.Oc(40,"Gemello"),y.Sb(),y.Tb(41,"td"),y.Oc(42),y.Sb(),y.Sb(),y.Tb(43,"tr"),y.Tb(44,"td"),y.Oc(45,"Data di registrazione della nascita"),y.Sb(),y.Tb(46,"td"),y.Oc(47),y.gc(48,"date"),y.Sb(),y.Sb(),y.Tb(49,"tr"),y.Tb(50,"td"),y.Oc(51,"Registarzione della nascita delegata"),y.Sb(),y.Tb(52,"td"),y.Oc(53),y.Sb(),y.Sb(),y.Tb(54,"tr"),y.Tb(55,"td"),y.Oc(56,"Marcatura prepagata"),y.Sb(),y.Tb(57,"td"),y.Oc(58),y.Sb(),y.Sb(),y.Ob(59,"br"),y.Tb(60,"tr"),y.Tb(61,"th"),y.Oc(62,"Lista delle detenzioni che sono state valutate per il raggiungimento dei sei mesi in zone montane"),y.Sb(),y.Ob(63,"th"),y.Sb(),y.Tb(64,"tr"),y.Mc(65,Xr,61,23,"td",6),y.Sb(),y.Ob(66,"br"),y.Tb(67,"tr"),y.Tb(68,"th"),y.Oc(69,"Esito del controllo"),y.Sb(),y.Ob(70,"th"),y.Sb(),y.Tb(71,"tr"),y.Tb(72,"td"),y.Oc(73,"Esito"),y.Sb(),y.Tb(74,"td"),y.Oc(75),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t){var e=y.fc(),a=e.columns,o=e.$implicit,n=y.fc(2);y.Bb(1),y.Cb("colspan",a.length+1),y.Bb(9),y.Pc(o.capoBdn.codice),y.Bb(5),y.Pc(o.capoBdn.razzaCodice),y.Bb(5),y.Qc(" ",o.capoBdn.dtNascita?y.ic(21,12,o.capoBdn.dtNascita,"dd/MM/yyyy"):n.intestazioni.nd," "),y.Bb(11),y.Pc(o.capoBdn.capoLatteBdn.vitelloBdn.codVitello),y.Bb(5),y.Pc(o.capoBdn.capoLatteBdn.vitelloBdn.dtNascita?y.ic(37,15,o.capoBdn.capoLatteBdn.vitelloBdn.dtNascita,"dd/MM/yyyy"):n.intestazioni.nd),y.Bb(6),y.Pc(o.capoBdn.capoLatteBdn.vitelloBdn.tipoOrigine),y.Bb(5),y.Pc(o.capoBdn.capoLatteBdn.vitelloBdn.dtInserimentoBdnNascita?y.ic(48,18,o.capoBdn.capoLatteBdn.vitelloBdn.dtInserimentoBdnNascita,"dd/MM/yyyy"):n.intestazioni.nd),y.Bb(6),y.Pc(o.capoBdn.capoLatteBdn.vitelloBdn.flagDelegatoNascitaVitello),y.Bb(5),y.Pc(o.capoBdn.capoLatteBdn.vitelloBdn.flagProrogaMarcatura),y.Bb(7),y.mc("ngForOf",o.capoBdn.capoLatteBdn.detenzioniBdn),y.Bb(10),y.Pc(o.esito)}}function ic(t,i){if(1&t&&(y.Tb(0,"td"),y.Tb(1,"tr"),y.Tb(2,"td"),y.Oc(3,"Data di ingresso della vacca nell\u2019allevamento"),y.Sb(),y.Tb(4,"td"),y.Oc(5),y.gc(6,"date"),y.Sb(),y.Sb(),y.Tb(7,"tr"),y.Tb(8,"td"),y.Oc(9,"Data di comunicazione all\u2019autorit\xe0 competente dell\u2019ingresso"),y.Sb(),y.Tb(10,"td"),y.Oc(11),y.gc(12,"date"),y.Sb(),y.Sb(),y.Tb(13,"tr"),y.Tb(14,"td"),y.Oc(15,"Data di registrazione in BDN dell\u2019ingresso"),y.Sb(),y.Tb(16,"td"),y.Oc(17),y.gc(18,"date"),y.Sb(),y.Sb(),y.Ob(19,"br"),y.Tb(20,"tr"),y.Tb(21,"th"),y.Oc(22,"Dati di detenzione in stalla"),y.Sb(),y.Ob(23,"th"),y.Sb(),y.Tb(24,"tr"),y.Tb(25,"td"),y.Oc(26,"Data di uscita del capo dall\u2019allevamento"),y.Sb(),y.Tb(27,"td"),y.Oc(28),y.gc(29,"date"),y.Sb(),y.Sb(),y.Ob(30,"br"),y.Sb()),2&t){var e=i.$implicit,a=y.fc(4);y.Bb(5),y.Pc(e.vaccaDtIngresso?y.ic(6,4,e.vaccaDtIngresso,"dd/MM/yyyy"):a.intestazioni.nd),y.Bb(6),y.Pc(e.vaccaDtComAutoritaIngresso?y.ic(12,7,e.vaccaDtComAutoritaIngresso,"dd/MM/yyyy"):a.intestazioni.nd),y.Bb(6),y.Pc(e.vaccaDtInserimentoBdnIngresso?y.ic(18,10,e.vaccaDtInserimentoBdnIngresso,"dd/MM/yyyy"):a.intestazioni.nd),y.Bb(11),y.Pc(e.dtUscita?y.ic(29,13,e.dtUscita,"dd/MM/yyyy"):a.intestazioni.nd)}}function ec(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Tb(2,"tr"),y.Tb(3,"th"),y.Oc(4,"Dati identificativi"),y.Sb(),y.Ob(5,"th"),y.Sb(),y.Tb(6,"tr"),y.Tb(7,"td"),y.Oc(8,"Marca auricolare"),y.Sb(),y.Tb(9,"td"),y.Oc(10),y.Sb(),y.Sb(),y.Tb(11,"tr"),y.Tb(12,"td"),y.Oc(13,"Razza"),y.Sb(),y.Tb(14,"td"),y.Oc(15),y.Sb(),y.Sb(),y.Tb(16,"tr"),y.Tb(17,"td"),y.Oc(18,"La data di nascita del capo"),y.Sb(),y.Tb(19,"td"),y.Oc(20),y.gc(21,"date"),y.Sb(),y.Sb(),y.Ob(22,"br"),y.Tb(23,"tr"),y.Tb(24,"th"),y.Oc(25,"Dati di registrazione della movimentazione"),y.Sb(),y.Ob(26,"th"),y.Sb(),y.Tb(27,"tr"),y.Mc(28,ic,31,16,"td",6),y.Sb(),y.Tb(29,"tr"),y.Tb(30,"th"),y.Oc(31,"Esito del controllo"),y.Sb(),y.Ob(32,"th"),y.Sb(),y.Tb(33,"tr"),y.Tb(34,"td"),y.Oc(35,"Esito"),y.Sb(),y.Tb(36,"td"),y.Oc(37),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t){var e=y.fc(),a=e.columns,o=e.$implicit,n=y.fc(2);y.Bb(1),y.Cb("colspan",a.length+1),y.Bb(9),y.Pc(o.capoBdn.codice),y.Bb(5),y.Pc(o.capoBdn.razzaCodice),y.Bb(5),y.Qc(" ",o.capoBdn.dtNascita?y.ic(21,6,o.capoBdn.dtNascita,"dd/MM/yyyy"):n.intestazioni.nd," "),y.Bb(8),y.mc("ngForOf",o.capoBdn.capoMacellatoBdn.detenzioniBdn),y.Bb(9),y.Pc(o.esito)}}function ac(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Tb(2,"tr"),y.Tb(3,"th"),y.Oc(4,"Dati identificativi"),y.Sb(),y.Ob(5,"th"),y.Sb(),y.Tb(6,"tr"),y.Tb(7,"td"),y.Oc(8,"Marca auricolare"),y.Sb(),y.Tb(9,"td"),y.Oc(10),y.Sb(),y.Sb(),y.Tb(11,"tr"),y.Tb(12,"td"),y.Oc(13,"Razza"),y.Sb(),y.Tb(14,"td"),y.Oc(15),y.Sb(),y.Sb(),y.Tb(16,"tr"),y.Tb(17,"td"),y.Oc(18,"La data di nascita del capo"),y.Sb(),y.Tb(19,"td"),y.Oc(20),y.gc(21,"date"),y.Sb(),y.Sb(),y.Ob(22,"br"),y.Tb(23,"tr"),y.Tb(24,"th"),y.Oc(25,"Esito del controllo"),y.Sb(),y.Ob(26,"th"),y.Sb(),y.Tb(27,"tr"),y.Tb(28,"td"),y.Oc(29,"Esito"),y.Sb(),y.Tb(30,"td"),y.Oc(31),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t){var e=y.fc(),a=e.columns,o=e.$implicit,n=y.fc(2);y.Bb(1),y.Cb("colspan",a.length+1),y.Bb(9),y.Pc(o.capoBdn.codice),y.Bb(5),y.Pc(o.capoBdn.razzaCodice),y.Bb(5),y.Qc(" ",o.capoBdn.dtNascita?y.ic(21,5,o.capoBdn.dtNascita,"dd/MM/yyyy"):n.intestazioni.nd," "),y.Bb(11),y.Pc(o.esito)}}function oc(t,i){if(1&t&&(y.Mc(0,Wr,92,32,"ng-template",35),y.Mc(1,tc,76,21,"ng-template",35),y.Mc(2,ec,38,9,"ng-template",35),y.Mc(3,ac,32,8,"ng-template",35)),2&t){var e=i.$implicit,a=y.fc(2);y.mc("ngIf",a.isInterventoBovini(e.capoBdn.intervento)),y.Bb(1),y.mc("ngIf",a.isAllevamentoMontagna(e.capoBdn.intervento)),y.Bb(1),y.mc("ngIf",a.isInterventoMacellati(e.capoBdn.intervento)),y.Bb(1),y.mc("ngIf",a.isInterventoOvicaprini(e.capoBdn.intervento))}}function nc(t,i){if(1&t){var e=y.Ub();y.Tb(0,"p-accordion"),y.Tb(1,"p-accordionTab",20),y.Tb(2,"div",21),y.Tb(3,"i",22),y.Oc(4,"search"),y.Sb(),y.Tb(5,"input",23),y.bc("input",(function(t){return y.Ec(e),y.Bc(7).filterGlobal(t.target.value,"contains")})),y.Sb(),y.Sb(),y.Tb(6,"p-table",24,25),y.Mc(8,Yr,3,1,"ng-template",26),y.Mc(9,Jr,12,6,"ng-template",27),y.Mc(10,oc,4,4,"ng-template",28),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=i.$implicit,o=y.fc();y.Bb(1),y.qc("header","",a.datiAllevamento.descrizioneAllevamento," - ",a.datiAllevamento.codiceAllevamento," - ",a.codiceIntervento," - Numero Capi: ",a.richiesteAllevamentoDuEsito.length,""),y.mc("selected",!1),y.Bb(5),y.mc("columns",o.cols)("value",a.richiesteAllevamentoDuEsito)("autoLayout",!0)("paginator",!0)("rows",o.elementiPagina)("responsive",!0)}}function rc(t,i){1&t&&(y.Tb(0,"div"),y.Oc(1," Nessun controllo eseguito "),y.Sb())}var cc,sc=function(){return{marginTop:"70px"}},lc=((cc=function(){function t(i,e,a){_classCallCheck(this,t),this.istruttoriaService=i,this.route=e,this.messageService=a,this.allevamenti=[],this.cols=[],this.intestazioni=$n.a,this.elementiPagina=10,this.interventiBovini=["310","312","313","314","322"],this.interventiMacellati=["315","316","318"],this.interventiOvicaprini=["320","321"],this.mesi=["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],this.showProduzione=!1,this.noAnalisi=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.setCols(),this.setIdDomanda(),this.setIdIstruttoria(),this.changePage()}},{key:"setCols",value:function(){this.cols=[{field:"codiceCapo",header:this.intestazioni.marcaAuricolare},{field:"codiceSpecie",header:this.intestazioni.codiceSpecie},{field:"esito",header:this.intestazioni.ESITO_CONTROLLO},{field:"messaggio",header:this.intestazioni.messaggioEsito}]}},{key:"setIdDomanda",value:function(){var t=this;this.route.paramMap.subscribe((function(i){t.idDomanda=i.get(ai.a.dettaglioDomandaParam)}))}},{key:"setIdIstruttoria",value:function(){var t=this;this.route.paramMap.subscribe((function(i){t.idIstruttoria=i.get("idIstruttoria")}))}},{key:"changePage",value:function(){var t=this;this.istruttoriaService.getCapi(this.idDomanda,JSON.stringify({tipo:"AMMESSO"})).subscribe((function(i){i&&(i.forEach((function(i){i.datiAllevamento=JSON.parse(i.datiAllevamento),i.datiDetentore=JSON.parse(i.datiDetentore),i.datiProprietario=JSON.parse(i.datiProprietario),t.allevamenti.push(i)})),t.allevamenti.forEach((function(t){t.richiesteAllevamentoDuEsito.forEach((function(t){t.esito=t.esito.split("_").join(" ")}))})),t.allevamenti.sort((function(t,i){return t.codiceIntervento-i.codiceIntervento}))),console.log(t.allevamenti),t.getProduzioneLatteAndEtichettaturaCarne()}),(function(i){console.log(i),t.messageService.add(d.a.getToast("tst",d.b.error,d.a.erroreRecuperoDati))}))}},{key:"isInterventoBovini",value:function(t){return this.interventiBovini.includes(t)}},{key:"isAllevamentoMontagna",value:function(t){return 0=="311".localeCompare(t)}},{key:"isInterventoMacellati",value:function(t){return this.interventiMacellati.includes(t)}},{key:"isInterventoOvicaprini",value:function(t){return this.interventiOvicaprini.includes(t)}},{key:"getProduzioneLatteAndEtichettaturaCarne",value:function(){var t=this;this.istruttoriaService.getDettaglioDomanda(this.idDomanda,null,null).subscribe((function(i){t.cuaa=i.infoGeneraliDomanda.cuaaIntestatario;var e={cuaa:t.cuaa};t.isProduzioneLatte()&&(t.getProduzioneLatte(e),t.getRegistrazioneAlpeggio(e)),t.isEtichettatura()&&t.getEtichettatura(e)}),(function(t){console.log(t)}))}},{key:"getRegistrazioneAlpeggio",value:function(t){var i=this;this.istruttoriaService.getAlpeggio(this.idIstruttoria,JSON.stringify(t)).subscribe((function(t){i.alpeggi=t}),(function(t){console.log(t)}))}},{key:"isProduzioneLatte",value:function(){return this.allevamenti.some((function(t){return 310==t.codiceIntervento||311==t.codiceIntervento||322==t.codiceIntervento}))}},{key:"isEtichettatura",value:function(){return this.allevamenti.some((function(t){return 318==t.codiceIntervento}))}},{key:"getProduzioneLatte",value:function(t){var i=this;this.istruttoriaService.getProduzioneLatte(this.idIstruttoria,JSON.stringify(t)).subscribe((function(t){i.produzioneLatte=t[0],i.showProduzione=!0,i.checkAnalisi()}),(function(t){i.showProduzione=!1,console.log(t)}))}},{key:"getEtichettatura",value:function(t){var i=this;this.istruttoriaService.getEtichettatura(JSON.stringify(t)).subscribe((function(t){i.etichettature=t}),(function(t){console.log(t)}))}},{key:"checkAnalisi",value:function(){this.noAnalisi=null==this.produzioneLatte.tenoreBatteri||null==this.produzioneLatte.tenoreCellule||null==this.produzioneLatte.contenutoProteine}}]),t}()).\u0275fac=function(t){return new(t||cc)(y.Nb(l.a),y.Nb(c.a),y.Nb(B.d))},cc.\u0275cmp=y.Hb({type:cc,selectors:[["app-capi-ammessi"]],viewQuery:function(t,i){var e;1&t&&y.Uc(wr,!0),2&t&&y.Ac(e=y.cc())&&(i.table=e.first)},decls:10,vars:8,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],[4,"ngIf"],[4,"ngFor","ngForOf"],["header","PRODUZIONE LATTE"],[1,"h5Title"],[1,"table","table-bordered","tableBorder"],["scope","row"],["class","tdAnalisiLatte",4,"ngFor","ngForOf"],[1,"tdAnalisiLatte"],[1,"table","tableBorder","table-striped"],["style","text-align: center",4,"ngIf"],[2,"text-align","center"],["scope","row",1,"valoriMediTitle"],[1,"valoriMedi"],[1,"valoriMedi","tdDataAlpeggio"],["header","ETICHETTATURA"],[3,"header","selected"],[1,"globalfilter"],[1,"material-icons"],["type","text","pInputText","","size","50","placeholder","Ricerca...",2,"width","auto",3,"input"],["dataKey","codiceCapo",3,"columns","value","autoLayout","paginator","rows","responsive"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],[2,"width","3em"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"],["href","#",3,"pRowToggler"],[3,"ngClass"],[3,"ngIf"]],template:function(t,i){1&t&&(y.Tb(0,"div",0),y.Tb(1,"div",1),y.Tb(2,"div",2),y.Ob(3,"p-toast",3),y.Tb(4,"div",4),y.Mc(5,Zr,74,29,"p-accordion",5),y.Mc(6,Hr,5,2,"p-accordion",5),y.Mc(7,jr,1,0,"hr",5),y.Mc(8,nc,11,11,"p-accordion",6),y.Mc(9,rc,2,0,"div",5),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t&&(y.Bb(3),y.Kc(y.rc(7,sc)),y.Bb(2),y.mc("ngIf",i.isProduzioneLatte()&&i.showProduzione),y.Bb(1),y.mc("ngIf",i.isEtichettatura()),y.Bb(1),y.mc("ngIf",i.isProduzioneLatte()||i.isEtichettatura()),y.Bb(1),y.mc("ngForOf",i.allevamenti),y.Bb(1),y.mc("ngIf",0==i.allevamenti.length))},directives:[z.a,a.t,a.s,Yi.a,Yi.c,bo.a,o.q,B.e,o.p,o.o,o.k,a.q],pipes:[a.g,a.f],styles:[".tableBorder[_ngcontent-%COMP%]{border-top:2px solid #0d5f3f}.h5Title[_ngcontent-%COMP%]{padding-top:20px}.tdAnalisiLatte[_ngcontent-%COMP%]{text-align:center}.valoriMediTitle[_ngcontent-%COMP%]{width:20%}.valoriMedi[_ngcontent-%COMP%]{text-align:left}.tdDataAlpeggio[_ngcontent-%COMP%]{border-right:1px solid #d3d3d3}"]}),cc),uc=function t(i,e,a,o,n,r,c,s,l,u,d,b,p){_classCallCheck(this,t),this.percIncrementoGreening=i,this.percIncrementoGiovane=e,this.limiteGiovane=a,this.percRiduzioneLineare1=o,this.percRiduzioneLineare2=n,this.percRiduzioneLineare3=r,this.percRiduzioneTitoli=c,this.percPagamento=s,this.percDisciplinaFinanziaria=l,this.dtRicevibilita=u,this.dtScadenzaDomande=d,this.dtScadenzaDomandeRitardo=b,this.dtScadenzaDomandeRitiroparz=p};function dc(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div",3),y.Tb(1,"div",4),y.Tb(2,"strong"),y.Oc(3,"Tipologia domanda"),y.Sb(),y.Sb(),y.Tb(4,"div",4),y.Tb(5,"strong"),y.Oc(6),y.Sb(),y.Sb(),y.Tb(7,"div",4),y.Tb(8,"strong"),y.Oc(9,"Descrizione domanda"),y.Sb(),y.Sb(),y.Tb(10,"div",4),y.Oc(11),y.Sb(),y.Tb(12,"div",4),y.Tb(13,"strong"),y.Oc(14,"Anno di riferimento"),y.Sb(),y.Sb(),y.Tb(15,"div",4),y.Tb(16,"strong"),y.Oc(17),y.Sb(),y.Sb(),y.Tb(18,"div",4),y.Tb(19,"strong"),y.Oc(20,"Data scadenza presentazione domande"),y.Sb(),y.Sb(),y.Tb(21,"div",4),y.Oc(22),y.gc(23,"date"),y.Sb(),y.Tb(24,"div",4),y.Tb(25,"strong"),y.Oc(26,"Tipo istruttoria"),y.Sb(),y.Sb(),y.Tb(27,"div",4),y.Tb(28,"strong"),y.Oc(29),y.Sb(),y.Sb(),y.Tb(30,"div",4),y.Tb(31,"strong"),y.Oc(32,"Data scadenza presentazione domande con ritardo"),y.Sb(),y.Sb(),y.Tb(33,"div",4),y.Oc(34),y.gc(35,"date"),y.Sb(),y.Tb(36,"div",4),y.Tb(37,"strong"),y.Oc(38,"Data scadenza presentazione domande di ritiro parziale"),y.Sb(),y.Sb(),y.Tb(39,"div",4),y.Oc(40),y.gc(41,"date"),y.Sb(),y.Tb(42,"div",4),y.Tb(43,"strong"),y.Oc(44,"Data di ricevibilit\xe0"),y.Sb(),y.Sb(),y.Tb(45,"div",4),y.Oc(46),y.gc(47,"date"),y.Sb(),y.Tb(48,"div",4),y.Tb(49,"strong"),y.Oc(50,"Greening - Percentuale di incremento del premio"),y.Sb(),y.Sb(),y.Tb(51,"div",4),y.Oc(52),y.gc(53,"percent"),y.Sb(),y.Tb(54,"div",4),y.Tb(55,"strong"),y.Oc(56,"Giovane - Percentuale di incremento del premio"),y.Sb(),y.Sb(),y.Tb(57,"div",4),y.Oc(58),y.gc(59,"percent"),y.Sb(),y.Tb(60,"div",4),y.Tb(61,"strong"),y.Oc(62,"Giovane - Limite ai diritti all'aiuto attivabili"),y.Sb(),y.Sb(),y.Tb(63,"div",4),y.Oc(64),y.Sb(),y.Tb(65,"div",4),y.Tb(66,"strong"),y.Oc(67,"Riduzione lineare giovane (art.51, par.2, reg. 1307/2013)"),y.Sb(),y.Sb(),y.Tb(68,"div",4),y.Oc(69),y.gc(70,"percent"),y.Sb(),y.Tb(71,"div",4),y.Tb(72,"strong"),y.Oc(73," Riduzione lineare giovane (art.51, par.3, reg. 1307/2013)"),y.Sb(),y.Sb(),y.Tb(74,"div",4),y.Oc(75),y.gc(76,"percent"),y.Sb(),y.Tb(77,"div",4),y.Tb(78,"strong"),y.Oc(79,"Riduzione lineare massimale netto (art. 7, reg. 1307/2013)"),y.Sb(),y.Sb(),y.Tb(80,"div",4),y.Oc(81),y.gc(82,"percent"),y.Sb(),y.Tb(83,"div",4),y.Tb(84,"strong"),y.Oc(85,"Riduzione titoli"),y.Sb(),y.Sb(),y.Tb(86,"div",4),y.Oc(87),y.gc(88,"percent"),y.Sb(),y.Tb(89,"div",4),y.Tb(90,"strong"),y.Oc(91," Percentuale Disciplina Finanziaria"),y.Sb(),y.Sb(),y.Tb(92,"div",4),y.Oc(93),y.gc(94,"percent"),y.Sb(),y.Tb(95,"div",4),y.Tb(96,"strong"),y.Oc(97,"Percentuale pagamento"),y.Sb(),y.Sb(),y.Tb(98,"div",4),y.Oc(99),y.gc(100,"percent"),y.Sb(),y.Tb(101,"div",5),y.Tb(102,"button",6),y.bc("click",(function(){return y.Ec(e),y.fc().modifica()})),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=y.fc();y.Bb(6),y.Pc(a.getIstruttoriaCorrente().descrizionePac),y.Bb(5),y.Qc(" ",a.getIstruttoriaCorrente().descrizioneDomanda," "),y.Bb(6),y.Pc(a.getIstruttoriaCorrente().annoRiferimento),y.Bb(5),y.Qc(" ",y.ic(23,17,a.getIstruttoriaCorrente().dtScadenzaDomande,"dd/MM/yyyy")," "),y.Bb(7),y.Pc(a.getIstruttoriaCorrente().tipoIstruttoria),y.Bb(5),y.Qc(" ",y.ic(35,20,a.getIstruttoriaCorrente().dtScadenzaDomandeRitardo,"dd/MM/yyyy")," "),y.Bb(6),y.Qc(" ",y.ic(41,23,a.getIstruttoriaCorrente().dtScadenzaDomandeRitiroparz,"dd/MM/yyyy")," "),y.Bb(6),y.Qc(" ",y.ic(47,26,a.getIstruttoriaCorrente().dtRicevibilita,"dd/MM/yyyy")," "),y.Bb(6),y.Qc(" ",y.ic(53,29,a.getIstruttoriaCorrente().percIncrementoGreening,"0.0-4")," "),y.Bb(6),y.Qc(" ",y.ic(59,32,a.getIstruttoriaCorrente().percIncrementoGiovane,"0.0-4")," "),y.Bb(6),y.Qc(" ",a.getIstruttoriaCorrente().limiteGiovane," "),y.Bb(5),y.Qc(" ",y.ic(70,35,a.getIstruttoriaCorrente().percRiduzioneLineare1,"0.0-4")," "),y.Bb(6),y.Qc(" ",y.ic(76,38,a.getIstruttoriaCorrente().percRiduzioneLineare2,"0.0-4")," "),y.Bb(6),y.Qc(" ",y.ic(82,41,a.getIstruttoriaCorrente().percRiduzioneLineare3,"0.0-4")," "),y.Bb(6),y.Qc(" ",y.ic(88,44,a.getIstruttoriaCorrente().percRiduzioneTitoli,"0.0-4")," "),y.Bb(6),y.Qc(" ",y.ic(94,47,a.getIstruttoriaCorrente().percDisciplinaFinanziaria,"0.0-6")," "),y.Bb(6),y.Qc(" ",y.ic(100,50,a.getIstruttoriaCorrente().percPagamento,"0.0-4")," ")}}function bc(t,i){1&t&&(y.Tb(0,"div",24),y.Oc(1,"Numero non valido"),y.Sb())}function pc(t,i){1&t&&(y.Tb(0,"div",24),y.Oc(1,"Numero non valido"),y.Sb())}function gc(t,i){1&t&&(y.Tb(0,"div",24),y.Oc(1,"Numero non valido"),y.Sb())}function mc(t,i){1&t&&(y.Tb(0,"div",24),y.Oc(1,"Numero non valido"),y.Sb())}function fc(t,i){1&t&&(y.Tb(0,"div",24),y.Oc(1,"Numero non valido"),y.Sb())}function vc(t,i){1&t&&(y.Tb(0,"div",24),y.Oc(1,"Numero non valido"),y.Sb())}function hc(t,i){1&t&&(y.Tb(0,"div",24),y.Oc(1,"Numero non valido"),y.Sb())}function Sc(t,i){1&t&&(y.Tb(0,"div",24),y.Oc(1,"Numero non valido"),y.Sb())}function Tc(t,i){1&t&&(y.Tb(0,"div",24),y.Oc(1,"Numero non valido"),y.Sb())}function Ic(t,i){if(1&t&&(y.Tb(0,"div",4),y.Ob(1,"input",25),y.Mc(2,Tc,2,0,"div",13),y.Sb()),2&t){var e=y.fc(2);y.Bb(2),y.mc("ngIf",!e.updateForm.controls.percPagamento.valid)}}function Cc(t,i){if(1&t&&(y.Tb(0,"div",4),y.Oc(1),y.Sb()),2&t){var e=y.fc(2);y.Bb(1),y.Qc(" ",100*e.getIstruttoriaCorrente().percPagamento,"% ")}}function Oc(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div",3),y.Tb(1,"form",7),y.Tb(2,"div",3),y.Tb(3,"div",4),y.Tb(4,"strong"),y.Oc(5,"Tipologia domanda"),y.Sb(),y.Sb(),y.Tb(6,"div",4),y.Oc(7),y.Sb(),y.Tb(8,"div",4),y.Tb(9,"strong"),y.Oc(10,"Descrizione domanda"),y.Sb(),y.Sb(),y.Tb(11,"div",4),y.Oc(12),y.Sb(),y.Sb(),y.Tb(13,"div",3),y.Tb(14,"div",4),y.Tb(15,"strong"),y.Oc(16,"Anno di riferimento"),y.Sb(),y.Sb(),y.Tb(17,"div",4),y.Oc(18),y.Sb(),y.Tb(19,"div",4),y.Tb(20,"strong"),y.Oc(21,"Data scadenza presentazione domande"),y.Sb(),y.Sb(),y.Tb(22,"div",4),y.Ob(23,"p-calendar",8),y.Sb(),y.Sb(),y.Tb(24,"div",3),y.Tb(25,"div",4),y.Tb(26,"strong"),y.Oc(27,"Tipo istruttoria"),y.Sb(),y.Sb(),y.Tb(28,"div",4),y.Oc(29),y.Sb(),y.Tb(30,"div",4),y.Tb(31,"strong"),y.Oc(32,"Data scadenza presentazione domande con ritardo"),y.Sb(),y.Sb(),y.Tb(33,"div",4),y.Ob(34,"p-calendar",9),y.Sb(),y.Sb(),y.Tb(35,"div",3),y.Tb(36,"div",4),y.Tb(37,"strong"),y.Oc(38,"Data scadenza presentazione domande di ritiro parziale"),y.Sb(),y.Sb(),y.Tb(39,"div",4),y.Ob(40,"p-calendar",10),y.Sb(),y.Tb(41,"div",4),y.Tb(42,"strong"),y.Oc(43,"Data di ricevibilit\xe0"),y.Sb(),y.Sb(),y.Tb(44,"div",4),y.Ob(45,"p-calendar",11),y.Sb(),y.Sb(),y.Tb(46,"div",3),y.Tb(47,"div",4),y.Tb(48,"strong"),y.Oc(49,"Greening - Percentuale di incremento del premio"),y.Sb(),y.Sb(),y.Tb(50,"div",4),y.Ob(51,"input",12),y.Mc(52,bc,2,0,"div",13),y.Sb(),y.Tb(53,"div",4),y.Tb(54,"strong"),y.Oc(55,"Giovane - Percentuale di incremento del premio"),y.Sb(),y.Sb(),y.Tb(56,"div",4),y.Ob(57,"input",14),y.Mc(58,pc,2,0,"div",13),y.Sb(),y.Sb(),y.Tb(59,"div",3),y.Tb(60,"div",4),y.Tb(61,"strong"),y.Oc(62,"Giovane - Limite ai diritti all'aiuto attivabili"),y.Sb(),y.Sb(),y.Tb(63,"div",4),y.Ob(64,"input",15),y.Mc(65,gc,2,0,"div",13),y.Sb(),y.Tb(66,"div",4),y.Tb(67,"strong"),y.Oc(68,"Riduzione lineare giovane (art.51, par.2, reg. 1307/2013)"),y.Sb(),y.Sb(),y.Tb(69,"div",4),y.Ob(70,"input",16),y.Mc(71,mc,2,0,"div",13),y.Sb(),y.Sb(),y.Tb(72,"div",3),y.Tb(73,"div",4),y.Tb(74,"strong"),y.Oc(75,"Riduzione lineare giovane (art.51, par.3, reg. 1307/2013)"),y.Sb(),y.Sb(),y.Tb(76,"div",4),y.Ob(77,"input",17),y.Mc(78,fc,2,0,"div",13),y.Sb(),y.Tb(79,"div",4),y.Tb(80,"strong"),y.Oc(81,"Riduzione lineare massimale netto (art. 7, reg. 1307/2013)"),y.Sb(),y.Sb(),y.Tb(82,"div",4),y.Ob(83,"input",18),y.Mc(84,vc,2,0,"div",13),y.Sb(),y.Sb(),y.Tb(85,"div"),y.Tb(86,"div",4),y.Tb(87,"strong"),y.Oc(88,"Riduzioni titoli"),y.Sb(),y.Sb(),y.Tb(89,"div",4),y.Ob(90,"input",19),y.Mc(91,hc,2,0,"div",13),y.Sb(),y.Tb(92,"div",4),y.Tb(93,"strong"),y.Oc(94,"Percentuale Disciplina Finanziaria"),y.Sb(),y.Sb(),y.Tb(95,"div",4),y.Ob(96,"input",20),y.Mc(97,Sc,2,0,"div",13),y.Sb(),y.Sb(),y.Tb(98,"div"),y.Tb(99,"div",4),y.Tb(100,"strong"),y.Oc(101,"Percentuale pagamento"),y.Sb(),y.Sb(),y.Mc(102,Ic,3,1,"div",21),y.Mc(103,Cc,2,1,"div",21),y.Sb(),y.Tb(104,"div",5),y.Tb(105,"button",22),y.bc("click",(function(){return y.Ec(e),y.fc().salva()})),y.Sb(),y.Tb(106,"button",23),y.bc("click",(function(){return y.Ec(e),y.fc().annullaModifica()})),y.Sb(),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=y.fc();y.Bb(1),y.mc("formGroup",a.updateForm),y.Bb(6),y.Qc(" ",a.getIstruttoriaCorrente().descrizionePac," "),y.Bb(5),y.Qc(" ",a.getIstruttoriaCorrente().descrizioneDomanda," "),y.Bb(6),y.Qc(" ",a.getIstruttoriaCorrente().annoRiferimento," "),y.Bb(5),y.mc("locale",a.it)("showIcon",!0),y.Bb(6),y.Qc(" ",a.getIstruttoriaCorrente().tipoIstruttoria," "),y.Bb(5),y.mc("locale",a.it)("showIcon",!0),y.Bb(6),y.mc("locale",a.it)("showIcon",!0),y.Bb(5),y.mc("locale",a.it)("showIcon",!0),y.Bb(6),y.mc("disabled",!0),y.Bb(1),y.mc("ngIf",!a.updateForm.controls.percIncrementoGreening.valid),y.Bb(6),y.mc("ngIf",!a.updateForm.controls.percIncrementoGiovane.valid),y.Bb(7),y.mc("ngIf",!a.updateForm.controls.limiteGiovane.valid),y.Bb(6),y.mc("ngIf",!a.updateForm.controls.percRiduzioneLineare1.valid),y.Bb(7),y.mc("ngIf",!a.updateForm.controls.percRiduzioneLineare2.valid),y.Bb(6),y.mc("ngIf",!a.updateForm.controls.percRiduzioneLineare3.valid),y.Bb(7),y.mc("ngIf",!a.updateForm.controls.percRiduzioneTitoli.valid),y.Bb(6),y.mc("ngIf",!a.updateForm.controls.percDisciplinaFinanziaria.valid),y.Bb(5),y.mc("ngIf","ANTICIPO"==a.getIstruttoriaCorrente().tipoIstruttoria),y.Bb(1),y.mc("ngIf","SALDO"==a.getIstruttoriaCorrente().tipoIstruttoria)}}var Ac,Dc=((Ac=function(){function t(i,e,a,o,n,r,c){_classCallCheck(this,t),this.istruttoriaCorrente=i,this.fb=e,this.route=a,this.istruttoriaService=o,this.confirmationService=n,this.router=r,this.conf=c,this.aggiornaDomandeCounters=new y.n,this.controlloRicev=!1,this.showSostegno=!1,this.editable=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.it={firstDayOfWeek:1,dayNames:["domenica","lunedi","martedi","mercoledi","giovedi","venerdi","sabato"],dayNamesShort:["dom","lun","mar","mer","gio","ven","sab"],dayNamesMin:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Sep","Ott","Nov","Dic"],today:"Oggi",clear:"Svuota"}}},{key:"getIstruttoriaCorrente",value:function(){return this.istruttoriaCorrente.istruttoria}},{key:"modifica",value:function(){var t=this;this.confirmationService.confirm({message:"Attenzione! Sei davvero sicuro di voler modificare questi dati?",acceptLabel:"S\xec",rejectLabel:"No",rejectVisible:!0,accept:function(){t.editable=!0,t.updateForm=t.fb.group({percIncrementoGreening:[(100*t.getIstruttoriaCorrente().percIncrementoGreening).toFixed(2),[M.G.required,M.G.pattern(/^\d{0,3}(\.\d{0,2})?$/)]],percIncrementoGiovane:[(100*t.getIstruttoriaCorrente().percIncrementoGiovane).toFixed(2),[M.G.required,M.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)]],limiteGiovane:[t.getIstruttoriaCorrente().limiteGiovane,+[M.G.required,M.G.pattern(/^-?\d{0,3}(\.?\d{0,4})$/)]],percRiduzioneLineare1:[(100*t.getIstruttoriaCorrente().percRiduzioneLineare1).toFixed(2),[M.G.required,M.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)]],percRiduzioneLineare2:[(100*t.getIstruttoriaCorrente().percRiduzioneLineare2).toFixed(2),[M.G.required,M.G.pattern(/^-?\d{0,3}\.?(\d{0,2})$/)]],percRiduzioneLineare3:[(100*t.getIstruttoriaCorrente().percRiduzioneLineare3).toFixed(2),[M.G.required,M.G.pattern(/^-?\d{0,3}\.?(\d{0,2})$/)]],percRiduzioneTitoli:[(100*t.getIstruttoriaCorrente().percRiduzioneTitoli).toFixed(2),[M.G.required,M.G.pattern(/^-?\d{0,3}\.?(\d{0,2})$/)]],percDisciplinaFinanziaria:[(100*t.getIstruttoriaCorrente().percDisciplinaFinanziaria).toFixed(6),[M.G.required,M.G.pattern(/^-?\d{0,5}(\.?\d{0,6})$/)]],dtRicevibilita:[new Date(t.getIstruttoriaCorrente().dtRicevibilita),M.G.required],dtScadenzaDomande:[new Date(t.getIstruttoriaCorrente().dtScadenzaDomande),M.G.required],dtScadenzaDomandeRitardo:[new Date(t.getIstruttoriaCorrente().dtScadenzaDomandeRitardo),M.G.required],dtScadenzaDomandeRitiroparz:[new Date(t.getIstruttoriaCorrente().dtScadenzaDomandeRitiroparz),M.G.required],percPagamento:[(100*t.getIstruttoriaCorrente().percPagamento).toFixed(2),[M.G.required,M.G.pattern(/^-?\d{0,3}\.?(\d{0,2})$/)]]})}})}},{key:"annullaModifica",value:function(){this.editable=!1}},{key:"salva",value:function(){var t=this,i=this.getIstruttoriaCorrente().id,e=this.updateForm.getRawValue(),a=new uc(this.fixDati(e.percIncrementoGreening),this.fixDati(e.percIncrementoGiovane),Number(e.limiteGiovane),this.fixDati(e.percRiduzioneLineare1),this.fixDati(e.percRiduzioneLineare2),this.fixDati(e.percRiduzioneLineare3),this.fixDati(e.percRiduzioneTitoli),this.fixDati(e.percPagamento),Number(e.percDisciplinaFinanziaria)/100,e.dtRicevibilita,e.dtScadenzaDomande,e.dtScadenzaDomandeRitardo,e.dtScadenzaDomandeRitiroparz);""===e.percDisciplinaFinanziaria||""===e.limiteGiovane||""===e.percRiduzioneLineare1||""===e.percRiduzioneLineare2||""===e.percRiduzioneLineare3||""===e.percRiduzioneTitoli||""===e.dtRicevibilita||""===e.dtScadenzaDomande||""===e.dtScadenzaDomandeRitardo||""===e.dtScadenzaDomandeRitiroparz||""===e.percPagamento?this.confirmationService.confirm({message:"Attenzione! I valori inseriti non risultano corretti.",acceptLabel:"Annulla",rejectVisible:!1,accept:function(){t.editable=!0}}):this.istruttoriaService.putIstruttoria(i,a).subscribe((function(e){t.aggiornaDomandeCounters.emit(i),t.editable=!1}))}},{key:"fixDati",value:function(t){return Number(Number(t/100).toFixed(4))}}]),t}()).\u0275fac=function(t){return new(t||Ac)(y.Nb(ti.a),y.Nb(M.f),y.Nb(c.a),y.Nb(l.a),y.Nb(B.a),y.Nb(c.e),y.Nb(oi.a))},Ac.\u0275cmp=y.Hb({type:Ac,selectors:[["app-dettaglio-istruttoria-dati"]],outputs:{aggiornaDomandeCounters:"aggiornaDomandeCounters"},features:[y.Ab([B.a])],decls:4,vars:2,consts:[["header","Conferma","icon","pi pi-exclamation-triangle"],[1,"boxgrey","f18"],["class","ui-g",4,"ngIf"],[1,"ui-g"],[1,"ui-g-3"],[1,"ui-g-12","text-right"],["pButton","","type","button","label","Modifica",1,"btn-green",2,"min-height","42px","box-shadow","none",3,"click"],[3,"formGroup"],["formControlName","dtScadenzaDomande","dateFormat","dd/mm/yy",3,"locale","showIcon"],["formControlName","dtScadenzaDomandeRitardo","dateFormat","dd/mm/yy",3,"locale","showIcon"],["formControlName","dtScadenzaDomandeRitiroparz","dateFormat","dd/mm/yy",3,"locale","showIcon"],["formControlName","dtRicevibilita","dateFormat","dd/mm/yy",3,"locale","showIcon"],["type","text","appValidateInputNumber","","pInputText","","formControlName","percIncrementoGreening",3,"disabled"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],["type","text","appValidateInputNumber","","pInputText","","formControlName","percIncrementoGiovane"],["type","text","pInputText","","formControlName","limiteGiovane","maxlength","5"],["type","text","appValidateInputNumber","","pInputText","","formControlName","percRiduzioneLineare1"],["type","text","appValidateInputNumber","","pInputText","","formControlName","percRiduzioneLineare2"],["type","text","appValidateInputNumber","","pInputText","","formControlName","percRiduzioneLineare3"],["type","text","appValidateInputNumber","","pInputText","","formControlName","percRiduzioneTitoli"],["type","text","appValidateInputOtherNumber","","pInputText","","formControlName","percDisciplinaFinanziaria"],["class","ui-g-3",4,"ngIf"],["pButton","","type","button","label","Salva",1,"btn-green",2,"min-height","42px","box-shadow","none","margin-right","10px",3,"click"],["pButton","","type","button","label","Annulla",1,"btn-green",2,"min-height","42px","box-shadow","none",3,"click"],[1,"ui-message","ui-messages-error","ui-corner-all"],["type","text","appValidateInputNumber","","pInputText","","formControlName","percPagamento"]],template:function(t,i){1&t&&(y.Ob(0,"p-confirmDialog",0),y.Tb(1,"div",1),y.Mc(2,dc,103,53,"div",2),y.Mc(3,Oc,107,24,"div",2),y.Sb()),2&t&&(y.Bb(2),y.mc("ngIf",0==i.editable),y.Bb(1),y.mc("ngIf",1==i.editable))},directives:[In.a,a.t,k.b,M.I,M.t,M.k,Sn.a,M.s,M.i,M.c,Cn,bo.a,M.n,Vn],pipes:[a.f,a.C],styles:[""]}),Ac),Pc=function t(){_classCallCheck(this,t)},yc=function t(){_classCallCheck(this,t)},Bc=e("a2Ts");function Nc(t,i){if(1&t&&(y.Tb(0,"div",4),y.Tb(1,"strong"),y.Oc(2),y.Sb(),y.Sb(),y.Tb(3,"div",5),y.Oc(4),y.gc(5,"number"),y.Sb()),2&t){var e=i.$implicit;y.Bb(2),y.Sc("",e.intervento.misura," - ",e.intervento.descrizioneBreve," - ",e.intervento.codiceAgea,""),y.Bb(2),y.Qc(" ",y.jc(5,4,e.valoreUnitarioIntervento,"1.2-2","it-IT")," ")}}function zc(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div",3),y.Tb(1,"div",4),y.Tb(2,"strong"),y.Oc(3,"Data apertura domanda integrativa"),y.Sb(),y.Sb(),y.Tb(4,"div",5),y.Oc(5),y.gc(6,"date"),y.Sb(),y.Tb(7,"div",4),y.Tb(8,"strong"),y.Oc(9,"Data chiusura domanda integrativa"),y.Sb(),y.Sb(),y.Tb(10,"div",5),y.Oc(11),y.gc(12,"date"),y.Sb(),y.Mc(13,Nc,6,8,"ng-template",6),y.Tb(14,"div",7),y.Tb(15,"button",8),y.bc("click",(function(){return y.Ec(e),y.fc().modifica()})),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=y.fc();y.Bb(5),y.Qc(" ",y.ic(6,3,a.premioAggregato.sostegnoDuDi.dtAperturaDomanda,"dd/MM/yyyy")," "),y.Bb(6),y.Qc("",y.ic(12,6,a.premioAggregato.sostegnoDuDi.dtChiusuraDomanda,"dd/MM/yyyy")," "),y.Bb(2),y.mc("ngForOf",a.premiIntervento)}}function Rc(t,i){1&t&&(y.Tb(0,"div",17),y.Oc(1," Numero non valido "),y.Sb())}function Mc(t,i){if(1&t&&(y.Tb(0,"div"),y.Tb(1,"div",4),y.Tb(2,"strong"),y.Oc(3),y.Sb(),y.Sb(),y.Tb(4,"div",5),y.Ob(5,"input",15),y.Mc(6,Rc,2,0,"div",16),y.Sb(),y.Sb()),2&t){var e=i.$implicit,a=i.index,o=y.fc(2);y.Bb(3),y.Sc("",e.intervento.misura," - ",e.intervento.descrizioneBreve," - ",e.intervento.codiceAgea,""),y.Bb(2),y.mc("formControlName",a),y.Bb(1),y.mc("ngIf",!o.isValid(a))}}function Ec(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div",3),y.Tb(1,"div",4),y.Tb(2,"strong"),y.Oc(3,"Data apertura domanda integrativa"),y.Sb(),y.Sb(),y.Tb(4,"div",5),y.Tb(5,"p-calendar",9),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc().premioAggregato.sostegnoDuDi.dtAperturaDomanda=t})),y.Sb(),y.Sb(),y.Tb(6,"div",4),y.Tb(7,"strong"),y.Oc(8,"Data chiusura domanda integrativa"),y.Sb(),y.Sb(),y.Tb(9,"div",5),y.Tb(10,"p-calendar",9),y.bc("ngModelChange",(function(t){return y.Ec(e),y.fc().premioAggregato.sostegnoDuDi.dtChiusuraDomanda=t})),y.Sb(),y.Sb(),y.Tb(11,"form",10),y.Tb(12,"div",11),y.Mc(13,Mc,7,5,"div",12),y.Sb(),y.Sb(),y.Tb(14,"div",7),y.Tb(15,"button",13),y.bc("click",(function(){return y.Ec(e),y.fc().salva()})),y.Sb(),y.Tb(16,"button",14),y.bc("click",(function(){return y.Ec(e),y.fc().annullaModifica()})),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=y.fc();y.Bb(5),y.mc("locale",a.it)("showIcon",!0)("ngModel",a.premioAggregato.sostegnoDuDi.dtAperturaDomanda),y.Bb(5),y.mc("locale",a.it)("showIcon",!0)("ngModel",a.premioAggregato.sostegnoDuDi.dtChiusuraDomanda),y.Bb(1),y.mc("formGroup",a.updateForm),y.Bb(2),y.mc("ngForOf",a.premiIntervento)}}var kc,Lc=((kc=function(){function t(i,e,a,o,n,r,c){_classCallCheck(this,t),this.istruttoriaCorrente=i,this.fb=e,this.route=a,this.istruttoriaService=o,this.confirmationService=n,this.router=r,this.conf=c,this.aggiornaDomandeCounters=new y.n,this.controlloRicev=!1,this.showSostegno=!1,this.premiIntervento=new Array,this.aggiornaPremioAggregato=new y.n,this.editable=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.it={firstDayOfWeek:1,dayNames:["domenica","lunedi","martedi","mercoledi","giovedi","venerdi","sabato"],dayNamesShort:["dom","lun","mar","mer","gio","ven","sab"],dayNamesMin:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Sep","Ott","Nov","Dic"],today:"Oggi",clear:"Svuota"}}},{key:"setSostegnoPremi",value:function(t){this.premiIntervento=t.interventoDuPremi,this.premioAggregato.sostegnoDuDi.dtAperturaDomanda=new Date(this.premioAggregato.sostegnoDuDi.dtAperturaDomanda),this.premioAggregato.sostegnoDuDi.dtChiusuraDomanda=new Date(this.premioAggregato.sostegnoDuDi.dtChiusuraDomanda)}},{key:"premi",get:function(){return this.updateForm.get("premi")}},{key:"addFeature",value:function(t){this.premi.push(this.fb.control(t,[M.G.required,M.G.pattern(/^-?\d{0,9}(\.?\d{0,2})$/)]))}},{key:"isValid",value:function(t){return this.updateForm.get("premi").controls[t].valid}},{key:"modifica",value:function(){var t=this;this.confirmationService.confirm({message:"Attenzione! Sei davvero sicuro di voler modificare questi dati?",acceptLabel:"S\xec",rejectLabel:"No",rejectVisible:!0,accept:function(){t.editable=!0,t.updateForm=t.fb.group({premi:t.fb.array([t.fb.control(t.premioAggregato.interventoDuPremi[0].valoreUnitarioIntervento.toString(),M.G.required)])});for(var i=1;i<t.premioAggregato.interventoDuPremi.length;i++)t.addFeature(t.premioAggregato.interventoDuPremi[i].valoreUnitarioIntervento.toString())}})}},{key:"annullaModifica",value:function(){this.editable=!1}},{key:"salva",value:function(){var t=this,i=this.updateForm.get("premi"),e=new yc,a=new Bc.a,o=new Array,n=0;if(d.a.isUndefinedOrNull(this.premioAggregato.sostegnoDuDi.dtAperturaDomanda)||d.a.isUndefinedOrNull(this.premioAggregato.sostegnoDuDi.dtChiusuraDomanda))this.throwError("Attenzione! I valori inseriti non risultano corretti.");else if(this.premioAggregato.sostegnoDuDi.dtAperturaDomanda.getTime()>this.premioAggregato.sostegnoDuDi.dtChiusuraDomanda.getTime())this.throwError("Attenzione! La data di apertura domanda non pu\xf2 essere maggiore della data chiusura domanda.");else{var r=!0;i.controls.forEach((function(i){i.valid?isNaN(i.value)&&(r=!1):r=i.valid;var c=new Pc;c.valoreUnitarioIntervento=i.value,c.intervento=t.premioAggregato.interventoDuPremi[n].intervento,c.id=t.premioAggregato.interventoDuPremi[n].id,o.push(c),e.dtAperturaDomanda=t.premioAggregato.sostegnoDuDi.dtAperturaDomanda,e.dtChiusuraDomanda=t.premioAggregato.sostegnoDuDi.dtChiusuraDomanda,e.identificativoSostegno=g.a.ZOOTECNIA,a.interventoDuPremi=o,a.sostegnoDuDi=e,n++})),r?this.aggiornaPremioAggregato.emit(a):this.throwError("Attenzione! I valori inseriti non risultano corretti.")}}},{key:"throwError",value:function(t){var i=this;this.confirmationService.confirm({message:t,acceptLabel:"Annulla",rejectVisible:!1,accept:function(){i.editable=!0}})}},{key:"ngOnChanges",value:function(t){t.premioAggregato.currentValue&&(this.setSostegnoPremi(this.premioAggregato),this.editable=!1)}}]),t}()).\u0275fac=function(t){return new(t||kc)(y.Nb(ti.a),y.Nb(M.f),y.Nb(c.a),y.Nb(l.a),y.Nb(B.a),y.Nb(c.e),y.Nb(oi.a))},kc.\u0275cmp=y.Hb({type:kc,selectors:[["app-dettaglio-istruttoria-dati-acz"]],inputs:{premioAggregato:"premioAggregato"},outputs:{aggiornaDomandeCounters:"aggiornaDomandeCounters",aggiornaPremioAggregato:"aggiornaPremioAggregato"},features:[y.Ab([B.a]),y.zb],decls:4,vars:2,consts:[["header","Conferma","icon","pi pi-exclamation-triangle"],[1,"boxgrey","f18"],["class","ui-g",4,"ngIf"],[1,"ui-g"],[1,"ui-g-4"],[1,"ui-g-2"],["ngFor","",3,"ngForOf"],[1,"ui-g-12","text-right"],["pButton","","type","button","label","Modifica",1,"btn-green",2,"min-height","42px","box-shadow","none",3,"click"],["dateFormat","dd/mm/yy",3,"locale","showIcon","ngModel","ngModelChange"],[1,"ui-g-12",3,"formGroup"],["formArrayName","premi"],[4,"ngFor","ngForOf"],["pButton","","type","button","label","Salva",1,"btn-green",2,"min-height","42px","box-shadow","none","margin-right","10px",3,"click"],["pButton","","type","button","label","Annulla",1,"btn-green",2,"min-height","42px","box-shadow","none",3,"click"],["type","text","pInputText","",3,"formControlName"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],[1,"ui-message","ui-messages-error","ui-corner-all"]],template:function(t,i){1&t&&(y.Ob(0,"p-confirmDialog",0),y.Tb(1,"div",1),y.Mc(2,zc,16,9,"div",2),y.Mc(3,Ec,17,8,"div",2),y.Sb()),2&t&&(y.Bb(2),y.mc("ngIf",0==i.editable),y.Bb(1),y.mc("ngIf",1==i.editable))},directives:[In.a,a.t,a.s,k.b,Sn.a,M.s,M.v,M.I,M.t,M.k,M.e,M.c,bo.a,M.i],pipes:[a.f,a.g],styles:[""]}),kc),wc=e("EOOO");function _c(t,i){if(1&t&&(y.Tb(0,"p",25),y.Oc(1),y.Sb()),2&t){y.fc(2);var e=y.Bc(7);y.Bb(1),y.Qc(" ",e.errors.erroreNumero," ")}}function xc(t,i){if(1&t&&(y.Tb(0,"div"),y.Mc(1,_c,2,1,"p",24),y.Sb()),2&t){y.fc();var e=y.Bc(7);y.Bb(1),y.mc("ngIf",null==e.errors?null:e.errors.erroreNumero)}}function Uc(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div"),y.Tb(1,"div",16),y.Tb(2,"label",17),y.Oc(3),y.Sb(),y.Sb(),y.Tb(4,"div",18),y.Tb(5,"div",19),y.Tb(6,"input",20,21),y.bc("ngModelChange",(function(t){y.Ec(e);var a=i.$implicit,o=y.fc(3);return o.dettaglioDomandaAccoppiati[o.tipoDettaglio][a.id]=t})),y.Sb(),y.Tb(8,"span",22),y.Oc(9),y.Sb(),y.Sb(),y.Mc(10,xc,2,1,"div",0),y.Sb(),y.Ob(11,"div",23),y.Sb()}if(2&t){var a=i.$implicit,o=y.Bc(7),n=y.fc(3);y.Bb(3),y.Qc(" ",a.label," "),y.Bb(3),y.nc("name",a.id),y.mc("ngModel",n.dettaglioDomandaAccoppiati[n.tipoDettaglio][a.id]),y.Bb(3),y.Qc(" ",a.target," "),y.Bb(1),y.mc("ngIf",o&&o.errors)}}function Fc(t,i){if(1&t&&(y.Tb(0,"div"),y.Tb(1,"div",14),y.Tb(2,"div",2),y.Tb(3,"h3"),y.Tb(4,"span"),y.Oc(5," Dati Superfici Determinate "),y.Sb(),y.Sb(),y.Mc(6,Uc,12,5,"div",15),y.Ob(7,"br"),y.Sb(),y.Sb(),y.Sb()),2&t){var e=y.fc(2);y.Bb(6),y.mc("ngForOf",e.dati.items)}}function Gc(t,i){if(1&t&&(y.Tb(0,"p",25),y.Oc(1),y.Sb()),2&t){y.fc(2);var e=y.Bc(7);y.Bb(1),y.Qc(" ",e.errors.erroreNumero," ")}}function Vc(t,i){if(1&t&&(y.Tb(0,"div"),y.Mc(1,Gc,2,1,"p",24),y.Sb()),2&t){y.fc();var e=y.Bc(7);y.Bb(1),y.mc("ngIf",null==e.errors?null:e.errors.erroreNumero)}}function Zc(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div"),y.Tb(1,"div",16),y.Tb(2,"label",17),y.Oc(3),y.Sb(),y.Sb(),y.Tb(4,"div",18),y.Tb(5,"div",19),y.Tb(6,"input",26,21),y.bc("ngModelChange",(function(t){y.Ec(e);var a=i.$implicit,o=y.fc(3);return o.dettaglioDomandaAccoppiati[o.tipoDettaglio][a.id]=t})),y.Sb(),y.Tb(8,"span",22),y.Oc(9),y.Sb(),y.Sb(),y.Mc(10,Vc,2,1,"div",0),y.Sb(),y.Ob(11,"div",23),y.Sb()}if(2&t){var a=i.$implicit,o=y.Bc(7),n=y.fc(3);y.Bb(3),y.Qc(" ",a.label," "),y.Bb(3),y.nc("name",a.id),y.mc("ngModel",n.dettaglioDomandaAccoppiati[n.tipoDettaglio][a.id]),y.Bb(3),y.Qc(" ",a.target," "),y.Bb(1),y.mc("ngIf",o&&o.errors)}}function $c(t,i){if(1&t&&(y.Tb(0,"div"),y.Tb(1,"div",14),y.Tb(2,"div",2),y.Tb(3,"h3"),y.Tb(4,"span"),y.Oc(5," Dati Superfici Determinate "),y.Sb(),y.Sb(),y.Mc(6,Zc,12,5,"div",15),y.Ob(7,"br"),y.Sb(),y.Sb(),y.Sb()),2&t){var e=y.fc(2);y.Bb(6),y.mc("ngForOf",e.dati.items)}}var Qc=function(){return{marginTop:"70px"}};function qc(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div"),y.Tb(1,"div",1),y.Tb(2,"span"),y.Oc(3),y.gc(4,"async"),y.Sb(),y.Tb(5,"div",2),y.Tb(6,"div",3),y.Ob(7,"p-toast",4),y.Tb(8,"div",5),y.Tb(9,"h3"),y.Tb(10,"span"),y.Oc(11," Dati Controlli in Loco e Certificazione Antimafia "),y.Sb(),y.Sb(),y.Tb(12,"div",6),y.Tb(13,"p-checkbox",7),y.bc("ngModelChange",(function(t){y.Ec(e);var i=y.fc();return i.dettaglioDomandaAccoppiati[i.tipoDettaglio].controlloSigecoLoco=t})),y.Sb(),y.Ob(14,"br"),y.Tb(15,"p-checkbox",8),y.bc("ngModelChange",(function(t){y.Ec(e);var i=y.fc();return i.dettaglioDomandaAccoppiati[i.tipoDettaglio].controlloAntimafia=t})),y.Sb(),y.Sb(),y.Sb(),y.Mc(16,Fc,8,1,"div",0),y.Tb(17,"div"),y.Tb(18,"div",9),y.Ob(19,"br"),y.Tb(20,"button",10),y.bc("click",(function(){return y.Ec(e),y.fc().onSubmit()})),y.Oc(21,"SALVA"),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Tb(22,"div",11),y.Tb(23,"div",2),y.Tb(24,"div",3),y.Ob(25,"p-toast",4),y.Tb(26,"div",5),y.Tb(27,"h3"),y.Tb(28,"span"),y.Oc(29," Dati Controlli in Loco e Certificazione Antimafia "),y.Sb(),y.Sb(),y.Tb(30,"div",6),y.Tb(31,"p-checkbox",12),y.bc("ngModelChange",(function(t){y.Ec(e);var i=y.fc();return i.dettaglioDomandaAccoppiati[i.tipoDettaglio].controlloSigecoLoco=t})),y.Sb(),y.Ob(32,"br"),y.Tb(33,"p-checkbox",13),y.bc("ngModelChange",(function(t){y.Ec(e);var i=y.fc();return i.dettaglioDomandaAccoppiati[i.tipoDettaglio].controlloAntimafia=t})),y.Sb(),y.Sb(),y.Sb(),y.Mc(34,$c,8,1,"div",0),y.Ob(35,"div"),y.Sb(),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=i.ngIf,o=y.fc();y.Bb(1),y.mc("a4gHasPermission","MODIFICABILE")("annoCampagna",o.getIstruttoriaCorrente().annoRiferimento)("tipoIstruttoria",o.getIstruttoriaCorrente().tipoIstruttoria)("statoSostegno",a),y.Bb(2),y.Pc(y.hc(4,19,a)),y.Bb(4),y.Kc(y.rc(21,Qc)),y.Bb(6),y.mc("ngModel",o.dettaglioDomandaAccoppiati[o.tipoDettaglio].controlloSigecoLoco),y.Bb(2),y.mc("ngModel",o.dettaglioDomandaAccoppiati[o.tipoDettaglio].controlloAntimafia),y.Bb(1),y.mc("ngIf","datiIstruttoriaACS"==o.tipoDettaglio),y.Bb(6),y.mc("a4gHasPermission","NON_MODIFICABILE")("statoSostegno",a)("tipoIstruttoria",o.getIstruttoriaCorrente().tipoIstruttoria)("annoCampagna",o.getIstruttoriaCorrente().annoRiferimento),y.Bb(3),y.Kc(y.rc(22,Qc)),y.Bb(6),y.mc("ngModel",o.dettaglioDomandaAccoppiati[o.tipoDettaglio].controlloSigecoLoco),y.Bb(2),y.mc("ngModel",o.dettaglioDomandaAccoppiati[o.tipoDettaglio].controlloAntimafia),y.Bb(1),y.mc("ngIf","datiIstruttoriaACS"==o.tipoDettaglio)}}var Hc,jc=((Hc=function(){function t(i,e,a,o,n){_classCallCheck(this,t),this.route=i,this.istruttoriaService=e,this.messageService=a,this.router=o,this.istruttoriaCorrente=n,this.dati=null,this.dettaglioDomandaAccoppiati=new wc.k,this.statoSostegno$=new S.a}return _createClass(t,[{key:"ngOnInit",value:function(){this.setSostegno(),this.setIdDomandaCorrente(),this.getDatiIstruttoria()}},{key:"setSostegno",value:function(){this.selectedSostegno=this.router.url.split("/").filter((function(t){return t===ai.a.accoppiatoZootecniaRichiesto})).length>0?g.a.ZOOTECNIA:g.a.SUPERFICIE,this.selectedSostegno==g.a.ZOOTECNIA?(this.tipoSostegno=ai.a.acz,this.dettaglioDomandaAccoppiati.datiIstruttoriaACZ=new wc.j,this.tipoDettaglio="datiIstruttoriaACZ",this.service="putDettaglioDatiIstruttoriaACZ"):this.selectedSostegno==g.a.SUPERFICIE&&(this.tipoSostegno=ai.a.acs,this.dettaglioDomandaAccoppiati.datiIstruttoriaACS=new wc.i,this.tipoDettaglio="datiIstruttoriaACS",this.service="putDettaglioDatiIstruttoriaACS",this.setDatiDaInserire())}},{key:"setDatiDaInserire",value:function(){this.dati={items:[{label:"ACS - Superficie determinata dall\u2019istruttore Soia",id:"superficieDeterminataSoiaM8",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Frumento",id:"superficieDeterminataFrumentoM9",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Proteaginose",id:"superficieDeterminataProteaginoseM10",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Leguminose",id:"superficieDeterminataLeguminoseM11",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Pomodoro",id:"superficieDeterminataPomodoroM14",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Olivo Standard",id:"superficieDeterminataOlivoStandardM15",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Olivo  7,5%",id:"superficieDeterminataOlivoPendenzaM16",target:"Ha"},{label:"ACS - Superficie determinata dall\u2019istruttore Olivo Qualit\xe0",id:"superficieDeterminataOlivoQualitaM17",target:"Ha"}]}}},{key:"setIdDomandaCorrente",value:function(){var t=this;this.route.params.subscribe((function(i){t.idDomandaCorrente=i.idDomanda}))}},{key:"getDatiIstruttoria",value:function(){var t=this;this.istruttoriaService.getDettaglioDomandaAccoppiati(this.idDomandaCorrente.toString(),this.tipoSostegno,ai.a.tabDatiIstruttoria).subscribe((function(i){i&&(console.log(i),t.statoSostegno$.next(i[0].statoLavorazioneSostegno),t.dettaglioDomandaAccoppiati.idDomanda=i[0].idDomanda,i[0][t.tipoDettaglio]&&(t.dettaglioDomandaAccoppiati[t.tipoDettaglio]=i[0][t.tipoDettaglio],console.log(ai.a.tabControlliSostego+" "+t.selectedSostegno+":"),console.log(t.dettaglioDomandaAccoppiati)))}),(function(i){console.error(i),t.messageService.add(d.a.getToast("tst",d.b.error,d.a.erroreRecuperoDati))}))}},{key:"onSubmit",value:function(){var t=this;console.log(this.dettaglioDomandaAccoppiati),this.istruttoriaService[this.service](this.idDomandaCorrente,this.dettaglioDomandaAccoppiati[this.tipoDettaglio]).subscribe((function(i){t.messageService.add(d.a.getToast("tst",d.b.success,d.a.OPERAZIONE_OK))}),(function(i){console.error(i),t.messageService.add(d.a.getToast("tst",d.b.error,d.a.ERRORE_SALVATAGGIO_DATI_ISTRUTTORIA))}))}},{key:"getIstruttoriaCorrente",value:function(){return this.istruttoriaCorrente.istruttoria}}]),t}()).\u0275fac=function(t){return new(t||Hc)(y.Nb(c.a),y.Nb(l.a),y.Nb(B.d),y.Nb(c.e),y.Nb(ti.a))},Hc.\u0275cmp=y.Hb({type:Hc,selectors:[["app-dati-istruttoria"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"boxgrey",2,"padding-top","50px","display","inline-block",3,"a4gHasPermission","annoCampagna","tipoIstruttoria","statoSostegno"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[2,"background","#fff","padding","30px","display","inline-block","width","100%","margin-bottom","30px"],[2,"font-size","15px"],["binary","true","label","Si certifica che sono stati effettuati i controlli amministrativi in loco",3,"ngModel","ngModelChange"],["binary","true","label","Si attesta che la certificazione antimafia \xe8 stata acquisita in maniera cartacea o che il pagamento viene effettuato su conduzione risolutiva legata all'esito degli accertamenti",3,"ngModel","ngModelChange"],[1,"ui-g-12","ui-md-2","searchbutton"],["pButton","","type","button","type","submit",1,"ui-button-success",3,"click"],[1,"boxgrey",2,"padding-top","50px","display","inline-block",3,"a4gHasPermission","statoSostegno","tipoIstruttoria","annoCampagna"],["disabled","","binary","true","label","Si certifica che sono stati effettuati i controlli amministrativi in loco",3,"ngModel","ngModelChange"],["disabled","","binary","true","label","Si attesta che la certificazione antimafia \xe8 stata acquisita in maniera cartacea o che il pagamento viene effettuato su conduzione risolutiva legata all'esito degli accertamenti",3,"ngModel","ngModelChange"],[2,"background","#fff","padding","30px","display","inline-block","width","100%"],[4,"ngFor","ngForOf"],[1,"ui-g-5"],[1,"labelricerca"],[1,"ui-g-3"],[1,"ui-inputgroup"],["type","number","step","0.0001","min","0","pInputText","","appValidaNumero4dec","",2,"width","100%",3,"name","ngModel","ngModelChange"],["input","ngModel"],[1,"ui-inputgroup-addon",2,"padding","10px 20px","background","#f0f0f0","border","1px solid #dedede"],[1,"ui-g-4"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],[1,"ui-message","ui-messages-error","ui-corner-all"],["disabled","","type","number","step","0.0001","min","0","pInputText","","appValidaNumero4dec","",2,"width","100%",3,"name","ngModel","ngModelChange"]],template:function(t,i){1&t&&(y.Mc(0,qc,36,23,"div",0),y.gc(1,"async")),2&t&&y.mc("ngIf",y.hc(1,1,i.statoSostegno$))},directives:[a.t,re.a,z.a,Ki.a,M.s,M.v,k.b,a.s,M.y,M.c,bo.a,ro],pipes:[a.b],styles:[""]}),Hc);function Kc(t,i){if(1&t&&(y.Tb(0,"th",13),y.Tb(1,"strong"),y.Oc(2),y.Sb(),y.Ob(3,"p-sortIcon",14),y.Sb()),2&t){var e=i.$implicit;y.mc("pSortableColumn",e.field)("pSortableColumnDisabled",null==e.field),y.Bb(2),y.Pc(e.header),y.Bb(1),y.mc("field",e.field)}}function Yc(t,i){if(1&t&&(y.Tb(0,"tr"),y.Mc(1,Kc,4,4,"th",12),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.mc("ngForOf",e)}}function Jc(t,i){if(1&t&&(y.Tb(0,"td"),y.Oc(1),y.Sb()),2&t){var e=i.$implicit,a=y.fc().$implicit;y.Bb(1),y.Qc(" ",a[e.field]," ")}}function Wc(t,i){if(1&t&&(y.Tb(0,"tr"),y.Mc(1,Jc,2,1,"td",5),y.Sb()),2&t){var e=i.columns;y.Bb(1),y.mc("ngForOf",e)}}function Xc(t,i){if(1&t&&(y.Tb(0,"div"),y.Tb(1,"p-accordion"),y.Tb(2,"p-accordionTab",7),y.Tb(3,"p-table",8,9),y.Mc(5,Yc,2,1,"ng-template",10),y.Mc(6,Wc,2,1,"ng-template",11),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t){var e=y.fc().$implicit,a=y.fc();y.Bb(2),y.nc("header",a.setHeader(e)),y.mc("selected",!0),y.Bb(1),y.mc("columns",a.cols)("value",a.dettaglioDomandaAccoppiati.datiParticellaACS[e])("autoLayout",!0)("paginator",!0)("rows",a.elementiPagina)("responsive",!0)}}function ts(t,i){if(1&t&&(y.Tb(0,"div"),y.Mc(1,Xc,7,8,"div",6),y.Sb()),2&t){var e=i.$implicit,a=y.fc();y.Bb(1),y.mc("ngIf",a.dettaglioDomandaAccoppiati.datiParticellaACS[e]&&a.dettaglioDomandaAccoppiati.datiParticellaACS[e].length>0)}}function is(t,i){1&t&&(y.Tb(0,"div"),y.Oc(1," Nessun controllo eseguito "),y.Sb())}var es,as=function(){return{marginTop:"70px"}},os=((es=function(){function t(i,e,a){_classCallCheck(this,t),this.messageService=i,this.route=e,this.istruttoriaService=a,this.elementiPagina=10,this.dettaglioDomandaAccoppiati=new wc.k}return _createClass(t,[{key:"ngOnInit",value:function(){this.dettaglioDomandaAccoppiati.datiParticellaACS=new wc.d,this.setInterventi(),this.setCols(),this.setIdDomandaCorrente(),this.changePage()}},{key:"setInterventi",value:function(){this.interventi=["m8","m9","m10","m11","m14","m15","m16","m17"]}},{key:"setCols",value:function(){this.cols=[{field:"codComune",header:"Cod. Comune"},{field:"foglio",header:"Foglio"},{field:"particella",header:"Particella"},{field:"sub",header:"Sub"},{field:"codColtura",header:"Cod. Coltura"},{field:"descColtura",header:"Descrizione Coltura"},{field:"controlloRegioni",header:"Ctrl Regioni."},{field:"controlloColture",header:"Ctrl Colture."},{field:"controlloAnomCoord",header:"Anomalie Coor"},{field:"supImpegnata",header:"Sup Imp."},{field:"supRichiesta",header:"Sup Rich."},{field:"supControlliLoco",header:"Sup Controllo in loco"},{field:"supEleggibileGis",header:"Sup Eleggibile Gis"},{field:"supDeterminata",header:"Sup Determinata"}]}},{key:"setIdDomandaCorrente",value:function(){var t=this;this.route.params.subscribe((function(i){t.idDomandaCorrente=i.idDomanda}))}},{key:"changePage",value:function(){var t=this;this.istruttoriaService.getDettaglioDomandaAccoppiati(this.idDomandaCorrente.toString(),ai.a.acs,ai.a.tabDatiParticella).subscribe((function(i){i&&(console.log(i),t.dettaglioDomandaAccoppiati.idDomanda=i[0].idDomanda,i[0].datiParticellaACS&&(t.dettaglioDomandaAccoppiati.datiParticellaACS=i[0].datiParticellaACS,t.interventi.forEach((function(i){t.dettaglioDomandaAccoppiati.datiParticellaACS[i].forEach((function(i){i.controlloRegioni=t.boolToString(1==i.controlloRegioni||0==i.controlloRegioni?i.controlloRegioni:null),i.controlloColture=t.boolToString(1==i.controlloColture||0==i.controlloColture?i.controlloColture:null),i.controlloAnomCoord=t.boolToString(1==i.controlloAnomCoord||0==i.controlloAnomCoord?!i.controlloAnomCoord:null)}))}))),console.log(ai.a.tabDatiParticella+":"),console.log(t.dettaglioDomandaAccoppiati))}),(function(i){"NO_CALCOLO_ACS"==i.error.message?console.log("Non ci sono passi lavorazione ACS validi per la domanda id: "+t.idDomandaCorrente):(t.messageService.add(d.a.getToast("tst",d.b.error,d.a.erroreRecuperoDati)),console.log(i))}))}},{key:"setHeader",value:function(t){return this.propertyName=ai.a[t],this.propertyName}},{key:"boolToString",value:function(t){return null==t?"":!0===t?"SI":!1===t?"NO":void 0}}]),t}()).\u0275fac=function(t){return new(t||es)(y.Nb(B.d),y.Nb(c.a),y.Nb(l.a))},es.\u0275cmp=y.Hb({type:es,selectors:[["app-dati-particella-acc"]],decls:7,vars:5,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[1,"accordion-wrapper","dettaglioaccordion"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"header","selected"],[3,"columns","value","autoLayout","paginator","rows","responsive"],["tab",""],["pTemplate","header"],["pTemplate","body"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"]],template:function(t,i){1&t&&(y.Tb(0,"div",0),y.Tb(1,"div",1),y.Tb(2,"div",2),y.Ob(3,"p-toast",3),y.Tb(4,"div",4),y.Mc(5,ts,2,1,"div",5),y.Sb(),y.Mc(6,is,2,0,"div",6),y.Sb(),y.Sb(),y.Sb()),2&t&&(y.Bb(3),y.Kc(y.rc(4,as)),y.Bb(2),y.mc("ngForOf",i.interventi),y.Bb(1),y.mc("ngIf",!i.dettaglioDomandaAccoppiati.idDomanda))},directives:[z.a,a.s,a.t,Yi.a,Yi.c,o.q,B.e,o.p,o.o],styles:[""]}),es),ns=function(t){return{width:t}};function rs(t,i){if(1&t&&(y.Tb(0,"th",14),y.Tb(1,"strong"),y.Oc(2),y.Sb(),y.Sb()),2&t){var e=i.$implicit;y.mc("ngStyle",y.sc(2,ns,e.width)),y.Bb(2),y.Pc(e.header)}}function cs(t,i){if(1&t&&(y.Tb(0,"tr"),y.Mc(1,rs,3,4,"th",13),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.mc("ngForOf",e)}}function ss(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2),y.Sb(),y.Tb(3,"td"),y.Oc(4),y.Sb(),y.Sb()),2&t){var e=i.$implicit,a=y.fc(2);y.Bb(2),y.Qc(" ",a.setHeader(e.codice)," "),y.Bb(2),y.Qc(" ",e.valore," ")}}function ls(t,i){1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2," Nessun controllo eseguito "),y.Sb(),y.Sb()),2&t&&(y.Bb(1),y.Cb("colspan",10))}function us(t,i){if(1&t&&(y.Tb(0,"th",14),y.Tb(1,"strong"),y.Oc(2),y.Sb(),y.Sb()),2&t){var e=i.$implicit;y.mc("ngStyle",y.sc(2,ns,e.width)),y.Bb(2),y.Pc(e.header)}}function ds(t,i){if(1&t&&(y.Tb(0,"tr"),y.Mc(1,us,3,4,"th",13),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.mc("ngForOf",e)}}function bs(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2),y.Sb(),y.Tb(3,"td"),y.Oc(4),y.Sb(),y.Sb()),2&t){var e=y.fc().$implicit,a=y.fc(4);y.Bb(2),y.Qc(" ",a.setHeader(e.codice)," "),y.Bb(2),y.Qc(" ",e.valore," ")}}function ps(t,i){1&t&&y.Mc(0,bs,5,2,"tr",4),2&t&&y.mc("ngIf",i.$implicit.valore)}function gs(t,i){1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2," Nessun controllo eseguito "),y.Sb(),y.Sb()),2&t&&(y.Bb(1),y.Cb("colspan",10))}function ms(t,i){if(1&t&&(y.Tb(0,"th",14),y.Tb(1,"strong"),y.Oc(2),y.Sb(),y.Sb()),2&t){var e=i.$implicit;y.mc("ngStyle",y.sc(2,ns,e.width)),y.Bb(2),y.Pc(e.header)}}function fs(t,i){if(1&t&&(y.Tb(0,"tr"),y.Mc(1,ms,3,4,"th",13),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.mc("ngForOf",e)}}function vs(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2),y.Sb(),y.Tb(3,"td"),y.Oc(4),y.Sb(),y.Sb()),2&t){var e=y.fc().$implicit,a=y.fc(4);y.Bb(2),y.Qc(" ",a.setHeader(e.codice)," "),y.Bb(2),y.Qc(" ",e.valore," ")}}function hs(t,i){1&t&&y.Mc(0,vs,5,2,"tr",4),2&t&&y.mc("ngIf",i.$implicit.valore)}function Ss(t,i){1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2," Nessun controllo eseguito "),y.Sb(),y.Sb()),2&t&&(y.Bb(1),y.Cb("colspan",10))}function Ts(t,i){if(1&t&&(y.Tb(0,"div"),y.Tb(1,"p-accordion"),y.Tb(2,"p-accordionTab",15),y.Tb(3,"p-table",16,7),y.Mc(5,ds,2,1,"ng-template",8),y.Mc(6,ps,1,1,"ng-template",9),y.Mc(7,gs,3,1,"ng-template",10),y.Sb(),y.Tb(8,"p-table",16,7),y.Mc(10,fs,2,1,"ng-template",8),y.Mc(11,hs,1,1,"ng-template",9),y.Mc(12,Ss,3,1,"ng-template",10),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t){var e=y.fc().$implicit,a=y.fc(2);y.Bb(2),y.nc("header",a.setHeader(e)),y.mc("selected",!1),y.Bb(1),y.mc("columns",a.colsInput)("value",a.dettaglioDomandaAccoppiati[a.datiDomanda].dettaglioCalcolo[e].input)("responsive",!0),y.Bb(5),y.mc("columns",a.colsOutput)("value",a.dettaglioDomandaAccoppiati[a.datiDomanda].dettaglioCalcolo[e].output)("responsive",!0)}}function Is(t,i){if(1&t&&(y.Tb(0,"div"),y.Mc(1,Ts,13,8,"div",4),y.Sb()),2&t){var e=i.$implicit,a=y.fc(2);y.Bb(1),y.mc("ngIf",a.dettaglioDomandaAccoppiati[a.datiDomanda].dettaglioCalcolo[e]&&a.dettaglioDomandaAccoppiati[a.datiDomanda].dettaglioCalcolo[e].input&&a.dettaglioDomandaAccoppiati[a.datiDomanda].dettaglioCalcolo[e].input.length>0)}}function Cs(t,i){if(1&t&&(y.Tb(0,"th",14),y.Tb(1,"strong"),y.Oc(2),y.Sb(),y.Sb()),2&t){var e=i.$implicit;y.mc("ngStyle",y.sc(2,ns,e.width)),y.Bb(2),y.Pc(e.header)}}function Os(t,i){if(1&t&&(y.Tb(0,"tr"),y.Mc(1,Cs,3,4,"th",13),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.mc("ngForOf",e)}}function As(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2),y.Sb(),y.Tb(3,"td"),y.Oc(4),y.Sb(),y.Sb()),2&t){var e=y.fc().$implicit,a=y.fc(3);y.Bb(2),y.Qc(" ",a.setHeader(e.codice)," "),y.Bb(2),y.Qc(" ",e.valore," ")}}function Ds(t,i){1&t&&y.Mc(0,As,5,2,"tr",4),2&t&&y.mc("ngIf",i.$implicit.valore)}function Ps(t,i){1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2," Nessun controllo eseguito "),y.Sb(),y.Sb()),2&t&&(y.Bb(1),y.Cb("colspan",10))}function ys(t,i){if(1&t&&(y.Tb(0,"th",14),y.Tb(1,"strong"),y.Oc(2),y.Sb(),y.Sb()),2&t){var e=i.$implicit;y.mc("ngStyle",y.sc(2,ns,e.width)),y.Bb(2),y.Pc(e.header)}}function Bs(t,i){if(1&t&&(y.Tb(0,"tr"),y.Mc(1,ys,3,4,"th",13),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.mc("ngForOf",e)}}function Ns(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2),y.Sb(),y.Tb(3,"td"),y.Oc(4),y.Sb(),y.Sb()),2&t){var e=y.fc().$implicit,a=y.fc(3);y.Bb(2),y.Qc(" ",a.setHeader(e.codice)," "),y.Bb(2),y.Qc(" ",e.valore," ")}}function zs(t,i){1&t&&y.Mc(0,Ns,5,2,"tr",4),2&t&&y.mc("ngIf",i.$implicit.valore)}function Rs(t,i){1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2," Nessun controllo eseguito "),y.Sb(),y.Sb()),2&t&&(y.Bb(1),y.Cb("colspan",10))}function Ms(t,i){if(1&t&&(y.Tb(0,"div"),y.Tb(1,"h3"),y.Tb(2,"span"),y.Oc(3," Disciplina Finanziaria "),y.Sb(),y.Sb(),y.Tb(4,"div",11),y.Tb(5,"p-table",16,7),y.Mc(7,Os,2,1,"ng-template",8),y.Mc(8,Ds,1,1,"ng-template",9),y.Mc(9,Ps,3,1,"ng-template",10),y.Sb(),y.Tb(10,"p-table",16,7),y.Mc(12,Bs,2,1,"ng-template",8),y.Mc(13,zs,1,1,"ng-template",9),y.Mc(14,Rs,3,1,"ng-template",10),y.Sb(),y.Sb(),y.Sb()),2&t){var e=y.fc(2);y.Bb(5),y.mc("columns",e.colsInput)("value",e.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input)("responsive",!0),y.Bb(5),y.mc("columns",e.colsOutput)("value",e.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.output)("responsive",!0)}}function Es(t,i){if(1&t&&(y.Tb(0,"div"),y.Tb(1,"h3"),y.Tb(2,"span"),y.Oc(3," Sintesi Calcolo "),y.Sb(),y.Sb(),y.Tb(4,"div",5),y.Tb(5,"p-table",6,7),y.Mc(7,cs,2,1,"ng-template",8),y.Mc(8,ss,5,2,"ng-template",9),y.Mc(9,ls,3,1,"ng-template",10),y.Sb(),y.Sb(),y.Ob(10,"br"),y.Ob(11,"br"),y.Tb(12,"h3"),y.Tb(13,"span"),y.Oc(14," Dettaglio Calcolo "),y.Sb(),y.Sb(),y.Tb(15,"div",11),y.Mc(16,Is,2,1,"div",12),y.Sb(),y.Ob(17,"br"),y.Ob(18,"br"),y.Mc(19,Ms,15,6,"div",4),y.Sb()),2&t){var e=y.fc();y.Bb(5),y.mc("columns",e.cols)("value",e.dettaglioDomandaAccoppiati[e.datiDomanda].sintesiCalcolo)("autoLayout",!0)("responsive",!0),y.Bb(11),y.mc("ngForOf",e.interventi),y.Bb(3),y.mc("ngIf",e.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria&&e.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input&&e.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input.length>0)}}function ks(t,i){1&t&&(y.Tb(0,"div"),y.Oc(1," Nessun controllo eseguito "),y.Sb())}var Ls,ws=function(){return{marginTop:"70px"}},_s=((Ls=function(){function t(i,e,a,o){_classCallCheck(this,t),this.route=i,this.istruttoriaService=e,this.messageService=a,this.router=o,this.dettaglioDomandaAccoppiati=new wc.k}return _createClass(t,[{key:"ngOnInit",value:function(){this.setSostegno(),this.setIdDomandaCorrente(),this.setCols(),this.getDatiIstruttoria()}},{key:"setSostegno",value:function(){this.selectedSostegno=this.router.url.split("/").filter((function(t){return t===ai.a.accoppiatoZootecniaRichiesto})).length>0?g.a.ZOOTECNIA:g.a.SUPERFICIE,this.selectedSostegno==g.a.ZOOTECNIA?(this.tipoSostegno=ai.a.acz,this.datiDomanda="datiDomandaACZ",this.dettaglioDomandaAccoppiati[this.datiDomanda]=new wc.b,this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo=new wc.g,this.interventi=["int310","int311","int313","int315","int320","int321","int316","int318","int322"]):this.selectedSostegno==g.a.SUPERFICIE&&(this.tipoSostegno=ai.a.acs,this.datiDomanda="datiDomandaACS",this.dettaglioDomandaAccoppiati[this.datiDomanda]=new wc.a,this.dettaglioDomandaAccoppiati[this.datiDomanda].dettaglioCalcolo=new wc.f,this.interventi=["m8","m9","m10","m11","m14","m15","m16","m17"])}},{key:"setIdDomandaCorrente",value:function(){var t=this;this.route.params.subscribe((function(i){t.idDomandaCorrente=i.idDomanda}))}},{key:"setCols",value:function(){this.cols=[{field:"codice",header:"Descrizione Controllo",width:"70%"},{field:"valore",header:"Valore",width:"30%"}],this.colsInput=[{field:"codice",header:"DATI IN INGRESSO",width:"70%"},{field:"valore",header:"",width:"30%"}],this.colsOutput=[{field:"codice",header:"DATI IN USCITA",width:"70%"},{field:"valore",header:"",width:"30%"}]}},{key:"getDatiIstruttoria",value:function(){var t=this,i=ai.a.tabDatiDomanda+","+ai.a.datiDisciplinaFinanziaria;this.istruttoriaService.getDettaglioDomandaAccoppiati(this.idDomandaCorrente.toString(),this.tipoSostegno,i).subscribe((function(i){if(i){if(console.log(i),t.dettaglioDomandaAccoppiati.idDomanda=i[0].idDomanda,i[0][t.datiDomanda]){for(var e in t.dettaglioDomandaAccoppiati[t.datiDomanda].sintesiCalcolo=[],i[0][t.datiDomanda].sintesiCalcolo)t.dettaglioDomandaAccoppiati[t.datiDomanda].sintesiCalcolo.push({codice:e,valore:i[0][t.datiDomanda].sintesiCalcolo[e]});t.interventi.forEach((function(e){for(var a in t.dettaglioDomandaAccoppiati[t.datiDomanda].dettaglioCalcolo[e]=[],t.dettaglioDomandaAccoppiati[t.datiDomanda].dettaglioCalcolo[e].input=[],t.dettaglioDomandaAccoppiati[t.datiDomanda].dettaglioCalcolo[e].output=[],i[0][t.datiDomanda].dettaglioCalcolo[e])a.search("_INPUT")>-1?t.dettaglioDomandaAccoppiati[t.datiDomanda].dettaglioCalcolo[e].input.push({codice:a,valore:i[0][t.datiDomanda].dettaglioCalcolo[e][a]}):a.search("_OUTPUT")>-1&&t.dettaglioDomandaAccoppiati[t.datiDomanda].dettaglioCalcolo[e].output.push({codice:a,valore:i[0][t.datiDomanda].dettaglioCalcolo[e][a]})}))}if(i[0].datiDisciplinaFinanziaria)for(var a in t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria=new wc.c,t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input=[],t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.output=[],i[0].datiDisciplinaFinanziaria)a.search("_INPUT")>-1?"0 euro"!=i[0].datiDisciplinaFinanziaria[a]&&t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.input.push({codice:a,valore:i[0].datiDisciplinaFinanziaria[a]}):a.search("_OUTPUT")>-1&&"0 euro"!=i[0].datiDisciplinaFinanziaria[a]&&t.dettaglioDomandaAccoppiati.datiDisciplinaFinanziaria.output.push({codice:a,valore:i[0].datiDisciplinaFinanziaria[a]});console.log(t.dettaglioDomandaAccoppiati[t.datiDomanda])}}),(function(i){"NO_CALCOLO_ACS"==i.error.message?console.log("Non ci sono passi lavorazione ACS validi per la domanda id: "+t.idDomandaCorrente):"NO_CALCOLO_ACZ"==i.error.message?console.log("Non ci sono passi lavorazione ACZ validi per la domanda id: "+t.idDomandaCorrente):(t.messageService.add(d.a.getToast("tst",d.b.error,d.a.erroreRecuperoDati)),console.log(i))}))}},{key:"setHeader",value:function(t){var i=t.indexOf("_INPUT"),e=t.indexOf("_OUTPUT");return i>-1?t=t.substring(0,i):e>-1&&(t=t.substring(0,e)),this.propertyName=ai.a[t],this.propertyName}}]),t}()).\u0275fac=function(t){return new(t||Ls)(y.Nb(c.a),y.Nb(l.a),y.Nb(B.d),y.Nb(c.e))},Ls.\u0275cmp=y.Hb({type:Ls,selectors:[["app-dati-domanda-acc"]],decls:6,vars:5,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[4,"ngIf"],[1,"table-responsive"],[3,"columns","value","autoLayout","responsive"],["tab",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],[4,"ngFor","ngForOf"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[3,"header","selected"],[3,"columns","value","responsive"]],template:function(t,i){1&t&&(y.Tb(0,"div",0),y.Tb(1,"div",1),y.Tb(2,"div",2),y.Ob(3,"p-toast",3),y.Mc(4,Es,20,6,"div",4),y.Mc(5,ks,2,0,"div",4),y.Sb(),y.Sb(),y.Sb()),2&t&&(y.Bb(3),y.Kc(y.rc(4,ws)),y.Bb(1),y.mc("ngIf",i.dettaglioDomandaAccoppiati.idDomanda),y.Bb(1),y.mc("ngIf",!i.dettaglioDomandaAccoppiati.idDomanda))},directives:[z.a,a.t,o.q,B.e,a.s,a.w,Yi.a,Yi.c],styles:[""]}),Ls);function xs(t,i){}function Us(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Tb(2,"a",13),y.Ob(3,"i",14),y.Tb(4,"strong"),y.Oc(5,"Superficie Totale Richiesta (mq)"),y.Sb(),y.Sb(),y.Sb(),y.Tb(6,"td"),y.Tb(7,"strong"),y.Oc(8,"Superficie Totale Richiesta (mq)"),y.Sb(),y.Sb(),y.Tb(9,"td",15),y.Oc(10),y.Sb(),y.Sb()),2&t){var e=i.$implicit,a=i.expanded;y.Bb(2),y.mc("pRowToggler",e),y.Bb(1),y.mc("ngClass",a?"pi pi-chevron-down":"pi pi-chevron-right"),y.Bb(7),y.Pc(e.supRichiestaTotale)}}function Fs(t,i){if(1&t&&(y.Tb(0,"div",1),y.Tb(1,"b"),y.Oc(2,"Intervento Soia - Superficie Totale Richiesta:"),y.Sb(),y.Oc(3),y.Sb()),2&t){var e=y.fc().$implicit;y.Bb(3),y.Qc(" ",e.m8," ")}}function Gs(t,i){if(1&t&&(y.Tb(0,"div",1),y.Tb(1,"b"),y.Oc(2,"Intervento Frumento - Superficie Totale Richiesta:"),y.Sb(),y.Oc(3),y.Sb()),2&t){var e=y.fc().$implicit;y.Bb(3),y.Qc(" ",e.m9," ")}}function Vs(t,i){if(1&t&&(y.Tb(0,"div",1),y.Tb(1,"b"),y.Oc(2,"Intervento Proteaginose - Superficie Totale Richiesta:"),y.Sb(),y.Oc(3),y.Sb()),2&t){var e=y.fc().$implicit;y.Bb(3),y.Qc(" ",e.m10," ")}}function Zs(t,i){if(1&t&&(y.Tb(0,"div",1),y.Tb(1,"b"),y.Oc(2,"Intervento Leguminose - Superficie Totale Richiesta:"),y.Sb(),y.Oc(3),y.Sb()),2&t){var e=y.fc().$implicit;y.Bb(3),y.Qc(" ",e.m11," ")}}function $s(t,i){if(1&t&&(y.Tb(0,"div",1),y.Tb(1,"b"),y.Oc(2,"Intervento Pomodoro - Superficie Totale Richiesta:"),y.Sb(),y.Oc(3),y.Sb()),2&t){var e=y.fc().$implicit;y.Bb(3),y.Qc(" ",e.m14," ")}}function Qs(t,i){if(1&t&&(y.Tb(0,"div",1),y.Tb(1,"b"),y.Oc(2,"Intervento Olivi Standard - Superficie Totale Richiesta:"),y.Sb(),y.Oc(3),y.Sb()),2&t){var e=y.fc().$implicit;y.Bb(3),y.Qc(" ",e.m15," ")}}function qs(t,i){if(1&t&&(y.Tb(0,"div",1),y.Tb(1,"b"),y.Oc(2,"Intervento Olivi 7.5% - Superficie Totale Richiesta:"),y.Sb(),y.Oc(3),y.Sb()),2&t){var e=y.fc().$implicit;y.Bb(3),y.Qc(" ",e.m16," ")}}function Hs(t,i){if(1&t&&(y.Tb(0,"div",1),y.Tb(1,"b"),y.Oc(2,"Intervento Olivi Qualit\xe0 - Superficie Totale Richiesta:"),y.Sb(),y.Oc(3),y.Sb()),2&t){var e=y.fc().$implicit;y.Bb(3),y.Qc(" ",e.m17," ")}}function js(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Tb(2,"div",16),y.Tb(3,"div",17),y.Tb(4,"div",18),y.Mc(5,Fs,4,1,"div",19),y.Mc(6,Gs,4,1,"div",19),y.Mc(7,Vs,4,1,"div",19),y.Mc(8,Zs,4,1,"div",19),y.Mc(9,$s,4,1,"div",19),y.Mc(10,Qs,4,1,"div",19),y.Mc(11,qs,4,1,"div",19),y.Mc(12,Hs,4,1,"div",19),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t){var e=i.$implicit,a=i.columns;y.Bb(1),y.Cb("colspan",a.length+1),y.Bb(4),y.mc("ngIf",e.m8),y.Bb(1),y.mc("ngIf",e.m9),y.Bb(1),y.mc("ngIf",e.m10),y.Bb(1),y.mc("ngIf",e.m11),y.Bb(1),y.mc("ngIf",e.m14),y.Bb(1),y.mc("ngIf",e.m15),y.Bb(1),y.mc("ngIf",e.m16),y.Bb(1),y.mc("ngIf",e.m17)}}function Ks(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2," Nessun controllo eseguito "),y.Sb(),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.Cb("colspan",e.length+1)}}function Ys(t,i){if(1&t&&(y.Tb(0,"th",25),y.Tb(1,"strong"),y.Oc(2),y.Sb(),y.Ob(3,"p-sortIcon",26),y.Sb()),2&t){var e=i.$implicit;y.mc("pSortableColumn",e.field)("pSortableColumnDisabled",null==e.field),y.Bb(2),y.Pc(e.header),y.Bb(1),y.mc("field",e.field)}}function Js(t,i){if(1&t&&(y.Tb(0,"tr"),y.Mc(1,Ys,4,4,"th",24),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.mc("ngForOf",e)}}function Ws(t,i){if(1&t&&(y.Tb(0,"tr",27),y.Tb(1,"td"),y.Oc(2),y.Sb(),y.Tb(3,"td"),y.Oc(4),y.Sb(),y.Tb(5,"td"),y.Oc(6),y.Sb(),y.Tb(7,"td"),y.Oc(8),y.Sb(),y.Tb(9,"td"),y.Oc(10),y.Sb(),y.Tb(11,"td"),y.Oc(12),y.Sb(),y.Tb(13,"td"),y.Oc(14),y.Sb(),y.Tb(15,"td"),y.Oc(16),y.Sb(),y.Tb(17,"td"),y.Oc(18),y.Sb(),y.Tb(19,"td"),y.Oc(20),y.Sb(),y.Sb()),2&t){var e=i.$implicit,a=y.fc(3);y.mc("pSelectableRow",a.particella),y.Bb(2),y.Pc(e.datiCatastali.idParticella),y.Bb(2),y.Pc(e.datiCatastali.comune),y.Bb(2),y.Pc(e.datiCatastali.codNazionale),y.Bb(2),y.Pc(e.datiCatastali.foglio),y.Bb(2),y.Pc(e.datiCatastali.particella),y.Bb(2),y.Pc(e.datiCatastali.sub),y.Bb(2),y.Pc(e.riferimentiCartografici.codIsola),y.Bb(2),y.Pc(e.datiColtivazione.codColtura3),y.Bb(2),y.Pc(e.datiColtivazione.descrizioneColtura),y.Bb(2),y.Pc(e.supRichiestaNetta)}}function Xs(t,i){1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2," Nessuna particella trovata "),y.Sb(),y.Sb()),2&t&&(y.Bb(1),y.Cb("colspan",10))}function tl(t,i){if(1&t&&(y.Tb(0,"div"),y.Tb(1,"p-accordion"),y.Tb(2,"p-accordionTab",21),y.Tb(3,"div",22),y.Tb(4,"p-table",23,6),y.Mc(6,Js,2,1,"ng-template",7),y.Mc(7,Ws,21,11,"ng-template",8),y.Mc(8,Xs,3,1,"ng-template",10),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t){var e=y.fc().$implicit,a=y.fc();y.Bb(2),y.nc("header",a.setHeader(e)),y.mc("selected",!0),y.Bb(2),y.mc("columns",a.cols)("value",a.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[e].superficiImpegnate)("autoLayout",!0)("paginator",!0)("rows",a.elementiPagina)("responsive",!0)}}function il(t,i){if(1&t&&(y.Tb(0,"div"),y.Mc(1,tl,9,8,"div",20),y.Sb()),2&t){var e=i.$implicit,a=y.fc();y.Bb(1),y.mc("ngIf",a.dettaglioDomandaAccoppiati&&a.dettaglioDomandaAccoppiati.datiSuperficiImpegnate&&a.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[e])}}var el,al=function(){return{marginTop:"70px"}},ol=((el=function(){function t(i,e,a){_classCallCheck(this,t),this.messageService=i,this.route=e,this.istruttoriaService=a,this.elementiPagina=10,this.dettaglioDomandaAccoppiati=new wc.k}return _createClass(t,[{key:"ngOnInit",value:function(){this.setInterventi(),this.setCols(),this.setIdDomandaCorrente(),this.changePage()}},{key:"setInterventi",value:function(){this.interventi=["m8","m9","m10","m11","m14","m15","m16","m17"]}},{key:"setCols",value:function(){this.cols=[{field:"idParticella",header:"Id Particella"},{field:"comune",header:"Comune Catastale"},{field:"codNazionale",header:"Cod. Nazionale"},{field:"foglio",header:"Foglio"},{field:"particella",header:"Particella"},{field:"sub",header:"Sub"},{field:"codIsola",header:"Isola"},{field:"codiceColtura3",header:"Cod. Coltura"},{field:"descrizioneColtura",header:"Descr. Coltura"},{field:"supRichiestaNetta",header:"Sup Imp. Netta"}]}},{key:"setIdDomandaCorrente",value:function(){var t=this;this.route.params.subscribe((function(i){t.idDomandaCorrente=i.idDomanda}))}},{key:"changePage",value:function(){var t=this;this.istruttoriaService.getDettaglioDomandaAccoppiati(this.idDomandaCorrente.toString(),ai.a.acs,ai.a.tabSuperficiImpegnate).subscribe((function(i){if(i){if(console.log(i),t.dettaglioDomandaAccoppiati.idDomanda=i[0].idDomanda,i[0].datiSuperficiImpegnate){t.dettaglioDomandaAccoppiati.datiSuperficiImpegnate=new wc.l,t.dettaglioDomandaAccoppiati.datiSuperficiImpegnate.supRichiesta=i[0].datiSuperficiImpegnate.supRichiesta,t.dettaglioDomandaAccoppiati.datiSuperficiImpegnate.supRichiestaNetta=i[0].datiSuperficiImpegnate.supRichiestaNetta,t.interventi.forEach((function(e){i[0].datiSuperficiImpegnate[e]&&(t.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[e]=new wc.e,t.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[e].supRichiesta=i[0].datiSuperficiImpegnate[e].supRichiesta,t.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[e].supRichiestaNetta=i[0].datiSuperficiImpegnate[e].supRichiestaNetta,t.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[e].superficiImpegnate=[],i[0].datiSuperficiImpegnate[e].superficiImpegnate.forEach((function(i){t.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[e].superficiImpegnate.push({datiCatastali:i.datiCatastali,datiColtivazione:i.datiColtivazione,riferimentiCartografici:i.riferimentiCartografici,supRichiesta:i.supRichiesta,supRichiestaNetta:i.supRichiestaNetta})})))})),t.superficiImpegnateSintesi=new Array(1),t.superficiImpegnateSintesi[0]=new wc.m,t.superficiImpegnateSintesi[0].supRichiestaTotale=t.dettaglioDomandaAccoppiati.datiSuperficiImpegnate.supRichiesta;var e=t.superficiImpegnateSintesi[0];t.interventi.forEach((function(i){t.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[i]&&t.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[i].supRichiesta&&(e[i]=t.dettaglioDomandaAccoppiati.datiSuperficiImpegnate[i].supRichiesta)})),t.superficiImpegnateSintesi[0]=e}console.log(ai.a.tabSuperficiImpegnate+":"),console.log(t.dettaglioDomandaAccoppiati)}}),(function(i){"NO_CALCOLO_ACS"==i.error.message?console.log("Non ci sono passi lavorazione ACS validi per la domanda id: "+t.idDomandaCorrente):(t.messageService.add(d.a.getToast("tst",d.b.error,d.a.erroreRecuperoDati)),console.log(i))}))}},{key:"setHeader",value:function(t){return this.propertyName=ai.a[t],this.propertyName}}]),t}()).\u0275fac=function(t){return new(t||el)(y.Nb(B.d),y.Nb(c.a),y.Nb(l.a))},el.\u0275cmp=y.Hb({type:el,selectors:[["app-superfici-impegnate-acc"]],decls:16,vars:8,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[1,"table-responsive"],["dataKey","supRichiestaTotale",3,"columns","value","autoLayout","responsive"],["tab",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","rowexpansion"],["pTemplate","emptymessage"],[1,"accordion-wrapper","dettaglioaccordion"],[4,"ngFor","ngForOf"],[3,"pRowToggler"],[3,"ngClass"],[1,"text-right",2,"font-weight","bold"],[1,"ui-g","ui-fluid",2,"font-size","16px","padding","20px"],[1,"ui-g-12","ui-md-9"],[1,"ui-g"],["class","ui-g-12",4,"ngIf"],[4,"ngIf"],[3,"header","selected"],[1,"table-responsive",2,"margin-top","20px","display","block"],[3,"columns","value","autoLayout","paginator","rows","responsive"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"],[3,"pSelectableRow"]],template:function(t,i){1&t&&(y.Tb(0,"div",0),y.Tb(1,"div",1),y.Tb(2,"div",2),y.Ob(3,"p-toast",3),y.Tb(4,"h3"),y.Tb(5,"span"),y.Oc(6," Accoppiato Superficie "),y.Sb(),y.Sb(),y.Tb(7,"div",4),y.Tb(8,"p-table",5,6),y.Mc(10,xs,0,0,"ng-template",7),y.Mc(11,Us,11,3,"ng-template",8),y.Mc(12,js,13,9,"ng-template",9),y.Mc(13,Ks,3,1,"ng-template",10),y.Sb(),y.Sb(),y.Tb(14,"div",11),y.Mc(15,il,2,1,"div",12),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t&&(y.Bb(3),y.Kc(y.rc(7,al)),y.Bb(5),y.mc("columns",i.cols)("value",i.superficiImpegnateSintesi)("autoLayout",!0)("responsive",!0),y.Bb(7),y.mc("ngForOf",i.interventi))},directives:[z.a,o.q,B.e,a.s,o.k,a.q,a.t,Yi.a,Yi.c,o.p,o.o,o.m],styles:[""]}),el),nl=["table"];function rl(t,i){if(1&t&&(y.Tb(0,"th",17),y.Oc(1),y.Ob(2,"p-sortIcon",18),y.Sb()),2&t){var e=i.$implicit;y.mc("pSortableColumn",e.field)("pSortableColumnDisabled",null==e.field),y.Bb(1),y.Qc(" ",e.header," "),y.Bb(1),y.mc("field",e.header)}}function cl(t,i){if(1&t&&(y.Tb(0,"tr"),y.Mc(1,rl,3,4,"th",16),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.mc("ngForOf",e)}}function sl(t,i){if(1&t){var e=y.Ub();y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2),y.Sb(),y.Tb(3,"td"),y.Oc(4),y.Sb(),y.Tb(5,"td"),y.Oc(6),y.Sb(),y.Tb(7,"td"),y.Oc(8),y.Sb(),y.Tb(9,"td",19),y.Tb(10,"p-checkbox",20),y.bc("ngModelChange",(function(t){return y.Ec(e),i.$implicit.duplicato=t}))("click",(function(){y.Ec(e);var t=i.$implicit;return y.fc(3).updateCapo(t)})),y.Sb(),y.Sb(),y.Tb(11,"td",19),y.Tb(12,"p-checkbox",20),y.bc("ngModelChange",(function(t){return y.Ec(e),!(i.$implicit.controlloSuperato=t)}))("click",(function(){y.Ec(e);var t=i.$implicit;return y.fc(3).updateControlloSuperato(t)})),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=i.$implicit,o=y.fc(2).$implicit;y.Bb(2),y.Pc(a.codiceCapo),y.Bb(2),y.Pc(o.codiceSpecie),y.Bb(2),y.Pc(a.esito),y.Bb(2),y.Pc(a.messaggio),y.Bb(2),y.mc("ngModel",a.duplicato),y.Bb(2),y.mc("ngModel",!a.controlloSuperato)}}function ll(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2," Calcolo accoppiato zootecnia non ancora effettuato per la domanda. "),y.Sb(),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.Cb("colspan",e.length+1)}}function ul(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div"),y.Tb(1,"p-accordion"),y.Tb(2,"p-accordionTab",7),y.Tb(3,"div",8),y.Tb(4,"i",9),y.Oc(5,"search"),y.Sb(),y.Tb(6,"input",10),y.bc("input",(function(t){return y.Ec(e),y.Bc(8).filterGlobal(t.target.value,"contains")})),y.Sb(),y.Sb(),y.Tb(7,"p-table",11,12),y.Mc(9,cl,2,1,"ng-template",13),y.Mc(10,sl,13,6,"ng-template",14),y.Mc(11,ll,3,1,"ng-template",15),y.Sb(),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=y.fc().$implicit,o=y.fc();y.Bb(2),y.qc("header","",a.datiAllevamento.descrizioneAllevamento," - ",a.datiAllevamento.codiceAllevamento," - ",a.codiceIntervento," - Numero Capi: ",a.richiesteAllevamentoDuEsito.length,""),y.mc("selected",!1),y.Bb(5),y.mc("columns",o.cols)("value",a.richiesteAllevamentoDuEsito)("autoLayout",!0)("paginator",!0)("rows",o.elementiPagina)("responsive",!0)}}function dl(t,i){if(1&t&&(y.Tb(0,"div"),y.Mc(1,ul,12,11,"div",6),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.mc("ngIf",e.richiesteAllevamentoDuEsito&&e.richiesteAllevamentoDuEsito.length>0)}}function bl(t,i){1&t&&(y.Tb(0,"div"),y.Oc(1," Nessun capo richiesto "),y.Sb())}var pl,gl=function(){return{marginTop:"70px"}},ml=((pl=function(){function t(i,e,a,o){_classCallCheck(this,t),this.istruttoriaService=i,this.route=e,this.messageService=a,this.loaderService=o,this.allevamenti=[],this.cols=[],this.intestazioni=$n.a,this.elementiPagina=10,this.nessunCapoPresentato=!0}return _createClass(t,[{key:"ngOnInit",value:function(){this.loaderService.setTimeout(48e4),this.setCols(),this.setIdDomanda(),this.changePage()}},{key:"ngOnDestroy",value:function(){this.loaderService.resetTimeout()}},{key:"setCols",value:function(){this.cols=[{field:"codiceCapo",header:this.intestazioni.marcaAuricolare},{field:"codiceSpecie",header:this.intestazioni.codiceSpecie},{field:"esito",header:this.intestazioni.ESITO_CONTROLLO},{field:"messaggio",header:this.intestazioni.messaggioEsito},{field:"duplicato",header:this.intestazioni.duplicato},{field:"controlloSuperato",header:this.intestazioni.controlloNonSuperato}]}},{key:"setIdDomanda",value:function(){var t=this;this.route.paramMap.subscribe((function(i){t.idDomanda=i.get(ai.a.dettaglioDomandaParam)}))}},{key:"changePage",value:function(){var t=this;this.istruttoriaService.getCapi(this.idDomanda,JSON.stringify({tipo:"RICHIESTO"})).subscribe((function(i){i&&(i.forEach((function(i){i.datiAllevamento=JSON.parse(i.datiAllevamento),i.datiDetentore=JSON.parse(i.datiDetentore),i.datiProprietario=JSON.parse(i.datiProprietario),t.allevamenti.push(i)})),t.allevamenti.forEach((function(i){var e=new Array;i.richiesteAllevamentoDuEsito.forEach((function(i){"PRESENTATA"==i.stato&&(i.esito=i.esito.split("_").join(" "),e.push(i),t.nessunCapoPresentato=!1)})),i.richiesteAllevamentoDuEsito=e})),t.allevamenti.sort((function(t,i){return t.codiceIntervento-i.codiceIntervento}))),console.log(t.allevamenti)}),(function(i){console.log(i),t.messageService.add(d.a.getToast("tst",d.b.error,d.a.erroreRecuperoDati))}))}},{key:"updateControlloSuperato",value:function(t){t.controlloSuperato=!t.controlloSuperato,this.updateCapo(t)}},{key:"updateCapo",value:function(t){this.istruttoriaService.aggiornaCapo(this.idDomanda,t).subscribe((function(i){console.log(i),t=i}),(function(t){console.log(t)}))}}]),t}()).\u0275fac=function(t){return new(t||pl)(y.Nb(l.a),y.Nb(c.a),y.Nb(B.d),y.Nb(qn.a))},pl.\u0275cmp=y.Hb({type:pl,selectors:[["app-capi-richiesti"]],viewQuery:function(t,i){var e;1&t&&y.Uc(nl,!0),2&t&&y.Ac(e=y.cc())&&(i.table=e.first)},decls:7,vars:5,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["key","tst"],[1,"accordion-wrapper","dettaglioaccordionmultiple"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"header","selected"],[1,"globalfilter"],[1,"material-icons"],["type","text","pInputText","","size","50","placeholder","Ricerca...",2,"width","auto",3,"input"],["dataKey","codiceCapo",3,"columns","value","autoLayout","paginator","rows","responsive"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"],[2,"text-align","center"],["binary","true",3,"ngModel","ngModelChange","click"]],template:function(t,i){1&t&&(y.Tb(0,"div",0),y.Tb(1,"div",1),y.Tb(2,"div",2),y.Ob(3,"p-toast",3),y.Tb(4,"div",4),y.Mc(5,dl,2,1,"div",5),y.Mc(6,bl,2,0,"div",6),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t&&(y.Bb(3),y.Kc(y.rc(4,gl)),y.Bb(2),y.mc("ngForOf",i.allevamenti),y.Bb(1),y.mc("ngIf",0==i.allevamenti.length||i.nessunCapoPresentato))},directives:[z.a,a.s,a.t,Yi.a,Yi.c,bo.a,o.q,B.e,o.p,o.o,Ki.a,M.s,M.v],styles:[""]}),pl),fl=function(t){return{width:t}};function vl(t,i){1&t&&y.Ob(0,"th",11),2&t&&y.mc("ngStyle",y.sc(1,fl,i.$implicit.width))}function hl(t,i){if(1&t&&(y.Tb(0,"tr"),y.Mc(1,vl,1,3,"th",10),y.Sb()),2&t){var e=i.$implicit;y.Bb(1),y.mc("ngForOf",e)}}function Sl(t,i){if(1&t&&(y.Tb(0,"tr"),y.Tb(1,"td"),y.Oc(2),y.Sb(),y.Tb(3,"td",12),y.Oc(4),y.Sb(),y.Sb()),2&t){var e=i.$implicit;y.Bb(2),y.Pc(e.descrizione),y.Bb(2),y.Pc(e.valore)}}function Tl(t,i){if(1&t&&(y.Tb(0,"div",4),y.Tb(1,"p-accordion"),y.Tb(2,"p-accordionTab",5),y.gc(3,"fixDichiarazioni"),y.Tb(4,"div",6),y.Tb(5,"p-table",7),y.gc(6,"tipoFilter"),y.Mc(7,hl,2,1,"ng-template",8),y.Mc(8,Sl,5,2,"ng-template",9),y.Sb(),y.Sb(),y.Sb(),y.Sb(),y.Sb()),2&t){var e=i.$implicit,a=y.fc();y.Bb(2),y.nc("header",y.hc(3,7,e)),y.mc("selected",!0),y.Bb(3),y.mc("columns",a.cols)("value",y.jc(6,9,a.dichiarazioni,"quadro",e))("autoLayout",!0)("paginator",!1)("responsive",!0)}}var Il,Cl=((Il=function(){function t(i,e,a,o){_classCallCheck(this,t),this.istruttoriaService=i,this.messageService=e,this.route=a,this.router=o}return _createClass(t,[{key:"ngOnInit",value:function(){this.setSostegno(),this.setIdDomandaCorrente(),this.caricaDichiarazioni()}},{key:"caricaDichiarazioni",value:function(){var t=this;this.istruttoriaService.getDettaglioDomandaAccoppiati(this.idDomanda.toString(),this.tipoSostegno,ai.a.tabDichiarazioni).subscribe((function(i){t.dichiarazioni=i[0].dichiarazioni,t.codiciTipo=t.dichiarazioni.map((function(t){return t.quadro})).filter((function(t,i,e){return e.indexOf(t)===i}))}))}},{key:"setIdDomandaCorrente",value:function(){var t=this;this.route.params.subscribe((function(i){t.idDomanda=i.idDomanda}))}},{key:"setSostegno",value:function(){this.selectedSostegno=this.router.url.split("/").filter((function(t){return t===ai.a.accoppiatoZootecniaRichiesto})).length>0?g.a.ZOOTECNIA:g.a.SUPERFICIE,this.selectedSostegno===g.a.ZOOTECNIA?this.tipoSostegno=ai.a.acz:this.selectedSostegno===g.a.SUPERFICIE&&(this.tipoSostegno=ai.a.acs)}}]),t}()).\u0275fac=function(t){return new(t||Il)(y.Nb(l.a),y.Nb(B.d),y.Nb(c.a),y.Nb(c.e))},Il.\u0275cmp=y.Hb({type:Il,selectors:[["app-dichiarazioni-acc"]],decls:4,vars:1,consts:[[1,"boxgrey",2,"padding-top","50px","display","inline-block"],[1,"ui-g-12"],[1,"ui-grid-fixed"],["ngFor","",3,"ngForOf"],[1,"accordion-wrapper","dettaglioaccordion"],[3,"header","selected"],[1,"table-responsive","nobrd",2,"margin-top","30px"],[3,"columns","value","autoLayout","paginator","responsive"],["pTemplate","header"],["pTemplate","body"],[3,"ngStyle",4,"ngFor","ngForOf"],[3,"ngStyle"],[1,"text-right",2,"font-weight","bold"]],template:function(t,i){1&t&&(y.Tb(0,"div",0),y.Tb(1,"div",1),y.Tb(2,"div",2),y.Mc(3,Tl,9,13,"ng-template",3),y.Sb(),y.Sb(),y.Sb()),2&t&&(y.Bb(3),y.mc("ngForOf",i.codiciTipo))},directives:[a.s,Yi.a,Yi.c,o.q,B.e,a.w],pipes:[Pe.a,Pe.b],styles:[""]}),Il);function Ol(t,i){if(1&t&&(y.Tb(0,"div",7),y.Tb(1,"strong"),y.Oc(2),y.Sb(),y.Sb(),y.Tb(3,"div",8),y.Oc(4),y.gc(5,"number"),y.Sb()),2&t){var e=i.$implicit;y.Bb(2),y.Sc("",e.intervento.misura," - ",e.intervento.descrizioneBreve," - ",e.intervento.codiceAgea,""),y.Bb(2),y.Qc(" ",y.jc(5,4,e.valoreUnitarioIntervento,"1.2-2","it-IT")," ")}}function Al(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div",3),y.Mc(1,Ol,6,8,"ng-template",4),y.Tb(2,"div",5),y.Tb(3,"button",6),y.bc("click",(function(){return y.Ec(e),y.fc().modifica()})),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=y.fc();y.Bb(1),y.mc("ngForOf",a.premiIntervento)}}function Dl(t,i){1&t&&(y.Tb(0,"div",16),y.Oc(1," Numero non valido "),y.Sb())}function Pl(t,i){if(1&t&&(y.Tb(0,"div"),y.Tb(1,"div",7),y.Tb(2,"strong"),y.Oc(3),y.Sb(),y.Sb(),y.Tb(4,"div",8),y.Ob(5,"input",14),y.Mc(6,Dl,2,0,"div",15),y.Sb(),y.Sb()),2&t){var e=i.$implicit,a=i.index,o=y.fc(2);y.Bb(3),y.Sc("",e.intervento.misura," - ",e.intervento.descrizioneBreve," - ",e.intervento.codiceAgea,""),y.Bb(2),y.mc("formControlName",a),y.Bb(1),y.mc("ngIf",!o.isValid(a))}}function yl(t,i){if(1&t){var e=y.Ub();y.Tb(0,"div",3),y.Tb(1,"form",9),y.Tb(2,"div",10),y.Mc(3,Pl,7,5,"div",11),y.Sb(),y.Sb(),y.Tb(4,"div",5),y.Tb(5,"button",12),y.bc("click",(function(){return y.Ec(e),y.fc().salva()})),y.Sb(),y.Tb(6,"button",13),y.bc("click",(function(){return y.Ec(e),y.fc().annullaModifica()})),y.Sb(),y.Sb(),y.Sb()}if(2&t){var a=y.fc();y.Bb(1),y.mc("formGroup",a.updateForm),y.Bb(2),y.mc("ngForOf",a.premiIntervento)}}var Bl,Nl=((Bl=function(){function t(i,e){_classCallCheck(this,t),this.fb=i,this.confirmationService=e,this.aggiornaDomandeCounters=new y.n,this.controlloRicev=!1,this.showSostegno=!1,this.premiIntervento=new Array,this.aggiornaPremioAggregatoACS=new y.n,this.editable=!1}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"setSostegnoPremi",value:function(t){this.premiIntervento=t.interventoDuPremi}},{key:"premi",get:function(){return this.updateForm.get("premi")}},{key:"addFeature",value:function(t){this.premi.push(this.fb.control(t,[M.G.required,M.G.pattern(/^-?\d{0,9}(\.?\d{0,2})$/)]))}},{key:"isValid",value:function(t){return this.updateForm.get("premi").controls[t].valid}},{key:"modifica",value:function(){var t=this;this.confirmationService.confirm({message:"Attenzione! Sei davvero sicuro di voler modificare questi dati?",acceptLabel:"S\xec",rejectLabel:"No",rejectVisible:!0,accept:function(){t.editable=!0,t.updateForm=t.fb.group({premi:t.fb.array([t.fb.control(t.premioAggregatoACS.interventoDuPremi[0].valoreUnitarioIntervento.toString(),M.G.required)])});for(var i=1;i<t.premioAggregatoACS.interventoDuPremi.length;i++)t.addFeature(t.premioAggregatoACS.interventoDuPremi[i].valoreUnitarioIntervento.toString())}})}},{key:"annullaModifica",value:function(){this.editable=!1}},{key:"salva",value:function(){var t=this,i=this.updateForm.get("premi"),e=new Bc.a,a=new Array,o=0,n=!0;i.controls.forEach((function(i){i.valid?isNaN(i.value)&&(n=!1):n=i.valid;var r=new Pc;r.valoreUnitarioIntervento=i.value,r.intervento=t.premioAggregatoACS.interventoDuPremi[o].intervento,r.id=t.premioAggregatoACS.interventoDuPremi[o].id,a.push(r),e.interventoDuPremi=a,o++})),n?this.aggiornaPremioAggregatoACS.emit(e):this.throwError("Attenzione! I valori inseriti non risultano corretti.")}},{key:"throwError",value:function(t){var i=this;this.confirmationService.confirm({message:t,acceptLabel:"Annulla",rejectVisible:!1,accept:function(){i.editable=!0}})}},{key:"ngOnChanges",value:function(t){t.premioAggregatoACS.currentValue&&(this.setSostegnoPremi(this.premioAggregatoACS),this.editable=!1)}}]),t}()).\u0275fac=function(t){return new(t||Bl)(y.Nb(M.f),y.Nb(B.a))},Bl.\u0275cmp=y.Hb({type:Bl,selectors:[["app-dettaglio-istruttoria-dati-acs"]],inputs:{premioAggregatoACS:"premioAggregatoACS"},outputs:{aggiornaDomandeCounters:"aggiornaDomandeCounters",aggiornaPremioAggregatoACS:"aggiornaPremioAggregatoACS"},features:[y.Ab([B.a]),y.zb],decls:4,vars:2,consts:[["header","Conferma","icon","pi pi-exclamation-triangle"],[1,"boxgrey","f18"],["class","ui-g",4,"ngIf"],[1,"ui-g"],["ngFor","",3,"ngForOf"],[1,"ui-g-12","text-right"],["pButton","","type","button","label","Modifica",1,"btn-green",2,"min-height","42px","box-shadow","none",3,"click"],[1,"ui-g-4"],[1,"ui-g-2"],[1,"ui-g-12",3,"formGroup"],["formArrayName","premi"],[4,"ngFor","ngForOf"],["pButton","","type","button","label","Salva",1,"btn-green",2,"min-height","42px","box-shadow","none","margin-right","10px",3,"click"],["pButton","","type","button","label","Annulla",1,"btn-green",2,"min-height","42px","box-shadow","none",3,"click"],["type","text","pInputText","",3,"formControlName"],["class","ui-message ui-messages-error ui-corner-all",4,"ngIf"],[1,"ui-message","ui-messages-error","ui-corner-all"]],template:function(t,i){1&t&&(y.Ob(0,"p-confirmDialog",0),y.Tb(1,"div",1),y.Mc(2,Al,4,1,"div",2),y.Mc(3,yl,7,2,"div",2),y.Sb()),2&t&&(y.Bb(2),y.mc("ngIf",0==i.editable),y.Bb(1),y.mc("ngIf",1==i.editable))},directives:[In.a,a.t,a.s,k.b,M.I,M.t,M.k,M.e,M.c,bo.a,M.s,M.i],pipes:[a.g],styles:[""]}),Bl),zl=e("kQyY"),Rl=e("kPZZ"),Ml=e("H6Hf"),El=e("zUH4"),kl=e("cH1L"),Ll=e("vxfF"),wl=e("BGwN"),_l=e("jA5t"),xl=e("SLJP"),Ul=e("d/lR"),Fl=e("Ivbe"),Gl=e("+WeO"),Vl=e("K7SP"),Zl=e("dS4e"),$l=e("IWUw"),Ql=e("R/2S"),ql=e("38Fb"),Hl=e("KwdP"),jl=e("x5p7"),Kl=e("FK/F"),Yl=e("AD9J"),Jl=e("+7Pr"),Wl=e("Rt+w"),Xl=e("O3Kt"),tu=e("KYTB"),iu=e("wcdC"),eu=e("+DHz"),au=e("KkCm"),ou=e("V6/s"),nu=e("SnyB"),ru=e("Qfly"),cu=e("1v+U"),su=e("NYM0"),lu=e("7sbD"),uu=e("ARHT"),du=e("a6xG"),bu=e("x3AQ"),pu=e("FVER"),gu=e("jkBy"),mu=e("GdHY"),fu=e("auzs"),vu=e("1SOg"),hu=e("cIsh"),Su=e("jTGf"),Tu=e("zKaa"),Iu=e("BYQQ"),Cu=e("4zPq"),Ou=e("2c1J"),Au=e("QiK6"),Du=e("Pgx+"),Pu=e("684u"),yu=e("vMYJ");Object(a.K)(Ri.a,"it-IT",Ei.a);var Bu,Nu=((Bu=function t(){_classCallCheck(this,t)}).\u0275mod=y.Lb({type:Bu}),Bu.\u0275inj=y.Kb({factory:function(t){return new(t||Bu)},providers:[Ti.a,ie,hn,ee,qn.a,Pe.b],imports:[[Yt.a,In.b,Tn.b,Sn.b,a.c,o.t,k.c,Si.b,M.m,Li.n,yt.b,R.b,Ki.b,Yi.b,n.b,w.b,M.C,bo.b,Ji.b,Kt,Wi.c,yt.b,zl.b,ne.b]]}),Bu);y.Hc(hi,[a.q,a.r,a.s,a.t,a.A,a.w,a.x,a.y,a.z,a.u,a.v,M.I,M.x,M.H,M.c,M.y,M.B,M.a,M.E,M.F,M.A,M.s,M.t,M.D,M.o,M.n,M.z,M.b,M.d,M.v,M.w,M.u,Rl.a,B.c,B.b,B.e,k.b,k.a,Ml.a,c.j,c.f,c.h,c.g,c.k,El.a,yt.a,o.q,o.p,o.m,o.k,o.c,o.j,o.g,o.d,o.b,o.o,o.u,o.r,o.s,o.i,o.h,o.n,o.e,o.f,o.l,o.a,kl.b,Ll.b,Ll.a,Ll.c,Ll.d,bo.a,Ki.a,wl.a,In.a,z.a,n.a,_l.a,Si.a,xl.a,Ul.a,Fl.a,Mr.a,Gl.a,Vl.a,Zl.a,$l.a,Ql.a,ql.a,Ji.a,Hl.a,jl.a,se.a,Kl.a,Kl.b,Tn.a,Yi.a,Yi.c,R.a,Yl.a,Jl.a,ce.a,Hn.a,N.a,Wl.a,Wl.b,Wl.f,Wl.g,Wl.e,Wl.d,M.h,M.k,M.i,M.l,M.e,Xl.a,tu.a,re.a,r.b,Sn.a,iu.a,eu.a,au.a,ou.a,ne.a,nu.a,w.a,ru.a,cu.a,Wi.b,Wi.a,Wi.d,su.a,lu.a,uu.a,du.a,bu.a,pu.a,gu.a,mu.a,fu.a,vu.a,hu.a,Su.a,Tu.a,Iu.a,Cu.a,Ou.a,Li.l,Li.o,Li.k,Li.j,Li.f,Li.g,Li.e,Li.h,Li.i,Li.b,Li.a,Li.d,Li.c,Li.m,jt,zl.a,hi,Ni,ji,Xi,Ae,He,Xe,ua,tn,va,Na,oo,en,no,ro,co,vn,sn,Cn,Gn,Zn,Qn,Wn,zr,kr,Lr,lc,jc,os,_s,ol,Dc,Vn,Lc,Nl,ml,Cl],[a.b,a.G,a.p,a.k,a.E,a.g,a.C,a.F,a.d,a.f,a.i,a.j,a.l,N.d,Pe.b,Pe.a,Au.a,Du.a,Pu.a,yu.a]),y.Hc(zr,[a.q,a.r,a.s,a.t,a.A,a.w,a.x,a.y,a.z,a.u,a.v,M.I,M.x,M.H,M.c,M.y,M.B,M.a,M.E,M.F,M.A,M.s,M.t,M.D,M.o,M.n,M.z,M.b,M.d,M.v,M.w,M.u,Rl.a,B.c,B.b,B.e,k.b,k.a,Ml.a,c.j,c.f,c.h,c.g,c.k,El.a,yt.a,o.q,o.p,o.m,o.k,o.c,o.j,o.g,o.d,o.b,o.o,o.u,o.r,o.s,o.i,o.h,o.n,o.e,o.f,o.l,o.a,kl.b,Ll.b,Ll.a,Ll.c,Ll.d,bo.a,Ki.a,wl.a,In.a,z.a,n.a,_l.a,Si.a,xl.a,Ul.a,Fl.a,Mr.a,Gl.a,Vl.a,Zl.a,$l.a,Ql.a,ql.a,Ji.a,Hl.a,jl.a,se.a,Kl.a,Kl.b,Tn.a,Yi.a,Yi.c,R.a,Yl.a,Jl.a,ce.a,Hn.a,N.a,Wl.a,Wl.b,Wl.f,Wl.g,Wl.e,Wl.d,M.h,M.k,M.i,M.l,M.e,Xl.a,tu.a,re.a,r.b,Sn.a,iu.a,eu.a,au.a,ou.a,ne.a,nu.a,w.a,ru.a,cu.a,Wi.b,Wi.a,Wi.d,su.a,lu.a,uu.a,du.a,bu.a,pu.a,gu.a,mu.a,fu.a,vu.a,hu.a,Su.a,Tu.a,Iu.a,Cu.a,Ou.a,Li.l,Li.o,Li.k,Li.j,Li.f,Li.g,Li.e,Li.h,Li.i,Li.b,Li.a,Li.d,Li.c,Li.m,jt,zl.a,hi,Ni,ji,Xi,Ae,He,Xe,ua,tn,va,Na,oo,en,no,ro,co,vn,sn,Cn,Gn,Zn,Qn,Wn,zr,kr,Lr,lc,jc,os,_s,ol,Dc,Vn,Lc,Nl,ml,Cl],[a.b,a.G,a.p,a.k,a.E,a.g,a.C,a.F,a.d,a.f,a.i,a.j,a.l,N.d,Pe.b,Pe.a,Au.a,Du.a,Pu.a,yu.a]);var zu,Ru=((zu=function t(){_classCallCheck(this,t)}).\u0275mod=y.Lb({type:zu}),zu.\u0275inj=y.Kb({factory:function(t){return new(t||zu)},imports:[[a.c,o.t,yt.b,Pt,n.b,r.a,E.b,Kt,Yt.a,Jt.SostegnoSharedModule,Wt.SuperficiModule,Xt.ZootecniaModule,Nu]]}),zu)},ngA5:function(t,i,e){"use strict";e.d(i,"a",(function(){return o}));var a=e("qkoE"),o=function(){function t(i,e,a){_classCallCheck(this,t),this.order=i,this.counter=a,this.descrizioneSostegno=e}return _createClass(t,null,[{key:"ritornaSostegno",value:function(t){return t===a.a.SOSTEGNO_DISACCOPPIATO&&(t="richiestaDisaccoppiato"),t===a.a.SOSTEGNO_SUPERFICI&&(t="richiestaSuperfici"),t===a.a.SOSTEGNO_ZOOTECNIA&&(t="richiestaZootecnia"),t}}]),t}()},oBRA:function(t,i,e){"use strict";e.d(i,"a",(function(){return o})),e.d(i,"c",(function(){return n})),e.d(i,"d",(function(){return r})),e.d(i,"b",(function(){return c}));var a=e("Urau"),o=function(){var t=function(){function t(i,e,a,o,n,r){_classCallCheck(this,t),this.codicePascolo=a,this.descPascolo=n,this.superficie=o,this.tipoPascolo=""===r||null==r?"PascoloAziendale":r,this.id=i,this.version=e}return _createClass(t,null,[{key:"checkCodicePascolo",value:function(t){var i;return this.testDentroProvincia.test(t)&&(i=n.name),this.testFuoriProvincia.test(t)&&(i=r.name),this.testPascoloAziendale.test(t)&&(i=c.name),i}},{key:"ArrPascoloDaoToArrPascolo",value:function(t){var i=[];if(t){var e,o=_createForOfIteratorHelper(t);try{for(o.s();!(e=o.n()).done;){var s=e.value;null==s.datiIstruttoriaPascoli&&(s.datiIstruttoriaPascoli=new a.a),"MALGA TN"===s.tipoPascolo&&i.push(new n(s.datiIstruttoriaPascoli.id,s.datiIstruttoriaPascoli.version,s.datiIstruttoriaPascoli.cuaaResponsabile,s.codicePascolo,s.datiIstruttoriaPascoli.superficieDeterminata,s.descPascolo)),"MALGA FUORI PROV"===s.tipoPascolo&&i.push(new r(s.datiIstruttoriaPascoli.id,s.datiIstruttoriaPascoli.version,s.datiIstruttoriaPascoli.esitoControlloMantenimento,s.datiIstruttoriaPascoli.cuaaResponsabile,s.codicePascolo,s.datiIstruttoriaPascoli.superficieDeterminata,s.descPascolo)),"AZIENDALE"===s.tipoPascolo&&i.push(new c(s.datiIstruttoriaPascoli.id,s.datiIstruttoriaPascoli.version,s.datiIstruttoriaPascoli.verificaDocumentazione,s.codicePascolo,s.datiIstruttoriaPascoli.superficieDeterminata,s.descPascolo))}}catch(l){o.e(l)}finally{o.f()}}return i}}]),t}();return t.testDentroProvincia=new RegExp(/^\d{0,3}TN\d{0,3}$/),t.testFuoriProvincia=new RegExp(/^\d{0,3}BZ\d{0,3}$/),t.testPascoloAziendale=new RegExp(/Aziendale/),t}(),n=function(t){_inherits(e,t);var i=_createSuper(e);function e(t,a,o,n,r,c,s){var l;return _classCallCheck(this,e),(l=i.call(this,t,a,n,r,c,"PascoloDentroProvincia")).man4=o,l.tipoPascolo=""===s||null==s?"PascoloDentroProvincia":s,l}return e}(o),r=function(t){_inherits(e,t);var i=_createSuper(e);function e(t,a,o,n,r,c,s){var l;return _classCallCheck(this,e),(l=i.call(this,t,a,n,r,c,s,"PascoloFuoriProvincia")).man5=o,l}return e}(n),c=function(t){_inherits(e,t);var i=_createSuper(e);function e(t,a,o,n,r,c){var s;return _classCallCheck(this,e),(s=i.call(this,t,a,n,r,c)).man3=o,s}return e}(o)},qkoE:function(t,i,e){"use strict";e.d(i,"a",(function(){return a}));var a=function(t){return t.SOSTEGNO_DISACCOPPIATO="SOSTEGNO DISACCOPPIATO",t.SOSTEGNO_SUPERFICI="SOSTEGNO ACCOPPIATO SUPERFICI",t.SOSTEGNO_ZOOTECNIA="SOSTEGNO ACCOPPIATO ZOOTECNIA",t}({})},sdz4:function(t,i,e){"use strict";e.d(i,"a",(function(){return l}));var a=e("mrSG"),o=e("rNJQ"),n=e("tk/3"),r=e("HDdC"),c=e("fXoL"),s=e("dkQB"),l=function(){var t=function(){function t(i,e){_classCallCheck(this,t),this.http=i,this._configuration=e}return _createClass(t,[{key:"countDomandeDU",value:function(t){return console.log("countDomandeDU"),this.http.get(this._configuration.UrlCountDomandeDU+t)}},{key:"countDomandeDUPAC",value:function(t){return console.log("countDomandeDUPAC"),this.http.get(this._configuration.UrlCountDomandeDUPAC+t)}},{key:"caricaAnniCampagna",value:function(){return console.log("caricaAnniCampagna"),this.http.get(this._configuration.UrlCaricaAnniCampagna)}},{key:"getConfigurazioneIstruttoriaDisaccoppiato",value:function(t){return this.http.get(this._configuration.UrlDettaglioIstruttoria.replace("${annoCampagna}",String(t)))}},{key:"getConfigurazioneIstruttoriaAcs",value:function(t){return this.http.get(this._configuration.UrlConfIstruttoriaAcs.replace("${annoCampagna}",String(t)))}},{key:"getConfigurazioneIstruttoriaAcz",value:function(t){return this.http.get(this._configuration.UrlConfIstruttoriaAcz.replace("${annoCampagna}",String(t)))}},{key:"setConfigurazioneIstruttoriaDisaccoppiato",value:function(t,i){var e=new n.f({"Content-Type":"application/json"});return this.http.post(this._configuration.UrlDettaglioIstruttoria.replace("${annoCampagna}",String(t)),i,{headers:e})}},{key:"setConfigurazioneIstruttoriaAcs",value:function(t,i){var e=new n.f({"Content-Type":"application/json"});return this.http.post(this._configuration.UrlConfIstruttoriaAcs.replace("${annoCampagna}",String(t)),i,{headers:e})}},{key:"setConfigurazioneIstruttoriaAcz",value:function(t,i){var e=new n.f({"Content-Type":"application/json"});return this.http.post(this._configuration.UrlConfIstruttoriaAcz.replace("${annoCampagna}",String(t)),i,{headers:e})}},{key:"getConfigurazioneRicevibilita",value:function(t){return this.http.get(this._configuration.UrlConfRicevibilita.replace("${annoCampagna}",String(t)))}},{key:"setConfigurazioneIstruttoriaRicevibilita",value:function(t,i){var e=new n.f({"Content-Type":"application/json"});return this.http.post(this._configuration.UrlConfRicevibilita.replace("${annoCampagna}",String(t)),i,{headers:e})}},{key:"getConfigurazioneIstruttorie",value:function(t){return this.http.get(this._configuration.UrlConfIstruttorie.replace("${annoCampagna}",String(t)))}},{key:"setConfigurazioneIstruttorie",value:function(t,i){var e=new n.f({"Content-Type":"application/json"});return this.http.post(this._configuration.UrlConfIstruttorie.replace("${annoCampagna}",String(t)),i,{headers:e})}}]),t}();return t.\u0275fac=function(i){return new(i||t)(c.Xb(n.b),c.Xb(s.a))},t.\u0275prov=c.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),Object(a.b)([Object(o.a)(),Object(a.c)("design:type",Function),Object(a.c)("design:paramtypes",[]),Object(a.c)("design:returntype",r.a)],t.prototype,"caricaAnniCampagna",null),t}()},sfyY:function(t,i,e){"use strict";e.d(i,"a",(function(){return p}));var a=e("Tn7N"),o=e("69Tm"),n=e("MvQ6"),r=e("VrO5"),c=e("fXoL"),s=e("sYmb"),l=e("ofXK");function u(t,i){if(1&t&&(c.Tb(0,"div"),c.Oc(1),c.Sb()),2&t){var e=i.$implicit,a=c.fc(2);c.Bb(1),c.Qc(" ",a.getCountAvanzamentoProcessi(e)," ")}}function d(t,i){if(1&t&&(c.Tb(0,"div"),c.Mc(1,u,2,1,"div",4),c.Sb()),2&t){var e=c.fc();c.Bb(1),c.mc("ngForOf",e.processi)}}function b(t,i){if(1&t&&(c.Tb(0,"div"),c.Oc(1),c.Sb()),2&t){var e=c.fc();c.Bb(1),c.Qc(" ",e.label," ")}}var p=function(){var t=function(){function t(i,e,a){_classCallCheck(this,t),this.istruttoriaService=i,this.translateService=e,this.repeatingServiceCall=a,this.label=o.a.NESSUN_PROCESSO_DI_CONTROLLO,this.processi=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.repeatingServiceCallSubscription=this.repeatingServiceCall.observable$.subscribe((function(i){return t.getProcessiDiControllo(i)}))}},{key:"ngOnDestroy",value:function(){clearInterval(this.interval),this.repeatingServiceCall.stop(),this.repeatingServiceCallSubscription.unsubscribe()}},{key:"getProcessiDiControllo",value:function(t){var i=this;this.istruttoriaService.getProcessiDiControllo(null).subscribe((function(e){e&&(i.processi=[],e.forEach((function(t){i.processiDaControllare.includes(t.tipoProcesso)&&i.processi.push(t)}))),e&&0!==i.processi.length||(console.log(t),t>0?i.repeatingServiceCall.stopAndRefresh():i.repeatingServiceCall.stop())}),(function(t){console.log(t)}))}},{key:"getCountAvanzamentoProcessi",value:function(t){var i=t.datiElaborazioneProcesso.parziale||"0";return a.a.procesioDiControlloIstruttoria(String(this.translateService.instant("PROCESSI."+t.tipoProcesso)),String(i),String(t.datiElaborazioneProcesso.totale||"0"))}}]),t}();return t.\u0275fac=function(i){return new(i||t)(c.Nb(n.a),c.Nb(s.e),c.Nb(r.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-processi-di-controllo"]],inputs:{processiDaControllare:"processiDaControllare"},decls:7,vars:2,consts:[[1,"ui-grid-fixed"],[1,"layout-actionmenu"],[1,"messaggiprocesso","boxgrey_bottom","ui-g-9"],[4,"ngIf"],[4,"ngFor","ngForOf"]],template:function(t,i){1&t&&(c.Tb(0,"div",0),c.Tb(1,"div",1),c.Tb(2,"div",2),c.Tb(3,"h5"),c.Oc(4,"Processi di Controllo"),c.Sb(),c.Mc(5,d,2,1,"div",3),c.Mc(6,b,2,1,"div",3),c.Sb(),c.Sb(),c.Sb()),2&t&&(c.Bb(5),c.mc("ngIf",i.processi&&i.processi.length>0),c.Bb(1),c.mc("ngIf",!(i.processi&&i.processi.length>0)))},directives:[l.t,l.s],styles:[".boxgrey_bottom[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#0d5f3f;font-weight:700;font-size:18px;text-transform:uppercase;padding-bottom:10px;margin-bottom:15px}.boxgrey_bottom[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]{border-bottom:2px solid #0d5f3f}.messaggiprocesso[_ngcontent-%COMP%]{margin-top:20px}"]}),t}()},tZin:function(t,i,e){"use strict";e.r(i),e.d(i,"SostegnoSharedModule",(function(){return Ie}));var a,o=e("ofXK"),n=e("R69K"),r=e("sfyY"),c=e("fXoL"),s=e("tyNb"),l=e("b7oP"),u=((a=function(){function t(i){_classCallCheck(this,t),this.route=i,this.funzioni=Array()}return _createClass(t,[{key:"ngOnInit",value:function(){this.annoCampagna=this.route.snapshot.params.annoCampagna,this.funzioni=new Array({routerLink:"ricevibilita",label:"Ricevibilit\xe0"},{routerLink:"istruttoriaDisaccoppiato",label:"Istruttoria Disaccoppiato"},{routerLink:"istruttoriaAcz",label:"Istruttoria ACZ"},{routerLink:"istruttoriaAcs",label:"Istruttoria ACS"})}}]),t}()).\u0275fac=function(t){return new(t||a)(c.Nb(s.a))},a.\u0275cmp=c.Hb({type:a,selectors:[["app-configurazione-istruttoria"]],decls:10,vars:2,consts:[[1,"ui-g","ui-fluid"],[1,"tophome"],[1,"ui-grid-fixed"],[1,"ui-g-12"],[1,"funzioni-grid"],[3,"model"]],template:function(t,i){1&t&&(c.Tb(0,"div",0),c.Tb(1,"div",1),c.Tb(2,"div",2),c.Tb(3,"h4"),c.Oc(4),c.Sb(),c.Sb(),c.Sb(),c.Tb(5,"div",3),c.Tb(6,"div",2),c.Tb(7,"div",4),c.Ob(8,"p-tabMenu",5),c.Sb(),c.Ob(9,"router-outlet"),c.Sb(),c.Sb(),c.Sb()),2&t&&(c.Bb(4),c.Qc("CONFIGURAZIONE ISTRUTTORIA ",i.annoCampagna,""),c.Bb(4),c.mc("model",i.funzioni))},directives:[l.a,s.j],styles:[""]}),a),d=function t(){_classCallCheck(this,t)},b=e("Tn7N"),p=e("3Pt+"),g=e("sdz4"),m=e("RtSl"),f=e("arS9"),v=e("A1Yd"),h=e("GLSp"),S=e("sYmb");function T(t,i){if(1&t){var e=c.Ub();c.Tb(0,"div",52),c.Ob(1,"i",53),c.Tb(2,"h3"),c.Oc(3),c.Sb(),c.Tb(4,"p"),c.Oc(5),c.Sb(),c.Sb(),c.Tb(6,"div",54),c.Tb(7,"div",55),c.Tb(8,"button",56),c.bc("click",(function(){return c.Ec(e),c.fc(2).confermaSalvataggio()})),c.Sb(),c.Sb(),c.Tb(9,"div",55),c.Tb(10,"button",57),c.bc("click",(function(){return c.Ec(e),c.fc(2).rejectSalvataggio()})),c.Sb(),c.Sb(),c.Sb()}if(2&t){var a=i.$implicit;c.Bb(3),c.Pc(a.summary),c.Bb(2),c.Pc(a.detail)}}function I(t,i){if(1&t){var e=c.Ub();c.Tb(0,"button",58),c.bc("click",(function(){return c.Ec(e),c.fc(2).modifica()})),c.Oc(1,"MODIFICA"),c.Sb()}}function C(t,i){if(1&t){var e=c.Ub();c.Tb(0,"button",59),c.bc("click",(function(){return c.Ec(e),c.fc(2).annulla()})),c.Oc(1,"ANNULLA"),c.Sb()}}function O(t,i){if(1&t){var e=c.Ub();c.Tb(0,"button",60),c.bc("click",(function(){return c.Ec(e),c.fc(2).salva()})),c.Oc(1,"SALVA"),c.Sb()}if(2&t){var a=c.fc(2);c.mc("disabled",!a.importiForm.valid)}}function A(t,i){if(1&t&&(c.Tb(0,"span"),c.Oc(1),c.Sb()),2&t){var e=c.fc(2);c.Bb(1),c.Pc(e.dettaglioIstruttoria.percentualeIncrementoGreening)}}function D(t,i){1&t&&c.Ob(0,"input",61)}function P(t,i){if(1&t&&(c.Tb(0,"span"),c.Oc(1),c.Sb()),2&t){var e=c.fc(2);c.Bb(1),c.Pc(e.dettaglioIstruttoria.percentualeIncrementoGiovane)}}function y(t,i){1&t&&c.Ob(0,"input",62)}function B(t,i){if(1&t&&(c.Tb(0,"span"),c.Oc(1),c.Sb()),2&t){var e=c.fc(2);c.Bb(1),c.Pc(e.dettaglioIstruttoria.limiteGiovane)}}function N(t,i){1&t&&c.Ob(0,"input",63)}function z(t,i){if(1&t&&(c.Tb(0,"span"),c.Oc(1),c.Sb()),2&t){var e=c.fc(2);c.Bb(1),c.Pc(e.dettaglioIstruttoria.percentualeRiduzioneLineareArt51Par2)}}function R(t,i){1&t&&c.Ob(0,"input",64)}function M(t,i){if(1&t&&(c.Tb(0,"span"),c.Oc(1),c.Sb()),2&t){var e=c.fc(2);c.Bb(1),c.Pc(e.dettaglioIstruttoria.percentualeRiduzioneLineareArt51Par3)}}function E(t,i){1&t&&c.Ob(0,"input",65)}function k(t,i){if(1&t&&(c.Tb(0,"span"),c.Oc(1),c.Sb()),2&t){var e=c.fc(2);c.Bb(1),c.Pc(e.dettaglioIstruttoria.percentualeRiduzioneLineareMassimaleNetto)}}function L(t,i){1&t&&c.Ob(0,"input",66)}function w(t,i){if(1&t&&(c.Tb(0,"span"),c.Oc(1),c.Sb()),2&t){var e=c.fc(2);c.Bb(1),c.Pc(e.dettaglioIstruttoria.percentualeRiduzioneTitoli)}}function _(t,i){1&t&&c.Ob(0,"input",67)}var x=function(){return{marginTop:"70px"}};function U(t,i){if(1&t&&(c.Tb(0,"form",1),c.Ob(1,"p-toast",2),c.Tb(2,"p-toast",3),c.Mc(3,T,11,2,"ng-template",4),c.Sb(),c.Tb(4,"div",5),c.Tb(5,"div",6),c.Tb(6,"span",7),c.Tb(7,"span",8),c.ec(),c.Tb(8,"svg",9),c.Tb(9,"g",10),c.Ob(10,"path",11),c.Ob(11,"path",12),c.Ob(12,"path",13),c.Ob(13,"path",14),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.dc(),c.Tb(14,"h3",15),c.Oc(15,"Configurazione Disaccoppiato"),c.Sb(),c.Mc(16,I,2,0,"button",16),c.Mc(17,C,2,0,"button",17),c.Mc(18,O,2,1,"button",18),c.Sb(),c.Ob(19,"hr",19),c.Tb(20,"h4",20),c.Oc(21),c.gc(22,"translate"),c.Sb(),c.Tb(23,"div",21),c.Tb(24,"div",22),c.Tb(25,"div",23),c.Tb(26,"div",24),c.Tb(27,"span",25),c.Tb(28,"div",26),c.Tb(29,"span",27),c.Tb(30,"span",8),c.ec(),c.Tb(31,"svg",28),c.Tb(32,"g",29),c.Ob(33,"rect",30),c.Tb(34,"g",31),c.Ob(35,"path",32),c.Ob(36,"path",33),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.dc(),c.Tb(37,"strong"),c.Oc(38),c.gc(39,"translate"),c.Sb(),c.Sb(),c.Tb(40,"div",34),c.Tb(41,"span"),c.Oc(42),c.gc(43,"translate"),c.Sb(),c.Sb(),c.Sb(),c.Tb(44,"span",35),c.Mc(45,A,2,1,"span",36),c.Mc(46,D,1,0,"input",37),c.Tb(47,"span",38),c.Oc(48,"%"),c.Sb(),c.Sb(),c.Sb(),c.Tb(49,"div",24),c.Tb(50,"span",25),c.Tb(51,"div",26),c.Tb(52,"span",27),c.Tb(53,"span",8),c.ec(),c.Tb(54,"svg",28),c.Tb(55,"g",29),c.Ob(56,"rect",30),c.Tb(57,"g",39),c.Ob(58,"path",40),c.Ob(59,"circle",41),c.Ob(60,"circle",42),c.Ob(61,"path",43),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.dc(),c.Tb(62,"strong"),c.Oc(63),c.gc(64,"translate"),c.Sb(),c.Sb(),c.Tb(65,"div",34),c.Oc(66),c.gc(67,"translate"),c.Sb(),c.Sb(),c.Tb(68,"span",35),c.Mc(69,P,2,1,"span",36),c.Mc(70,y,1,0,"input",44),c.Tb(71,"span",38),c.Oc(72,"%"),c.Sb(),c.Sb(),c.Sb(),c.Tb(73,"div",24),c.Tb(74,"span",25),c.Ob(75,"div",45),c.Tb(76,"div",34),c.Oc(77),c.gc(78,"translate"),c.Sb(),c.Sb(),c.Tb(79,"span",35),c.Mc(80,B,2,1,"span",36),c.Mc(81,N,1,0,"input",46),c.Tb(82,"span",38),c.Oc(83,"ha"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(84,"div",22),c.Tb(85,"div",23),c.Tb(86,"div",24),c.Tb(87,"span",47),c.Oc(88),c.gc(89,"translate"),c.Sb(),c.Tb(90,"span",35),c.Mc(91,z,2,1,"span",36),c.Mc(92,R,1,0,"input",48),c.Tb(93,"span",38),c.Oc(94,"%"),c.Sb(),c.Sb(),c.Sb(),c.Tb(95,"div",24),c.Tb(96,"span",47),c.Oc(97),c.gc(98,"translate"),c.Sb(),c.Tb(99,"span",35),c.Mc(100,M,2,1,"span",36),c.Mc(101,E,1,0,"input",49),c.Tb(102,"span",38),c.Oc(103,"%"),c.Sb(),c.Sb(),c.Sb(),c.Tb(104,"div",24),c.Tb(105,"span",47),c.Oc(106),c.gc(107,"translate"),c.Sb(),c.Tb(108,"span",35),c.Mc(109,k,2,1,"span",36),c.Mc(110,L,1,0,"input",50),c.Tb(111,"span",38),c.Oc(112,"%"),c.Sb(),c.Sb(),c.Sb(),c.Tb(113,"div",24),c.Tb(114,"span",47),c.Oc(115),c.gc(116,"translate"),c.Sb(),c.Tb(117,"span",35),c.Mc(118,w,2,1,"span",36),c.Mc(119,_,1,0,"input",51),c.Tb(120,"span",38),c.Oc(121,"%"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&t){var e=c.fc();c.mc("formGroup",e.importiForm),c.Bb(1),c.Kc(c.rc(52,x)),c.Bb(1),c.mc("modal",!0)("baseZIndex",5e3),c.Bb(14),c.mc("ngIf",!e.edit),c.Bb(1),c.mc("ngIf",e.edit),c.Bb(1),c.mc("ngIf",e.edit),c.Bb(3),c.Pc(c.hc(22,32,"CONFIGURAZIONE_ISTRUTTORIA.interventiRichiesti")),c.Bb(17),c.Pc(c.hc(39,34,"CONFIGURAZIONE_ISTRUTTORIA.DISACCOPPIATO.greening")),c.Bb(4),c.Pc(c.hc(43,36,"CONFIGURAZIONE_ISTRUTTORIA.DISACCOPPIATO.percentualeIncrementoPremio")),c.Bb(3),c.mc("ngIf",!e.edit),c.Bb(1),c.mc("ngIf",e.edit),c.Bb(17),c.Pc(c.hc(64,38,"CONFIGURAZIONE_ISTRUTTORIA.DISACCOPPIATO.giovane")),c.Bb(3),c.Qc(" ",c.hc(67,40,"CONFIGURAZIONE_ISTRUTTORIA.DISACCOPPIATO.percentualeIncrementoPremio")," "),c.Bb(3),c.mc("ngIf",!e.edit),c.Bb(1),c.mc("ngIf",e.edit),c.Bb(7),c.Qc(" ",c.hc(78,42,"CONFIGURAZIONE_ISTRUTTORIA.DISACCOPPIATO.limiteDirittiAiuto")," "),c.Bb(3),c.mc("ngIf",!e.edit),c.Bb(1),c.mc("ngIf",e.edit),c.Bb(7),c.Qc(" ",c.hc(89,44,"CONFIGURAZIONE_ISTRUTTORIA.DISACCOPPIATO.riduzioneLineareGiovanePar2")," "),c.Bb(3),c.mc("ngIf",!e.edit),c.Bb(1),c.mc("ngIf",e.edit),c.Bb(5),c.Qc(" ",c.hc(98,46,"CONFIGURAZIONE_ISTRUTTORIA.DISACCOPPIATO.riduzioneLineareGiovanePar3")," "),c.Bb(3),c.mc("ngIf",!e.edit),c.Bb(1),c.mc("ngIf",e.edit),c.Bb(5),c.Qc(" ",c.hc(107,48,"CONFIGURAZIONE_ISTRUTTORIA.DISACCOPPIATO.riduzioneLineareMassimaleNetto")," "),c.Bb(3),c.mc("ngIf",!e.edit),c.Bb(1),c.mc("ngIf",e.edit),c.Bb(5),c.Qc(" ",c.hc(116,50,"CONFIGURAZIONE_ISTRUTTORIA.DISACCOPPIATO.riduzioneTitoli")," "),c.Bb(3),c.mc("ngIf",!e.edit),c.Bb(1),c.mc("ngIf",e.edit)}}var F,G=((F=function(){function t(i,e,a,o){_classCallCheck(this,t),this.confIstruttoriaService=i,this.route=e,this.messageService=a,this.fb=o,this.dettaglioIstruttoria=new d,this.edit=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.annoCampagna=this.route.snapshot.params.annoCampagna,this.getDettaglioIstruttoria()}},{key:"getDettaglioIstruttoria",value:function(){var t=this;this.confIstruttoriaService.getConfigurazioneIstruttoriaDisaccoppiato(this.annoCampagna).subscribe((function(i){null===i?t.dettaglioIstruttoria.campagna=t.annoCampagna:(t.dettaglioIstruttoria.id=i.id,t.dettaglioIstruttoria.campagna=i.campagna,t.multiply100(i),t.dettaglioIstruttoria.limiteGiovane=i.limiteGiovane),t.createForm()}),(function(i){t.messageService.add(b.a.getToast("tst",b.b.error,b.a.erroreRecuperoDati))}))}},{key:"createForm",value:function(){this.importiForm=new p.j({datiIstruttoria:new p.j({percentualeIncrementoGiovane:this.fb.control(this.dettaglioIstruttoria.percentualeIncrementoGiovane,[p.G.required,p.G.min(0),p.G.max(100),p.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)]),percentualeIncrementoGreening:this.fb.control(this.dettaglioIstruttoria.percentualeIncrementoGreening,[p.G.required,p.G.min(0),p.G.max(100),p.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)]),percentualeRiduzioneLineareArt51Par2:this.fb.control(this.dettaglioIstruttoria.percentualeRiduzioneLineareArt51Par2,[p.G.required,p.G.min(0),p.G.max(100),p.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)]),percentualeRiduzioneLineareArt51Par3:this.fb.control(this.dettaglioIstruttoria.percentualeRiduzioneLineareArt51Par3,[p.G.required,p.G.min(0),p.G.max(100),p.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)]),percentualeRiduzioneLineareMassimaleNetto:this.fb.control(this.dettaglioIstruttoria.percentualeRiduzioneLineareMassimaleNetto,[p.G.required,p.G.min(0),p.G.max(100),p.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)]),percentualeRiduzioneTitoli:this.fb.control(this.dettaglioIstruttoria.percentualeRiduzioneTitoli,[p.G.required,p.G.min(0),p.G.max(100),p.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)]),limiteGiovane:this.fb.control(this.dettaglioIstruttoria.limiteGiovane,[p.G.required,p.G.min(0),p.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)])})})}},{key:"modifica",value:function(){this.edit=!0}},{key:"annulla",value:function(){this.edit=!1,this.getDettaglioIstruttoria()}},{key:"salva",value:function(){this.messageService.add({key:"checkSalvataggio",sticky:!0,severity:"warn",summary:"Operazione di Salvataggio",detail:"Sei sicuro di voler salvare?"})}},{key:"confermaSalvataggio",value:function(){this.edit=!1,this.messageService.clear("checkSalvataggio"),this.dettaglioIstruttoria.limiteGiovane=this.importiForm.value.datiIstruttoria.limiteGiovane,this.dettaglioIstruttoria.percentualeIncrementoGiovane=this.importiForm.value.datiIstruttoria.percentualeIncrementoGiovane,this.dettaglioIstruttoria.percentualeIncrementoGreening=this.importiForm.value.datiIstruttoria.percentualeIncrementoGreening,this.dettaglioIstruttoria.percentualeRiduzioneLineareArt51Par2=this.importiForm.value.datiIstruttoria.percentualeRiduzioneLineareArt51Par2,this.dettaglioIstruttoria.percentualeRiduzioneLineareArt51Par3=this.importiForm.value.datiIstruttoria.percentualeRiduzioneLineareArt51Par3,this.dettaglioIstruttoria.percentualeRiduzioneLineareMassimaleNetto=this.importiForm.value.datiIstruttoria.percentualeRiduzioneLineareMassimaleNetto,this.dettaglioIstruttoria.percentualeRiduzioneTitoli=this.importiForm.value.datiIstruttoria.percentualeRiduzioneTitoli,this.setDettaglioIstruttoria(this.annoCampagna,this.dettaglioIstruttoria)}},{key:"rejectSalvataggio",value:function(){this.messageService.clear("checkSalvataggio")}},{key:"setDettaglioIstruttoria",value:function(t,i){var e=this;this.divide100(i),this.confIstruttoriaService.setConfigurazioneIstruttoriaDisaccoppiato(t,i).subscribe((function(t){e.multiply100(i),e.messageService.add(b.a.getToast("tst",b.b.success,b.a.OPERAZIONE_OK))}),(function(t){e.messageService.add(b.a.getToast("tst",b.b.error,b.a.salvataggioDatiKo))}))}},{key:"divide100",value:function(t){this.dettaglioIstruttoria.percentualeIncrementoGiovane=t.percentualeIncrementoGiovane/100,this.dettaglioIstruttoria.percentualeIncrementoGreening=t.percentualeIncrementoGreening/100,this.dettaglioIstruttoria.percentualeRiduzioneLineareArt51Par2=t.percentualeRiduzioneLineareArt51Par2/100,this.dettaglioIstruttoria.percentualeRiduzioneLineareArt51Par3=t.percentualeRiduzioneLineareArt51Par3/100,this.dettaglioIstruttoria.percentualeRiduzioneLineareMassimaleNetto=t.percentualeRiduzioneLineareMassimaleNetto/100,this.dettaglioIstruttoria.percentualeRiduzioneTitoli=t.percentualeRiduzioneTitoli/100}},{key:"multiply100",value:function(t){this.dettaglioIstruttoria.percentualeIncrementoGiovane=this.roundTo(t.percentualeIncrementoGiovane),this.dettaglioIstruttoria.percentualeIncrementoGreening=this.roundTo(t.percentualeIncrementoGreening),this.dettaglioIstruttoria.percentualeRiduzioneLineareArt51Par2=this.roundTo(t.percentualeRiduzioneLineareArt51Par2),this.dettaglioIstruttoria.percentualeRiduzioneLineareArt51Par3=this.roundTo(t.percentualeRiduzioneLineareArt51Par3),this.dettaglioIstruttoria.percentualeRiduzioneLineareMassimaleNetto=this.roundTo(t.percentualeRiduzioneLineareMassimaleNetto),this.dettaglioIstruttoria.percentualeRiduzioneTitoli=this.roundTo(t.percentualeRiduzioneTitoli)}},{key:"roundTo",value:function(t){return Math.round(100*t*100)/100}}]),t}()).\u0275fac=function(t){return new(t||F)(c.Nb(g.a),c.Nb(s.a),c.Nb(m.d),c.Nb(p.f))},F.\u0275cmp=c.Hb({type:F,selectors:[["app-istruttoria-disaccoppiato"]],decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],["key","tst"],["position","center","key","checkSalvataggio",3,"modal","baseZIndex"],["pTemplate","message"],["formGroupName","datiIstruttoria",1,"boxgrey"],[1,"d-flex","align-items-center"],[1,"icon","icon--p","icon--dark","icon--l","mr-3"],[1,"icon__img"],["xmlns","http://www.w3.org/2000/svg","width","32","height","27","viewBox","0 0 32 27"],["fill","#FFF","fill-rule","evenodd"],["d","M7.448 11C3.34 11 0 14.29 0 18.333c0 4.044 3.341 7.334 7.448 7.334s7.448-3.29 7.448-7.334c0-4.043-3.341-7.333-7.448-7.333zm0 12.833c-3.08 0-5.586-2.467-5.586-5.5 0-3.032 2.506-5.5 5.586-5.5 3.08 0 5.586 2.468 5.586 5.5 0 3.033-2.506 5.5-5.586 5.5z","transform","translate(.111 .556)"],["d","M7.448 15.583c-1.54 0-2.793 1.234-2.793 2.75 0 1.517 1.253 2.75 2.793 2.75 1.54 0 2.793-1.233 2.793-2.75 0-1.516-1.253-2.75-2.793-2.75zm0 3.667c-.513 0-.931-.411-.931-.917 0-.505.418-.916.93-.916.514 0 .932.411.932.916 0 .506-.418.917-.931.917z","transform","translate(.111 .556)"],["d","M29.916 16.071v-3.238c0-2.022-1.67-3.666-3.724-3.666H24.33V4.583c0-.505.418-.916.93-.916V1.833c-1.54 0-2.792 1.234-2.792 2.75v4.584H18.38l-2.234-7.334h1.542V0H2.793v1.833h1.862v5.851c-1.573.4-3.052 1.135-4.317 2.164l1.186 1.414C3.185 9.91 5.289 9.167 7.448 9.167c5.133 0 9.31 4.112 9.31 9.166v2.75h3.926c.445 2.598 2.745 4.584 5.508 4.584 3.08 0 5.586-2.468 5.586-5.5 0-1.626-.72-3.088-1.862-4.096zm-23.4-8.699V1.833h7.687l2.235 7.334h-2.822c-1.769-1.158-3.89-1.834-6.168-1.834-.312 0-.622.014-.931.04zM15.768 11h10.425c1.027 0 1.862.822 1.862 1.833v2.148c-.583-.203-1.21-.314-1.862-.314H17.98c-.492-1.366-1.25-2.609-2.214-3.667zm2.697 5.5h3.568c-.69.758-1.17 1.704-1.348 2.75H18.62v-.917c0-.624-.054-1.236-.156-1.833zm7.728 7.333c-2.054 0-3.724-1.644-3.724-3.666 0-2.022 1.67-3.667 3.724-3.667 2.053 0 3.724 1.645 3.724 3.667s-1.67 3.666-3.724 3.666z","transform","translate(.111 .556)"],["d","M27.123 20.167c0 .506-.417.916-.931.916s-.931-.41-.931-.916c0-.507.417-.917.93-.917.515 0 .932.41.932.917z","transform","translate(.111 .556)"],[1,"mr-auto","mb-0","pb-0"],["type","button","class","btn  btn-white  w-auto  fs-16  mb-0",3,"click",4,"ngIf"],["type","button","class","btn btn-green fs-16  mr-2",3,"click",4,"ngIf"],["type","button","class","btn btn-green fs-16",3,"disabled","click",4,"ngIf"],["size","6","color","green"],[1,"fs-16","fw-700","my-3"],[1,"row"],[1,"col-6"],[1,"row","row--edit"],[1,"col-12","d-flex","align-items-center"],[1,"mr-auto","w-75","row","align-items-center"],[1,"col-4"],[1,"icon","mr-2"],["xmlns","http://www.w3.org/2000/svg","width","44","height","44","viewBox","0 0 44 44"],["fill","none","fill-rule","evenodd"],["width","43","height","43","x",".5","y",".5","fill","#F7F7F7","stroke","#D8D8D8","rx","4"],["fill","#30373D"],["d","M21.66 11.52C21.66 5.263 15.5.312 15.238.104c-.174-.138-.421-.138-.596 0C14.38.312 8.22 5.264 8.22 11.52c0 5.742 5.184 10.38 6.24 11.267v5.053c0 .266.215.48.48.48s.48-.214.48-.48v-5.053c1.056-.887 6.24-5.525 6.24-11.267zm-6.24 9.975v-5.432l2.708-2.253c.203-.17.231-.473.061-.677-.17-.204-.472-.231-.676-.062l-2.093 1.743v-1.632l2.708-2.254c.203-.169.231-.472.061-.676-.17-.204-.472-.231-.676-.062l-2.093 1.744V9.822l2.708-2.254c.203-.169.231-.472.061-.676-.17-.204-.472-.231-.676-.062L15.42 8.574V4.8c0-.265-.215-.48-.48-.48s-.48.215-.48.48v3.774L12.367 6.83c-.203-.17-.506-.142-.676.062-.17.204-.142.507.062.677l2.707 2.253v2.112l-2.093-1.743c-.203-.17-.506-.142-.676.062-.17.204-.142.507.062.677l2.707 2.252v1.632l-2.093-1.743c-.203-.17-.506-.142-.676.062-.17.204-.142.507.062.677l2.707 2.252v5.432c-1.632-1.531-5.28-5.456-5.28-9.975 0-5.037 4.54-9.345 5.76-10.41 1.22 1.065 5.76 5.373 5.76 10.41 0 4.52-3.648 8.444-5.28 9.975zM11.58 25.44h-.48v-3.524c.002-.637-.251-1.248-.703-1.697l-4.04-4.043c-.562-.56-1.471-.56-2.033 0l-.424.426V11.52c0-.533-.222-1.042-.613-1.405-.39-.363-.914-.548-1.446-.51-1.024.1-1.799.969-1.78 1.997v6.856c-.001.597.221 1.173.623 1.615l4.176 4.593v.774h-.48c-.265 0-.48.215-.48.48v3.36c0 .266.215.48.48.48h7.2c.265 0 .48-.214.48-.48v-3.36c0-.265-.215-.48-.48-.48zM1.395 19.426c-.241-.264-.375-.61-.375-.968v-6.856c-.013-.523.37-.971.89-1.04.278-.02.551.083.749.28.18.18.282.424.281.678v5.843c0 .382.15.749.422 1.018l2.599 2.599c.188.182.488.18.673-.006.185-.185.187-.485.006-.673l-2.204-2.203c-.09-.09-.14-.211-.14-.338 0-.126.05-.248.14-.337l.567-.566c.187-.185.488-.185.675 0l4.04 4.041c.27.27.421.636.422 1.018v3.524H5.82v-1.145l-4.425-4.869zM11.1 28.8H4.86v-2.4h6.24v2.4zM28.04 9.605c-.532-.038-1.056.147-1.446.51-.39.363-.613.872-.614 1.405v5.082l-.424-.424c-.561-.56-1.47-.56-2.032 0l-4.04 4.041c-.452.449-.705 1.06-.704 1.697v3.524h-.48c-.265 0-.48.215-.48.48v3.36c0 .266.215.48.48.48h7.2c.265 0 .48-.214.48-.48v-3.36c0-.265-.215-.48-.48-.48h-.48v-.774l4.176-4.593c.402-.442.625-1.018.624-1.615v-6.856c.018-1.028-.757-1.897-1.78-1.997zM25.02 28.8h-6.24v-2.4h6.24v2.4zm3.84-10.342c0 .358-.133.704-.374.968l-4.426 4.869v1.145h-4.32v-3.524c.001-.382.153-.748.422-1.018l4.042-4.041c.187-.185.488-.185.675 0l.567.566c.185.186.185.487 0 .672L23.24 20.3c-.124.12-.175.299-.13.466.043.168.175.3.342.343.168.044.347-.006.467-.13l2.599-2.6c.27-.269.422-.635.421-1.017V11.52c0-.254.101-.499.282-.678.198-.197.47-.299.75-.28.518.069.901.517.888 1.04v6.856zM14.6 28.94c-.088.092-.138.213-.14.34.001.033.004.065.01.096.005.03.015.06.029.087.01.03.025.06.043.086.018.025.037.05.057.072.19.186.493.186.682 0l.058-.072c.018-.027.032-.056.043-.086.014-.027.023-.056.028-.087.006-.031.01-.063.01-.096.001-.195-.116-.371-.296-.446-.18-.075-.387-.033-.525.106z","transform","translate(7 7)"],["d","M5.82 27.84h1.92c.265 0 .48-.214.48-.48 0-.265-.215-.48-.48-.48H5.82c-.265 0-.48.215-.48.48 0 .266.215.48.48.48zM8.998 27.802c.058.025.12.038.182.038.195.001.372-.116.446-.296.075-.18.034-.387-.105-.524-.138-.137-.344-.176-.523-.101-.059.023-.113.057-.159.1-.087.093-.137.214-.139.341-.004.196.115.373.298.442zM19.73 12.384c-.005-.03-.014-.059-.028-.086-.01-.03-.025-.06-.043-.086l-.058-.072c-.192-.178-.49-.178-.682 0-.02.022-.04.046-.057.072-.018.026-.033.055-.043.086-.014.027-.024.056-.03.086-.005.032-.008.064-.009.096.002.127.052.25.14.341.09.089.213.139.34.14.128 0 .25-.05.341-.14.09-.09.14-.213.14-.34-.002-.033-.005-.065-.01-.097z","transform","translate(7 7)"],[1,"col-8"],[1,"ml-3","w-25","text-right","d-flex","align-items-center","justify-content-end"],[4,"ngIf"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeIncrementoGreening",4,"ngIf"],[1,"ml-1"],["fill","#30373D","transform","translate(8 8)"],["d","M19.542 18.543l-3.732-1.651v-.739c1.589-.916 2.79-2.417 3.304-4.203.312.012.61-.077.899-.257.443-.276.743-.726.802-1.204.059-.479-.09-.96-.406-1.318-.094-.105-.2-.194-.315-.272 2.388-.521 3.601-1.261 3.601-2.204 0-1.148-1.801-1.868-4.062-2.3V1.917c0-.192-.115-.366-.293-.44-4.542-1.909-8.582-1.904-12.348.014-.16.082-.261.246-.261.426V4.31c-2.48.42-4.54 1.157-4.54 2.385 0 .995 1.337 1.76 3.97 2.281-.054.044-.107.09-.156.141-.318.33-.484.764-.468 1.222.018.512.309 1.005.776 1.321.296.2.6.299.914.291.5 1.827 1.712 3.359 3.33 4.29 0 .005-.003.009-.003.014v.637l-3.732 1.65c-1.797.795-2.958 2.574-2.958 4.531v3.931c0 .264.214.478.477.478h17.681c.264 0 .478-.214.478-.478v-3.93c0-1.958-1.16-3.737-2.958-4.531zM7.716 8.129c-.002-.224.134-.422.336-.49.054-.016.11-.03.165-.047.143-.043.289-.078.433-.117-.324.274-.638.495-.934.654zm10.925.461c-3.153 1.744-6.515-.425-7.802-1.573 2.367-.348 4.79-.256 7.037.298.458.113.774.528.767 1.01l-.002.265zM7.687 2.213c3.347-1.614 6.948-1.606 10.99.023v1.998c-1.98-.298-4.155-.406-5.734-.406-1.452 0-3.41.092-5.256.338V2.213zm-4.54 4.482c0-.649 3.458-1.912 9.796-1.912 6.339 0 9.796 1.263 9.796 1.912 0 .187-.596.819-3.162 1.336-.11-.794-.68-1.449-1.472-1.644-2.568-.634-5.354-.696-8.042-.212h-.002l-.035.008c-.39.07-.776.15-1.16.244l-.106.029c-.327.082-.655.165-.977.264-.01.003-.018.008-.028.01-.013.005-.027.008-.04.012-.583.18-.976.737-.958 1.356v.018c-2.715-.488-3.61-1.161-3.61-1.421zm4.909 4.615c-.028-.134-.111-.25-.23-.318-.073-.042-.156-.064-.238-.064-.052 0-.103.009-.153.025-.184.063-.354.072-.587-.085-.212-.143-.348-.359-.356-.562-.007-.197.064-.384.2-.525.137-.141.32-.219.517-.219.129 0 .258-.055.348-.147.06-.063.102-.123.128-.23.849-.321 1.655-.992 2.3-1.658.966.938 3.364 2.69 6.106 2.69.928 0 1.896-.203 2.86-.705.064.03.133.05.204.05.206 0 .401.088.538.242.138.156.2.358.173.568-.023.194-.158.385-.359.51-.2.126-.371.145-.588.069-.129-.046-.272-.034-.392.033-.12.066-.205.181-.234.315-.466 2.137-2.045 3.882-4.121 4.555l-.213.069c-.584.19-1.208.197-1.753.022-2.114-.68-3.704-2.456-4.15-4.635zm3.857 5.544c.362.117.739.175 1.12.175.406 0 .816-.066 1.22-.197l.213-.069c.134-.043.259-.102.389-.153v2.51c0 .921-.75 1.672-1.673 1.672-.922 0-1.672-.75-1.672-1.673v-2.423c.134.052.264.114.403.158zm1.27 4.894c1.448 0 2.627-1.18 2.627-2.629v-1.182l2.39 1.057v4.187H8.164v-4.187l2.39-1.057v1.182c0 1.45 1.179 2.629 2.628 2.629zm-8.364 1.325c0-1.58.938-3.015 2.39-3.656v7.109h-2.39v-3.453zm3.345 1.064H18.2v2.39H8.164v-2.39zm13.38 2.39h-2.389V19.415c1.452.642 2.39 2.078 2.39 3.657v3.453z"],["cx","15.571","cy","10.996","r","1"],["cx","10.793","cy","10.996","r","1"],["d","M28.967 14.806c-.013-.231-.191-.413-.418-.442.464-.802.42-1.748.418-1.796-.014-.243-.208-.437-.45-.451-.038-.002-.64-.03-1.287.19.009-.08.023-.156.023-.237 0-1.19-1.011-2.109-1.054-2.147-.182-.163-.456-.163-.638 0-.043.038-1.054.958-1.054 2.147v.003c-.659-.224-1.274-.196-1.313-.195-.243.014-.437.208-.45.451-.003.049-.048 1.02.431 1.837-.234.023-.419.21-.432.446-.002.05-.047 1.02.432 1.838-.234.022-.419.21-.432.446-.002.049-.047 1.02.432 1.837-.233.023-.418.21-.432.446-.003.059-.069 1.447.785 2.302.56.56 1.345.723 1.84.77v4.753c0 .264.214.478.478.478.263 0 .477-.214.477-.478V22.31c.48-.037 1.295-.186 1.871-.762.841-.84.776-2.206.773-2.263-.013-.232-.191-.414-.418-.443.464-.802.42-1.748.418-1.796-.013-.231-.191-.414-.418-.443.464-.801.42-1.748.418-1.796zm-.986.535c-.049.33-.17.76-.462 1.053-.294.293-.723.414-1.053.463.049-.33.169-.76.462-1.053.293-.293.723-.414 1.053-.463zm-3.16.281c.304.305.426.752.475 1.092-.34-.048-.787-.171-1.092-.475-.304-.305-.427-.752-.476-1.092.34.049.789.172 1.092.475zm0 2.284c.304.304.426.751.475 1.091-.34-.049-.788-.172-1.092-.475-.304-.305-.427-.752-.476-1.092.34.05.789.172 1.092.476zm2.697.727c-.293.293-.722.413-1.052.462.05-.33.17-.76.462-1.053.293-.293.722-.413 1.053-.462-.05.33-.17.76-.463 1.053zm0-4.477c-.293.293-.722.413-1.052.462.048-.33.169-.76.462-1.053.293-.293.723-.413 1.053-.462-.05.33-.17.76-.463 1.053zm-1.638-3.158c.2.268.418.657.418 1.072 0 .414-.219.803-.418 1.071-.199-.268-.417-.657-.417-1.071 0-.415.218-.804.417-1.072zm-1.06 2.34c.305.305.427.753.476 1.093-.34-.05-.788-.172-1.092-.476-.304-.304-.427-.752-.476-1.092.34.05.789.172 1.092.476zm-.616 7.467c-.304-.305-.427-.752-.476-1.091.34.049.789.171 1.092.475.305.305.427.752.476 1.091-.34-.048-.788-.172-1.092-.475zm3.314.066c-.293.293-.722.414-1.052.463.05-.33.17-.76.462-1.053.293-.293.722-.413 1.052-.462-.049.33-.17.76-.462 1.052zM4.82 15.057v-1.911c0-.264-.215-.478-.478-.478-.264 0-.478.214-.478.478v1.911c0 .608-.381 1.125-.916 1.333v-3.005c0-.264-.214-.478-.478-.478s-.478.214-.478.478v3.03c-.575-.186-.996-.72-.996-1.358v-1.911c0-.264-.213-.478-.477-.478s-.478.214-.478.478v1.911c0 1.168.843 2.139 1.951 2.346v9.601c0 .264.214.478.478.478s.478-.214.478-.478v-9.617c1.069-.238 1.871-1.19 1.871-2.33z"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeIncrementoGiovane",4,"ngIf"],[1,"col-4","bg-white","position-relative",2,"top","-35px","height","10px"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","limiteGiovane",4,"ngIf"],[1,"mr-auto","w-75"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeRiduzioneLineareArt51Par2",4,"ngIf"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeRiduzioneLineareArt51Par3",4,"ngIf"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeRiduzioneLineareMassimaleNetto",4,"ngIf"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeRiduzioneTitoli",4,"ngIf"],[2,"text-align","center"],[1,"pi","pi-exclamation-triangle",2,"font-size","3em"],[1,"ui-g","ui-fluid"],[1,"ui-g-6"],["type","button","pButton","","label","Si",1,"ui-button-success",3,"click"],["type","button","pButton","","label","No",1,"ui-button-secondary",3,"click"],["type","button",1,"btn","btn-white","w-auto","fs-16","mb-0",3,"click"],["type","button",1,"btn","btn-green","fs-16","mr-2",3,"click"],["type","button",1,"btn","btn-green","fs-16",3,"disabled","click"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeIncrementoGreening"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeIncrementoGiovane"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","limiteGiovane"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeRiduzioneLineareArt51Par2"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeRiduzioneLineareArt51Par3"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeRiduzioneLineareMassimaleNetto"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeRiduzioneTitoli"]],template:function(t,i){1&t&&c.Mc(0,U,122,53,"form",0),2&t&&c.mc("ngIf",i.importiForm)},directives:[o.t,p.I,p.t,p.k,f.a,m.e,p.l,v.b,p.y,p.c,h.a,p.s,p.i],pipes:[S.d],styles:[".box[_ngcontent-%COMP%], .sample-layout[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#cce4f7;text-align:center;padding-top:1em;padding-bottom:1em;border-radius:4px}.box-stretched[_ngcontent-%COMP%]{height:100%}.sample-layout[_ngcontent-%COMP%]{margin:0}.sample-layout[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border:1px solid #fff}.vertical-container[_ngcontent-%COMP%]{margin:0;height:200px;background:#efefef;border-radius:4px}.nested-grid[_ngcontent-%COMP%]   .p-col-4[_ngcontent-%COMP%]{padding-bottom:1em}"]}),F);e("a2Ts");var V=e("yWug");function Z(t,i){1&t&&(c.Tb(0,"td",8),c.Ob(1,"i",16),c.Sb())}function $(t,i){if(1&t&&(c.Tb(0,"td",17),c.Oc(1),c.Sb()),2&t){var e=c.fc().rowIndex,a=c.fc(2);c.Bb(1),c.Qc(" ",a.interventiControllo[e].valoreUnitarioIntervento," ")}}function Q(t,i){if(1&t){var e=c.Ub();c.Tb(0,"td",18),c.Tb(1,"input",19),c.bc("keyup",(function(t){return c.Ec(e),c.fc(3).onKey(t)})),c.Sb(),c.Sb()}if(2&t){var a=c.fc().rowIndex,o=c.fc(2);c.Bb(1),c.nc("value",o.interventiControllo[a].valoreUnitarioIntervento)}}function q(t,i){if(1&t&&(c.Rb(0,5),c.Tb(1,"tr",6),c.Mc(2,Z,2,0,"td",7),c.Tb(3,"td",8),c.Oc(4),c.Sb(),c.Tb(5,"td",9),c.Tb(6,"i",10),c.Ob(7,"img",11),c.Sb(),c.Sb(),c.Tb(8,"td",12),c.Tb(9,"strong"),c.Oc(10),c.Sb(),c.Sb(),c.Tb(11,"td",13),c.Oc(12),c.gc(13,"translate"),c.Sb(),c.Mc(14,$,2,1,"td",14),c.Mc(15,Q,2,1,"td",15),c.Sb(),c.Qb()),2&t){var e=i.rowIndex,a=c.fc(2);c.mc("formGroupName",e),c.Bb(1),c.mc("pReorderableRow",e),c.Bb(1),c.mc("ngIf",a.edit),c.Bb(2),c.Qc(" ",e+1," "),c.Bb(3),c.oc("src","assets/img/intervento-",a.interventiControllo[e].intervento.codiceAgea,".jpg",c.Gc),c.Bb(3),c.Pc(a.interventiControllo[e].intervento.codiceAgea),c.Bb(2),c.Qc(" ",c.hc(13,9,"CONFIGURAZIONE_ISTRUTTORIA.ZOOTECNIA."+a.interventiControllo[e].intervento.codiceAgea)," "),c.Bb(2),c.mc("ngIf",!a.edit),c.Bb(1),c.mc("ngIf",a.edit)}}function H(t,i){if(1&t){var e=c.Ub();c.Tb(0,"form",1),c.Tb(1,"div",2),c.Tb(2,"p-table",3),c.bc("onRowReorder",(function(t){return c.Ec(e),c.fc().onRowReorder(t)})),c.Mc(3,q,16,11,"ng-template",4),c.Sb(),c.Sb(),c.Sb()}if(2&t){var a=c.fc();c.mc("formGroup",a.importiTabellaForm),c.Bb(2),c.mc("value",a.interventiControllo)("reorderableColumns",!0)}}var j,K=((j=function(){function t(i){_classCallCheck(this,t),this.fb=i,this.formValid=new c.n,this.valoriFormValidi=!0}return _createClass(t,[{key:"ngOnInit",value:function(){this.createForm(),this.riordinaValoriPriorit\u00e0(),this.aggiornaValoreImporti()}},{key:"createForm",value:function(){var t=this;this.importiTabellaForm=this.fb.group({importiControllo:this.fb.array(this.interventiControllo.map((function(i){return t.generateDatumFormGroup(i)})))})}},{key:"riordinaValoriPriorit\xe0",value:function(){var t=0;for(t=0;t<this.interventiControllo.length;t++)this.interventiControllo[t].priorita=t+1}},{key:"generateDatumFormGroup",value:function(t){return this.fb.group({codiceAgea:this.fb.control(t.intervento.codiceAgea),priorita:this.fb.control(t.priorita),valoreUnitarioInterventoTabella:this.fb.control(t.valoreUnitarioIntervento,[p.G.required,p.G.min(0),p.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)])})}},{key:"ordinaArrayPerPriorita",value:function(t){t.sort((function(t,i){var e=t.priorita,a=i.priorita;return e<a?-1:e>a?1:0}))}},{key:"onRowReorder",value:function(t){this.ordinaPrioritaTabella()}},{key:"onKey",value:function(t){this.aggiornaValoreImporti()}},{key:"ordinaPrioritaTabella",value:function(){var t;t=this.interventiControllo;var i=0;for(i=0;i<this.interventiControllo.length;i++)this.interventoAggregato.interventoDuPremi.find((function(e){return e.intervento.codiceAgea===t[i].intervento.codiceAgea})).priorita=i+1,t[i].priorita=i+1}},{key:"aggiornaValoreImporti",value:function(){var t=this;if(this.importiTabellaForm.invalid)this.valoriFormValidi=!1;else{this.valoriFormValidi=!0;var i=0;for(i=0;i<this.importiTabellaForm.value.importiControllo.length;i++)"string"==typeof this.importiTabellaForm.value.importiControllo[i].valoreUnitarioInterventoTabella&&function(){var e=Number(t.importiTabellaForm.value.importiControllo[i].valoreUnitarioInterventoTabella),a=t.importiTabellaForm.value.importiControllo[i].codiceAgea;t.interventoAggregato.interventoDuPremi.find((function(t){return t.intervento.codiceAgea===a})).valoreUnitarioIntervento=e}()}this.formValid.emit(this.valoriFormValidi)}}]),t}()).\u0275fac=function(t){return new(t||j)(c.Nb(p.f))},j.\u0275cmp=c.Hb({type:j,selectors:[["app-tabella-interventi-acz"]],inputs:{interventiControllo:"interventiControllo",interventoAggregato:"interventoAggregato",edit:"edit",intestazioneTabella:"intestazioneTabella"},outputs:{formValid:"formValid"},decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],["formArrayName","importiControllo"],["sortField","priorita",1,"table--edit",3,"value","reorderableColumns","onRowReorder"],["pTemplate","body"],[3,"formGroupName"],[3,"pReorderableRow"],["width","3%",4,"ngIf"],["width","3%"],["width","7%"],[2,"display","flex","justify-content","center"],[3,"src"],["width","10%","align","center"],["width","67%"],["width","10%","align","right",4,"ngIf"],["width","10%",4,"ngIf"],["pReorderableRowHandle","",1,"pi","pi-bars",2,"display","flex","justify-content","center"],["width","10%","align","right"],["width","10%"],["type","text","pInputText","","formControlName","valoreUnitarioInterventoTabella",3,"value","keyup"]],template:function(t,i){1&t&&c.Mc(0,H,4,3,"form",0),2&t&&c.mc("ngIf",i.importiTabellaForm)},directives:[o.t,p.I,p.t,p.k,p.e,V.q,m.e,p.l,V.h,V.i,p.c,h.a,p.s,p.i],pipes:[S.d],styles:[""]}),j);function Y(t,i){if(1&t){var e=c.Ub();c.Tb(0,"div",24),c.Ob(1,"i",25),c.Tb(2,"h3"),c.Oc(3),c.Sb(),c.Tb(4,"p"),c.Oc(5),c.Sb(),c.Sb(),c.Tb(6,"div",26),c.Tb(7,"div",27),c.Tb(8,"button",28),c.bc("click",(function(){return c.Ec(e),c.fc(2).confermaSalvataggio()})),c.Sb(),c.Sb(),c.Tb(9,"div",27),c.Tb(10,"button",29),c.bc("click",(function(){return c.Ec(e),c.fc(2).rejectSalvataggio()})),c.Sb(),c.Sb(),c.Sb()}if(2&t){var a=i.$implicit;c.Bb(3),c.Pc(a.summary),c.Bb(2),c.Pc(a.detail)}}function J(t,i){if(1&t){var e=c.Ub();c.Tb(0,"button",30),c.bc("click",(function(){return c.Ec(e),c.fc(2).modifica()})),c.Oc(1,"MODIFICA"),c.Sb()}}function W(t,i){if(1&t){var e=c.Ub();c.Tb(0,"button",31),c.bc("click",(function(){return c.Ec(e),c.fc(2).annulla()})),c.Oc(1,"ANNULLA"),c.Sb()}}function X(t,i){if(1&t){var e=c.Ub();c.Tb(0,"button",32),c.bc("click",(function(){return c.Ec(e),c.fc(2).salva()})),c.Oc(1,"SALVA"),c.Sb()}if(2&t){var a=c.fc(2);c.mc("disabled",!a.form1Valid||!a.form2Valid||!a.form3Valid)}}var tt=function(){return{marginTop:"70px"}};function it(t,i){if(1&t){var e=c.Ub();c.Tb(0,"form",1),c.bc("ngSubmit",(function(){return c.Ec(e),c.fc().onSubmit()})),c.Ob(1,"p-toast",2),c.Tb(2,"p-toast",3),c.Mc(3,Y,11,2,"ng-template",4),c.Sb(),c.Tb(4,"div",5),c.Tb(5,"div",6),c.Tb(6,"span",7),c.Tb(7,"span",8),c.ec(),c.Tb(8,"svg",9),c.Tb(9,"g",10),c.Ob(10,"path",11),c.Ob(11,"circle",12),c.Ob(12,"circle",13),c.Ob(13,"circle",14),c.Ob(14,"circle",15),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.dc(),c.Tb(15,"h3",16),c.Oc(16,"Configurazione Accoppiato zootecnia"),c.Sb(),c.Mc(17,J,2,0,"button",17),c.Mc(18,W,2,0,"button",18),c.Mc(19,X,2,1,"button",19),c.Sb(),c.Ob(20,"hr",20),c.Tb(21,"h4",21),c.Oc(22,"Vacche da latte"),c.Sb(),c.Tb(23,"app-tabella-interventi-acz",22),c.bc("formValid",(function(t){return c.Ec(e),c.fc().setValidForm1(t)})),c.Sb(),c.Ob(24,"hr",23),c.Tb(25,"h4",21),c.Oc(26,"Macellazione"),c.Sb(),c.Tb(27,"app-tabella-interventi-acz",22),c.bc("formValid",(function(t){return c.Ec(e),c.fc().setValidForm2(t)})),c.Sb(),c.Ob(28,"hr",23),c.Tb(29,"h4",21),c.Oc(30,"Ovi caprini"),c.Sb(),c.Tb(31,"app-tabella-interventi-acz",22),c.bc("formValid",(function(t){return c.Ec(e),c.fc().setValidForm3(t)})),c.Sb(),c.Sb(),c.Sb()}if(2&t){var a=c.fc();c.mc("formGroup",a.importiForm),c.Bb(1),c.Kc(c.rc(17,tt)),c.Bb(1),c.mc("modal",!0)("baseZIndex",5e3),c.Bb(15),c.mc("ngIf",!a.edit),c.Bb(1),c.mc("ngIf",a.edit),c.Bb(1),c.mc("ngIf",a.edit),c.Bb(4),c.mc("interventiControllo",a.interventiVaccheDaLatte)("interventoAggregato",a.interventoAggregato)("edit",a.edit),c.Bb(4),c.mc("interventiControllo",a.interventiMacellazione)("interventoAggregato",a.interventoAggregato)("edit",a.edit),c.Bb(4),c.mc("interventiControllo",a.interventiOviCaprini)("interventoAggregato",a.interventoAggregato)("edit",a.edit)}}var et,at=((et=function(){function t(i,e,a,o){_classCallCheck(this,t),this.messageService=i,this.route=e,this.confIstruttoriaService=a,this.fb=o,this.edit=!1,this.form1Valid=!0,this.form2Valid=!0,this.form3Valid=!0,this.valoriVaccheDaLatte=["310","311","313","322"],this.valoriMacellazione=["315","316","318"],this.valoriOviCaprini=["320","321"]}return _createClass(t,[{key:"ngOnInit",value:function(){this.annoCampagna=this.route.snapshot.params.annoCampagna,this.caricaArrayDaServizio()}},{key:"caricaArrayDaServizio",value:function(){var t=this;this.confIstruttoriaService.getConfigurazioneIstruttoriaAcz(this.annoCampagna).subscribe((function(i){t.interventoAggregato=i,t.eliminaValoriNonUtili(),t.interventiVaccheDaLatte=t.caricaArrayVaccheDaLatte(),t.interventiMacellazione=t.caricaArrayMacellazione(),t.interventiOviCaprini=t.caricaArrayOviCaprini(),t.interventoAggregato.interventoDuPremi=[].concat(_toConsumableArray(t.interventiVaccheDaLatte),_toConsumableArray(t.interventiMacellazione),_toConsumableArray(t.interventiOviCaprini)),t.ordinaPerPriorita(t.interventiVaccheDaLatte),t.ordinaPerPriorita(t.interventiMacellazione),t.ordinaPerPriorita(t.interventiOviCaprini),t.createForm()}),(function(i){t.messageService.add(b.a.getToast("tst",b.b.error,b.a.erroreRecuperoDati))}))}},{key:"caricaArrayVaccheDaLatte",value:function(){var t=_toConsumableArray(this.interventoAggregato.interventoDuPremi),i=0;for(i=t.length-1;i>=0;i--)this.valoriVaccheDaLatte.includes(t[i].intervento.codiceAgea)||t.splice(i,1);return t}},{key:"caricaArrayMacellazione",value:function(){var t=_toConsumableArray(this.interventoAggregato.interventoDuPremi),i=0;for(i=t.length-1;i>=0;i--)this.valoriMacellazione.includes(t[i].intervento.codiceAgea)||t.splice(i,1);return t}},{key:"caricaArrayOviCaprini",value:function(){var t=_toConsumableArray(this.interventoAggregato.interventoDuPremi),i=0;for(i=t.length-1;i>=0;i--)this.valoriOviCaprini.includes(t[i].intervento.codiceAgea)||t.splice(i,1);return t}},{key:"createForm",value:function(){var t=this;this.importiForm=this.fb.group({importiOviCaprini:this.fb.array(this.interventiOviCaprini.map((function(i){return t.generateDatumFormGroup(i)})))})}},{key:"generateDatumFormGroup",value:function(t){return this.fb.group({codiceAgea:this.fb.control(t.intervento.codiceAgea),priorita:this.fb.control(t.priorita),valoreUnitarioIntervento:this.fb.control(t.valoreUnitarioIntervento,[p.G.required,p.G.min(0),p.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)])})}},{key:"modifica",value:function(){this.edit=!0}},{key:"annulla",value:function(){this.edit=!1,this.caricaArrayDaServizio()}},{key:"salva",value:function(){this.messageService.add(this.form1Valid&&this.form2Valid&&this.form3Valid?{key:"checkSalvataggio",sticky:!0,severity:"warn",summary:"Operazione di Salvataggio",detail:"Sei sicuro di voler salvare?"}:b.a.getToast("tst",b.b.warn,"aaa"))}},{key:"confermaSalvataggio",value:function(){var t=this;this.edit=!1,this.messageService.clear("checkSalvataggio");var i=this.importiForm.controls.importiOviCaprini.value,e=0;for(e=0;e<i.length;e++)if("string"==typeof i[e].valoreUnitarioIntervento){var a=Number(i[e].valoreUnitarioIntervento);this.interventoAggregato.interventoDuPremi.find((function(t){return t.intervento.codiceAgea===i[e].codiceAgea})).valoreUnitarioIntervento=a}this.confIstruttoriaService.setConfigurazioneIstruttoriaAcz(this.annoCampagna,this.interventoAggregato).subscribe((function(i){t.interventoAggregato=i,t.messageService.add(b.a.getToast("tst",b.b.success,b.a.OPERAZIONE_OK)),window.location.reload()}),(function(i){t.messageService.add(b.a.getToast("tst",b.b.error,b.a.salvataggioDatiKo))}))}},{key:"rejectSalvataggio",value:function(){this.messageService.clear("checkSalvataggio")}},{key:"onSubmit",value:function(){console.log(this.importiForm.value),console.log(this.interventoAggregato),console.log(this.importiForm.valid)}},{key:"ordinaPerPriorita",value:function(t){t.sort((function(t,i){var e=t.priorita,a=i.priorita;return e<a?-1:e>a?1:0}))}},{key:"eliminaValoriNonUtili",value:function(){this.edit=!1;var t=this.interventoAggregato.interventoDuPremi,i=0;for(i=t.length-1;i>=0;i--){var e=t[i].intervento.codiceAgea;this.valoriVaccheDaLatte.includes(e)||this.valoriMacellazione.includes(e)||this.valoriOviCaprini.includes(e)||this.interventoAggregato.interventoDuPremi.splice(i,1)}}},{key:"setValidForm1",value:function(t){this.form1Valid=t}},{key:"setValidForm2",value:function(t){this.form2Valid=t}},{key:"setValidForm3",value:function(t){this.form3Valid=t}}]),t}()).\u0275fac=function(t){return new(t||et)(c.Nb(m.d),c.Nb(s.a),c.Nb(g.a),c.Nb(p.f))},et.\u0275cmp=c.Hb({type:et,selectors:[["app-istruttoria-acz"]],decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],["key","tst"],["position","center","key","checkSalvataggio",3,"modal","baseZIndex"],["pTemplate","message"],[1,"boxgrey"],[1,"d-flex","align-items-center"],[1,"icon","icon--p","icon--dark","icon--l","mr-3"],[1,"icon__img"],["xmlns","http://www.w3.org/2000/svg","width","44","height","44","viewBox","0 0 44 44"],["fill","#FFF","fill-rule","evenodd","transform","translate(.333 .333)"],["d","M43.333 1.354V0h-2.539v1.354c0 3.194-2.34 5.85-5.396 6.348H7.935C4.88 7.205 2.54 4.548 2.54 1.354V0H0v1.354c0 2.86 1.346 5.413 3.438 7.057C1.398 9.468 0 11.598 0 14.049v3.894h3.893c1.603 0 3.067-.598 4.185-1.581L9.026 34.9c.242 4.728 4.14 8.432 8.876 8.432h7.53c4.735 0 8.633-3.704 8.875-8.432l.948-18.54c1.118.984 2.583 1.582 4.185 1.582h3.893v-3.894c0-2.451-1.398-4.581-3.437-5.638 2.091-1.644 3.437-4.196 3.437-7.057zM7.702 11.595c0 2.1-1.709 3.809-3.809 3.809H2.54v-1.355c0-2.1 1.709-3.808 3.809-3.808h1.354v1.354zm24.07 23.176c-.174 3.377-2.958 6.023-6.34 6.023h-7.53c-3.382 0-6.167-2.646-6.34-6.023l-.114-2.224c2.64-2.833 6.335-4.448 10.219-4.448 3.883 0 7.578 1.615 10.218 4.448l-.114 2.224zm.282-5.53c-2.917-2.364-6.576-3.681-10.387-3.681-3.812 0-7.47 1.317-10.388 3.68l-.972-19h22.719l-.972 19zm8.74-15.192v1.355H39.44c-2.1 0-3.808-1.709-3.808-3.809v-1.354h1.354c2.1 0 3.808 1.708 3.808 3.808z"],["cx","17.435","cy","36.563","r","1.693"],["cx","25.898","cy","36.563","r","1.693"],["cx","14.896","cy","19.128","r","1.693"],["cx","28.438","cy","19.128","r","1.693"],[1,"mr-auto","mb-0","pb-0"],["type","button","class","btn btn-white  w-auto  fs-16  mb-0",3,"click",4,"ngIf"],["type","button","class","btn  btn-green fs-16  mr-2",3,"click",4,"ngIf"],["type","button","class","btn btn-green fs-16",3,"disabled","click",4,"ngIf"],["size","6","color","green"],[1,"fs-16","fw-700","my-3"],[3,"interventiControllo","interventoAggregato","edit","formValid"],["size","6","color","green",1,"mt-5"],[2,"text-align","center"],[1,"pi","pi-exclamation-triangle",2,"font-size","3em"],[1,"ui-g","ui-fluid"],[1,"ui-g-6"],["type","button","type","submit","pButton","","label","Si",1,"ui-button-success",3,"click"],["type","button","pButton","","label","No",1,"ui-button-secondary",3,"click"],["type","button",1,"btn","btn-white","w-auto","fs-16","mb-0",3,"click"],["type","button",1,"btn","btn-green","fs-16","mr-2",3,"click"],["type","button",1,"btn","btn-green","fs-16",3,"disabled","click"]],template:function(t,i){1&t&&c.Mc(0,it,32,18,"form",0),2&t&&c.mc("ngIf",i.importiForm)},directives:[o.t,p.I,p.t,p.k,f.a,m.e,K,v.b],styles:[""]}),et);function ot(t,i){if(1&t){var e=c.Ub();c.Tb(0,"div",18),c.Ob(1,"i",19),c.Tb(2,"h3"),c.Oc(3),c.Sb(),c.Tb(4,"p"),c.Oc(5),c.Sb(),c.Sb(),c.Tb(6,"div",20),c.Tb(7,"div",21),c.Tb(8,"button",22),c.bc("click",(function(){return c.Ec(e),c.fc(2).confermaSalvataggio()})),c.Sb(),c.Sb(),c.Tb(9,"div",21),c.Tb(10,"button",23),c.bc("click",(function(){return c.Ec(e),c.fc(2).rejectSalvataggio()})),c.Sb(),c.Sb(),c.Sb()}if(2&t){var a=i.$implicit;c.Bb(3),c.Pc(a.summary),c.Bb(2),c.Pc(a.detail)}}function nt(t,i){if(1&t){var e=c.Ub();c.Tb(0,"button",24),c.bc("click",(function(){return c.Ec(e),c.fc(2).modifica()})),c.Oc(1,"MODIFICA"),c.Sb()}}function rt(t,i){if(1&t){var e=c.Ub();c.Tb(0,"button",25),c.bc("click",(function(){return c.Ec(e),c.fc(2).annulla()})),c.Oc(1,"ANNULLA"),c.Sb()}}function ct(t,i){if(1&t){var e=c.Ub();c.Tb(0,"button",26),c.bc("click",(function(){return c.Ec(e),c.fc(2).salva()})),c.Oc(1,"SALVA"),c.Sb()}if(2&t){var a=c.fc(2);c.mc("disabled",!a.importiForm.valid)}}function st(t,i){if(1&t&&(c.Tb(0,"span"),c.Oc(1),c.Sb()),2&t){var e=c.fc().$implicit;c.Bb(1),c.Pc(e.value.valoreUnitarioIntervento)}}function lt(t,i){1&t&&c.Ob(0,"input",37)}function ut(t,i){if(1&t&&(c.Rb(0,27),c.Tb(1,"div",28),c.Tb(2,"div",29),c.Tb(3,"div",30),c.Tb(4,"div",31),c.Tb(5,"div",32),c.Ob(6,"img",33),c.Sb(),c.Tb(7,"div",32),c.Tb(8,"strong"),c.Oc(9),c.Sb(),c.Sb(),c.Tb(10,"div",28),c.Tb(11,"span"),c.Oc(12),c.gc(13,"translate"),c.Sb(),c.Sb(),c.Tb(14,"div",34),c.Mc(15,st,2,1,"span",35),c.Mc(16,lt,1,0,"input",36),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Qb()),2&t){var e=i.$implicit,a=i.index,o=c.fc(2);c.mc("formGroupName",a),c.Bb(6),c.oc("src","assets/img/intervento-",e.value.codiceAgea,".jpg",c.Gc),c.Bb(3),c.Pc(e.value.codiceAgea),c.Bb(3),c.Pc(c.hc(13,6,"CONFIGURAZIONE_ISTRUTTORIA.SUPERFICI."+e.value.codiceAgea)),c.Bb(3),c.mc("ngIf",!o.edit),c.Bb(1),c.mc("ngIf",o.edit)}}function dt(t,i){if(1&t){var e=c.Ub();c.Tb(0,"form",1),c.bc("ngSubmit",(function(){return c.Ec(e),c.fc().onSubmit()})),c.Tb(1,"p-toast",2),c.Mc(2,ot,11,2,"ng-template",3),c.Sb(),c.Tb(3,"div",4),c.Tb(4,"div",5),c.Tb(5,"span",6),c.Tb(6,"span",7),c.ec(),c.Tb(7,"svg",8),c.Ob(8,"path",9),c.Sb(),c.Sb(),c.Sb(),c.dc(),c.Tb(9,"h3",10),c.Oc(10,"Configurazione Accoppiato superfici"),c.Sb(),c.Mc(11,nt,2,0,"button",11),c.Mc(12,rt,2,0,"button",12),c.Mc(13,ct,2,1,"button",13),c.Sb(),c.Ob(14,"hr",14),c.Tb(15,"h4",15),c.Oc(16),c.gc(17,"translate"),c.Sb(),c.Tb(18,"div",16),c.Mc(19,ut,17,8,"ng-template",17),c.Sb(),c.Sb(),c.Sb()}if(2&t){var a=c.fc();c.mc("formGroup",a.importiForm),c.Bb(1),c.mc("modal",!0)("baseZIndex",5e3),c.Bb(10),c.mc("ngIf",!a.edit),c.Bb(1),c.mc("ngIf",a.edit),c.Bb(1),c.mc("ngIf",a.edit),c.Bb(3),c.Pc(c.hc(17,8,"CONFIGURAZIONE_ISTRUTTORIA.interventiRichiesti")),c.Bb(3),c.mc("ngForOf",null==a.importiForm.controls.importi?null:a.importiForm.controls.importi.controls)}}var bt,pt=((bt=function(){function t(i,e,a,o){_classCallCheck(this,t),this.messageService=i,this.route=e,this.confIstruttoriaService=a,this.fb=o,this.edit=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.annoCampagna=this.route.snapshot.params.annoCampagna,this.confIstruttoriaService.getConfigurazioneIstruttoriaAcs(this.annoCampagna).subscribe((function(i){t.interventoAggregato=i,t.createForm()}))}},{key:"createForm",value:function(){var t=this;this.importiForm=this.fb.group({importi:this.fb.array(this.interventoAggregato.interventoDuPremi.map((function(i){return t.generateDatumFormGroup(i)})))})}},{key:"generateDatumFormGroup",value:function(t){return this.fb.group({codiceAgea:this.fb.control(t.intervento.codiceAgea),valoreUnitarioIntervento:this.fb.control(t.valoreUnitarioIntervento,[p.G.required,p.G.min(0),p.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)])})}},{key:"modifica",value:function(){this.edit=!0}},{key:"annulla",value:function(){this.edit=!1,this.createForm()}},{key:"salva",value:function(){console.log(this.interventoAggregato),console.log(this.importiForm),this.messageService.add({key:"checkSalvataggio",sticky:!0,severity:"warn",summary:"Operazione di Salvataggio",detail:"Sei sicuro di voler salvare?"})}},{key:"confermaSalvataggio",value:function(){var t=this;this.edit=!1;var i=this.importiForm.controls.importi.value,e=0;for(e=0;e<i.length;e++)if("string"==typeof i[e].valoreUnitarioIntervento){var a=Number(i[e].valoreUnitarioIntervento);this.interventoAggregato.interventoDuPremi.find((function(t){return t.intervento.codiceAgea===i[e].codiceAgea})).valoreUnitarioIntervento=a}console.log(this.interventoAggregato),this.messageService.clear("checkSalvataggio"),this.confIstruttoriaService.setConfigurazioneIstruttoriaAcs(this.annoCampagna,this.interventoAggregato).subscribe((function(i){t.interventoAggregato=i}))}},{key:"rejectSalvataggio",value:function(){this.messageService.clear("checkSalvataggio")}}]),t}()).\u0275fac=function(t){return new(t||bt)(c.Nb(m.d),c.Nb(s.a),c.Nb(g.a),c.Nb(p.f))},bt.\u0275cmp=c.Hb({type:bt,selectors:[["app-istruttoria-acs"]],decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],["position","center","key","checkSalvataggio",3,"modal","baseZIndex"],["pTemplate","message"],[1,"boxgrey"],[1,"d-flex","align-items-center"],[1,"icon","icon--p","icon--dark","icon--l","mr-3"],[1,"icon__img"],["xmlns","http://www.w3.org/2000/svg","width","48","height","35","viewBox","0 0 48 35"],["fill","#FFF","d","M47.167 17.539c0-.654-.396-1.248-1.008-1.516l-3.536-1.546 3.537-1.547c.611-.267 1.007-.862 1.007-1.515 0-.654-.396-1.248-1.008-1.516l-14.636-6.4-.036-.015L24.616.479c-.445-.194-.954-.194-1.398 0L1.673 9.899c-.611.268-1.006.862-1.006 1.516 0 .653.395 1.248 1.007 1.516l3.536 1.546-3.536 1.546c-.612.268-1.007.862-1.007 1.516 0 .653.395 1.248 1.007 1.516l3.638 1.59-3.639 1.591c-.611.268-1.006.863-1.006 1.516S1.062 25 1.674 25.268l21.544 9.42c.222.097.46.145.699.145.238 0 .476-.048.698-.145l21.545-9.42c.611-.268 1.007-.863 1.007-1.516 0-.654-.396-1.248-1.008-1.516l-3.637-1.59 3.638-1.591c.611-.268 1.007-.863 1.007-1.516zM16.929 6.138l3.704 1.62-3.98 1.74-3.65-1.643 3.926-1.717zm7.03 3.074l4.028 1.761-4.028 1.814-4.028-1.814 4.028-1.761zm10.914-1.339l-3.608 1.624-3.98-1.74 3.662-1.6 3.926 1.716zm-14.162 6.375l-4.617 2.079-4.203-1.838 4.745-2.075 4.075 1.834zm3.248 1.462l4.528 2.038-4.57 1.999-4.528-1.98 4.57-2.057zm7.822.598l-4.575-2.06 4.076-1.834 4.703 2.057-4.204 1.837zm7.53-3.292l-4.751-2.078 3.608-1.625 4.805 2.102-3.662 1.6zM23.917 3.082l3.703 1.62-3.66 1.6-3.704-1.619 3.66-1.6zM9.707 9.295l3.651 1.643-4.794 2.096-3.704-1.62 4.848-2.119zm33.266 14.457l-19.056 8.332L4.86 23.752 8.638 22.1l14.581 6.375c.222.097.46.146.698.145.238 0 .476-.048.698-.145l14.58-6.375 3.778 1.652zm-19.056 2.12L4.86 17.538l3.676-1.608 14.682 6.42c.222.097.46.145.699.145.238 0 .476-.048.698-.145l14.682-6.42 3.676 1.608-19.056 8.332z"],[1,"mr-auto","mb-0","pb-0"],["type","button","class","btn  btn-white  w-auto  fs-16  mb-0",3,"click",4,"ngIf"],["type","button","class","btn btn-green fs-16  mr-2",3,"click",4,"ngIf"],["type","submit","class","btn btn-green fs-16",3,"disabled","click",4,"ngIf"],["size","6","color","green"],[1,"fs-16","fw-700","my-3"],["formArrayName","importi",1,"row","row--cols"],["ngFor","",3,"ngForOf"],[2,"text-align","center"],[1,"pi","pi-exclamation-triangle",2,"font-size","3em"],[1,"ui-g","ui-fluid"],[1,"ui-g-6"],["type","button","pButton","","label","Si",1,"ui-button-success",3,"click"],["type","button","pButton","","label","No",1,"ui-button-secondary",3,"click"],["type","button",1,"btn","btn-white","w-auto","fs-16","mb-0",3,"click"],["type","button",1,"btn","btn-green","fs-16","mr-2",3,"click"],["type","submit",1,"btn","btn-green","fs-16",3,"disabled","click"],[3,"formGroupName"],[1,"col-6"],[1,"row","row--edit"],[1,"col-12"],[1,"row","align-items-center"],[1,"col-2"],[3,"src"],[1,"col-2","text-right"],[4,"ngIf"],["type","text","pInputText","","formControlName","valoreUnitarioIntervento",4,"ngIf"],["type","text","pInputText","","formControlName","valoreUnitarioIntervento"]],template:function(t,i){1&t&&c.Mc(0,dt,20,10,"form",0),2&t&&c.mc("ngIf",i.importiForm)},directives:[o.t,p.I,p.t,p.k,f.a,m.e,p.e,o.s,v.b,p.l,p.c,h.a,p.s,p.i],pipes:[S.d],styles:[".box[_ngcontent-%COMP%], .sample-layout[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:#cce4f7;text-align:center;padding-top:1em;padding-bottom:1em;border-radius:4px}.box-stretched[_ngcontent-%COMP%]{height:100%}.sample-layout[_ngcontent-%COMP%]{margin:0}.sample-layout[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border:1px solid #fff}.vertical-container[_ngcontent-%COMP%]{margin:0;height:200px;background:#efefef;border-radius:4px}.nested-grid[_ngcontent-%COMP%]   .p-col-4[_ngcontent-%COMP%]{padding-bottom:1em}"]}),bt),gt=function t(){_classCallCheck(this,t)},mt=e("eM/+"),ft=e("Vufj"),vt=e("MvQ6"),ht=e("ayH+"),St=e("XEYE"),Tt=e("dkQB"),It=e("qkoE"),Ct=e("ngA5"),Ot=function t(){_classCallCheck(this,t)};function At(t,i){if(1&t&&(c.Tb(0,"div",4),c.Ob(1,"app-stato-domande-ricevibilita",5),c.Sb()),2&t){var e=i.$implicit;c.Bb(1),c.mc("riepilogoStatoDomande",e)("dettaglioIstruttoria",e)}}function Dt(t,i){if(1&t){var e=c.Ub();c.Tb(0,"div",29),c.Ob(1,"i",30),c.Tb(2,"h3"),c.Oc(3),c.Sb(),c.Tb(4,"p"),c.Oc(5),c.Sb(),c.Sb(),c.Tb(6,"div",31),c.Tb(7,"div",32),c.Tb(8,"button",33),c.bc("click",(function(){return c.Ec(e),c.fc(2).confermaSalvataggio()})),c.Sb(),c.Sb(),c.Tb(9,"div",32),c.Tb(10,"button",34),c.bc("click",(function(){return c.Ec(e),c.fc(2).rejectSalvataggio()})),c.Sb(),c.Sb(),c.Sb()}if(2&t){var a=i.$implicit;c.Bb(3),c.Pc(a.summary),c.Bb(2),c.Pc(a.detail)}}function Pt(t,i){if(1&t){var e=c.Ub();c.Tb(0,"button",35),c.bc("click",(function(){return c.Ec(e),c.fc(2).annulla()})),c.Oc(1,"ANNULLA"),c.Sb()}}function yt(t,i){if(1&t){var e=c.Ub();c.Tb(0,"button",36),c.bc("click",(function(){return c.Ec(e),c.fc(2).salva()})),c.Oc(1,"SALVA"),c.Sb()}if(2&t){var a=c.fc(2);c.mc("disabled",!a.dateForm.valid)}}function Bt(t,i){if(1&t){var e=c.Ub();c.Tb(0,"button",37),c.bc("click",(function(){return c.Ec(e),c.fc(2).modifica()})),c.Oc(1,"MODIFICA"),c.Sb()}}function Nt(t,i){if(1&t&&(c.Tb(0,"span"),c.Oc(1),c.gc(2,"percent"),c.Sb()),2&t){var e=c.fc(2);c.Bb(1),c.Pc(c.ic(2,1,e.confIstruttoria.percentualeDisciplinaFinanziaria,"0.0-6"))}}function zt(t,i){1&t&&c.Ob(0,"input",38)}function Rt(t,i){if(1&t&&(c.Tb(0,"span"),c.Oc(1),c.gc(2,"percent"),c.Sb()),2&t){var e=c.fc(2);c.Bb(1),c.Pc(c.ic(2,1,e.confIstruttoria.percentualePagamento,"0.0-2"))}}function Mt(t,i){if(1&t&&c.Ob(0,"input",39),2&t){var e=c.fc(2);c.mc("readonly",e.disabledPercentualePagamento)}}var Et=function(){return{marginTop:"70px"}};function kt(t,i){if(1&t){var e=c.Ub();c.Tb(0,"form",6),c.Ob(1,"p-toast",7),c.Tb(2,"p-toast",8),c.Mc(3,Dt,11,2,"ng-template",9),c.Sb(),c.Tb(4,"div",10),c.Tb(5,"div",11),c.Tb(6,"h3",12),c.Oc(7,"Scadenziario per ricevibilit\xe0"),c.Sb(),c.Mc(8,Pt,2,0,"button",13),c.Mc(9,yt,2,1,"button",14),c.Mc(10,Bt,2,0,"button",15),c.Sb(),c.Tb(11,"div",16),c.Tb(12,"div",17),c.Tb(13,"span",18),c.Oc(14),c.Sb(),c.Tb(15,"p-calendar",19),c.bc("disabledChange",(function(t){return c.Ec(e),!(c.fc().edit=t)})),c.Sb(),c.Sb(),c.Tb(16,"div",17),c.Tb(17,"span",18),c.Oc(18),c.Sb(),c.Tb(19,"p-calendar",20),c.bc("disabledChange",(function(t){return c.Ec(e),!(c.fc().edit=t)})),c.Sb(),c.Sb(),c.Tb(20,"div",17),c.Tb(21,"span",18),c.Oc(22),c.Sb(),c.Tb(23,"p-calendar",21),c.bc("disabledChange",(function(t){return c.Ec(e),!(c.fc().edit=t)})),c.Sb(),c.Sb(),c.Tb(24,"div",17),c.Tb(25,"span",18),c.Oc(26),c.Sb(),c.Tb(27,"p-calendar",22),c.bc("disabledChange",(function(t){return c.Ec(e),!(c.fc().edit=t)})),c.Sb(),c.Sb(),c.Tb(28,"div",17),c.Tb(29,"span",18),c.Oc(30),c.Sb(),c.Tb(31,"p-calendar",23),c.bc("disabledChange",(function(t){return c.Ec(e),!(c.fc().edit=t)})),c.Sb(),c.Sb(),c.Tb(32,"div",17),c.Tb(33,"span",18),c.Oc(34),c.Sb(),c.Tb(35,"p-calendar",24),c.bc("disabledChange",(function(t){return c.Ec(e),!(c.fc().edit=t)})),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(36,"div",10),c.Tb(37,"h3"),c.Oc(38,"Liquidazione"),c.Sb(),c.Tb(39,"div",16),c.Tb(40,"div",17),c.Tb(41,"span",18),c.Oc(42),c.Sb(),c.Tb(43,"span",25),c.Mc(44,Nt,3,4,"span",26),c.Mc(45,zt,1,0,"input",27),c.Sb(),c.Sb(),c.Tb(46,"div",17),c.Tb(47,"span",18),c.Oc(48),c.Sb(),c.Tb(49,"span",25),c.Mc(50,Rt,3,4,"span",26),c.Mc(51,Mt,1,1,"input",28),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb()}if(2&t){var a=c.fc();c.mc("formGroup",a.dateForm),c.Bb(1),c.Kc(c.rc(32,Et)),c.Bb(1),c.mc("modal",!0)("baseZIndex",5e3),c.Bb(6),c.mc("ngIf",a.edit),c.Bb(1),c.mc("ngIf",a.edit),c.Bb(1),c.mc("ngIf",!a.edit),c.Bb(4),c.Pc(a.labels[3]),c.Bb(1),c.mc("locale",a.language)("disabled",!a.edit),c.Bb(3),c.Pc(a.labels[1]),c.Bb(1),c.mc("locale",a.language)("disabled",!a.edit),c.Bb(3),c.Pc(a.labels[6]),c.Bb(1),c.mc("locale",a.language)("disabled",!a.edit),c.Bb(3),c.Pc(a.labels[7]),c.Bb(1),c.mc("locale",a.language)("disabled",!a.edit),c.Bb(3),c.Pc(a.labels[0]),c.Bb(1),c.mc("locale",a.language)("disabled",!a.edit),c.Bb(3),c.Pc(a.labels[2]),c.Bb(1),c.mc("locale",a.language)("disabled",!a.edit),c.Bb(7),c.Pc(a.labels[4]),c.Bb(2),c.mc("ngIf",!a.edit),c.Bb(1),c.mc("ngIf",a.edit),c.Bb(3),c.Pc(a.labels[5]),c.Bb(2),c.mc("ngIf",!a.edit),c.Bb(1),c.mc("ngIf",a.edit)}}var Lt,wt=((Lt=function(){function t(i,e,a,o,n,r,c,s,l){_classCallCheck(this,t),this.messageService=i,this.route=e,this.confIstruttoriaService=a,this.fb=o,this.istruttoriaCorrente=n,this.istruttoriaService=r,this.datePipe=c,this.router=s,this.conf=l,this.labels=["Scadenza presentazione domande di ritiro parziale","Scadenza presentazione domande iniziali con ritardo","Data di ricevibilit\xe0","Scadenza presentazione domande iniziali","Percentuale Disciplina Finanziaria","Percentuale pagamento","Scadenza presentazione domande di modifica","Scadenza presentazione domande di modifica con ritardo"],this.date=new gt,this.language=mt.a.itCalendar(),this.edit=!1,this.confIstruttoria=new Ot,this.disabledPercentualePagamento=!1,this.showProgressbarRicevibilita=!1,this.disableAvviaRicevibilita=!1,this.disableOkRicevibilita=!1,this.valueProgressbarRicevibilita=0,this.controlloRicev=!1,this.showSostegno=!1,this.showProgressbarIstruttoria=!1,this.disableAvviaIstruttoria=!1,this.disableOkIstruttoria=!1,this.valueProgressbarIstruttoria=0,this.editable=!1}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.annoCampagna=this.route.snapshot.params.annoCampagna,this.compareDates(),this.getConfigurazioneIstruttorie(),this.listaRiepilogoStati=new Array,this.listaRiepilogoStati.push(new ht.a(1,St.a.PROTOCOLLATA,0)),this.listaRiepilogoStati.push(new ht.a(2,St.a.RICEVIBILE,0)),this.listaRiepilogoStati.push(new ht.a(3,St.a.NON_RICEVIBILE,0)),this.listaRiepilogoStati.push(new ht.a(4,St.a.IN_ISTRUTTORIA,0)),this.listaRiepilogoSostegno=new Array,this.listaRiepilogoSostegno.push(new Ct.a(1,It.a.SOSTEGNO_DISACCOPPIATO,0)),this.listaRiepilogoSostegno.push(new Ct.a(2,It.a.SOSTEGNO_SUPERFICI,0)),this.listaRiepilogoSostegno.push(new Ct.a(3,It.a.SOSTEGNO_ZOOTECNIA,0)),this.production=this.conf.production,this.listaRiepilogoStati.sort((function(t,i){return t.order>i.order?1:t.order<i.order?-1:0})),this.listaRiepilogoSostegno.sort((function(t,i){return t.order>i.order?1:t.order<i.order?-1:0})),this.subIstruttoria=this.route.params.subscribe((function(i){t.getIstruttoria(i.idIstruttoria)})),this.subProcessi=this.route.params.subscribe((function(i){t.getListaProcessiAttiviIstruttoria(i.idIstruttoria)}))}},{key:"compareDates",value:function(){var t,i;t=new Date,(i=new Date).setFullYear(this.annoCampagna,10,30),t>i&&(this.disabledPercentualePagamento=!0)}},{key:"getConfigurazioneIstruttorie",value:function(){var t=this;this.confIstruttoriaService.getConfigurazioneIstruttorie(this.annoCampagna).subscribe((function(i){if(null===i){var e=t.annoCampagna+"-12-31T00:00:00";t.confIstruttoria.campagna=t.annoCampagna,t.confIstruttoria.dtScadenzaDomandeIniziali=new Date(e),t.confIstruttoria.percentualeDisciplinaFinanziaria=0,t.confIstruttoria.percentualePagamento=0,t.confIstruttoria.dtScadenzaDomandeModifica=new Date(e)}else t.confIstruttoria.id=i.id,t.confIstruttoria.campagna=i.campagna,t.confIstruttoria.dtScadenzaDomandeIniziali=new Date(i.dtScadenzaDomandeIniziali),t.confIstruttoria.percentualeDisciplinaFinanziaria=i.percentualeDisciplinaFinanziaria,t.confIstruttoria.percentualePagamento=i.percentualePagamento,t.confIstruttoria.dtScadenzaDomandeModifica=new Date(i.dtScadenzaDomandeModifica);t.getConfigurazioneRicevibilitaAndSetForm()}),(function(i){t.messageService.add(b.a.getToast("tst",b.b.error,b.a.erroreRecuperoDati))}))}},{key:"getConfigurazioneRicevibilitaAndSetForm",value:function(){var t=this;this.confIstruttoriaService.getConfigurazioneRicevibilita(this.annoCampagna).subscribe((function(i){if(null===i){var e=t.annoCampagna+"-12-31T00:00:00";t.date.campagna=t.annoCampagna,t.date.dataRicevibilita=new Date(e),t.date.dataScadenzaDomandaInizialeInRitardo=new Date(e),t.date.dataScadenzaDomandaRitiroParziale=new Date(e),t.date.dataScadenzaDomandaModificaInRitardo=new Date(e)}else t.date.id=i.id,t.date.campagna=i.campagna,t.date.dataRicevibilita=new Date(i.dataRicevibilita),t.date.dataScadenzaDomandaInizialeInRitardo=new Date(i.dataScadenzaDomandaInizialeInRitardo),t.date.dataScadenzaDomandaRitiroParziale=new Date(i.dataScadenzaDomandaRitiroParziale),t.date.dataScadenzaDomandaModificaInRitardo=new Date(i.dataScadenzaDomandaModificaInRitardo);t.dateForm=t.fb.group({dataRicevibilita:t.fb.control(t.date.dataRicevibilita,[p.G.required]),dataScadenzaDomandaInizialeInRitardo:t.fb.control(t.date.dataScadenzaDomandaInizialeInRitardo,[p.G.required]),dataScadenzaDomandaRitiroParziale:t.fb.control(t.date.dataScadenzaDomandaRitiroParziale,[p.G.required]),dtScadenzaDomandeIniziali:t.fb.control(t.confIstruttoria.dtScadenzaDomandeIniziali,[p.G.required]),percentualeDisciplinaFinanziaria:t.fb.control((100*t.confIstruttoria.percentualeDisciplinaFinanziaria).toFixed(6),[p.G.required,p.G.min(0),p.G.max(100),p.G.pattern(/^-?\d{0,3}(\.?\d{0,6})$/)]),percentualePagamento:t.fb.control(100*t.confIstruttoria.percentualePagamento,[p.G.required,p.G.min(0),p.G.max(100),p.G.pattern(/^-?\d{0,3}(\.?\d{0,2})$/)]),dataScadenzaDomandaModificaInRitardo:t.fb.control(t.date.dataScadenzaDomandaModificaInRitardo,[p.G.required]),dtScadenzaDomandeModifica:t.fb.control(t.confIstruttoria.dtScadenzaDomandeModifica,[p.G.required])}),console.log(i)}))}},{key:"modifica",value:function(){this.edit=!0}},{key:"annulla",value:function(){this.edit=!1}},{key:"salva",value:function(){this.messageService.add({key:"checkSalvataggio",sticky:!0,severity:"warn",summary:"Operazione di Salvataggio",detail:"Sei sicuro di voler salvare?"})}},{key:"confermaSalvataggio",value:function(){var t=this;this.edit=!1,this.date.dataRicevibilita=new Date(this.datePipe.transform(this.dateForm.controls.dataRicevibilita.value,"yyyy-MM-dd")),this.date.dataScadenzaDomandaInizialeInRitardo=new Date(this.datePipe.transform(this.dateForm.controls.dataScadenzaDomandaInizialeInRitardo.value,"yyyy-MM-dd")),this.date.dataScadenzaDomandaRitiroParziale=new Date(this.datePipe.transform(this.dateForm.controls.dataScadenzaDomandaRitiroParziale.value,"yyyy-MM-dd")),this.confIstruttoria.dtScadenzaDomandeIniziali=new Date(this.datePipe.transform(this.dateForm.controls.dtScadenzaDomandeIniziali.value,"yyyy-MM-dd")),this.confIstruttoria.percentualePagamento=this.dateForm.controls.percentualePagamento.value/100,this.confIstruttoria.percentualeDisciplinaFinanziaria=Number(this.dateForm.controls.percentualeDisciplinaFinanziaria.value)/100,this.date.dataScadenzaDomandaModificaInRitardo=new Date(this.datePipe.transform(this.dateForm.controls.dataScadenzaDomandaModificaInRitardo.value,"yyyy-MM-dd")),this.confIstruttoria.dtScadenzaDomandeModifica=new Date(this.datePipe.transform(this.dateForm.controls.dtScadenzaDomandeModifica.value,"yyyy-MM-dd")),this.setConfigurazioneIstruttorie(this.annoCampagna,this.confIstruttoria),console.log(this.date),this.confIstruttoriaService.setConfigurazioneIstruttoriaRicevibilita(this.annoCampagna,this.date).subscribe((function(i){t.date=i}),(function(i){t.messageService.add(b.a.getToast("tst",b.b.error,b.a.salvataggioDatiKo))})),this.messageService.clear("checkSalvataggio")}},{key:"setConfigurazioneIstruttorie",value:function(t,i){var e=this;this.confIstruttoriaService.setConfigurazioneIstruttorie(t,i).subscribe((function(t){e.confIstruttoria=t,e.messageService.add(b.a.getToast("tst",b.b.success,b.a.OPERAZIONE_OK))}),(function(t){e.messageService.add(b.a.getToast("tst",b.b.error,b.a.salvataggioDatiKo))}))}},{key:"rejectSalvataggio",value:function(){this.messageService.clear("checkSalvataggio")}},{key:"ngOnDestroy",value:function(){this.subIstruttoria.unsubscribe(),this.subProcessi.unsubscribe(),clearInterval(this.interval)}},{key:"addDomandePerStato",value:function(t,i){this.listaRiepilogoStati.map((function(e){e.stato===t&&(e.counter=i)})),0===i&&t===St.a.RICEVIBILE&&(this.disableAvviaIstruttoria=!0)}},{key:"addDomandePerSostegno",value:function(t,i){this.listaRiepilogoSostegno.map((function(e){e.descrizioneSostegno===t&&(e.counter=i)}))}},{key:"getIstruttoria",value:function(t){this.countDomandeProtocollate(St.a.PROTOCOLLATA),this.countDomandePerStato(St.a.RICEVIBILE),this.countDomandePerStato(St.a.NON_RICEVIBILE),this.countDomandePerStato(St.a.IN_ISTRUTTORIA)}},{key:"aggiornaDomandeCounters",value:function(t){this.getIstruttoria(Number.parseInt(t.toString()))}},{key:"countDomandeDU",value:function(t){var i=this;this.istruttoriaCorrente.istruttoria=t;var e=encodeURIComponent(JSON.stringify(this.istruttoriaCorrente.istruttoria));this.istruttoriaService.countDomandeDU(e).subscribe((function(t){return i.listaRiepilogoStati.map((function(i){i.stato===St.a.PROTOCOLLATA&&(i.counter=t)}))}))}},{key:"getIstruttoriaCorrente",value:function(){return this.istruttoriaCorrente.istruttoria}},{key:"countDomandePerStato",value:function(t){var i=this;this.istruttoriaService.countDomandeStatoPAC("statoDomanda="+t+"&annoCampagna="+this.annoCampagna).subscribe((function(e){i.addDomandePerStato(t,e)}))}},{key:"countDomandeProtocollate",value:function(t){var i=this;this.confIstruttoriaService.countDomandeDUPAC("annoRiferimento="+this.annoCampagna).subscribe((function(e){i.addDomandePerStato(t,e)}))}},{key:"countDomandeSostegno",value:function(t,i){var e=this,a=Ct.a.ritornaSostegno(t),o=encodeURIComponent('{ "idDatiSettore": "'+i+'", "statoDomanda": "'+St.a.IN_ISTRUTTORIA+'" , "sostegno": "'+a+'"}');this.istruttoriaService.countDomandeFiltered(o).subscribe((function(i){return e.addDomandePerSostegno(t,i)}))}},{key:"avviaProcessoIstruttoria",value:function(t){}},{key:"getListaProcessiAttiviIstruttoria",value:function(t){var i=this;this.istruttoriaService.getListaProcessiAttivi(encodeURIComponent('{ "idIstruttoria": '+t+" }")).subscribe((function(t){i.listaProcessiAttivi=t,null!=i.listaProcessiAttivi?i.listaProcessiAttivi.map((function(t){"RICEV_AGS"===t.idTipoProcesso&&(i.disableAvviaRicevibilita=!0,i.showProgressbarRicevibilita=!0,i.valueProgressbarRicevibilita=t.percentualeAvanzamento,i.disableOkRicevibilita=!0),"AVV_IST"===t.idTipoProcesso&&(i.disableAvviaIstruttoria=!0,i.showProgressbarIstruttoria=!0,i.valueProgressbarIstruttoria=t.percentualeAvanzamento,i.disableOkIstruttoria=!0)})):i.listaProcessiAttivi=new Array}))}},{key:"getPercentualeAvanzamentoProcesso",value:function(t){var i=100;return null!=this.listaProcessiAttivi&&this.listaProcessiAttivi.length>0&&this.listaProcessiAttivi.map((function(e){e.idTipoProcesso===t&&(i=e.percentualeAvanzamento)})),i}},{key:"collassaDivProgressBar",value:function(t){"RICEV_AGS"===t?this.showProgressbarRicevibilita=!1:"AVV_IST"===t&&(this.showProgressbarIstruttoria=!1)}},{key:"goListaDomande",value:function(t){}},{key:"refresh",value:function(){window.location.reload()}},{key:"handleError",value:function(t){console.log("Error "+t+" msg "+t.error+" error.code "+t.status)}}]),t}()).\u0275fac=function(t){return new(t||Lt)(c.Nb(m.d),c.Nb(s.a),c.Nb(g.a),c.Nb(p.f),c.Nb(ft.a),c.Nb(vt.a),c.Nb(o.f),c.Nb(s.e),c.Nb(Tt.a))},Lt.\u0275cmp=c.Hb({type:Lt,selectors:[["app-ricevibilita"]],features:[c.Ab([o.f])],decls:4,vars:2,consts:[[1,""],[1,"ui-g"],["class","ui-g-3",4,"ngFor","ngForOf"],[3,"formGroup",4,"ngIf"],[1,"ui-g-3"],[3,"riepilogoStatoDomande","dettaglioIstruttoria"],[3,"formGroup"],["key","tst"],["position","center","key","checkSalvataggio",3,"modal","baseZIndex"],["pTemplate","message"],[1,"boxgrey",2,"display","inline-block"],[1,"d-flex","align-items-center","mb-3"],[1,"mr-auto","mb-0","pb-0"],["type","button","class","btn  btn-green  fs-16  mr-2",3,"click",4,"ngIf"],["type","button","class","btn  btn-green  fs-16",3,"disabled","click",4,"ngIf"],["type","button","class","btn  btn-white  mb-0  fs-16  w-auto",3,"click",4,"ngIf"],[1,"row","row--edit"],[1,"col-6","d-flex","align-items-center"],[1,"mr-auto","w-75"],["formControlName","dtScadenzaDomandeIniziali","dateFormat","dd/mm/yy",1,"ml-3","w-25",3,"locale","disabled","disabledChange"],["formControlName","dataScadenzaDomandaInizialeInRitardo","dateFormat","dd/mm/yy",1,"ml-3","w-25",3,"locale","disabled","disabledChange"],["formControlName","dtScadenzaDomandeModifica","dateFormat","dd/mm/yy",1,"ml-3","w-25",3,"locale","disabled","disabledChange"],["formControlName","dataScadenzaDomandaModificaInRitardo","dateFormat","dd/mm/yy",1,"ml-3","w-25",3,"locale","disabled","disabledChange"],["formControlName","dataScadenzaDomandaRitiroParziale","dateFormat","dd/mm/yy",1,"ml-3","w-25",3,"locale","disabled","disabledChange"],["formControlName","dataRicevibilita","dateFormat","dd/mm/yy",1,"ml-3","w-25",3,"locale","disabled","disabledChange"],[1,"ml-3","w-25","text-right"],[4,"ngIf"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeDisciplinaFinanziaria",4,"ngIf"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualePagamento",3,"readonly",4,"ngIf"],[2,"text-align","center"],[1,"pi","pi-exclamation-triangle",2,"font-size","3em"],[1,"ui-g","ui-fluid"],[1,"ui-g-6"],["type","button","pButton","","label","Si",1,"ui-button-success",3,"click"],["type","button","pButton","","label","No",1,"ui-button-secondary",3,"click"],["type","button",1,"btn","btn-green","fs-16","mr-2",3,"click"],["type","button",1,"btn","btn-green","fs-16",3,"disabled","click"],["type","button",1,"btn","btn-white","mb-0","fs-16","w-auto",3,"click"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualeDisciplinaFinanziaria"],["type","number","pInputText","","min","0","max","100","step","0.01","formControlName","percentualePagamento",3,"readonly"]],template:function(t,i){1&t&&(c.Tb(0,"div",0),c.Tb(1,"div",1),c.Mc(2,At,2,2,"div",2),c.Sb(),c.Sb(),c.Mc(3,kt,52,33,"form",3)),2&t&&(c.Bb(2),c.mc("ngForOf",i.listaRiepilogoStati),c.Bb(1),c.mc("ngIf",i.dateForm))},styles:[".btn-green[_ngcontent-%COMP%]{min-height:42px}"]}),Lt),_t=e("6b9K"),xt=e("1G5W"),Ut=e("XNiG"),Ft=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"clean",value:function(){for(var t in this)null==this[t]&&delete this[t]}}]),t}(),Gt=function t(){_classCallCheck(this,t)};function Vt(t,i){if(1&t&&(c.Tb(0,"th",15),c.Tb(1,"strong"),c.Oc(2),c.Sb(),c.Ob(3,"p-sortIcon",16),c.Sb()),2&t){var e=i.$implicit;c.mc("pSortableColumn",e.field)("pSortableColumnDisabled",null==e.field),c.Bb(2),c.Qc(" ",e.header," "),c.Bb(1),c.mc("field",e.field)}}function Zt(t,i){if(1&t&&(c.Tb(0,"tr"),c.Mc(1,Vt,4,4,"th",14),c.Sb()),2&t){var e=c.fc();c.Bb(1),c.mc("ngForOf",e.cols)}}function $t(t,i){if(1&t&&(c.Tb(0,"tr"),c.Tb(1,"td"),c.Oc(2),c.Sb(),c.Tb(3,"td"),c.Oc(4),c.Sb(),c.Tb(5,"td"),c.Oc(6),c.Sb(),c.Tb(7,"td"),c.Oc(8),c.Sb(),c.Tb(9,"td"),c.Oc(10),c.gc(11,"date"),c.Sb(),c.Tb(12,"td"),c.Oc(13),c.Sb(),c.Tb(14,"td"),c.Oc(15),c.gc(16,"slice"),c.Sb(),c.Tb(17,"td"),c.Oc(18),c.Sb(),c.Sb()),2&t){var e=i.$implicit;c.Bb(2),c.Pc(e.cuaaIntestatario),c.Bb(2),c.Pc(e.ragioneSociale),c.Bb(2),c.Pc(e.numeroDomanda),c.Bb(2),c.Pc(e.descModuloDomanda),c.Bb(2),c.Pc(c.ic(11,8,e.dtPresentazione,"dd/MM/yyyy")),c.Bb(3),c.Pc(e.numDomandaRettificata),c.Bb(2),c.Pc(c.jc(16,11,e.dtProtocollazOriginaria,0,10)),c.Bb(3),c.Pc(e.descEnteCompilatore)}}function Qt(t,i){if(1&t&&(c.Tb(0,"tr"),c.Tb(1,"td"),c.Oc(2),c.gc(3,"translate"),c.Sb(),c.Sb()),2&t){var e=c.fc();c.Bb(1),c.Cb("colspan",e.cols.length),c.Bb(1),c.Qc(" ",c.hc(3,2,"DOMANDA_UNICA_RISULTATI.nessunaDomandaTrovata")," ")}}var qt,Ht,jt=((qt=function(){function t(i,e,a){_classCallCheck(this,t),this.route=i,this.istruttoriaService=e,this.messageService=a,this.paginazione=_t.a.of(0,10,"id","ASC"),this.paginaDomande=new Gt,this.componentDestroyed$=new Ut.a}return _createClass(t,[{key:"ngOnInit",value:function(){this.setCols(),this.setTitleAndState(),this.initDefaultFilter()}},{key:"setCols",value:function(){this.cols=[{field:"cuaaIntestatario",header:"CUAA"},{field:"ragioneSociale",header:"Ragione sociale"},{field:"numeroDomanda",header:"Numero Domanda"},{field:"descModuloDomanda",header:"Modulo"},{field:"dtPresentazione",header:"Data pres."},{field:"numDomandaRettificata",header:"Numero Domanda rett."},{field:"dtProtocollazOriginaria",header:"Data pres. iniz."},{field:"descEnteCompilatore",header:"Ente"}]}},{key:"setTitleAndState",value:function(){switch(this.route.snapshot.params.statoDomanda){case"ricevibili":this.title="Domande Ricevibili",this.statoDomanda=St.a.RICEVIBILE;break;case"nonRicevibili":this.title="Domande Non Ricevibili",this.statoDomanda=St.a.NON_RICEVIBILE;break;case"inIstruttoria":this.title="Domande In Istruttoria",this.statoDomanda=St.a.IN_ISTRUTTORIA}}},{key:"initDefaultFilter",value:function(){this.domandaUnicaFilter=new Ft,this.domandaUnicaFilter.annoCampagna=this.route.snapshot.params.annoCampagna,this.domandaUnicaFilter.statoDomanda=this.statoDomanda}},{key:"loadData",value:function(t){t&&(this.paginazione.pagina=Math.floor(t.first/this.paginazione.numeroElementiPagina),null!=t.sortField?(this.paginazione.proprieta=t.sortField,this.paginazione.ordine=this.istruttoriaService.getOrdine(t.sortOrder)):(this.paginazione.proprieta="id",this.paginazione.ordine="ASC")),this.getElencoDomande(this.domandaUnicaFilter,this.paginazione)}},{key:"getElencoDomande",value:function(t,i){var e=this;this.istruttoriaService.getElencoDomande(t,i).pipe(Object(xt.a)(this.componentDestroyed$)).subscribe((function(t){e.paginaDomande=t}),(function(t){e.messageService.add(b.a.getToast("tst",b.b.error,b.a.erroreRecuperoDati))}))}},{key:"ngOnDestroy",value:function(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete()}}]),t}()).\u0275fac=function(t){return new(t||qt)(c.Nb(s.a),c.Nb(vt.a),c.Nb(m.d))},qt.\u0275cmp=c.Hb({type:qt,selectors:[["app-elenco-domande"]],decls:42,vars:17,consts:[[1,"ui-g","ui-fluid"],[1,"tophome","riepilogo"],[1,"ui-grid-fixed"],[1,"subhome"],[1,"ui-g"],[1,"ui-md-3"],[1,"ui-g-12"],[1,"richiesta-title",2,"padding","10px 0"],["margin-top","30px",1,"table-responsive"],[3,"columns","value","lazy","paginator","rows","totalRecords","onLazyLoad"],["table",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[3,"pSortableColumn","pSortableColumnDisabled",4,"ngFor","ngForOf"],[3,"pSortableColumn","pSortableColumnDisabled"],[3,"field"]],template:function(t,i){1&t&&(c.Tb(0,"div"),c.Tb(1,"div",0),c.Tb(2,"div",1),c.Tb(3,"div",2),c.Tb(4,"h4"),c.Oc(5,"ISTRUTTORIA"),c.Sb(),c.Tb(6,"div",3),c.Tb(7,"div",4),c.Tb(8,"div",5),c.Tb(9,"strong"),c.Oc(10,"PAC"),c.Sb(),c.Ob(11,"br"),c.Oc(12),c.gc(13,"translate"),c.Sb(),c.Tb(14,"div",5),c.Tb(15,"strong"),c.Oc(16,"Tipologia Domanda"),c.Sb(),c.Ob(17,"br"),c.Oc(18),c.gc(19,"translate"),c.Sb(),c.Tb(20,"div",5),c.Tb(21,"strong"),c.Oc(22,"Anno di riferimento"),c.Sb(),c.Ob(23,"br"),c.Oc(24),c.Sb(),c.Tb(25,"div",5),c.Tb(26,"strong"),c.Oc(27,"Stato"),c.Sb(),c.Ob(28,"br"),c.Oc(29),c.gc(30,"translate"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Tb(31,"div",0),c.Tb(32,"div",2),c.Tb(33,"div",6),c.Tb(34,"legend",7),c.Oc(35),c.Sb(),c.Tb(36,"div",8),c.Tb(37,"p-table",9,10),c.bc("onLazyLoad",(function(t){return i.loadData(t)})),c.Mc(39,Zt,2,1,"ng-template",11),c.Mc(40,$t,19,15,"ng-template",12),c.Mc(41,Qt,4,4,"ng-template",13),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&t&&(c.Bb(12),c.Qc("",c.hc(13,11,"ISTRUTTORIA_PAC.INTESTAZIONE")," "),c.Bb(6),c.Qc("",c.hc(19,13,"ISTRUTTORIA_PAC.DOMANDA_UNICA")," "),c.Bb(6),c.Qc("",i.domandaUnicaFilter.annoCampagna," "),c.Bb(5),c.Qc("",c.hc(30,15,"StatoDomandaEnum."+i.statoDomanda)," "),c.Bb(6),c.Qc(" ",i.title," "),c.Bb(2),c.mc("columns",i.cols)("value",i.paginaDomande.risultati)("lazy",!0)("paginator",!0)("rows",i.paginazione.numeroElementiPagina)("totalRecords",i.paginaDomande.count))},directives:[V.q,m.e,o.s,V.p,V.o],pipes:[S.d,o.f,o.E],styles:[""]}),qt),Kt=[{path:"",data:{mybreadcrumb:""},component:u,children:[{path:"",redirectTo:"ricevibilita",pathMatch:"full"},{path:"ricevibilita",component:wt},{path:"istruttoriaDisaccoppiato",component:G},{path:"istruttoriaAcz",component:at},{path:"istruttoriaAcs",component:pt}]},{path:"ricevibilita/domande/:statoDomanda",component:jt,data:{mybreadcrumb:"Domande"}}],Yt=((Ht=function t(){_classCallCheck(this,t)}).\u0275mod=c.Lb({type:Ht}),Ht.\u0275inj=c.Kb({factory:function(t){return new(t||Ht)},imports:[[o.c,s.i.forChild(Kt)]]}),Ht),Jt=e("TW8+"),Wt=e("pxLX");function Xt(t,i){if(1&t){var e=c.Ub();c.Tb(0,"button",9),c.bc("click",(function(){c.Ec(e);var t=c.fc(2);return t.goListaDomande(t.riepilogoStatoDomande.stato)})),c.Sb()}}function ti(t,i){if(1&t&&(c.Tb(0,"div",3),c.Mc(1,Xt,1,0,"button",8),c.Sb()),2&t){var e=c.fc();c.Bb(1),c.mc("ngIf","PROTOCOLLATA"!=e.riepilogoStatoDomande.stato)}}function ii(t,i){if(1&t){var e=c.Ub();c.Tb(0,"button",10),c.bc("click",(function(){return c.Ec(e),c.fc().avviaRicevibilita()})),c.Sb()}if(2&t){var a=c.fc();c.mc("disabled",a.dettaglioIstruttoria.disableAvviaRicevibilita)}}function ei(t,i){if(1&t){var e=c.Ub();c.Tb(0,"button",11),c.bc("click",(function(){return c.Ec(e),c.fc().avviaProcessoIstruttoria("AVV_IST")})),c.Sb()}if(2&t){var a=c.fc();c.mc("disabled",a.dettaglioIstruttoria.disableAvviaIstruttoria)}}var ai,oi,ni=((ai=function(){function t(i,e,a,o){_classCallCheck(this,t),this.router=i,this.route=e,this.istruttoriaService=a,this.messageService=o,this.displayInIstruttoriaDialog=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.annoCampagna=this.route.snapshot.params.annoCampagna}},{key:"onIstruttoriaDialogClose",value:function(t){this.displayInIstruttoriaDialog=t}},{key:"displayDialog",value:function(){this.displayInIstruttoriaDialog=!0}},{key:"goListaDomande",value:function(t){t===St.a.RICEVIBILE?this.router.navigate(["./"+Jt.a.domandeRicevibli],{relativeTo:this.route}):t===St.a.NON_RICEVIBILE?this.router.navigate(["./"+Jt.a.domandeNonRicevibili],{relativeTo:this.route}):t===St.a.IN_ISTRUTTORIA&&this.router.navigate(["./"+Jt.a.domandeInIstruttoria],{relativeTo:this.route})}},{key:"avviaRicevibilita",value:function(){var t=this;this.istruttoriaService.avviaProcessoRicevibilitaDU(this.annoCampagna).subscribe((function(i){t.messageService.add(b.a.getToast("tst",b.b.success,b.a.processoRicevibilitaOk))}),(function(i){t.messageService.add(b.a.getToast("tst",b.b.error,b.a.BRIAMPRT003))}))}},{key:"avviaProcessoIstruttoria",value:function(){var t=this;this.istruttoriaService.avviaProcessoIstruttoriaDU(this.annoCampagna).subscribe((function(i){t.messageService.add(b.a.getToast("tst",b.b.success,b.a.processoAvvioIstruttoriaOk))}),(function(i){t.messageService.add(b.a.getToast("tst",b.b.error,b.a.BRIAMPRT003))}))}}]),t}()).\u0275fac=function(t){return new(t||ai)(c.Nb(s.e),c.Nb(s.a),c.Nb(vt.a),c.Nb(m.d))},ai.\u0275cmp=c.Hb({type:ai,selectors:[["app-stato-domande-ricevibilita"]],inputs:{riepilogoStatoDomande:"riepilogoStatoDomande",dettaglioIstruttoria:"dettaglioIstruttoria"},decls:17,vars:8,consts:[[1,"card-domande"],["id","sfondo-p-card"],[1,"dimensioni-icona","icon-ricevibilita",3,"src"],[1,"label-font"],[1,"size-numero-domande","label-font"],["class","label-font",4,"ngIf"],["pButton","","type","button","class","btn-green  btn-ricevibilita  fs-16","label","AVVIA RICEVIBILITA",3,"disabled","click",4,"ngIf"],["pButton","","type","button","class","btn-green  btn-ricevibilita  fs-16","label","AVVIA ISTRUTTORIA",3,"disabled","click",4,"ngIf"],["pButton","","type","button","label","VISUALIZZA","class","btn-white  btn-ricevibilita  fs-16","id","visualizza-domande",3,"click",4,"ngIf"],["pButton","","type","button","label","VISUALIZZA","id","visualizza-domande",1,"btn-white","btn-ricevibilita","fs-16",3,"click"],["pButton","","type","button","label","AVVIA RICEVIBILITA",1,"btn-green","btn-ricevibilita","fs-16",3,"disabled","click"],["pButton","","type","button","label","AVVIA ISTRUTTORIA",1,"btn-green","btn-ricevibilita","fs-16",3,"disabled","click"]],template:function(t,i){1&t&&(c.Tb(0,"div",0),c.Tb(1,"p-card",1),c.Tb(2,"p-header"),c.Tb(3,"div"),c.Ob(4,"img",2),c.Tb(5,"label",3),c.Oc(6),c.gc(7,"translate"),c.Sb(),c.Sb(),c.Sb(),c.Tb(8,"div"),c.Tb(9,"label",4),c.Oc(10),c.Sb(),c.Sb(),c.Tb(11,"p-footer"),c.Mc(12,ti,2,1,"div",5),c.Tb(13,"div"),c.Mc(14,ii,1,1,"button",6),c.Mc(15,ei,1,1,"button",7),c.Ob(16,"br"),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&t&&(c.Bb(4),c.oc("src","assets/img/img-",i.riepilogoStatoDomande.stato,".jpg",c.Gc),c.Bb(2),c.Qc(" ",c.hc(7,6,"StatoDomandaEnum."+i.riepilogoStatoDomande.stato),""),c.Bb(4),c.Pc(i.riepilogoStatoDomande.counter),c.Bb(2),c.mc("ngIf",i.riepilogoStatoDomande.counter>0),c.Bb(2),c.mc("ngIf","PROTOCOLLATA"==i.riepilogoStatoDomande.stato),c.Bb(1),c.mc("ngIf","RICEVIBILE"==i.riepilogoStatoDomande.stato))},directives:[Wt.a,m.c,m.b,o.t,v.b],pipes:[S.d],styles:[".btn-ricevibilita[_ngcontent-%COMP%]{max-width:198px;margin-left:auto;margin-right:auto}.icon-ricevibilita[_ngcontent-%COMP%]{min-height:50px;-o-object-fit:contain;object-fit:contain}"]}),ai),ri=e("A+aF"),ci=e("kPZZ"),si=e("H6Hf"),li=e("zUH4"),ui=e("cH1L"),di=e("vxfF"),bi=e("R5y+"),pi=e("BGwN"),gi=e("3u2U"),mi=e("jA5t"),fi=e("wS7k"),vi=e("SLJP"),hi=e("d/lR"),Si=e("Ivbe"),Ti=e("c8LR"),Ii=e("+WeO"),Ci=e("K7SP"),Oi=e("dS4e"),Ai=e("IWUw"),Di=e("R/2S"),Pi=e("38Fb"),yi=e("T8KO"),Bi=e("KwdP"),Ni=e("x5p7"),zi=e("KDHY"),Ri=e("FK/F"),Mi=e("3Kf3"),Ei=e("yhG/"),ki=e("1SSY"),Li=e("AD9J"),wi=e("+7Pr"),_i=e("D0mR"),xi=e("QceE"),Ui=e("Rt+w"),Fi=e("O3Kt"),Gi=e("KYTB"),Vi=e("8ioI"),Zi=e("P028"),$i=e("DYOT"),Qi=e("wcdC"),qi=e("+DHz"),Hi=e("KkCm"),ji=e("V6/s"),Ki=e("MM/6"),Yi=e("SnyB"),Ji=e("Qfly"),Wi=e("1v+U"),Xi=e("rgW5"),te=e("NYM0"),ie=e("7sbD"),ee=e("ARHT"),ae=e("a6xG"),oe=e("x3AQ"),ne=e("FVER"),re=e("jkBy"),ce=e("GdHY"),se=e("auzs"),le=e("1SOg"),ue=e("cIsh"),de=e("jTGf"),be=e("zKaa"),pe=e("BYQQ"),ge=e("4zPq"),me=e("2c1J"),fe=e("B4vn"),ve=e("QiK6"),he=e("Pgx+"),Se=e("684u"),Te=e("vMYJ"),Ie=((oi=function t(){_classCallCheck(this,t)}).\u0275mod=c.Lb({type:oi}),oi.\u0275inj=c.Kb({factory:function(t){return new(t||oi)},imports:[[o.c,n.a,Yt,ri.b],ri.b]}),oi);c.Hc(wt,[o.q,o.r,o.s,o.t,o.A,o.w,o.x,o.y,o.z,o.u,o.v,p.I,p.x,p.H,p.c,p.y,p.B,p.a,p.E,p.F,p.A,p.s,p.t,p.D,p.o,p.n,p.z,p.b,p.d,p.v,p.w,p.u,ci.a,m.c,m.b,m.e,v.b,v.a,si.a,s.j,s.f,s.h,s.g,s.k,li.a,l.a,V.q,V.p,V.m,V.k,V.c,V.j,V.g,V.d,V.b,V.o,V.u,V.r,V.s,V.i,V.h,V.n,V.e,V.f,V.l,V.a,ui.b,di.b,di.a,di.c,di.d,h.a,bi.a,pi.a,gi.a,f.a,Wt.a,mi.a,fi.a,vi.a,hi.a,Si.a,Ti.a,Ii.a,Ci.a,Oi.a,Ai.a,Di.a,Pi.a,yi.a,Bi.a,Ni.a,zi.a,Ri.a,Ri.b,Mi.a,Ei.a,Ei.c,ki.a,Li.a,wi.a,_i.a,xi.a,S.a,Ui.a,Ui.b,Ui.f,Ui.g,Ui.e,Ui.d,p.h,p.k,p.i,p.l,p.e,Fi.a,Gi.a,Vi.a,Zi.b,$i.a,Qi.a,qi.a,Hi.a,ji.a,Ki.a,Yi.a,ri.a,Ji.a,Wi.a,Xi.b,Xi.a,Xi.d,te.a,ie.a,ee.a,ae.a,oe.a,ne.a,re.a,ce.a,se.a,le.a,ue.a,de.a,be.a,pe.a,ge.a,me.a,r.a,u,wt,ni,G,at,pt,jt,K],[o.b,o.G,o.p,o.k,o.E,o.g,o.C,o.F,o.d,o.f,o.i,o.j,o.l,S.d,fe.b,fe.a,ve.a,he.a,Se.a,Te.a])}}]);