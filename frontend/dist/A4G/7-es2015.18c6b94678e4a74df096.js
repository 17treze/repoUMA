(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"4L9r":function(t,e,o){"use strict";o.d(e,"a",(function(){return E}));var i=o("fXoL"),a=o("3Pt+"),r=o("6b9K"),s=(o("ovm2"),o("4SxZ")),n=o("+NW7"),I=o("RIRQ"),l=o("qjoi"),u=o("sYmb"),c=o("3Kf3"),O=o("GLSp"),N=o("T8KO"),S=o("ofXK"),C=o("A1Yd"),R=o("1SSY");function _(t,e){if(1&t&&(i.Tb(0,"div",2),i.Tb(1,"label",7),i.Oc(2,"Domande bloccate"),i.Sb(),i.Ob(3,"p-dropdown",13),i.Sb()),2&t){const t=i.fc();i.Bb(3),i.mc("options",t.yesNo)}}function A(t,e){if(1&t&&(i.Tb(0,"div",2),i.Tb(1,"label",7),i.Oc(2,"Errori di Calcolo"),i.Sb(),i.Ob(3,"p-dropdown",14),i.Sb()),2&t){const t=i.fc();i.Bb(3),i.mc("options",t.yesNo)}}let E=(()=>{class t{constructor(t,e){this.elencoDomandeService=t,this.translateService=e,this.selectedFiltersSubmit=new i.n,this.sostegno="ACC_SUPERFICI",this.interventi=[{id:"310",label:"M1",title:"M1 - Vacche da latte (310)"},{id:"311",label:"M2",title:"M2 - Vacche da latte in zone di montagna (311)"},{id:"313",label:"M4",title:"M4 - Vacche nutrici (313)"},{id:"315",label:"M5",title:"M5- Bovini macellati (315)"},{id:"320",label:"M6",title:"M6 - Agnelle (320)"},{id:"321",label:"M7",title:"M7 - Ovicaprini macellati (321)"},{id:"316",label:"M19",title:"M19 - Bovini macellati - Allevati 12 mesi (316)"},{id:"318",label:"M19",title:"M19 - Bovini macellati - Etichettatura (318)"},{id:"322",label:"M20",title:"M20 - Vacche nutrici non iscritte (322)"}],this.yesNo=[{label:this.translateService.instant("DOMANDA_UNICA_FILTRI.all"),value:null},{label:this.translateService.instant("DOMANDA_UNICA_FILTRI.yes"),value:s.i.YES},{label:this.translateService.instant("DOMANDA_UNICA_FILTRI.no"),value:s.i.NO}];let o={cuaaFormControl:new a.g,denominazioneFormControl:new a.g,numeroDomandaFormControl:new a.g,interventiFormControl:new a.g(this.interventi),selectedBloccataBoolFormControl:new a.g(null),selectedErroreCalcoloFormControl:new a.g(null)};this.filtersFormGroup=new a.j(o)}ngOnInit(){}isShowErroriCalcolo(){return l.a.isShowErroriByState(I.a[this.autoCompleteParams.statoSostegno])}isShowBloccato(){return l.a.isShowBloccatoByState(I.a[this.autoCompleteParams.statoSostegno])}inputFilterRagioneSocialeUpdate(t){let e=r.a.of(0,50,"id",r.b.ASC);this.elencoDomandeService.getRagioneSocialeSuggestionsAutocomplete(this.autoCompleteParams.statoSostegno,this.autoCompleteParams.sostegno,this.autoCompleteParams.annoCampagna,t.query,this.autoCompleteParams.tipo,e).subscribe(t=>this.denominazioneS=t.risultati)}inputFilterCuaaUpdate(t){if(t&&t.query&&t.query.length<=2)return;let e=r.a.of(0,50,"id",r.b.ASC);this.elencoDomandeService.getCuaaSuggestionsAutocomplete(this.autoCompleteParams.statoSostegno,this.autoCompleteParams.sostegno,this.autoCompleteParams.annoCampagna,t.query,this.autoCompleteParams.tipo,e).subscribe(t=>this.cuaaS=t.risultati)}onSubmit(){let t=new s.g;t.cuaa=this.filtersFormGroup.controls.cuaaFormControl.value;let e=this.filtersFormGroup.controls.numeroDomandaFormControl.value;t.numero_domanda=e?Number.parseInt(e):null,t.denominazione=this.filtersFormGroup.controls.denominazioneFormControl.value,t.interventi=this.filtersFormGroup.controls.interventiFormControl.value.map(t=>t.id),t.bloccataBool=this.filtersFormGroup.controls.selectedBloccataBoolFormControl.value,t.erroreCalcolo=this.filtersFormGroup.controls.selectedErroreCalcoloFormControl.value,this.selectedFiltersSubmit.emit(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(n.a),i.Nb(u.e))},t.\u0275cmp=i.Hb({type:t,selectors:[["app-filtri-zootecnia"]],inputs:{autoCompleteParams:"autoCompleteParams",resultsNumber:"resultsNumber"},outputs:{selectedFiltersSubmit:"selectedFiltersSubmit"},decls:29,vars:18,consts:[[2,"padding-right","40px"],[3,"formGroup","ngSubmit"],[1,"form-group"],["formControlName","cuaaFormControl","minLength","3","placeholder","CUAA","name","cuaa",3,"suggestions","completeMethod"],["formControlName","denominazioneFormControl","minLength","3","placeholder","Descrizione Impresa","name","denominazione",3,"suggestions","completeMethod"],["placeholder","Numero Domanda","type","text","formControlName","numeroDomandaFormControl","name","numero_domanda","pInputText","",2,"width","100%"],["numeroDomandaInput",""],[1,"labelricerca"],["formControlName","interventiFormControl","name","selectedInterventi","multiple","multiple","checkbox","checkbox","optionLabel","title","defaultLabel","Seleziona intervento/i",3,"filter","options"],["class","form-group",4,"ngIf"],[1,"colori-per-numeri"],[1,"searchbutton"],["pButton","","type","button","type","submit",1,"ui-button-success",2,"background","#0e5f3f",3,"disabled"],["formControlName","selectedBloccataBoolFormControl","name","selectedBloccataBool",3,"options"],["formControlName","selectedErroreCalcoloFormControl","name","selectedErroreCalcolo",3,"options"]],template:function(t,e){1&t&&(i.Tb(0,"div",0),i.Tb(1,"h3"),i.Oc(2),i.gc(3,"translate"),i.Sb(),i.Tb(4,"form",1),i.bc("ngSubmit",(function(){return e.onSubmit()})),i.Tb(5,"div",2),i.Tb(6,"p-autoComplete",3),i.bc("completeMethod",(function(t){return e.inputFilterCuaaUpdate(t)})),i.Sb(),i.Sb(),i.Tb(7,"div",2),i.Tb(8,"p-autoComplete",4),i.bc("completeMethod",(function(t){return e.inputFilterRagioneSocialeUpdate(t)})),i.Sb(),i.Sb(),i.Tb(9,"div",2),i.Ob(10,"input",5,6),i.Sb(),i.Tb(12,"div",2),i.Tb(13,"label",7),i.Oc(14,"Interventi"),i.Sb(),i.Ob(15,"p-multiSelect",8),i.Sb(),i.Mc(16,_,4,1,"div",9),i.Mc(17,A,4,1,"div",9),i.Tb(18,"div",2),i.Tb(19,"label",7),i.Oc(20),i.gc(21,"translate"),i.Tb(22,"span",10),i.Oc(23),i.Sb(),i.Sb(),i.Sb(),i.Tb(24,"div",2),i.Tb(25,"div",11),i.Tb(26,"button",12),i.Oc(27),i.gc(28,"translate"),i.Sb(),i.Sb(),i.Sb(),i.Sb(),i.Sb()),2&t&&(i.Bb(2),i.Qc(" ",i.hc(3,12,"DOMANDA_UNICA_FILTRI.FILTRA_PER")," "),i.Bb(2),i.mc("formGroup",e.filtersFormGroup),i.Bb(2),i.mc("suggestions",e.cuaaS),i.Bb(2),i.mc("suggestions",e.denominazioneS),i.Bb(7),i.mc("filter",!1)("options",e.interventi),i.Bb(1),i.mc("ngIf",e.isShowBloccato()),i.Bb(1),i.mc("ngIf",e.isShowErroriCalcolo()),i.Bb(3),i.Qc("",i.hc(21,14,"DOMANDA_UNICA_FILTRI.Risultati")," "),i.Bb(3),i.Pc(e.resultsNumber),i.Bb(3),i.mc("disabled",!1),i.Bb(1),i.Pc(i.hc(28,16,"DOMANDA_UNICA_FILTRI.applyFilters")))},directives:[a.I,a.t,a.k,c.a,a.s,a.i,a.c,O.a,N.a,S.t,C.b,R.a],pipes:[u.d],styles:[""]}),t})()},"4SxZ":function(t,e,o){"use strict";o.d(e,"i",(function(){return i})),o.d(e,"h",(function(){return a})),o.d(e,"f",(function(){return r})),o.d(e,"e",(function(){return s})),o.d(e,"d",(function(){return n})),o.d(e,"b",(function(){return I})),o.d(e,"c",(function(){return l})),o.d(e,"a",(function(){return u})),o.d(e,"g",(function(){return c}));var i=function(t){return t.YES="YES",t.NO="NO",t}({}),a=function(t){return t.A_GIOVANE_AGRICOLTORE="A_GIOVANE_AGRICOLTORE",t.B_NUOVO_AGRICOLTORE="B_NUOVO_AGRICOLTORE",t.C_ABBANDONO_TERRE="C_ABBANDONO_TERRE",t.D_COMPENSAZIONE_SVANTAGGI_SPECIFICI="D_COMPENSAZIONE_SVANTAGGI_SPECIFICI",t.F_PROVVEDIMENTI_AMMINISTRATIVI_DECISIONI_GIUDIZIARIE="F_PROVVEDIMENTI_AMMINISTRATIVI_DECISIONI_GIUDIZIARIE",t.NON_RICHIESTA="NON_RICHIESTA",t}({}),r=function(t){return t.BPS_RIDUZIONI="BRIDUSDC020",t.BPS_SANZIONI_INF_10="BRIDUSDC021_INF_10",t.BPS_SANZIONI_SUP_10="BRIDUSDC021_SUP_10",t.GREENING_RIDUZIONI="BRIDUSDC026",t.GREENING_SANZIONI="BRIDUSDC055",t.GIOVANE_NO_REQUISITI="BRIDUSDC028",t.GIOVANE_RIDUZIONI="BRIDUSDC059",t.GIOVANE_SANZIONI="BRIDUSDC060",t.RIDUZIONE_DA_CAPPING="BRIDUSDC043",t.RIDUZIONE_PER_RITARDO="BRIDUSDC036",t}({}),s=function(t){return t.IMPORTO_DA_RECUPERARE="BRIDUSDL134",t.IMPORTO_NULLO="BRIDUSDL135",t.IMPORTO_IRRILEVANTE="BRIDUSDL135_IRR",t}({}),n=function(t){return t.BPS_SUPERFICE_MINIMA="BRIDUSDC035",t.BPS_PRESENZA_MAN="BRIDUSDC019",t.BPS_ANOMALIE_COORDINAMENTO="BRIDUSDC135",t.BPS_SCONTO_SANZIONE="BRIDUSDC032",t.BPS_RECIDIVA="BRIDUSDC029",t.BPS_RECUPERO_SCONTO="BRIDUSDC030",t.GREENING_RINUNCIA="BRIDUSDC023",t.GREENING_BIOLOGICA="BRIDUSDC024",t.GREENING_NO_IMPEGNI="BRIDUSDC025_NO_IMPEGNI",t.GREENING_DIV="BRIDUSDC025_DIV",t.GREENING_DIV_EFA="BRIDUSDC025_DIV_EFA",t.GREENING_ESENTE="BRIDUSDC033",t.GREENING_ESENTE_EFA="BRIDUSDC117",t.GIOVANE_SCONTO_SANZIONE="BRIDUSDC057",t.GIOVANE_RECIDIVA="BRIDUSDC056",t.GIOVANE_RECUPERO_SCONTO="BRIDUSDC058",t.RIDUZIONI_SENZA_SANZIONI="BRIDUSDC021",t}({}),I=function(t){return t.NO_INFO_AGRICOLTORE_ATTIVO="BRIDUSDC009",t.AGRICOLTORE_NON_ATTIVO="BRIDUSDC010",t.NESSUN_TITOLO_PRESENTE="BRIDUSDC011",t.SUPERFICIE_MINIMA_RICHIESTA="BRIDUSDC012",t.CONTROLLO_IN_LOCO_APERTO="BRIDUSDC034",t.INSERIRE_INFORMAZIONI_MANTENIMENTO="BRIDUSDC067",t.DOMANDA_ANNO_SCORSO_NON_LIQUIDATA="BRIDUSDC109",t.IMPORTO_DA_RECUPERARE="BRIDUSDC031",t}({}),l=function(t){return t.IBAN_NON_VALIDO="BRIDUSDL037",t.AGRICOLTORE_DECEDUTO="BRIDUSDL038",t.AZIENDA_SOSPESA_DAI_PAGAMENTI="BRIDUSDL039",t.DATI_EREDE_NON_CERTIFICATI="BRIDUNVL129",t}({}),u=function(t){return t.NO_IMPORTO_MINIMO_ERROR="BRIDUSDS040",t.IMPORTO_MAGGIORE_DI_25000_ERROR="BRIDUSDS049",t.IMPORTO_MINORE_DI_25000_INFO="BRIDUSDS049",t.NO_DICHIARAZIONE_ANTIMAFIA_INFO="BRIDUSDS050",t}({});class c{}},LOZX:function(t,e,o){"use strict";o.d(e,"a",(function(){return C}));var i=o("XNiG"),a=o("Cfvw"),r=o("1G5W"),s=o("pLZG"),n=o("lJxs"),I=o("5+tZ"),l=o("tyNb"),u=o("903C"),c=o("fXoL"),O=o("iU1L"),N=o("ngg1"),S=o("MvQ6");let C=(()=>{class t{constructor(t,e,o,a,n){this.sostegno=t,this.tipoIstruttoriaEnum=e,this.activatedRoute=o,this.istruttoriaService=a,this.router=n,this.timeout=3e4,this.itemBadgesCount={},this.componentDestroyed$=new i.a,this.statoIstruttoria=void 0,this.router.events.pipe(Object(r.a)(this.componentDestroyed$),Object(s.a)(t=>t instanceof l.b)).subscribe(t=>{this.activeTab=this.getActiveTabMenuItem(t.url)})}changeTab(t){this.activeTab=this.menu2[t.index],this.router.navigate([this.menu2[t.index].id],{relativeTo:this.activatedRoute}),this.aggiornaContatori()}aggiornaContatori(){Object(a.a)(this.getListaStati()).pipe(Object(n.a)(t=>{let e=new u.a;return e.campagna=Number(this.activatedRoute.snapshot.paramMap.get("annoCampagna")),e.sostegno=this.sostegno,e.tipo=this.tipoIstruttoriaEnum,e.stato=t,e}),Object(I.a)(t=>this.istruttoriaService.countIstruttorieDU(t).pipe(Object(n.a)(e=>{this.itemBadgesCount[t.stato]=e})))).subscribe()}getChildUrlSegment(t){let e=this.router.parseUrl(t).root.children.primary.segments[6];return e?e.path:""}getActiveTabMenuItem(t){let e=this.getChildUrlSegment(t);return e.length>0?this.menu2.find(t=>t.id===e):this.menu2[0]}getListaStati(){return this.menu2.map(t=>t.id)}ngOnInit(){this.datiIstruttoriaCorrente=this.activatedRoute.snapshot.data.istruttoria,this.aggiornaContatori()}ngOnDestroy(){this.componentDestroyed$.next(!0),this.componentDestroyed$.complete(),this.processoDiControllo&&this.processoDiControllo.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(O.a),c.Nb(N.a),c.Nb(l.a),c.Nb(S.a),c.Nb(l.e))},t.\u0275dir=c.Ib({type:t}),t})()},qjoi:function(t,e,o){"use strict";o.d(e,"a",(function(){return A}));var i=o("JEAp"),a=o("Tn7N"),r=o("8k9x"),s=o("RIRQ"),n=o("+NW7"),I=o("5gIc"),l=o("u+P9"),u=o("iU1L"),c=o("ngg1"),O=o("MvQ6"),N=o("VrO5"),S=o("KMZK"),C=o("fXoL"),R=o("tyNb"),_=o("RtSl");let A=(()=>{class t extends S.a{constructor(t,e,o,i,a,r,s,n,I,l){super(t,e,o,i,a,r,s,n,u.a.ZOOTECNIA,c.a.SALDO,I,l),this.repeatingServiceCall=n,this.items=this.menuActionPagamentoAutorizzato()}getVerbale(t){this.istruttoriaService.getVerbaleIstruttoriaAcz(t).subscribe(t=>{i.saveAs(t,"VerbaleIstruttoria_".concat(this.istruttoriaSelezionata.idDomanda.toString()).concat(".pdf"))},t=>{this.messageService.add(a.a.getToast("tst",a.b.error,a.a.IMPOSSILE_GENERARE_FILE))})}onFiltersSubmit(t){this.initDefaultFilterValuesIstruttorie(),this.setFilterValuesIstruttorie(t),this.istruttoriaDomandaUnicaFilter.clean(),this.getElencoIstruttoria(this.istruttoriaDomandaUnicaFilter),this.tabella.pTable.reset()}avviaProcessoCalcoloAccoppiatoZootecnia(){this.avviaCalcolo(r.a.CALCOLO_ACCOPPIATO_ZOOTECNIA_ISTRUTTORIA)}isShowUltimoCalcolo(){return this.statoIstruttoria===s.a.INTEGRATO}isEnableCalcoloCapi(){return this.statoIstruttoria===s.a.RICHIESTO||this.statoIstruttoria===s.a.INTEGRATO}isEnableDatiCapiAgea(){return this.statoIstruttoria===s.a.INTEGRATO}isEnableCapiPerIntervento(){return this.statoIstruttoria===s.a.INTEGRATO}isEnableCalcoloAccoppiatoZootecnia(){return this.statoIstruttoria===s.a.INTEGRATO||this.flowIstruttoria===l.a.CALCOLO_PREMIO&&(this.statoIstruttoria===s.a.CONTROLLI_CALCOLO_OK||this.statoIstruttoria===s.a.CONTROLLI_CALCOLO_KO)}isEnableProcessoAmmissibilita(){return this.statoIstruttoria===s.a.CONTROLLI_CALCOLO_KO}isEnableControlloLiquidabilita(){return this.flowIstruttoria===l.a.CONTROLLI_LIQUIDABILITA&&(this.statoIstruttoria===s.a.CONTROLLI_CALCOLO_OK||this.statoIstruttoria===s.a.LIQUIDABILE||this.statoIstruttoria===s.a.CONTROLLI_LIQUIDABILE_KO||this.statoIstruttoria===s.a.DEBITI)}isShowAzioni(){return this.statoIstruttoria===s.a.NON_AMMISSIBILE||this.statoIstruttoria===s.a.NON_LIQUIDABILE||this.statoIstruttoria===s.a.PAGAMENTO_AUTORIZZATO||this.statoIstruttoria===s.a.DEBITI}isShowDettagli(){return!this.isShowAzioni()}static isShowBloccatoByState(t){return t===s.a.RICHIESTO||t===s.a.INTEGRATO||t===s.a.CONTROLLI_CALCOLO_OK||t===s.a.LIQUIDABILE||t===s.a.CONTROLLI_LIQUIDABILE_KO||t===s.a.CONTROLLI_CALCOLO_KO||t===s.a.PAGAMENTO_NON_AUTORIZZATO||t===s.a.CONTROLLI_INTERSOSTEGNO_OK}static isShowErroriByState(e){return t.isShowBloccatoByState(e)}isShowBloccato(){return t.isShowBloccatoByState(this.statoIstruttoria)}isShowErroriCalcolo(){return t.isShowErroriByState(this.statoIstruttoria)}isEnableBloccoIstruttoria(){return this.statoIstruttoria===s.a.RICHIESTO||this.statoIstruttoria===s.a.INTEGRATO||this.statoIstruttoria===s.a.CONTROLLI_CALCOLO_OK||this.statoIstruttoria===s.a.LIQUIDABILE||this.statoIstruttoria===s.a.CONTROLLI_CALCOLO_KO||this.statoIstruttoria===s.a.CONTROLLI_LIQUIDABILE_KO||this.statoIstruttoria===s.a.PAGAMENTO_NON_AUTORIZZATO||this.statoIstruttoria===s.a.CONTROLLI_INTERSOSTEGNO_OK}isNotIstruttorieSelezionate(){return void 0===this.istruttorieSelezionate||0===this.istruttorieSelezionate.length}isEnableResetIstruttoria(){return this.statoIstruttoria===s.a.NON_AMMISSIBILE||this.statoIstruttoria===s.a.DEBITI}resetIstruttoria(){this.eseguiProcessoIstruttoria(r.a.RESET_ISTRUTTORIA,[r.a.CALCOLO_CAPI_ISTRUTTORIE,r.a.CALCOLO_ACCOPPIATO_ZOOTECNIA_ISTRUTTORIA,r.a.RESET_ISTRUTTORIA])}}return t.\u0275fac=function(e){return new(e||t)(C.Nb(R.a),C.Nb(O.a),C.Nb(n.a),C.Nb(R.e),C.Nb(_.d),C.Nb(I.a),C.Nb(s.a),C.Nb(N.a),C.Nb(C.h),C.Nb(l.a))},t.\u0275dir=C.Ib({type:t,features:[C.yb]}),t})()}}]);