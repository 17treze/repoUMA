(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{SJd6:function(e,t,a){"use strict";a.r(t),a.d(t,"FascicoliDaMigrareModule",(function(){return R}));var i=a("im2e"),o=a("R69K"),n=a("ofXK"),c=a("HosL"),r=a("nU6X"),s=a("GtbX"),l=(a("gCMS"),a("69Tm")),b=a("Tn7N"),u=a("fXoL"),m=a("tyNb"),p=a("RtSl"),d=a("sYmb"),g=a("arS9"),f=a("zLRh"),h=a("3Pt+"),S=a("QqKj"),v=a("GLSp"),T=a("Ivbe"),O=a("K7SP"),C=a("A1Yd");const F=function(e){return{"is-invalid":e}};let y=(()=>{class e{constructor(e,t){this.fascicoloService=e,this.messageService=t,this.search=new u.n}ngOnInit(){this.filtersFormGroup=new h.j({cuaa:new h.g(null),denominazione:new h.g(null)})}onSubmit(e){if(!e.controls.cuaa.value&&!e.controls.denominazione.value)return void this.messageService.add(b.a.getToast("tst",b.b.error,b.a.ERRORE_DATI));const t=new S.a;this.filtersFormGroup.get("cuaa").value&&(t.cuaa=this.filtersFormGroup.get("cuaa").value),this.filtersFormGroup.get("denominazione").value&&(t.denominazione=this.filtersFormGroup.get("denominazione").value),this.fascicoloService.ricercaFascicoli(t).subscribe(e=>{this.search.emit(e)},e=>{this.messageService.add(b.a.getToast("tst",b.b.error,b.a.ERRORE_RICERCA_FASCICOLO))}),t.clean()}}return e.\u0275fac=function(t){return new(t||e)(u.Nb(f.a),u.Nb(p.d))},e.\u0275cmp=u.Hb({type:e,selectors:[["app-filtro-ricerca-fascicoli-da-migrare"]],outputs:{search:"search"},decls:18,vars:14,consts:[[1,"h5","text-uppercase","font-weight-bold","my-4"],[1,"boxgrey","mb-0","pb-0"],[1,"ui-g","ui-fluid"],[1,"ui-grid-fixed","boxgrey"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"ui-g-12","ui-md-5"],["type","text","formControlName","cuaa","name","cuaa","placeholder","Cuaa","pInputText","","appValidaCuaa","",3,"ngClass"],["cuaa",""],["type","text","formControlName","denominazione","name","denominazione","placeholder","Denominazione","pInputText","","appValidaDenominazione","",3,"ngClass"],["denominazione",""],[1,"ui-g-12","ui-md-2"],[1,"searchbutton","h-100"],["pButton","","type","button","type","submit",1,"ui-button","bg-primary","no-shadow","text-uppercase","w-100","h-100",3,"disabled","label"]],template:function(e,t){if(1&e&&(u.Tb(0,"h1",0),u.Oc(1),u.gc(2,"translate"),u.Sb(),u.Tb(3,"div",1),u.Tb(4,"div",2),u.Tb(5,"div",3),u.Tb(6,"form",4),u.bc("ngSubmit",(function(){return t.onSubmit(t.filtersFormGroup)})),u.Tb(7,"div",5),u.Tb(8,"div",6),u.Ob(9,"input",7,8),u.Sb(),u.Tb(11,"div",6),u.Ob(12,"input",9,10),u.Sb(),u.Tb(14,"div",11),u.Tb(15,"div",12),u.Ob(16,"button",13),u.gc(17,"translate"),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb()),2&e){const e=u.Bc(10),a=u.Bc(13);u.Bb(1),u.Qc(" ",u.hc(2,6,"DOMANDA_UNICA_FILTRI.ricercaFascicolo"),"\n"),u.Bb(5),u.mc("formGroup",t.filtersFormGroup),u.Bb(3),u.mc("ngClass",u.sc(10,F,e.invalid&&e.touched)),u.Bb(3),u.mc("ngClass",u.sc(12,F,a.invalid&&a.touched)),u.Bb(4),u.nc("label",u.hc(17,8,"DOMANDA_UNICA_FILTRI.filter")),u.mc("disabled",t.filtersFormGroup.invalid)}},directives:[h.I,h.t,h.k,h.c,h.s,h.i,v.a,T.a,n.q,O.a,C.b],pipes:[d.d],styles:[""],encapsulation:2}),e})();var z=a("yWug");function w(e,t){if(1&e&&(u.Tb(0,"th",12),u.Oc(1),u.Ob(2,"p-sortIcon",13),u.Sb()),2&e){const e=t.$implicit;u.mc("pSortableColumn",e.field),u.Bb(1),u.Qc(" ",e.header," "),u.Bb(1),u.mc("field",e.field)}}function I(e,t){if(1&e&&(u.Tb(0,"tr"),u.Mc(1,w,3,3,"th",11),u.Sb()),2&e){const e=t.$implicit;u.Bb(1),u.mc("ngForOf",e)}}function B(e,t){if(1&e){const e=u.Ub();u.Tb(0,"tr",14),u.Tb(1,"td"),u.Oc(2),u.Sb(),u.Tb(3,"td"),u.Oc(4),u.Sb(),u.Tb(5,"td"),u.Oc(6),u.Sb(),u.Tb(7,"td"),u.Oc(8),u.gc(9,"translate"),u.Sb(),u.Tb(10,"td"),u.Oc(11),u.Sb(),u.Tb(12,"td"),u.Tb(13,"button",15),u.bc("click",(function(){u.Ec(e);const a=t.$implicit;return u.fc().migraFascicolo(a)})),u.Sb(),u.Sb(),u.Sb()}if(2&e){const e=t.$implicit;u.mc("pSelectableRow",e),u.Bb(2),u.Pc(e.cuaa),u.Bb(2),u.Pc(e.denominazione),u.Bb(2),u.Pc(e.stato),u.Bb(2),u.Qc(" ",u.hc(9,6,"FASCICOLO_AZIENDALE."+e.tipoDetenzione)," "),u.Bb(3),u.Pc(e.caa)}}function M(e,t){if(1&e&&(u.Tb(0,"tr"),u.Tb(1,"td"),u.Oc(2),u.Sb(),u.Sb()),2&e){const e=t.$implicit,a=u.fc();u.Bb(1),u.Cb("colspan",e.length),u.Bb(1),u.Pc(a.intestazioni.noContent)}}const _=function(){return{marginTop:"70px"}},N=[{path:"",component:(()=>{class e{constructor(e,t,a,i,o,n){this.router=e,this.route=t,this.messageService=a,this.translateService=i,this.anagraficaFascicoloService=o,this.creazioneFascicoloService=n,this.elementiTotali=0,this.intestazioni=l.a}ngOnInit(){this.cols=[{field:"cuaa",header:l.a.cuaaSigla},{field:"denominazione",header:l.a.denominazioneImpresa},{field:"stato",header:l.a.stato},{field:"tipoDetenzione",header:l.a.tipoDetenzione},{field:"caa",header:l.a.sportelloMandatario},{field:null,header:l.a.azioni}]}onSearch(e){this.elementiTotali=e?e.length:0,this.fascicoliList=e}migraFascicolo(e){this.anagraficaFascicoloService.getCheckMigraFascicolo(e.cuaa,e.stato,e.tipoDetenzione,e.caacodice).subscribe(t=>{this.creazioneFascicoloService.anagraficaTributaria=t,this.router.navigate([`./cuaa/${e.cuaa}/migra`],{relativeTo:this.route})},e=>{this.messageService.add(b.a.getToast("tst",b.b.info,this.translateService.instant("EXC_APRI_FASCICOLO."+e.error.message)))})}}return e.\u0275fac=function(t){return new(t||e)(u.Nb(m.e),u.Nb(m.a),u.Nb(p.d),u.Nb(d.e),u.Nb(s.a),u.Nb(r.a))},e.\u0275cmp=u.Hb({type:e,selectors:[["app-ricerca-fascicoli-da-migrare"]],decls:13,vars:13,consts:[[1,"ui-grid-fixed"],["key","tst"],[3,"search"],[1,"boxgrey","pt-0"],[1,"layout-actionmenu"],["margin-top","30px",1,"table-responsive"],[1,"labelricerca","my-3"],["selectionMode","single","dataKey","cuaa",3,"columns","value","paginator","rows","responsive"],["pTemplate","header"],["ngFor","","pTemplate","body",3,"ngForOf"],["pTemplate","emptymessage"],[3,"pSortableColumn",4,"ngFor","ngForOf"],[3,"pSortableColumn"],[3,"field"],[3,"pSelectableRow"],["pButton","","label","Migra",1,"command-button","no-border-radius","p-button-lg","py-1","px-4","d-block","bg-primary",3,"click"]],template:function(e,t){1&e&&(u.Tb(0,"div",0),u.Ob(1,"p-toast",1),u.Tb(2,"app-filtro-ricerca-fascicoli-da-migrare",2),u.bc("search",(function(e){return t.onSearch(e)})),u.Sb(),u.Tb(3,"div",3),u.Tb(4,"div",4),u.Tb(5,"div",5),u.Tb(6,"label",6),u.Oc(7),u.gc(8,"translate"),u.Sb(),u.Tb(9,"p-table",7),u.Mc(10,I,2,1,"ng-template",8),u.Mc(11,B,14,8,"ng-template",9),u.Mc(12,M,3,2,"ng-template",10),u.Sb(),u.Sb(),u.Sb(),u.Sb(),u.Sb()),2&e&&(u.Bb(1),u.Kc(u.rc(12,_)),u.Bb(6),u.Rc(" ",t.elementiTotali," ",u.hc(8,10,"DOMANDA_UNICA_FILTRI.fascicoli")," "),u.Bb(2),u.mc("columns",t.cols)("value",t.fascicoliList)("paginator",!0)("rows",10)("responsive",!0),u.Bb(2),u.mc("ngForOf",t.fascicoliList))},directives:[g.a,y,z.q,p.e,n.s,z.p,z.o,z.m,C.b],pipes:[d.d],styles:["app-ricerca-fascicoli-da-migrare[_ngcontent-%COMP%]   .command-button.command-button.command-button[_ngcontent-%COMP%]{font-size:22px!important;height:auto!important;width:auto!important;background-color:#4caf50!important}app-ricerca-fascicoli-da-migrare[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#0d5f3f}app-ricerca-fascicoli-da-migrare[_ngcontent-%COMP%]   .ui-table[_ngcontent-%COMP%]   .ui-table-tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]{background-color:transparent}"]}),e})(),data:{mybreadcrumb:l.a.fascicoliDaMigrare}},{path:"cuaa/:cuaa/migra",component:c.b,data:{mybreadcrumb:l.a.migrazioneFascicolo}}];let A=(()=>{class e{}return e.\u0275mod=u.Lb({type:e}),e.\u0275inj=u.Kb({factory:function(t){return new(t||e)},imports:[[m.i.forChild(N)],m.i]}),e})(),R=(()=>{class e{}return e.\u0275mod=u.Lb({type:e}),e.\u0275inj=u.Kb({factory:function(t){return new(t||e)},imports:[[o.a,n.c,i.a,A]]}),e})()}}]);